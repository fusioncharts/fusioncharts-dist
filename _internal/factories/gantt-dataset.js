import{datasetFactory}from'../lib/lib';const _hasNoConnectors=a=>{const b=a.connectors;let c=!0;return'undefined'!=typeof b&&(b.length?c=!(0<b.length):c=b.task&&!(0<b.task.length)),c},_hasNoMilestones=a=>{const b=a.milestones;let c=!0;return'undefined'!=typeof b&&(b.length?c=!(0<b.length):c=b.milestone&&!(0<b.milestone.length)),c},_hasNoTasks=a=>{const b=a.tasks;let c=!0;return'undefined'!=typeof b&&(b.length?c=!(0<b.length):c=b.task&&!(0<b.task.length)),c},_hasNoDataToDisplay=a=>_hasNoTasks(a)&&_hasNoConnectors(a)&&_hasNoMilestones(a);export default function(a){let b,c,d,e=a.getFromEnv('dataSource');return _hasNoDataToDisplay(e)?void a.setChartMessage():void(b=e.tasks,c=e.connectors,d=e.milestones,b&&datasetFactory(a,a.getDSdef('task'),'task',1,b.length?b:[b]),c&&datasetFactory(a,a.getDSdef('connector'),'connector',1,c.length?c:[c]),d&&datasetFactory(a,a.getDSdef('milestone'),'milestone',1,d.length?d:[d]),a.getDatasets().forEach(b=>{b.addToEnv('yAxis',a.getChildren('xAxis')[0]),b.addToEnv('xAxis',a.getChildren('yAxis')[0])}),a.config.showLegend&&a._createLegendItems())}