/**!
* @license FusionCharts JavaScript Library
* Copyright FusionCharts Technologies LLP
* License Information at <http://www.fusioncharts.com/license>
*
* @version 3.13.1
*
* @attributions (infers respective third-party copyrights)
* Raphael 2.1.0 (modified as 'Red Raphael') <http://raphaeljs.com/license.html>
* JSON v2 <http://www.JSON.org/js.html>
* Firebug Lite 1.3.0 <http://getfirebug.com/firebuglite>
*/
if(typeof Object.assign!=="function"){Object.assign=function(target){"use strict";var to,index,nextSource,nextKey;if(target==null){throw new TypeError("Cannot convert undefined or null to object")}to=Object(target);for(index=1;index<arguments.length;index++){nextSource=arguments[index];if(nextSource!=null){for(nextKey in nextSource){if(Object.prototype.hasOwnProperty.call(nextSource,nextKey)){to[nextKey]=nextSource[nextKey]}}}}return to}}if(!Function.prototype.bind){Function.prototype.bind=function(oThis){"use strict";var aArgs,fToBind,fNOP,fBound;if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}aArgs=Array.prototype.slice.call(arguments,1);fToBind=this;fNOP=function(){};fBound=function(){return fToBind.apply(this instanceof fNOP?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)))};if(this.prototype){fNOP.prototype=this.prototype}fBound.prototype=new fNOP;return fBound}}(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define([],factory);else if(typeof exports==="object")exports["FusionCharts"]=factory();else root["FusionCharts"]=factory()})(window,function(){return function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={0:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+""+({1:"fusioncharts.charts",2:"fusioncharts.common",3:"fusioncharts.powercharts",4:"fusioncharts.widgets",5:"fusioncharts.zoomline",6:"fusioncharts.gantt",7:"fusioncharts.treemap",8:"fusioncharts.zoomscatter",9:"fusioncharts.msstackedcolumn2dsplinedy",10:"fusioncharts.overlappedbar2d",11:"fusioncharts.overlappedcolumn2d",12:"fusioncharts.vml",13:"fusioncharts.maps"}[chunkId]||chunkId)+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise(function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]});promises.push(installedChunkData[2]=promise);var head=document.getElementsByTagName("head")[0];var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;var error=new Error("Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")");error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout(function(){onScriptComplete({type:"timeout",target:script})},12e4);script.onerror=script.onload=onScriptComplete;head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["webpackJsonpFusionCharts"]=window["webpackJsonpFusionCharts"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=0)}([function(module,exports,__webpack_require__){__webpack_require__(1);__webpack_require__(74);__webpack_require__(109);module.exports=__webpack_require__(114)},function(module,exports,__webpack_require__){"use strict";__webpack_require__(2);__webpack_require__(38);__webpack_require__(42);__webpack_require__(44);__webpack_require__(50);__webpack_require__(53);__webpack_require__(56);__webpack_require__(63);__webpack_require__(65);__webpack_require__(67);__webpack_require__(70);__webpack_require__(72);if(!window.getComputedStyle){window.getComputedStyle=function(el){this.el=el;this.getPropertyValue=function(prop){var re=/(\-([a-z]){1})/g;if(prop==="float"){prop="styleFloat"}if(re.test(prop)){prop=prop.replace(re,function(){return arguments[2].toUpperCase()})}return el.currentStyle[prop]?el.currentStyle[prop]:null};return this}}if(!Event.prototype.stopPropagation){Event.prototype.stopPropagation=function(){this.cancelBubble=true}}},function(module,exports,__webpack_require__){__webpack_require__(3);var $Object=__webpack_require__(7).Object;module.exports=function getOwnPropertyNames(it){return $Object.getOwnPropertyNames(it)}},function(module,exports,__webpack_require__){__webpack_require__(4)("getOwnPropertyNames",function(){return __webpack_require__(23).f})},function(module,exports,__webpack_require__){var $export=__webpack_require__(5);var core=__webpack_require__(7);var fails=__webpack_require__(14);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY];var exp={};exp[KEY]=exec(fn);$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},function(module,exports,__webpack_require__){var global=__webpack_require__(6);var core=__webpack_require__(7);var hide=__webpack_require__(8);var redefine=__webpack_require__(18);var ctx=__webpack_require__(21);var PROTOTYPE="prototype";var $export=function(type,name,source){var IS_FORCED=type&$export.F;var IS_GLOBAL=type&$export.G;var IS_STATIC=type&$export.S;var IS_PROTO=type&$export.P;var IS_BIND=type&$export.B;var target=IS_GLOBAL?global:IS_STATIC?global[name]||(global[name]={}):(global[name]||{})[PROTOTYPE];var exports=IS_GLOBAL?core:core[name]||(core[name]={});var expProto=exports[PROTOTYPE]||(exports[PROTOTYPE]={});var key,own,out,exp;if(IS_GLOBAL)source=name;for(key in source){own=!IS_FORCED&&target&&target[key]!==undefined;out=(own?target:source)[key];exp=IS_BIND&&own?ctx(out,global):IS_PROTO&&typeof out=="function"?ctx(Function.call,out):out;if(target)redefine(target,key,out,type&$export.U);if(exports[key]!=out)hide(exports,key,exp);if(IS_PROTO&&expProto[key]!=out)expProto[key]=out}};global.core=core;$export.F=1;$export.G=2;$export.S=4;$export.P=8;$export.B=16;$export.W=32;$export.U=64;$export.R=128;module.exports=$export},function(module,exports){var global=module.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=global},function(module,exports){var core=module.exports={version:"2.5.7"};if(typeof __e=="number")__e=core},function(module,exports,__webpack_require__){var dP=__webpack_require__(9);var createDesc=__webpack_require__(17);module.exports=__webpack_require__(13)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){object[key]=value;return object}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(10);var IE8_DOM_DEFINE=__webpack_require__(12);var toPrimitive=__webpack_require__(16);var dP=Object.defineProperty;exports.f=__webpack_require__(13)?Object.defineProperty:function defineProperty(O,P,Attributes){anObject(O);P=toPrimitive(P,true);anObject(Attributes);if(IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");if("value"in Attributes)O[P]=Attributes.value;return O}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(11);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports){module.exports=function(it){return typeof it==="object"?it!==null:typeof it==="function"}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(13)&&!__webpack_require__(14)(function(){return Object.defineProperty(__webpack_require__(15)("div"),"a",{get:function(){return 7}}).a!=7})},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(14)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return true}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(11);var document=__webpack_require__(6).document;var is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(11);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&typeof(fn=it.toString)=="function"&&!isObject(val=fn.call(it)))return val;if(typeof(fn=it.valueOf)=="function"&&!isObject(val=fn.call(it)))return val;if(!S&&typeof(fn=it.toString)=="function"&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value:value}}},function(module,exports,__webpack_require__){var global=__webpack_require__(6);var hide=__webpack_require__(8);var has=__webpack_require__(19);var SRC=__webpack_require__(20)("src");var TO_STRING="toString";var $toString=Function[TO_STRING];var TPL=(""+$toString).split(TO_STRING);__webpack_require__(7).inspectSource=function(it){return $toString.call(it)};(module.exports=function(O,key,val,safe){var isFunction=typeof val=="function";if(isFunction)has(val,"name")||hide(val,"name",key);if(O[key]===val)return;if(isFunction)has(val,SRC)||hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)));if(O===global){O[key]=val}else if(!safe){delete O[key];hide(O,key,val)}else if(O[key]){O[key]=val}else{hide(O,key,val)}})(Function.prototype,TO_STRING,function toString(){return typeof this=="function"&&this[SRC]||$toString.call(this)})},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports){var id=0;var px=Math.random();module.exports=function(key){return"Symbol(".concat(key===undefined?"":key,")_",(++id+px).toString(36))}},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(22);module.exports=function(fn,that,length){aFunction(fn);if(that===undefined)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(it){if(typeof it!="function")throw TypeError(it+" is not a function!");return it}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(24);var gOPN=__webpack_require__(28).f;var toString={}.toString;var windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var getWindowNames=function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}};module.exports.f=function getOwnPropertyNames(it){return windowNames&&toString.call(it)=="[object Window]"?getWindowNames(it):gOPN(toIObject(it))}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(25);var defined=__webpack_require__(27);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){var cof=__webpack_require__(26);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return cof(it)=="String"?it.split(""):Object(it)}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports){module.exports=function(it){if(it==undefined)throw TypeError("Can't call method on  "+it);return it}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(29);var hiddenKeys=__webpack_require__(37).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return $keys(O,hiddenKeys)}},function(module,exports,__webpack_require__){var has=__webpack_require__(19);var toIObject=__webpack_require__(24);var arrayIndexOf=__webpack_require__(30)(false);var IE_PROTO=__webpack_require__(34)("IE_PROTO");module.exports=function(object,names){var O=toIObject(object);var i=0;var result=[];var key;for(key in O)if(key!=IE_PROTO)has(O,key)&&result.push(key);while(names.length>i)if(has(O,key=names[i++])){~arrayIndexOf(result,key)||result.push(key)}return result}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(24);var toLength=__webpack_require__(31);var toAbsoluteIndex=__webpack_require__(33);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var O=toIObject($this);var length=toLength(O.length);var index=toAbsoluteIndex(fromIndex,length);var value;if(IS_INCLUDES&&el!=el)while(length>index){value=O[index++];if(value!=value)return true}else for(;length>index;index++)if(IS_INCLUDES||index in O){if(O[index]===el)return IS_INCLUDES||index||0}return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(32);var min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports){var ceil=Math.ceil;var floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(32);var max=Math.max;var min=Math.min;module.exports=function(index,length){index=toInteger(index);return index<0?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){var shared=__webpack_require__(35)("keys");var uid=__webpack_require__(20);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports,__webpack_require__){var core=__webpack_require__(7);var global=__webpack_require__(6);var SHARED="__core-js_shared__";var store=global[SHARED]||(global[SHARED]={});(module.exports=function(key,value){return store[key]||(store[key]=value!==undefined?value:{})})("versions",[]).push({version:core.version,mode:__webpack_require__(36)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(module,exports){module.exports=false},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports,__webpack_require__){__webpack_require__(39);var $Object=__webpack_require__(7).Object;module.exports=function getOwnPropertyDescriptor(it,key){return $Object.getOwnPropertyDescriptor(it,key)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(24);var $getOwnPropertyDescriptor=__webpack_require__(40).f;__webpack_require__(4)("getOwnPropertyDescriptor",function(){return function getOwnPropertyDescriptor(it,key){return $getOwnPropertyDescriptor(toIObject(it),key)}})},function(module,exports,__webpack_require__){var pIE=__webpack_require__(41);var createDesc=__webpack_require__(17);var toIObject=__webpack_require__(24);var toPrimitive=__webpack_require__(16);var has=__webpack_require__(19);var IE8_DOM_DEFINE=__webpack_require__(12);var gOPD=Object.getOwnPropertyDescriptor;exports.f=__webpack_require__(13)?gOPD:function getOwnPropertyDescriptor(O,P){O=toIObject(O);P=toPrimitive(P,true);if(IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){__webpack_require__(43);var $Object=__webpack_require__(7).Object;module.exports=function defineProperty(it,key,desc){return $Object.defineProperty(it,key,desc)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(5);$export($export.S+$export.F*!__webpack_require__(13),"Object",{defineProperty:__webpack_require__(9).f})},function(module,exports,__webpack_require__){__webpack_require__(45);var $Object=__webpack_require__(7).Object;module.exports=function create(P,D){return $Object.create(P,D)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(5);$export($export.S,"Object",{create:__webpack_require__(46)})},function(module,exports,__webpack_require__){var anObject=__webpack_require__(10);var dPs=__webpack_require__(47);var enumBugKeys=__webpack_require__(37);var IE_PROTO=__webpack_require__(34)("IE_PROTO");var Empty=function(){};var PROTOTYPE="prototype";var createDict=function(){var iframe=__webpack_require__(15)("iframe");var i=enumBugKeys.length;var lt="<";var gt=">";var iframeDocument;iframe.style.display="none";__webpack_require__(49).appendChild(iframe);iframe.src="javascript:";iframeDocument=iframe.contentWindow.document;iframeDocument.open();iframeDocument.write(lt+"script"+gt+"document.F=Object"+lt+"/script"+gt);iframeDocument.close();createDict=iframeDocument.F;while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];return createDict()};module.exports=Object.create||function create(O,Properties){var result;if(O!==null){Empty[PROTOTYPE]=anObject(O);result=new Empty;Empty[PROTOTYPE]=null;result[IE_PROTO]=O}else result=createDict();return Properties===undefined?result:dPs(result,Properties)}},function(module,exports,__webpack_require__){var dP=__webpack_require__(9);var anObject=__webpack_require__(10);var getKeys=__webpack_require__(48);module.exports=__webpack_require__(13)?Object.defineProperties:function defineProperties(O,Properties){anObject(O);var keys=getKeys(Properties);var length=keys.length;var i=0;var P;while(length>i)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(29);var enumBugKeys=__webpack_require__(37);module.exports=Object.keys||function keys(O){return $keys(O,enumBugKeys)}},function(module,exports,__webpack_require__){var document=__webpack_require__(6).document;module.exports=document&&document.documentElement},function(module,exports,__webpack_require__){__webpack_require__(51);module.exports=__webpack_require__(7).Object.keys},function(module,exports,__webpack_require__){var toObject=__webpack_require__(52);var $keys=__webpack_require__(48);__webpack_require__(4)("keys",function(){return function keys(it){return $keys(toObject(it))}})},function(module,exports,__webpack_require__){var defined=__webpack_require__(27);module.exports=function(it){return Object(defined(it))}},function(module,exports,__webpack_require__){__webpack_require__(54);module.exports=__webpack_require__(7).Array.indexOf},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(5);var $indexOf=__webpack_require__(30)(false);var $native=[].indexOf;var NEGATIVE_ZERO=!!$native&&1/[1].indexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!__webpack_require__(55)($native)),"Array",{indexOf:function indexOf(searchElement){return NEGATIVE_ZERO?$native.apply(this,arguments)||0:$indexOf(this,searchElement,arguments[1])}})},function(module,exports,__webpack_require__){"use strict";var fails=__webpack_require__(14);module.exports=function(method,arg){return!!method&&fails(function(){arg?method.call(null,function(){},1):method.call(null)})}},function(module,exports,__webpack_require__){__webpack_require__(57);module.exports=__webpack_require__(7).Array.forEach},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(5);var $forEach=__webpack_require__(58)(0);var STRICT=__webpack_require__(55)([].forEach,true);$export($export.P+$export.F*!STRICT,"Array",{forEach:function forEach(callbackfn){return $forEach(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){var ctx=__webpack_require__(21);var IObject=__webpack_require__(25);var toObject=__webpack_require__(52);var toLength=__webpack_require__(31);var asc=__webpack_require__(59);module.exports=function(TYPE,$create){var IS_MAP=TYPE==1;var IS_FILTER=TYPE==2;var IS_SOME=TYPE==3;var IS_EVERY=TYPE==4;var IS_FIND_INDEX=TYPE==6;var NO_HOLES=TYPE==5||IS_FIND_INDEX;var create=$create||asc;return function($this,callbackfn,that){var O=toObject($this);var self=IObject(O);var f=ctx(callbackfn,that,3);var length=toLength(self.length);var index=0;var result=IS_MAP?create($this,length):IS_FILTER?create($this,0):undefined;var val,res;for(;length>index;index++)if(NO_HOLES||index in self){val=self[index];res=f(val,index,O);if(TYPE){if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return true;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return false}}return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}}},function(module,exports,__webpack_require__){var speciesConstructor=__webpack_require__(60);module.exports=function(original,length){return new(speciesConstructor(original))(length)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(11);var isArray=__webpack_require__(61);var SPECIES=__webpack_require__(62)("species");module.exports=function(original){var C;if(isArray(original)){C=original.constructor;if(typeof C=="function"&&(C===Array||isArray(C.prototype)))C=undefined;if(isObject(C)){C=C[SPECIES];if(C===null)C=undefined}}return C===undefined?Array:C}},function(module,exports,__webpack_require__){var cof=__webpack_require__(26);module.exports=Array.isArray||function isArray(arg){return cof(arg)=="Array"}},function(module,exports,__webpack_require__){var store=__webpack_require__(35)("wks");var uid=__webpack_require__(20);var Symbol=__webpack_require__(6).Symbol;var USE_SYMBOL=typeof Symbol=="function";var $exports=module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))};$exports.store=store},function(module,exports,__webpack_require__){__webpack_require__(64);module.exports=__webpack_require__(7).Array.map},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(5);var $map=__webpack_require__(58)(1);$export($export.P+$export.F*!__webpack_require__(55)([].map,true),"Array",{map:function map(callbackfn){return $map(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){__webpack_require__(66);module.exports=__webpack_require__(7).Array.filter},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(5);var $filter=__webpack_require__(58)(2);$export($export.P+$export.F*!__webpack_require__(55)([].filter,true),"Array",{filter:function filter(callbackfn){return $filter(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){__webpack_require__(68);module.exports=__webpack_require__(7).Array.reduce},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(5);var $reduce=__webpack_require__(69);$export($export.P+$export.F*!__webpack_require__(55)([].reduce,true),"Array",{reduce:function reduce(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],false)}})},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(22);var toObject=__webpack_require__(52);var IObject=__webpack_require__(25);var toLength=__webpack_require__(31);module.exports=function(that,callbackfn,aLen,memo,isRight){aFunction(callbackfn);var O=toObject(that);var self=IObject(O);var length=toLength(O.length);var index=isRight?length-1:0;var i=isRight?-1:1;if(aLen<2)for(;;){if(index in self){memo=self[index];index+=i;break}index+=i;if(isRight?index<0:length<=index){throw TypeError("Reduce of empty array with no initial value")}}for(;isRight?index>=0:length>index;index+=i)if(index in self){memo=callbackfn(memo,self[index],index,O)}return memo}},function(module,exports,__webpack_require__){__webpack_require__(71);module.exports=__webpack_require__(7).Array.isArray},function(module,exports,__webpack_require__){var $export=__webpack_require__(5);$export($export.S,"Array",{isArray:__webpack_require__(61)})},function(module,exports,__webpack_require__){__webpack_require__(73);module.exports=__webpack_require__(7).Array.some},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(5);var $some=__webpack_require__(58)(3);$export($export.P+$export.F*!__webpack_require__(55)([].some,true),"Array",{some:function some(callbackfn){return $some(this,callbackfn,arguments[1])}})},function(module,exports,__webpack_require__){"use strict";__webpack_require__(75);__webpack_require__(78);__webpack_require__(81);__webpack_require__(83);__webpack_require__(98);__webpack_require__(101);__webpack_require__(103);__webpack_require__(105);__webpack_require__(107);if(!Element.prototype.remove){Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}}},function(module,exports,__webpack_require__){__webpack_require__(76);module.exports=__webpack_require__(7).Math.sign},function(module,exports,__webpack_require__){var $export=__webpack_require__(5);$export($export.S,"Math",{sign:__webpack_require__(77)})},function(module,exports){module.exports=Math.sign||function sign(x){return(x=+x)==0||x!=x?x:x<0?-1:1}},function(module,exports,__webpack_require__){__webpack_require__(79);module.exports=__webpack_require__(7).Array.findIndex},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(5);var $find=__webpack_require__(58)(6);var KEY="findIndex";var forced=true;if(KEY in[])Array(1)[KEY](function(){forced=false});$export($export.P+$export.F*forced,"Array",{findIndex:function findIndex(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:undefined)}});__webpack_require__(80)(KEY)},function(module,exports,__webpack_require__){var UNSCOPABLES=__webpack_require__(62)("unscopables");var ArrayProto=Array.prototype;if(ArrayProto[UNSCOPABLES]==undefined)__webpack_require__(8)(ArrayProto,UNSCOPABLES,{});module.exports=function(key){ArrayProto[UNSCOPABLES][key]=true}},function(module,exports,__webpack_require__){__webpack_require__(82);module.exports=__webpack_require__(7).Array.find},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(5);var $find=__webpack_require__(58)(5);var KEY="find";var forced=true;if(KEY in[])Array(1)[KEY](function(){forced=false});$export($export.P+$export.F*forced,"Array",{find:function find(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:undefined)}});__webpack_require__(80)(KEY)},function(module,exports,__webpack_require__){__webpack_require__(84);__webpack_require__(91);module.exports=__webpack_require__(7).Array.from},function(module,exports,__webpack_require__){"use strict";var $at=__webpack_require__(85)(true);__webpack_require__(86)(String,"String",function(iterated){this._t=String(iterated);this._i=0},function(){var O=this._t;var index=this._i;var point;if(index>=O.length)return{value:undefined,done:true};point=$at(O,index);this._i+=point.length;return{value:point,done:false}})},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(32);var defined=__webpack_require__(27);module.exports=function(TO_STRING){return function(that,pos){var s=String(defined(that));var i=toInteger(pos);var l=s.length;var a,b;if(i<0||i>=l)return TO_STRING?"":undefined;a=s.charCodeAt(i);return a<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536}}},function(module,exports,__webpack_require__){"use strict";var LIBRARY=__webpack_require__(36);var $export=__webpack_require__(5);var redefine=__webpack_require__(18);var hide=__webpack_require__(8);var Iterators=__webpack_require__(87);var $iterCreate=__webpack_require__(88);var setToStringTag=__webpack_require__(89);var getPrototypeOf=__webpack_require__(90);var ITERATOR=__webpack_require__(62)("iterator");var BUGGY=!([].keys&&"next"in[].keys());var FF_ITERATOR="@@iterator";var KEYS="keys";var VALUES="values";var returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function keys(){return new Constructor(this,kind)};case VALUES:return function values(){return new Constructor(this,kind)}}return function entries(){return new Constructor(this,kind)}};var TAG=NAME+" Iterator";var DEF_VALUES=DEFAULT==VALUES;var VALUES_BUG=false;var proto=Base.prototype;var $native=proto[ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT];var $default=$native||getMethod(DEFAULT);var $entries=DEFAULT?!DEF_VALUES?$default:getMethod("entries"):undefined;var $anyNative=NAME=="Array"?proto.entries||$native:$native;var methods,key,IteratorPrototype;if($anyNative){IteratorPrototype=getPrototypeOf($anyNative.call(new Base));if(IteratorPrototype!==Object.prototype&&IteratorPrototype.next){setToStringTag(IteratorPrototype,TAG,true);if(!LIBRARY&&typeof IteratorPrototype[ITERATOR]!="function")hide(IteratorPrototype,ITERATOR,returnThis)}}if(DEF_VALUES&&$native&&$native.name!==VALUES){VALUES_BUG=true;$default=function values(){return $native.call(this)}}if((!LIBRARY||FORCED)&&(BUGGY||VALUES_BUG||!proto[ITERATOR])){hide(proto,ITERATOR,$default)}Iterators[NAME]=$default;Iterators[TAG]=returnThis;if(DEFAULT){methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries};if(FORCED)for(key in methods){if(!(key in proto))redefine(proto,key,methods[key])}else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods)}return methods}},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){"use strict";var create=__webpack_require__(46);var descriptor=__webpack_require__(17);var setToStringTag=__webpack_require__(89);var IteratorPrototype={};__webpack_require__(8)(IteratorPrototype,__webpack_require__(62)("iterator"),function(){return this});module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)});setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){var def=__webpack_require__(9).f;var has=__webpack_require__(19);var TAG=__webpack_require__(62)("toStringTag");module.exports=function(it,tag,stat){if(it&&!has(it=stat?it:it.prototype,TAG))def(it,TAG,{configurable:true,value:tag})}},function(module,exports,__webpack_require__){var has=__webpack_require__(19);var toObject=__webpack_require__(52);var IE_PROTO=__webpack_require__(34)("IE_PROTO");var ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){O=toObject(O);if(has(O,IE_PROTO))return O[IE_PROTO];if(typeof O.constructor=="function"&&O instanceof O.constructor){return O.constructor.prototype}return O instanceof Object?ObjectProto:null}},function(module,exports,__webpack_require__){"use strict";var ctx=__webpack_require__(21);var $export=__webpack_require__(5);var toObject=__webpack_require__(52);var call=__webpack_require__(92);var isArrayIter=__webpack_require__(93);var toLength=__webpack_require__(31);var createProperty=__webpack_require__(94);var getIterFn=__webpack_require__(95);$export($export.S+$export.F*!__webpack_require__(97)(function(iter){Array.from(iter)}),"Array",{from:function from(arrayLike){var O=toObject(arrayLike);var C=typeof this=="function"?this:Array;var aLen=arguments.length;var mapfn=aLen>1?arguments[1]:undefined;var mapping=mapfn!==undefined;var index=0;var iterFn=getIterFn(O);var length,result,step,iterator;if(mapping)mapfn=ctx(mapfn,aLen>2?arguments[2]:undefined,2);if(iterFn!=undefined&&!(C==Array&&isArrayIter(iterFn))){for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++){createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],true):step.value)}}else{length=toLength(O.length);for(result=new C(length);length>index;index++){createProperty(result,index,mapping?mapfn(O[index],index):O[index])}}result.length=index;return result}})},function(module,exports,__webpack_require__){var anObject=__webpack_require__(10);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator["return"];if(ret!==undefined)anObject(ret.call(iterator));throw e}}},function(module,exports,__webpack_require__){var Iterators=__webpack_require__(87);var ITERATOR=__webpack_require__(62)("iterator");var ArrayProto=Array.prototype;module.exports=function(it){return it!==undefined&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},function(module,exports,__webpack_require__){"use strict";var $defineProperty=__webpack_require__(9);var createDesc=__webpack_require__(17);module.exports=function(object,index,value){if(index in object)$defineProperty.f(object,index,createDesc(0,value));else object[index]=value}},function(module,exports,__webpack_require__){var classof=__webpack_require__(96);var ITERATOR=__webpack_require__(62)("iterator");var Iterators=__webpack_require__(87);module.exports=__webpack_require__(7).getIteratorMethod=function(it){if(it!=undefined)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports,__webpack_require__){var cof=__webpack_require__(26);var TAG=__webpack_require__(62)("toStringTag");var ARG=cof(function(){return arguments}())=="Arguments";var tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return it===undefined?"Undefined":it===null?"Null":typeof(T=tryGet(O=Object(it),TAG))=="string"?T:ARG?cof(O):(B=cof(O))=="Object"&&typeof O.callee=="function"?"Arguments":B}},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(62)("iterator");var SAFE_CLOSING=false;try{var riter=[7][ITERATOR]();riter["return"]=function(){SAFE_CLOSING=true};Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return false;var safe=false;try{var arr=[7];var iter=arr[ITERATOR]();iter.next=function(){return{done:safe=true}};arr[ITERATOR]=function(){return iter};exec(arr)}catch(e){}return safe}},function(module,exports,__webpack_require__){__webpack_require__(99);module.exports=__webpack_require__(7).Array.fill},function(module,exports,__webpack_require__){var $export=__webpack_require__(5);$export($export.P,"Array",{fill:__webpack_require__(100)});__webpack_require__(80)("fill")},function(module,exports,__webpack_require__){"use strict";var toObject=__webpack_require__(52);var toAbsoluteIndex=__webpack_require__(33);var toLength=__webpack_require__(31);module.exports=function fill(value){var O=toObject(this);var length=toLength(O.length);var aLen=arguments.length;var index=toAbsoluteIndex(aLen>1?arguments[1]:undefined,length);var end=aLen>2?arguments[2]:undefined;var endPos=end===undefined?length:toAbsoluteIndex(end,length);while(endPos>index)O[index++]=value;return O}},function(module,exports,__webpack_require__){__webpack_require__(102);module.exports=__webpack_require__(7).Array.includes},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(5);var $includes=__webpack_require__(30)(true);$export($export.P,"Array",{includes:function includes(el){return $includes(this,el,arguments.length>1?arguments[1]:undefined)}});__webpack_require__(80)("includes")},function(module,exports,__webpack_require__){__webpack_require__(104);module.exports=Math.pow(2,-52)},function(module,exports,__webpack_require__){var $export=__webpack_require__(5);$export($export.S,"Number",{EPSILON:Math.pow(2,-52)})},function(module,exports,__webpack_require__){__webpack_require__(106);module.exports=-9007199254740991},function(module,exports,__webpack_require__){var $export=__webpack_require__(5);$export($export.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(module,exports,__webpack_require__){__webpack_require__(108);module.exports=9007199254740991},function(module,exports,__webpack_require__){var $export=__webpack_require__(5);$export($export.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(module,exports,__webpack_require__){(function(setImmediate,global){!function(e,n){true?n():undefined}(0,function(){"use strict";function e(){}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],f(e,this)}function t(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,n._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(f){return void r(t.promise,f)}o(t.promise,i)}else(1===e._state?o:r)(t.promise,e._value)})):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if(t instanceof n)return e._state=3,e._value=t,void i(e);if("function"==typeof o)return void f(function(e,n){return function(){e.apply(n,arguments)}}(o,t),e)}e._state=1,e._value=t,i(e)}catch(u){r(e,u)}}function r(e,n){e._state=2,e._value=n,i(e)}function i(e){2===e._state&&0===e._deferreds.length&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var o=0,r=e._deferreds.length;r>o;o++)t(e,e._deferreds[o]);e._deferreds=null}function f(e,n){var t=!1;try{e(function(e){t||(t=!0,o(n,e))},function(e){t||(t=!0,r(n,e))})}catch(i){if(t)return;t=!0,r(n,i)}}var u=setTimeout;n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(n,o){var r=new this.constructor(e);return t(this,new function(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}(n,o,r)),r},n.prototype["finally"]=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})},n.all=function(e){return new n(function(n,t){function o(e,f){try{if(f&&("object"==typeof f||"function"==typeof f)){var u=f.then;if("function"==typeof u)return void u.call(f,function(n){o(e,n)},t)}r[e]=f,0==--i&&n(r)}catch(c){t(c)}}if(!e||"undefined"==typeof e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return n([]);for(var i=r.length,f=0;r.length>f;f++)o(f,r[f])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(n){n(e)})},n.reject=function(e){return new n(function(n,t){t(e)})},n.race=function(e){return new n(function(n,t){for(var o=0,r=e.length;r>o;o++)e[o].then(n,t)})},n._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){u(e,0)},n._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var c=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();c.Promise||(c.Promise=n)})}).call(this,__webpack_require__(110).setImmediate,__webpack_require__(111))},function(module,exports,__webpack_require__){(function(global){var scope=typeof global!=="undefined"&&global||typeof self!=="undefined"&&self||window;var apply=Function.prototype.apply;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,scope,arguments),clearTimeout)};exports.setInterval=function(){return new Timeout(apply.call(setInterval,scope,arguments),clearInterval)};exports.clearTimeout=exports.clearInterval=function(timeout){if(timeout){timeout.close()}};function Timeout(id,clearFn){this._id=id;this._clearFn=clearFn}Timeout.prototype.unref=Timeout.prototype.ref=function(){};Timeout.prototype.close=function(){this._clearFn.call(scope,this._id)};exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId);item._idleTimeout=msecs};exports.unenroll=function(item){clearTimeout(item._idleTimeoutId);item._idleTimeout=-1};exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;if(msecs>=0){item._idleTimeoutId=setTimeout(function onTimeout(){if(item._onTimeout)item._onTimeout()},msecs)}};__webpack_require__(112);exports.setImmediate=typeof self!=="undefined"&&self.setImmediate||typeof global!=="undefined"&&global.setImmediate||this&&this.setImmediate;exports.clearImmediate=typeof self!=="undefined"&&self.clearImmediate||typeof global!=="undefined"&&global.clearImmediate||this&&this.clearImmediate}).call(this,__webpack_require__(111))},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(1,eval)("this")}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,exports,__webpack_require__){(function(global,process){(function(global,undefined){"use strict";if(global.setImmediate){return}var nextHandle=1;var tasksByHandle={};var currentlyRunningATask=false;var doc=global.document;var registerImmediate;function setImmediate(callback){if(typeof callback!=="function"){callback=new Function(""+callback)}var args=new Array(arguments.length-1);for(var i=0;i<args.length;i++){args[i]=arguments[i+1]}var task={callback:callback,args:args};tasksByHandle[nextHandle]=task;registerImmediate(nextHandle);return nextHandle++}function clearImmediate(handle){delete tasksByHandle[handle]}function run(task){var callback=task.callback;var args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args);break}}function runIfPresent(handle){if(currentlyRunningATask){setTimeout(runIfPresent,0,handle)}else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=true;try{run(task)}finally{clearImmediate(handle);currentlyRunningATask=false}}}}function installNextTickImplementation(){registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}}function canUsePostMessage(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=true;var oldOnMessage=global.onmessage;global.onmessage=function(){postMessageIsAsynchronous=false};global.postMessage("","*");global.onmessage=oldOnMessage;return postMessageIsAsynchronous}}function installPostMessageImplementation(){var messagePrefix="setImmediate$"+Math.random()+"$";var onGlobalMessage=function(event){if(event.source===global&&typeof event.data==="string"&&event.data.indexOf(messagePrefix)===0){runIfPresent(+event.data.slice(messagePrefix.length))}};if(global.addEventListener){global.addEventListener("message",onGlobalMessage,false)}else{global.attachEvent("onmessage",onGlobalMessage)}registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}function installMessageChannelImplementation(){var channel=new MessageChannel;channel.port1.onmessage=function(event){var handle=event.data;runIfPresent(handle)};registerImmediate=function(handle){channel.port2.postMessage(handle)}}function installReadyStateChangeImplementation(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle);script.onreadystatechange=null;html.removeChild(script);script=null};html.appendChild(script)}}function installSetTimeoutImplementation(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}var attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global;if({}.toString.call(global.process)==="[object process]"){installNextTickImplementation()}else if(canUsePostMessage()){installPostMessageImplementation()}else if(global.MessageChannel){installMessageChannelImplementation()}else if(doc&&"onreadystatechange"in doc.createElement("script")){installReadyStateChangeImplementation()}else{installSetTimeoutImplementation()}attachTo.setImmediate=setImmediate;attachTo.clearImmediate=clearImmediate})(typeof self==="undefined"?typeof global==="undefined"?this:global:self)}).call(this,__webpack_require__(111),__webpack_require__(113))},function(module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _fcBackwardCompatibility=__webpack_require__(115);var _fcBackwardCompatibility2=_interopRequireDefault(_fcBackwardCompatibility);var _moduleDependencies=__webpack_require__(253);var _moduleDependencies2=_interopRequireDefault(_moduleDependencies);var _lib=__webpack_require__(118);var _scriptLoader=__webpack_require__(254);var _scriptLoader2=_interopRequireDefault(_scriptLoader);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var getMetaSentence=function(){var metaCache={};return function(composite){composite=composite&&composite.replace(/(^\s*)|(\s*$)/g,"")||"";return metaCache[composite]||(metaCache[composite]={key:composite,subject:composite.replace(/[^\/]*?$/gi,""),predicate:composite.replace(/^.*\//gi,"")})}}();function sanitiseChartType(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";if(type===""){return type}else{return type.replace(/^[\s\S]*\//gi,"").replace(/\?/g,"%3F").replace(/\#/g,"%23").replace(/\:/g,"%3A")}}function getDependentFileName(type){var coreOpt=_fcBackwardCompatibility2["default"].options,metaSentence=void 0;metaSentence=getMetaSentence(type);type=sanitiseChartType(metaSentence.predicate);return metaSentence.subject+coreOpt.html5ScriptNamePrefix+type+coreOpt.html5ScriptNameSuffix}function getDynamicImport(type){switch(_moduleDependencies2["default"][type]){case"charts":return Promise.all([__webpack_require__.e(2),__webpack_require__.e(1)]).then(__webpack_require__.t.bind(null,256,7));case"powercharts":return Promise.all([__webpack_require__.e(2),__webpack_require__.e(3)]).then(__webpack_require__.t.bind(null,463,7));case"widgets":return Promise.all([__webpack_require__.e(2),__webpack_require__.e(4)]).then(__webpack_require__.t.bind(null,603,7));case"zoomline":return Promise.all([__webpack_require__.e(2),__webpack_require__.e(5)]).then(__webpack_require__.t.bind(null,692,7));case"gantt":return Promise.all([__webpack_require__.e(2),__webpack_require__.e(6)]).then(__webpack_require__.t.bind(null,700,7));case"treemap":return Promise.all([__webpack_require__.e(2),__webpack_require__.e(7)]).then(__webpack_require__.t.bind(null,701,7));case"zoomscatter":return Promise.all([__webpack_require__.e(2),__webpack_require__.e(8)]).then(__webpack_require__.t.bind(null,702,7));case"msstackedcolumn2dsplinedy":return Promise.all([__webpack_require__.e(2),__webpack_require__.e(9)]).then(__webpack_require__.t.bind(null,703,7));case"overlappedbar2d":return Promise.all([__webpack_require__.e(2),__webpack_require__.e(10)]).then(__webpack_require__.t.bind(null,706,7));case"overlappedcolumn2d":return Promise.all([__webpack_require__.e(2),__webpack_require__.e(11)]).then(__webpack_require__.t.bind(null,709,7));default:return(0,_scriptLoader2["default"])(""+_fcBackwardCompatibility2["default"].getScriptBaseURI()+getDependentFileName(type))}}_fcBackwardCompatibility2["default"].addEventListener("resourceRequested",function(event){var chartObj=event.sender,type=chartObj.chartType(),sourcePath=chartObj.options.chartTypeSourcePath||"";if(true){if(!_lib.hasSVG){_fcBackwardCompatibility2["default"].addDep({name:"vml",type:"dependency",extension:__webpack_require__.e(12).then(__webpack_require__.t.bind(null,711,7))})}}if(!(_fcBackwardCompatibility2["default"].getDep(type,"chartapi")||_fcBackwardCompatibility2["default"].getDep(type,"maps"))){_fcBackwardCompatibility2["default"].addDep({name:type,type:"dependency",extension:getDynamicImport(sourcePath+type)})}});if(window&&"function"==="function"&&__webpack_require__(255)){window.FusionCharts=_fcBackwardCompatibility2["default"]}exports["default"]=_fcBackwardCompatibility2["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _=__webpack_require__(116);var _2=_interopRequireDefault(_);var _eventApi=__webpack_require__(124);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var FusionCharts=function FusionCharts(options){var _len,params,_key;for(_len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++){params[_key]=arguments[_key]}if(this instanceof FusionCharts){return new(Function.prototype.bind.apply(_2["default"],[null].concat(params)))}if(arguments.length===1&&options instanceof Array&&options[0]==="private"){return _2["default"].register("module",arguments[0])}if(arguments.length===1&&typeof options==="string"){return _2["default"].getChartFromId(params[0])}(0,_eventApi.raiseError)(FusionCharts,"25081840","run","",new SyntaxError('Use the "new" keyword while creating a new FusionCharts object'))};FusionCharts.prototype=_2["default"].prototype;for(var prop in _2["default"]){if(_2["default"].hasOwnProperty(prop)){FusionCharts[prop]=_2["default"][prop]}}exports["default"]=FusionCharts},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _skeleton=__webpack_require__(117);var _skeleton2=_interopRequireDefault(_skeleton);var _features=__webpack_require__(156);var _features2=_interopRequireDefault(_features);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}_skeleton2["default"].addDep(_features2["default"]);exports["default"]=_skeleton2["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _eventApi=__webpack_require__(124);var _dependencyManager=__webpack_require__(125);var _updater=__webpack_require__(126);var _rendererEvents=__webpack_require__(127);var _rendererEvents2=_interopRequireDefault(_rendererEvents);var _createChart=__webpack_require__(128);var _createChart2=_interopRequireDefault(_createChart);var _SmartlabelManager=__webpack_require__(132);var _SmartlabelManager2=_interopRequireDefault(_SmartlabelManager);var _schedular=__webpack_require__(129);var _fileStore=__webpack_require__(135);var _fileStore2=_interopRequireDefault(_fileStore);var _globalPolicies=__webpack_require__(136);var _globalPolicies2=_interopRequireDefault(_globalPolicies);var _numberformatter=__webpack_require__(137);var _numberformatter2=_interopRequireDefault(_numberformatter);var _redraphael=__webpack_require__(138);var _redraphael2=_interopRequireDefault(_redraphael);var _redraphael3=__webpack_require__(141);var _redraphael4=_interopRequireDefault(_redraphael3);var _jsonTranscoder=__webpack_require__(143);var _jsonTranscoder2=_interopRequireDefault(_jsonTranscoder);var _redraphael5=__webpack_require__(144);var _redraphael6=_interopRequireDefault(_redraphael5);var _basechart=__webpack_require__(151);var _basechart2=_interopRequireDefault(_basechart);var _tooltipAdapter=__webpack_require__(155);var _tooltipAdapter2=_interopRequireDefault(_tooltipAdapter);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var NATIVE_FORMAT="json",version=false?undefined:"3.13.1",SCRIPT_NAME_RE=/(^|[\/\\])(fusioncharts\.js)([\?#].*)?$/gi,SIGNATURE_MATCH_RE=/^(FusionCharts|FusionWidgets|FusionMaps)/,LENGTH_CLEANUP_RE=/[^\%\d]*$/gi,URL_RE=/url$/i,MAP_NEEDED=false?undefined:true,sanitiseFormatStr=function sanitiseFormatStr(str){return str.toString().toLowerCase()},handleContainerVisibility=function(){var store={},intervalId,trackVisibility=function trackVisibility(){var count=0,INTERVALMS=parseInt(FusionCharts.options.visibilityTrackingInterval,10)||300,item,itemObj,container,insertMode,callback;for(item in store){count+=1;itemObj=store[item].chart;container=store[item].container;insertMode=store[item].insertMode;callback=store[item].callback;if(itemObj.disposed||!isHidden(container)){delete store[item];count-=1;!itemObj.disposed&&itemObj.renderChart(container,insertMode,callback)}}if(!count){intervalId=clearTimeout(intervalId)}else{intervalId=setTimeout(trackVisibility,INTERVALMS)}};return function(sender,container,insertMode,callback){store[sender.id]={chart:sender,container:container,insertMode:insertMode,callback:callback};if(!intervalId){intervalId=setTimeout(trackVisibility,parseInt(FusionCharts.options.visibilityTrackingInterval,10)||300)}}}(),isHidden=function isHidden(){var DISPLAY="display",NONE="none",getStyle=function getStyle(el,style){if(window.getComputedStyle){style=window.getComputedStyle(el)[style]}else if(el.currentStyle){style=el.currentStyle[style]}return style},hidden=function hidden(el){var parentEl=el.parentNode;if(!parentEl){return false}if(parentEl.nodeType===9){return false}if(getStyle(el,DISPLAY)===NONE){return true}if(parentEl){return hidden(parentEl)}return false};return hidden}();var isReady=void 0,readyNotified=void 0,smartLabelManager=void 0,readyNow=void 0,count=0,registerError=false,NFStore={},docLink="https://www.fusioncharts.com/dev/migration/deprecated-functionalities?version=3.13.0",registerErrorMessage='You are using incompatible files or deprecated "register" API of FusionCharts, please go through the docs to know more at '+docLink,slHandler=function slHandler(){FusionCharts.removeEventListener("initialized",slHandler);smartLabelManager=new _SmartlabelManager2["default"](document.body||document.getElementsByTagName("body")[0]);_createChart.globalStore.addToEnv("smartLabel",smartLabelManager)};function uniqueId(){return"chartobject-"+(uniqueId.lastId+=1)}uniqueId.lastId=0;function objToLowerCase(obj){var clone={},i=void 0;for(i in obj){clone[i.toLowerCase()]=obj[i]}return clone}function objToHash(obj){var hashArr=[],i=void 0;for(i in obj){hashArr.push(i+"_"+obj[i])}hashArr.sort();return hashArr.join(",")}function deconstructPolicySet(policies,options,obj){var policy,prop;for(policy in policies){if(policies[policy]instanceof Array){options[policies[policy][0]]=obj[policy]}else{for(prop in policies[policy]){options[policies[policy][prop][0]]=obj[policy][prop]}}}}function _getParsedArgs(data,jsonData,format,silent){var parsedArgs={};parsedArgs["native"]=format===NATIVE_FORMAT;parsedArgs.dataFormat=format;parsedArgs.format=NATIVE_FORMAT;parsedArgs.data=jsonData;parsedArgs.dataSource=data;parsedArgs.silent=!!silent;return parsedArgs}function getScriptBaseUri(scriptNameRegex){var scripts=window.document.getElementsByTagName("script"),l=scripts.length,src,i;for(i=0;i<l;i+=1){src=scripts[i].getAttribute("src");if(!(typeof src==="undefined"||src===null||src.match(scriptNameRegex)===null)){return src.replace(scriptNameRegex,"$1")}}}function isDuplicateId(lookupId,container){var lookupElement=document.getElementById(lookupId),containerId=container.id||container.getAttribute("id"),children,i,ii;if(lookupElement===null){return false}if(lookupId===containerId){return true}children=container.getElementsByTagName("*");for(i=0,ii=children.length;i<ii;i++){if(children[i]===lookupElement){return false}}return true}function notifyRender(status){var chartObj=FusionCharts.items[status&&status.id];if(!chartObj||status.success===false&&!status.silent){(0,_eventApi.raiseError)(FusionCharts.items[status.id],"25081850","run","::RendererManager",new Error("There was an error rendering the chart. "+"Enable FusionCharts JS debugger for more information."))}chartObj.ref=status.ref;(0,_eventApi.triggerEvent)("internal.DOMElementCreated",chartObj,{})}function purgeDOM(d){var a=d.attributes,i,l,n;if(a){for(i=a.length-1;i>=0;i-=1){n=a[i].name;if(typeof d[n]==="function"){d[n]=null}}}a=d.childNodes;if(a){l=a.length;for(i=0;i<l;i+=1){purgeDOM(d.childNodes[i])}}}function showUnsupportedChartMessage(chartObj,container,callback){var args=chartObj.args,options=chartObj.options;chartObj._chartMessageImageStyle={imageHAlign:args.typeNotSupportedMessageImageHAlign||options.baseChartMessageImageHAlign,imageVAlign:args.typeNotSupportedMessageImageVAlign||options.baseChartMessageImageVAlign,imageAlpha:args.typeNotSupportedMessageImageAlpha||options.baseChartMessageImageAlpha,imageScale:args.typeNotSupportedMessageImageScale||options.baseChartMessageImageScale};chartObj._chartMessageStyle={color:args.typeNotSupportedMessageColor||options.baseChartMessageColor,fontFamily:args.typeNotSupportedMessageFont||options.baseChartMessageFont,fontSize:args.typeNotSupportedMessageFontSize||options.baseChartMessageFontSize};if(registerError){options.messageURL=docLink}(0,_createChart2["default"])(FusionCharts,chartObj,container,"base",callback,registerError?registerErrorMessage:options.typeNotSupportedMessage)}function registerEvtHandler(){registerError=true}var FusionCharts=function(){function FusionCharts(){var _ref;_classCallCheck(this,FusionCharts);var opts={};this.__state={};this.id="";if(arguments.length===1&&_typeof(arguments.length<=0?undefined:arguments[0])==="object"){opts=arguments.length<=0?undefined:arguments[0]}if(arguments.length>1&&_typeof((_ref=arguments.length-1,arguments.length<=_ref?undefined:arguments[_ref]))==="object"){var _ref2;(0,_lib.extend2)(opts,(_ref2=arguments.length-1,arguments.length<=_ref2?undefined:arguments[_ref2]),false,true)}this.id=typeof opts.id==="undefined"?uniqueId():opts.id;this.args=opts;if(FusionCharts.items[this.id]instanceof FusionCharts){(0,_eventApi.raiseWarning)(this,"06091847","param","",new Error('A FusionCharts object with the specified id "'+this.id+'" already exists.'+("Renaming it to "+(this.id=uniqueId()))))}this._parsePolicies(_globalPolicies2["default"]);this.attributes.id=this.id;this.resizeTo&&this.resizeTo(opts.width,opts.height,true);this.chartType&&this.chartType(opts.type||opts.swfUrl,true);if(true)__webpack_require__.p=FusionCharts.getScriptBaseURI();(0,_eventApi.triggerEvent)("beforeInitialize",this,opts);FusionCharts.items[this.id]=this;FusionCharts.defaultOptions=FusionCharts.options;(0,_eventApi.triggerEvent)("initialized",this,opts);(0,_eventApi.triggerEvent)("resourceRequested",this,opts)}FusionCharts.getObjectReference=function getObjectReference(){var id=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return FusionCharts.items[id]&&FusionCharts.items[id].ref};FusionCharts.register=function register(){(0,_eventApi.triggerEvent)("register",FusionCharts,arguments,undefined,function(){(0,_eventApi.raiseError)(this,"0604111219","run",".register()",new Error(registerErrorMessage))})};FusionCharts.render=function render(options,callback){if(options instanceof FusionCharts){options.render(callback);return options}return new FusionCharts(options).render(callback)};FusionCharts.addDep=function addDep(dep){return _dependencyManager.addDep.call(this,dep)};FusionCharts.getDep=function getDep(name,type){return _dependencyManager.getDep.call(this,name,type)};FusionCharts.addEventListener=function addEventListener(type,listener){return(0,_eventApi.addListener)(type,listener)};FusionCharts.on=function on(type,listener){return FusionCharts.addEventListener(type,listener)};FusionCharts.removeEventListener=function removeEventListener(type,listener){return(0,_eventApi.removeListener)(type,listener)};FusionCharts.ready=function ready(readyCallback){var args=arguments.length>1&&arguments[1]!==undefined?arguments[1]:FusionCharts;var context=arguments.length>2&&arguments[2]!==undefined?arguments[2]:FusionCharts;var closure=function closure(){readyCallback.call(context,args)};if(typeof readyCallback==="function"){isReady?setTimeout(closure,0):FusionCharts.addEventListener("ready",closure)}};FusionCharts.formatNumber=function formatNumber(num){var config=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var axisIndex=arguments[2];config=objToLowerCase(config);var hashKey=objToHash(config),NF=void 0,formatedStr=void 0;if(NFStore[hashKey]){NF=NFStore[hashKey]}else{NFStore[hashKey]=NF=new _numberformatter2["default"](config,{useScaleRecursively:true})}NF.configure(config);formatedStr=NF.dataLabels(num,axisIndex);return formatedStr};FusionCharts.transcodeData=function transcodeData(data,source,target,advanced){var dataFormats=(0,_dependencyManager.getDepsByType)("transcoder"),sanitisedTarget=sanitiseFormatStr(target),sanitisedSource=sanitiseFormatStr(source),jsonData=void 0,outputData=void 0,transcoderObjSource=void 0,transcoderObjTarget=void 0;if(!sanitisedSource||typeof sanitisedSource.toString!=="function"||!sanitisedTarget||typeof sanitisedTarget.toString!=="function"||typeof dataFormats[sanitisedTarget]==="undefined"||typeof dataFormats[sanitisedSource]==="undefined"){(0,_eventApi.raiseError)(this,"14090217","param",".transcodeData()","Unrecognized data-format specified during transcoding.");return}transcoderObjSource=dataFormats[sanitisedSource]();transcoderObjTarget=dataFormats[sanitisedTarget]();if(transcoderObjSource.toJSON){jsonData=transcoderObjSource.toJSON(data,this);outputData=transcoderObjTarget.fromJSON(jsonData.data,this)}if(!(jsonData.error instanceof Error)){outputData.error=jsonData.error}return advanced?outputData:outputData.data};FusionCharts.setAnimation=function setAnimation(rule){!FusionCharts.options._globalAnimationRule&&(FusionCharts.options._globalAnimationRule=[]);FusionCharts.options._globalAnimationRule.push(rule)};FusionCharts.setEasingEffect=function setEasingEffect(name,fn){FusionCharts.getDep("redraphael","plugin").easing_formulas[name]=fn};FusionCharts.getScriptBaseURI=function getScriptBaseURI(){return FusionCharts.options.scriptBaseUri};FusionCharts.setScriptBaseURI=function setScriptBaseURI(scriptBaseURI){FusionCharts.options.scriptBaseUri=scriptBaseURI;if(true)__webpack_require__.p=scriptBaseURI};FusionCharts.getChartFromId=function getChartFromId(id){return FusionCharts.items[id]};FusionCharts.prototype._parsePolicies=function _parsePolicies(policies){var options=this.args,policy=void 0,value=void 0,prop=void 0;for(policy in policies){if(_globalPolicies2["default"][policy]instanceof Array){value=options[policies[policy][0]];this[policy]=typeof value==="undefined"?policies[policy][1]:value}else{if(_typeof(this[policy])!=="object"){this[policy]={}}for(prop in policies[policy]){value=options[policies[policy][prop][0]];this[policy][prop]=typeof value==="undefined"?policies[policy][prop][1]:value}}}};FusionCharts.prototype.hasRendered=function hasRendered(){return!!(this.jsVars.hcObj&&this.jsVars.hcObj.hasRendered)};FusionCharts.prototype.setTransparent=function setTransparent(transparency){var vars;if(!(vars=this.jsVars)){return}if(typeof transparency!=="boolean"&&transparency!==null){transparency=true}vars.transparent=transparency===null?false:transparency===true};FusionCharts.prototype.addEventListener=function addEventListener(type,listener){return(0,_eventApi.addListener)(type,listener,this)};FusionCharts.prototype.on=function on(type,listener){return this.addEventListener(type,listener)};FusionCharts.prototype.removeEventListener=function removeEventListener(type,listener){return(0,_eventApi.removeListener)(type,listener,this)};FusionCharts.prototype.formatNumber=function formatNumber(num,type,config,yAxisIndex){var chartObj=this,chart=chartObj.apiInstance||{},numberFormatter=chart.numberFormatter,dataObj=void 0,dataChartTagJSON=void 0,configHashKey=void 0,hashKey=void 0,NF=void 0,formatedStr=void 0;configHashKey=objToHash(config);config=config&&objToLowerCase(config)||{};if(configHashKey===""){if(numberFormatter){NF=numberFormatter}else{dataObj=chartObj.options.dataSource;dataChartTagJSON=dataObj.chart||{};hashKey=objToHash(dataChartTagJSON);if(NFStore[hashKey]){NF=NFStore[hashKey]}else{NFStore[hashKey]=NF=new _numberformatter2["default"](chart,dataChartTagJSON)}}}else{dataObj=chartObj.options.dataSource;dataChartTagJSON=dataObj.chart||{};dataChartTagJSON=(0,_lib.extend2)((0,_lib.extend2)({},dataChartTagJSON),config);hashKey=objToHash(dataChartTagJSON);if(NFStore[hashKey]){NF=NFStore[hashKey]}else{NFStore[hashKey]=NF=new _numberformatter2["default"](chart,dataChartTagJSON)}}switch((type&&type.toLowerCase?type:"").toLowerCase()){case"yaxisvalues":formatedStr=NF.yAxis(num,yAxisIndex);break;case"xaxisvalues":formatedStr=NF.xAxis(num);break;case"scale":formatedStr=NF.scale(num);break;default:formatedStr=NF.dataLabels(num,yAxisIndex);break}return formatedStr};FusionCharts.prototype.clone=function clone(overrides,argsOnly){var typeofParams=typeof overrides==="undefined"?"undefined":_typeof(overrides),crcObjects={},options=(0,_lib.extend2)({},this.args,false,true);deconstructPolicySet(_globalPolicies2["default"],options,this);delete options.id;delete options.animate;delete options.stallLoad;crcObjects.link=options.link;options=(0,_lib.extend2)({},options,false,true);options.link=crcObjects.link;switch(typeofParams){case"object":(0,_lib.extend2)(options,overrides,false,true);break;case"boolean":argsOnly=overrides;break}return argsOnly?options:new FusionCharts(options)};FusionCharts.prototype.isActive=function isActive(){if(!this.ref||window.document.getElementById(this.id)!==this.ref){return false}try{return SIGNATURE_MATCH_RE.test("FusionCharts")}catch(e){return false}};FusionCharts.prototype.chartType=function chartType(value,options){var chartObj=this,silent=options===true,opts=chartObj.options,src=void 0;if(typeof value==="string"){options=(typeof options==="undefined"?"undefined":_typeof(options))==="object"?options:{};src=value.replace(/[\?\#][\s\S]*$/g,"");opts.chartType=src.replace(/^[\s\S]*\//gi,"");opts.chartTypeSourcePath=src.indexOf("/")===-1?options.chartTypeSourcePath||FusionCharts.options.chartTypeSourcePath||"":src.replace(/[^\/]*?$/gi,"");(0,_eventApi.triggerEvent)("resourceRequested",chartObj);if(typeof options.dataSource!=="undefined"&&options.dataSource!==null){chartObj.setChartData(options.dataSource,options.dataFormat,options.dataConfiguration)}else if(chartObj.isActive()&&!silent){chartObj.render()}}return(opts.chartType||"").toLowerCase()};FusionCharts.prototype.setChartDataUrl=function setChartDataUrl(){var url=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var format=arguments[1];var config=arguments[2];var callback=arguments[3];var silent=arguments[4];var dataFormats=(0,_dependencyManager.getDepsByType)("transcoder"),sanitisedFormat=void 0,transcoderObj=void 0;if(typeof format==="undefined"||format===null||typeof format.toString!=="function"){format=this.options.dataFormat;(0,_eventApi.raiseWarning)(this,"03091609","param","FusionCharts#setChartDataUrl","Invalid Data Format. Reverting to current data format - "+format)}sanitisedFormat=sanitiseFormatStr(format);if(!URL_RE.test(sanitisedFormat)){sanitisedFormat+="url"}transcoderObj=dataFormats[sanitisedFormat]&&dataFormats[sanitisedFormat]();this.jsVars.stallLoad=true;if(transcoderObj){if(transcoderObj.toJSON){transcoderObj.toJSON(url,config,callback,silent,this)}else{return{error:new Error("Unable to fetch data.")}}}else{return{error:new Error("Unable to fetch data.")}}};FusionCharts.prototype.setChartData=function setChartData(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var format=arguments.length>1&&arguments[1]!==undefined?arguments[1]:NATIVE_FORMAT;var config=arguments[2];var callback=arguments[3];var silent=arguments[4];var chartObj=this,dataFormats=(0,_dependencyManager.getDepsByType)("transcoder"),sanitisedFormat=sanitiseFormatStr(format),transcoderObj=dataFormats[sanitisedFormat]&&dataFormats[sanitisedFormat](),chartOptions=chartObj.options,jsonData=void 0,dataComp=void 0,parseArgs=void 0;if(URL_RE.test(sanitisedFormat)){chartObj.setChartDataUrl(data,sanitisedFormat,config,callback,silent);return}if(transcoderObj){if(transcoderObj.toJSON){dataComp=transcoderObj.toJSON(data,chartObj)}else{dataComp={error:new Error("Unable to convert data.")}}}else{dataComp={error:new Error("Unable to convert data.")}}jsonData=dataComp.data||dataComp;chartOptions.error=dataComp.error;chartOptions.dataSource=jsonData;chartOptions.dataFormat=sanitisedFormat;parseArgs=_getParsedArgs(data,jsonData,sanitisedFormat,silent);(0,_eventApi.triggerEvent)("beforeDataUpdate",chartObj,parseArgs,void 0,_updater.onDataUpdateSuccess,_updater.onDataUpdateCancel)};FusionCharts.prototype.getChartData=function getChartData(){var format=arguments.length>0&&arguments[0]!==undefined?arguments[0]:NATIVE_FORMAT;var advanced=arguments[1];var update=arguments[2];var chartObj=this,dataFormats=(0,_dependencyManager.getDepsByType)("transcoder"),sanitisedFormat=sanitiseFormatStr(format),transcoderObj=dataFormats[sanitisedFormat](),chartOptions=chartObj.options,api=chartObj.apiInstance,cData,chartData=!update&&(cData=api&&api.getCollatedData&&api.getCollatedData(chartOptions.dataSource))?cData:chartOptions.dataSource,formattedData;if(transcoderObj){if(transcoderObj.fromJSON){formattedData=transcoderObj.fromJSON(chartData,chartObj)}else{formattedData={error:new Error("Unable to convert data.")}}}else{formattedData={error:new Error("Data format not recognized.")}}if(!formattedData.error&&chartOptions.error){formattedData.error=chartOptions.error}return advanced?formattedData:formattedData.data};FusionCharts.prototype.dataReady=function dataReady(available){return available?this.__state.dataAvailable:this.__state.dataReady};FusionCharts.prototype.setChartAttribute=function setChartAttribute(attributes,value){var json,prop,attList,temp,i;if(typeof attributes==="string"){temp=arguments[0];attributes={};attributes[temp]=value}else if(attributes===null||(typeof attributes==="undefined"?"undefined":_typeof(attributes))!=="object"){return}i=0;json=this.getChartData(NATIVE_FORMAT);attList=json&&(json.chart||json.graph||json.map);if(!attList){(0,_eventApi.raiseError)(this,"2105141421","run","#setChartAttribute()","Could not retrieve attribute list. Is data ready?");return}for(prop in attributes){i+=1;if(attributes[prop]===null){delete attList[prop.toLowerCase()];continue}attList[prop.toLowerCase()]=attributes[prop]}if(i>0){if(typeof attList.animation==="undefined"){attList.animation="0"}this.setChartData(json,NATIVE_FORMAT)}};FusionCharts.prototype.getChartAttribute=function getChartAttribute(attribute){var json=this.getChartData(NATIVE_FORMAT),attList=json&&(json.chart||json.graph||json.map),value,i;if(arguments.length===0||typeof attribute==="undefined"||typeof attList==="undefined"){return attList}if(typeof attribute==="string"){value=attList[attribute.toString().toLowerCase()]}else if(attribute instanceof Array){value={};for(i=0;i<attribute.length;i+=1){value[attribute[i]]=attList[attribute[i].toString().toLowerCase()]}}else{(0,_eventApi.raiseError)(this,"25081429","param","~getChartAttribute()",'Unexpected value of "attribute"')}return value};FusionCharts.prototype.render=function render(containerElement,insertMode,callback){if(!this.disposed){if(!callback){if(typeof insertMode==="function"){callback=insertMode;insertMode=void 0}else if(!insertMode&&typeof containerElement==="function"){callback=containerElement;containerElement=void 0}}else if(typeof callback!=="function"){callback=void 0}if(typeof containerElement==="undefined"){containerElement=this.options.containerElementId||this.options.containerElement}if(typeof containerElement==="string"){containerElement=document.getElementById(containerElement)}if(typeof containerElement==="undefined"||containerElement===null){(0,_eventApi.raiseError)(this,"03091456","run",".render()",new Error("Unable to find the container DOM element."));return this}if(isHidden(containerElement)){handleContainerVisibility(this,containerElement,insertMode,callback)}else{this.renderChart(containerElement,insertMode,callback)}}return this};FusionCharts.prototype.renderChart=function renderChart(containerElement,insertMode,callback){var that=this,alt,eventArgs,ref,size,s;if(this.disposed){return}if((ref=window[this.id])&&ref.FusionCharts&&ref.FusionCharts===this||(ref=this.ref)&&ref.FusionCharts&&ref.FusionCharts===this){this._dispose();if(ref===window[this.id]){window[this.id]=void 0}}if(typeof window[this.id]!=="undefined"){(0,_eventApi.raiseError)(this,"25081843","comp",".render",new Error("#25081843:IECompatibility() Chart Id is same as a JavaScript variable name. "+"Variable naming error. Please use unique name for chart JS variable, chart-id and "+"container id."))}if(!callback){if(typeof insertMode==="function"){callback=insertMode;insertMode=void 0}else if(!insertMode&&typeof containerElement==="function"){callback=containerElement;containerElement=void 0}}else if(typeof callback!=="function"){callback=void 0}insertMode=(insertMode||this.options.insertMode).toLowerCase()||_lib.domInsertModes.REPLACE;if(typeof containerElement==="undefined"){containerElement=this.options.containerElementId||this.options.containerElement}if(typeof containerElement==="string"){containerElement=document.getElementById(containerElement)}if(typeof containerElement==="undefined"||containerElement===null){(0,_eventApi.raiseError)(this,"03091456","run",".render()",new Error("Unable to find the container DOM element."));return this}if(isDuplicateId(this.id,containerElement)){(0,_eventApi.raiseError)(this,"05102109","run",".render()",new Error("A duplicate object already exists with the specific Id: "+this.id));return this}alt=document.createElement(this.options.containerElementType||"span");alt.setAttribute("id",this.id);if(insertMode!=="append"&&insertMode!=="prepend"){while(containerElement.hasChildNodes()){containerElement.removeChild(containerElement.firstChild)}}if(insertMode==="prepend"&&containerElement.firstChild){containerElement.insertBefore(alt,containerElement.firstChild)}else{containerElement.appendChild(alt)}this.options.containerElement=containerElement;this.options.containerElementId=containerElement.id;if(s=alt.style){s.position="relative";s.textAlign="left";s.lineHeight="normal";s.display="inline-block";s.zoom="1";s["vertical-align"]="middle";s.fontWeight="normal";s.fontVariant="normal";s.fontStyle="normal";s.textDecoration="none";s["*DISPLAY"]="inline";s.padding="0";s.margin="0";s.border="none";s.direction="ltr";if((_lib.isIE||_lib.isIE11)&&_lib.hasSVG){s["-ms-touch-action"]="none"}}this.options.containerClassName&&(alt.className=this.options.containerClassName);size=(0,_lib.normalizeCSSDimension)(this.width,this.height,alt);this.__state.renderedWidth=size.pixelWidth;this.__state.renderedHeight=size.pixelHeight;this.__state.rendering=true;(0,_eventApi.triggerEvent)("beforeRender",this,eventArgs={container:containerElement,width:this.width,height:this.height,renderer:this.options.renderer},void 0,function(event,args){if(this.disposed===true){return}that._render(alt,function(){notifyRender.apply(undefined,arguments);if(callback){try{callback.call(event.sender,args.container)}catch(e){setTimeout(function(){throw e})}}})},function(){(0,_eventApi.triggerEvent)("renderCancelled",that,eventArgs)});return this};FusionCharts.prototype._render=function _render(container,callback){var chartObj=this,chartType=chartObj.chartType(),state=chartObj.__state,options=chartObj.options,args=chartObj.args,showChartLoadingMessage=chartObj.options.showChartLoadingMessage,lastRenderedChart,loadMessage,eiMethod,vmlRenderer=FusionCharts.getDep("vml","dependency"),loadAndCreateChart=function loadAndCreateChart(){registerError=false;var fileLoadPromise=FusionCharts.getDep(chartType,"dependency")||FusionCharts.getDep(chartType,"chartapi")||FusionCharts.getDep(chartType,"maps");if(fileLoadPromise){if(fileLoadPromise.then){FusionCharts.addEventListener("register",registerEvtHandler);fileLoadPromise.then(function(module){if(module.__esModule){FusionCharts.addDep(module["default"]);onChartTypeChange();renderChart()}else{renderChart()}})["catch"](function(){showUnsupportedChartMessage(chartObj,container,callback)})}else{onChartTypeChange();renderChart()}}else{showUnsupportedChartMessage(chartObj,container,callback)}},onChartTypeChange=function onChartTypeChange(){var prevChartDefinition=(0,_dependencyManager.getDep)(state.lastRenderedType,"chartapi")||(0,_dependencyManager.getDep)(state.lastRenderedType,"maps");if(prevChartDefinition&&state.lastRenderedType!==chartType){(0,_eventApi.triggerEvent)("chartTypeChanged",chartObj,{previousType:state.lastRenderedType,newType:chartType});lastRenderedChart=prevChartDefinition;if(lastRenderedChart){for(eiMethod in lastRenderedChart){delete chartObj[eiMethod]}}}state.lastRenderedType=chartType},renderChart=function renderChart(){var isChartAPI=FusionCharts.getDep(chartType,"chartapi"),isMapsAPI=FusionCharts.getDep(chartType,"maps"),mapsAPI=FusionCharts.getDep("maps","chartapi");if(isChartAPI||isMapsAPI&&mapsAPI){onChartTypeChange();(0,_createChart2["default"])(FusionCharts,chartObj,container,chartType,callback);return}if(isMapsAPI&&MAP_NEEDED){Promise.all([__webpack_require__.e(2),__webpack_require__.e(13)]).then(__webpack_require__.t.bind(null,715,7)).then(function(mapModule){FusionCharts.addDep(mapModule["default"]);onChartTypeChange();(0,_createChart2["default"])(FusionCharts,chartObj,container,chartType,callback)})["catch"](function(){showUnsupportedChartMessage(chartObj,container,callback);(0,_eventApi.raiseError)(FusionCharts,"12052314141","run","JavaScriptRenderer~Maps",new Error("FusionCharts' maps file is required to render the visualization."))});return}showUnsupportedChartMessage(chartObj,container,callback)},showLoadingMessage=function showLoadingMessage(){(0,_createChart2["default"])(FusionCharts,chartObj,container,"base",void 0,loadMessage)};if(!container){container=container||chartObj.ref||chartObj.jsVars.container||chartObj.options&&chartObj.options.containerElement&&chartObj.options.containerElement.childNodes[0]}chartObj.apiInstance&&chartObj.apiInstance.removeJob("resizeScheduled");loadMessage=showChartLoadingMessage?options.PBarLoadingText||options.loadMessage:"";chartObj._chartMessageImageStyle={imageHAlign:args.loadMessageImageHAlign||options.baseChartMessageImageHAlign,imageVAlign:args.loadMessageImageVAlign||options.baseChartMessageImageVAlign,imageAlpha:args.loadMessageImageAlpha||options.baseChartMessageImageAlpha,imageScale:args.loadMessageImageScale||options.baseChartMessageImageScale};chartObj._chartMessageStyle={color:args.loadMessageColor||options.baseChartMessageColor,fontFamily:args.loadMessageFont||options.baseChartMessageFont,fontSize:args.loadMessageFontSize||options.baseChartMessageFontSize};if(vmlRenderer){if(vmlRenderer.then){vmlRenderer.then(function(module){FusionCharts.addDep(module["default"]);showLoadingMessage();loadAndCreateChart()})["catch"](function(){(0,_eventApi.raiseError)(FusionCharts,"162162788","run",">RendererError~VMLRendererLoad","Unable to load FusionCharts VML renderer.")})}else{FusionCharts.addDep(vmlRenderer);showLoadingMessage();loadAndCreateChart()}}else{showLoadingMessage();loadAndCreateChart()}};FusionCharts.prototype.resizeTo=function resizeTo(width,height,silent){var chart=this,prevW=chart.width,prevH=chart.height,state=chart.__state,config=chart.apiInstance&&chart.apiInstance.config||{};config.resize=true;if((typeof width==="undefined"?"undefined":_typeof(width))==="object"){silent=height;height=width.h;width=width.w}width=width===null||typeof width==="undefined"?prevW:width.toString().replace(LENGTH_CLEANUP_RE,"");height=height===null||typeof height==="undefined"?prevH:height.toString().replace(LENGTH_CLEANUP_RE,"");if(silent!==true){(0,_eventApi.triggerEvent)("beforeresize",chart,{currentWidth:prevW,currentHeight:prevH,newWidth:width,newHeight:height},void 0,function(){chart.width=width;chart.height=height;chart.scheduleResize({width:width,height:height});chart.apiInstance.addJob("resized"+count++,function(){(0,_eventApi.triggerEvent)("resized",chart,{id:chart.id,width:chart.width,height:chart.height,prevWidth:prevW,prevHeight:prevH,pixelWidth:chart.ref&&chart.ref.offsetWidth||0,pixelHeight:chart.ref&&chart.ref.offsetHeight||0,originalWidth:state.renderedWidth,originalHeight:state.renderedHeight})},_schedular.priorityList.postRender)},function(){(0,_eventApi.triggerEvent)("resizecancelled",chart,{currentWidth:prevW,currentHeight:prevH,cancelledTargetWidth:width,cancelledTargetHeight:height})})}else{chart.width=width;chart.height=height}return this};FusionCharts.prototype.update=function update(param){var chartObj=this,chart=chartObj.ref,vars=chartObj.jsVars,fcObj=vars&&vars.fcObj,container=vars.container||fcObj&&fcObj.options&&fcObj.options.containerElement&&fcObj.options.containerElement.childNodes[0];vars.hcObj&&vars.hcObj.destroy&&vars.hcObj.destroy();chartObj.options.dataSource=param.data;chartObj.apiInstance&&chartObj.apiInstance.removeJob("resizeScheduled");if(typeof param.error==="undefined"){delete vars.stallLoad;delete vars.loadError;if(!chartObj.__state.firstRenderNotified&&chartObj.jsVars.secondTimeRender){chartObj.__state.firstRenderNotified=true}if(this.isActive()){if(chartObj.chartType()!==chartObj.__state.lastRenderedType){chartObj.render()}else{(0,_createChart2["default"])(FusionCharts,chartObj,container)}}}else{if(this.isActive()&&typeof chart.showChartMessage==="function"){chart.showChartMessage("InvalidXMLText")}delete vars.loadError}};FusionCharts.prototype.dispose=function dispose(){var chart=this,eventArgs={};(0,_eventApi.triggerEvent)("beforeDispose",chart,eventArgs,void 0,function(){chart._dispose();(0,_eventApi.triggerEvent)("disposed",chart,eventArgs);(0,_eventApi.disposeEvents)(chart);delete FusionCharts.items[chart.id];for(var prop in chart){if(chart.hasOwnProperty(prop)){delete chart[prop]}}chart.disposed=true},function(){(0,_eventApi.triggerEvent)("disposeCancelled",chart,eventArgs)})};FusionCharts.prototype._dispose=function _dispose(){var chartObj=this,container,vars=chartObj.jsVars;if(chartObj.apiInstance){chartObj.apiInstance.removeJob("resizeScheduled");chartObj.apiInstance.remove({instant:true});delete chartObj.apiInstance;delete vars.instanceAPI}if(container=chartObj.ref){purgeDOM(container);if(container.parentNode){container.parentNode.removeChild(container)}}vars.container=null};FusionCharts.prototype._config=function _config(items,optionalValue){var item,chart=this,vars=chart.jsVars,msgs=vars.msgStore,cfg=vars.cfgStore,options=chart.options,chartMessageOldNewMap;chartMessageOldNewMap={LoadingText:"loadMessage",ChartNotSupported:"typeNotSupportedMessage",RenderChartErrorText:"renderErrorMessage",XMLLoadingText:"dataLoadStartMessage",ChartNoDataText:"dataEmptyMessage",LoadDataErrorText:"dataLoadErrorMessage",InvalidXMLText:"dataInvalidMessage"};if(typeof items==="string"&&arguments.length>1){item=items;items={};items[item]=optionalValue}for(item in items){if(typeof msgs[item]!=="undefined"){msgs[item]=items[item]}else{cfg[item.toLowerCase()]=items[item]}if(chartMessageOldNewMap[item]){options[chartMessageOldNewMap[item]]=items[item]}else{options[item]=items[item]}}};FusionCharts.prototype.configure=function configure(option,value){var hash;if(!option){return}else if(typeof option==="string"){hash={};hash[option]=value}else{hash=option}this._config(hash)};FusionCharts.prototype.print=function print(options){var chart=this.apiInstance,args=(0,_lib.extend2)({},options);if(chart.config.isPrinting||!chart.config.hasRendered){return false}(0,_eventApi.triggerEvent)("BeforePrint",this,args,void 0,function(){var container=chart.getFromEnv("chart-container"),origDisplay=[],origParent=container.parentNode,body=document.body||document.getElementsByTagName("body")[0],childNodes=body.childNodes,length,lists,list,i;chart.config.isPrinting=true;(0,_lib.fcEach)(childNodes,function(node,i){if(node.nodeType===1){origDisplay[i]=node.style.display;node.style.display="NONE"}});if(args.hideButtons!==false){lists=chart.getChildren("chartMenuBar").config.componentGroups[0].config.symbolList;for(i=0,length=lists.length;i<length;i++){if((list=lists[i])instanceof chart.getFromEnv("toolBoxAPI").SymbolWithContext){list=list.getListRefernce().getFirstContainer();break}}list.config.container.style.display="NONE"}body.appendChild(container);window.print();setTimeout(function(){list.config.container.style.display="visible";origParent.appendChild(container);(0,_lib.fcEach)(childNodes,function(node,i){if(node.nodeType===1){node.style.display=origDisplay[i]}});if(args.hideButtons!==false){list.config.container.style.display="visible"}chart.config.isPrinting=false;(0,_eventApi.triggerEvent)("PrintComplete",chart.getFromEnv("chartInstance"),args)},1e3)},function(){(0,_eventApi.triggerEvent)("PrintCancelled",chart.getFromEnv("chartInstance"),args)})};FusionCharts.prototype.getSVGString=function getSVGString(callback,config){var chartContainer=this,chart=chartContainer.apiInstance,keepImages,paper=chart&&chart.getFromEnv("paper");if(config&&config.keepImages){keepImages=true}if(typeof callback==="function"){chart.addJob("getSVG",function(){callback(paper&&paper.toSVG&&paper.toSVG(keepImages))},_schedular.priorityList.postRender)}else{if(paper&&paper.toSVG){return paper.toSVG(keepImages)}else{return"<svg></svg>"}}};FusionCharts.prototype.lockResize=function lockResize(state){if(typeof state!=="boolean"){return!!this.jsVars.resizeLocked}return this.jsVars.resizeLocked=state};FusionCharts.prototype.showChartMessage=function showChartMessage(text,modal,cancelable){var customAttrs=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var chartInstance=this,chart=chartInstance.apiInstance,showMessageFn=function showMessageFn(){chartInstance._showChartMessage(text,modal,cancelable,customAttrs)};chart&&(chart.getName()==="base"?chartInstance.addEventListener("renderComplete",showMessageFn):showMessageFn());return text};FusionCharts.prototype._showChartMessage=function _showChartMessage(text,modal,cancelable){var customAttrs=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var chartInstance=this,vars=chartInstance.jsVars,chart=chartInstance.apiInstance,options=chartInstance.options,attrs=void 0,_helperFn=function _helperFn(){if(modal&&chart&&chart.config.hasRendered){chart._show&&chart._show();chartInstance.showMessage(text,attrs,cancelable)}else{chart._hide&&chart._hide();chart.setChartMessage(text,{_chartMessageStyle:attrs});chart.drawChartMessage()}};chart._hideChartMessage();if(typeof text==="undefined"){chartInstance.hideChartMessage();return}attrs={fontFamily:(0,_lib.pluck)(customAttrs.font,options.baseChartMessageFont,"Verdana,sans"),fontSize:(0,_lib.pluck)(customAttrs.fontSize,options.baseChartMessageFontSize,10),color:(0,_lib.pluck)(customAttrs.color&&(0,_libGraphics.convertColor)(customAttrs.color,customAttrs.alpha),options.baseChartMessageColor)};if(vars.msgStore[text]){text=vars.msgStore[text]}chart.addJob("showMsg",_helperFn,_schedular.priorityList.postRender)};FusionCharts.prototype._resize=function _resize(){var vars=this.jsVars,instanceAPI=vars.instanceAPI,container=vars.container;if(instanceAPI){instanceAPI.config.elScroll=false;instanceAPI.getFromEnv("animationManager").setAnimationState("resize");instanceAPI.addToEnv("chartWidth",container.offsetWidth);instanceAPI.addToEnv("chartHeight",container.offsetHeight);instanceAPI.asyncDraw()}else{(0,_createChart2["default"])(FusionCharts,vars.fcObj,container,vars.type,void 0,void 0,false,true)}};FusionCharts.prototype.hideChartMessage=function hideChartMessage(){var chartObj=this,chart=chartObj.apiInstance;chart._hideChartMessage();chart._show&&chart._show()};FusionCharts.prototype.showMessage=function showMessage(){var msg=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var attrs=arguments[1];var cancelable=arguments[2];var chart=this.apiInstance,config=chart.config,messageLayer,messageLayerDummy,paper=chart.getFromEnv("paper"),smartLabel=chart.getFromEnv("smartLabel"),animationManager=chart.getFromEnv("animationManager"),messageText=chart.getGraphicalElement("messageText"),messageVeil=chart.getGraphicalElement("messageVeil"),w=paper.width,h=paper.height,text;messageLayerDummy=chart.getChildContainer("messageGroup");animationManager.setAnimationState("showmessage");messageLayer=animationManager.setAnimation({el:messageLayerDummy||"group",attr:{name:"messageGroup"},component:chart,label:"group"});messageLayer.show().toFront();if(!messageLayerDummy){chart.addChildContainer("messageGroup",messageLayer)}messageVeil=animationManager.setAnimation({el:messageVeil||"rect",attr:{x:0,y:0,width:w,height:h,fill:"rgba(0,0,0,0.2)",stroke:"none"},container:messageLayer,component:chart,label:"rect"});messageVeil.unclick(messageLayer.hide);messageVeil.show().toFront().attr("cursor",cancelable?_lib.POINTER:"default");cancelable&&messageVeil.click(chart._hideChartMessage,chart);chart.addGraphicalElement("messageVeil",messageVeil);smartLabel.setStyle(attrs);text=smartLabel.getSmartText(msg,w-(config.marginRight||0)-(config.marginLeft||0),h-(config.marginTop||0)-(config.marginBotton||0));messageText=animationManager.setAnimation({el:messageText||"text",attr:{"font-size":attrs.fontSize,"font-family":attrs.fontFamily,fill:attrs.color,text:text.text,"line-height":14,x:w/2,y:h/2},container:messageLayer,component:chart,label:"text"});messageText.attr("cursor",cancelable?_lib.POINTER:"default")[cancelable?"click":"unclick"](chart._hideChartMessage,chart).show().toFront();chart.addGraphicalElement("messageText",messageText)};FusionCharts.prototype.scheduleResize=function scheduleResize(size){var chartObj=this,container=chartObj.ref,cssSize,chart=chartObj.apiInstance;if(!container){return}chart.addJob("resizeScheduled",function(){cssSize=(0,_lib.normalizeCSSDimension)(size.width,size.height,container);if(typeof size.width!=="undefined"){container.style.width=cssSize.width}if(size.height!=="undefined"){container.style.height=cssSize.height}chartObj._resize()},_schedular.priorityList.instant)};return FusionCharts}();FusionCharts.id="FusionCharts";FusionCharts.options={html5ScriptNameSuffix:".js",html5ScriptNamePrefix:"fusioncharts.","export":{useCanvas:false},scriptBaseUri:function(){var baseUri=getScriptBaseUri(SCRIPT_NAME_RE);if(typeof baseUri==="undefined"){(0,_eventApi.raiseError)(FusionCharts,"1603111624","run",">GenericRuntime~scriptBaseUri","Unable to locate FusionCharts script source location (URL).");return""}return baseUri}()};if(true)__webpack_require__.p=FusionCharts.getScriptBaseURI();FusionCharts.version=version.split(/[\.\-]/g);FusionCharts.items={};(0,_eventApi.setRootSender)(FusionCharts);isReady=true;setTimeout(function(){var wasReady=isReady;isReady=true;readyNotified=true;(0,_eventApi.triggerEvent)("ready",FusionCharts,{version:FusionCharts.version,now:!wasReady});readyNow=!wasReady},1);FusionCharts.addEventListener("dependencyAdded",function(e,d){if(d.type==="maps"){var obj={};obj[d.name]=["fusioncharts.maps.js"];if(!FusionCharts.getDep("dependency")){FusionCharts.addDep({name:"dependency",extension:obj})}}});FusionCharts.addEventListener("beforeInitialize",function(e){var chart=e.sender,events=chart.options.events,key,item;if(events){for(key in events){if(typeof events[key]==="function"){chart.addEventListener(key,events[key])}}}chart.options.renderer="javascript";for(item in _rendererEvents2["default"]){chart.addEventListener(item,_rendererEvents2["default"][item])}});FusionCharts.addEventListener("beforeInitialize",function(event){var obj=event.sender,options=obj.options,dataSource=obj.args.dataSource,dataFormat=obj.args.dataFormat;delete _updater.dataStore[obj.id];_updater.cache[obj.id]={};if(typeof dataSource!=="undefined"&&dataSource!==null){obj.__state.dataSetDuringConstruction=true;if(typeof dataFormat!=="string"){switch(typeof dataSource==="undefined"?"undefined":_typeof(dataSource)){case"function":dataSource=options.dataSource=dataSource.call(obj,options.dataConfiguration);obj.args.dataFormat="JSON";break;case"string":obj.args.dataFormat=/^\s*?\{[\s\S]*\}\s*?$/g.test(dataFormat)?"JSON":"XML";break;case"object":obj.args.dataFormat="JSON";break}}if(dataFormat&&dataFormat.toString){obj.__state.dataFetchDuringConstruction=URL_RE.test(dataFormat.toString())}obj.setChartData(dataSource,dataFormat,void 0,void 0,true)}else{obj.__state.dataSetDuringConstruction=false;(0,_eventApi.raiseWarning)(obj,"1810131922A","param",":dataHandler~event:beforeInitialize","Data source was not defined during construction, hence set to blank renderer default - "+NATIVE_FORMAT);obj.setChartData("",NATIVE_FORMAT,void 0,void 0,true);obj.__state.dataAvailable=false}});FusionCharts.addEventListener("dataUpdated",function(event,args){var obj=event.sender,state=obj.__state;if(state.rendering&&(state.dataFetchDuringConstruction||state.updatePending)){delete state.dataFetchDuringConstruction;delete state.updatePending;obj.update(args)}});FusionCharts.addEventListener(["rendered","dataloaderror","nodatatodisplay","rendercancelled"],function(e,a){var sender=e.sender;if(sender instanceof FusionCharts&&sender.__state&&sender.__state.rendering){(0,_eventApi.triggerEvent)("internal.rendered",sender,a);sender.__state&&delete sender.__state.rendering}});if(isReady&&!readyNotified){readyNotified=true;(0,_eventApi.triggerEvent)("ready",FusionCharts,{version:FusionCharts.version,now:readyNow})}FusionCharts.addEventListener("initialized",slHandler);FusionCharts.addDep(_fileStore2["default"]);FusionCharts.addDep(_redraphael2["default"]);FusionCharts.addDep(_tooltipAdapter2["default"]);FusionCharts.addDep(_redraphael4["default"]);FusionCharts.addDep(_jsonTranscoder2["default"]);FusionCharts.addDep(_redraphael6["default"]);FusionCharts.addDep(_basechart2["default"]);exports["default"]=FusionCharts},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.domInsertModes=exports.normalizeCSSDimension=exports.isXSSSafe=exports.getSuggestiveRotation=exports.extent=exports.normalizeAngle=exports.safeMin=exports.safeMax=exports.LINE_HEIGHT_FACTOR=exports.PROJECT_VERSION=exports.trimString=exports.datasetFactory=exports.componentFactory=exports.dropHash=exports.BGRATIOSTRING=exports.VISIBLE=exports.touchEnabled=exports.MOUSEMOVE=exports.MOUSEOUT=exports.FIT=exports.FILL=exports.TILE=exports.COMMA=exports.animationObjStr=exports.configStr=exports.ROUND=exports.BLANK=exports.POINTER=exports.HAND=exports.BOLD=exports.NORMAL=exports.mathRound=exports.mathAbs=exports.animHelperFN=exports.xssEncode=exports.MathExt=exports.defaultGaugePaletteOptions=exports.crispBound=exports.hasAttribDefs=exports.setAttribDefs=exports.parseConfiguration=exports.attribDefs=exports.canvasBorderColorStr=exports.defined=exports.pInt=exports.attrTypeBool=exports.canvasBGAlphaStr=exports.attrTypeNum=exports.DASH_DEF=exports.chartPaletteStr=exports.TRACKER_FILL=exports.capitalizeString=exports.getContainerBackgroundColor=exports.appliedCSS=exports.validhexcolor=exports.pseudoEval=exports.executeJS=exports.componentDispose=exports.createDialog=exports.chartAPI=exports.getDashStyle=exports.getAxisLimits=undefined;exports.supportedStyle=exports.parsexAxisStyles=exports.setLineHeight=exports.setImageDisplayMode=exports.getLinkAction=exports.lineHeightFactor=exports.isEdge=exports.isIE9=exports.isIE11=exports.isIE=exports.CREDIT_REGEX=exports.hasSVG=exports.stableSort=exports.stubFN=exports.preDefStr=exports.getCripValues=exports.getCrispValue=exports.isArray=exports.getImageURL=exports.regReplaceEscape=exports.regescape=exports.CREDIT_STRING=exports.CREDIT_HREF=exports.creditLabel=exports.hasTouch=exports.toPrecision=exports.parseTooltext=exports.parseUnsafeString=exports.parsePointValue=exports.fastTrim=exports.gradientify=exports.rgbaToHex=exports.toRaphaelColor=exports.clampNumber=exports.getColorCodeString=exports.getFirstValue=exports.getDefinedColor=exports.fcEach=exports.bindSelectionEvent=exports.getViewPortDimension=exports.getPosition=exports.getValidValue=exports.pluckFontSize=exports.getComparatorFN=exports.dehashify=exports.hashify=exports.polyPathToPath=exports.createElement=exports.getFirstDefinedValue=exports.pluckNumber=exports.pluck=exports.imprint=exports.extend2=exports.getTouchEvent=exports.getMouseCoordinate=exports.getEventCoordinate=exports.regex=exports.CLICK_THRESHOLD_PIXELS=exports.TOUCH_THRESHOLD_PIXELS=exports.cleanColorCode=exports.startsRGBA=exports.visibleStr=exports.hiddenStr=exports.TEXTANCHOR=exports.COMMASPACE=exports.PXSTRING=exports.HUNDREDSTRING=exports.SHAPE_RECT=exports.FC_CONFIG_STRING=exports.POSITION_END=exports.POSITION_START=exports.POSITION_MIDDLE=exports.POSITION_CENTER=exports.POSITION_LEFT=exports.POSITION_BOTTOM=exports.POSITION_RIGHT=exports.POSITION_TOP=exports.STRINGUNDEFINED=exports.DECIMALSTRING=exports.ONESTRING=exports.TESTSTR=exports.SAMPLESTRING=exports.ZEROSTRING=exports.COMMASTRING=exports.OBJECTSTRING=exports.STRINGSTRING=exports.BREAKSTRING=exports.HASHSTRING=exports.COLOR_TRANSPARENT=exports.COLOR_WHITE=exports.COLOR_GLASS=exports.COLOR_BLACK=exports.BLANKSTRING=exports.UNDERSCORE=exports.UNDEF=exports.isFirefox=exports.BLANKSTRINGPLACEHOLDER=exports.getEmptyConstractor=exports.addInterActiveEvtName=exports.isInterActiveEvt=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _libAttr=__webpack_require__(119);var _domEvent=__webpack_require__(120);var _domEvent2=_interopRequireDefault(_domEvent);var _raphael=__webpack_require__(121);var _raphael2=_interopRequireDefault(_raphael);var _libGraphics=__webpack_require__(122);var _imageAlignment=__webpack_require__(123);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var version=false?undefined:"3.13.1",PROJECT_VERSION=version,LINE_HEIGHT_FACTOR=1.2;var win=window,BGRATIOSTRING,DASH_DEF="none",EMPTYFN=function EMPTYFN(){},getEmptyConstractor=function getEmptyConstractor(){return function(){}},isIE9=function(){var myNav=win.navigator.userAgent.toLowerCase(),verIE;verIE=myNav.indexOf("msie")!=-1?win.parseInt(myNav.split("msie")[1]):false;if(verIE&&verIE===9){return true}else{return false}}(),isFirefox=/Firefox/i.test(win.navigator.userAgent),doc=win.document,nav=win.navigator,hasSVG=Boolean(win.SVGAngle||doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),isIE11=/trident/i.test(nav.userAgent)&&/rv:11/i.test(nav.userAgent)&&!window.opera,isIE=/msie/i.test(nav.userAgent)&&!win.opera,isEdge=/Edge/.test(nav.userAgent),attrTypeNum=1,attrTypeBool=2,BAD_CHARS_RE=/[\\\"<>;&]/,PROTOCOL_DEF_RE=/^[^\S]*?(sf|f|ht)(tp|tps):\/\//i,TRACKER_FILL="rgba(192,192,192,"+(isIE?.002:1e-6)+")",POSITION_RIGHT="right",POSITION_LEFT="left",POSITION_CENTER="center",UNDEF,BLANKSTRINGPLACEHOLDER="#BLANK#",SAMPLESTRING="Ay0",COLOR_BLACK="000000",COLOR_GLASS="rgba(255, 255, 255, 0.3)",COLOR_WHITE="FFFFFF",COLOR_TRANSPARENT="rgba(0,0,0,0)",HASHSTRING="#",BREAKSTRING="<br />",STRINGSTRING="string",OBJECTSTRING="object",BLANK="",prevPageX,prevPageY,BLANKSTRING=BLANK,COMMASTRING=",",COMMA=",",RStr="r",COLON=":",HYPHEN="-",ZEROSTRING="0",MOUSEOUT="mouseout",MOUSEMOVE="mousemove",TESTSTR="Ag",ONESTRING="1",DECIMALSTRING=".",STRINGUNDEFINED="undefined",POSITION_TOP="top",POSITION_BOTTOM="bottom",POSITION_MIDDLE="middle",POSITION_START="start",POSITION_END="end",FC_CONFIG_STRING="_FCconf",SHAPE_RECT="rect",HUNDREDSTRING="100",VISIBLE="visible",PXSTRING="px",COMMASPACE=", ",TEXTANCHOR="text-anchor",canvasBGAlphaStr="canvasBgAlpha",ROUND="round",UNDERSCORE="_",NORMAL="normal",BOLD="bold",POINTER="pointer",HAND=POINTER,TILE="tile",FILL="fill",FIT="fit",CREDIT_HREF="http://www.fusioncharts.com?BS=FCHSEvalMark&utm_source=FCS_trial"+"&pver="+escape(PROJECT_VERSION),CREDIT_STRING=false?undefined:"FusionCharts XT Trial",canvasBorderColorStr="canvasBorderColor",TOUCH_THRESHOLD_PIXELS=15,CLICK_THRESHOLD_PIXELS=5,lineHeightFactor=1.2,configStr="config",animationObjStr="animationObj",hiddenStr="hidden",visibleStr="visible",toFloat=parseFloat,CREDIT_REGEX=/fusioncharts\.com|fusioncharts\.github\.io$/i,breakPlaceholder=/\{br\}\s*/gi,stripWhitespace=/\s+/g,dropHash=/^#?/,startsRGBA=/^rgba/i,cleanColorCode=/[#\s]/gi,hexcode=/^#?[0-9a-f]{6}/i,validhexcolor=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,mathAbs=Math.abs,mathPow=Math.pow,mathRound=Math.round,EPSILON=mathPow(2,-24),touchEnabled="ontouchstart"in doc,hasTouch=touchEnabled&&!(nav.maxTouchPoints||nav.msMaxTouchPoints),isLicensed="boolean"!=="undefined"&&false,creditLabel=!(CREDIT_REGEX.test(win.location.hostname)||isLicensed),math=Math,mathMax=math.max,mathMin=math.min,stubEvent={pageX:0,pageY:0},M="M",gaugePaletteColors=["8BBA00","F6BD0F","FF654F","AFD8F8","FDB398","CDC309","B1D0D2","FAD1B9","B8A79E","D7CEA5","C4B3CE","E9D3BE","EFE9AD","CEA7A2","B2D9BA"],defaultGaugePaletteOptions={paletteColors:[gaugePaletteColors,gaugePaletteColors,gaugePaletteColors,gaugePaletteColors,gaugePaletteColors],bgColor:["CBCBCB,E9E9E9","CFD4BE,F3F5DD","C5DADD,EDFBFE","A86402,FDC16D","FF7CA0,FFD1DD"],bgAngle:[270,270,270,270,270],bgRatio:["0,100","0,100","0,100","0,100","0,100"],bgAlpha:["50,50","60,50","40,20","20,10","30,30"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],tickColor:["333333","60634E","025B6A","A15E01","68001B"],trendDarkColor:["333333","60634E","025B6A","A15E01","68001B"],trendLightColor:["f1f1f1","F3F5DD","EDFBFE","FFF5E8","FFD1DD"],pointerBorderColor:["545454","60634E","415D6F","845001","68001B"],pointerBgColor:["545454","60634E","415D6F","845001","68001B"],canvasBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],canvasBgAngle:[0,0,0,0,0],canvasBgAlpha:["100","100","100","100","100"],canvasBgRatio:["","","","",""],canvasBorderColor:["545454","545454","415D6F","845001","68001B"],canvasBorderAlpha:[100,100,100,90,100],altHGridColor:["EEEEEE","D8DCC5","99C4CD","DEC49C","FEC1D0"],altHGridAlpha:[50,35,10,20,15],altVGridColor:["767575","D8DCC5","99C4CD","DEC49C","FEC1D0"],altVGridAlpha:[10,20,10,15,10],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50],legendBgColor:["ffffff","ffffff","ffffff","ffffff","ffffff"],legendBorderColor:["545454","545454","415D6F","845001","D55979"],plotFillColor:["767575","D8DCC5","99C4CD","DEC49C","FEC1D0"],plotBorderColor:["999999","8A8A8A","6BA9B6","C1934D","FC819F"],msgLogColor:["717170","7B7D6D","92CDD6","965B01","68001B"],TrendLightShadeOffset:30},domInsertModes={REPLACE:"replace",APPEND:"append",PREPEND:"prepend"},isXSSSafe=function isXSSSafe(str,proto){if(proto&&PROTOCOL_DEF_RE.exec(str)!==null){return false}return BAD_CHARS_RE.exec(str)===null},xssEncode=function xssEncode(s){if(s===null||typeof s==="undefined"||typeof s.toString!=="function"){return""}s=s.toString().replace(/&/g,"&amp;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return s},MathExt={numDecimals:function numDecimals(num){num=toPrecision(num,10);num=Math.abs(num);var decimal=toPrecision(num-Math.floor(num),10),numDecimals=String(decimal).length-2;numDecimals=numDecimals<0?0:numDecimals;return numDecimals},toRadians:function toRadians(angle){return angle/180*Math.PI},toDegrees:function toDegrees(angle){return angle/Math.PI*180},flashToStandardAngle:function flashToStandardAngle(ang){return-1*ang},standardToFlashAngle:function standardToFlashAngle(ang){return-1*ang},flash180ToStandardAngle:function flash180ToStandardAngle(ang){var a=360-((ang%=360)<0?ang+360:ang);return a==360?0:a},getAngularPoint:function getAngularPoint(fromX,fromY,distance,angle){angle=angle*(Math.PI/180);var xPos=fromX+distance*Math.cos(angle),yPos=fromY-distance*Math.sin(angle);return{x:xPos,y:yPos}},remainderOf:function remainderOf(a,b){return Math.ceil(a%b)},boundAngle:function boundAngle(angle){if(angle>=0){return MathExt.prototype.remainderOf(angle,360)}else{return 360-MathExt.prototype.remainderOf(Math.abs(angle),360)}},toNearestTwip:function toNearestTwip(num){var n=num,s=n<0?-1:1,k=Math.abs(n),r=Math.round(k*100),b=Math.floor(r/5),t=Number(String(r-b*5)),m=t>2?b*5+5:b*5;return s*(m/100)},roundUp:function roundUp(num,base){base=!base?2:base;var factor=Math.pow(10,base);num*=factor;num=Math.round(Number(String(num)));num/=factor;return num}},pi2=math.PI*2,normalizeAngle=function normalizeAngle(angle,inDegrees){var fullCycle=inDegrees?360:pi2;angle=(angle||0)%fullCycle;return angle<0?fullCycle+angle:angle},canvasBaseColor3DStr="canvasBaseColor3D",chartPaletteStr={chart2D:{bgColor:"bgColor",bgAlpha:"bgAlpha",bgAngle:"bgAngle",bgRatio:"bgRatio",canvasBgColor:"canvasBgColor",canvasBaseColor:"canvasBaseColor",divLineColor:"divLineColor",legendBgColor:"legendBgColor",legendBorderColor:"legendBorderColor",toolTipbgColor:"toolTipbgColor",toolTipBorderColor:"toolTipBorderColor",baseFontColor:"baseFontColor",anchorBgColor:"anchorBgColor"},chart3D:{bgColor:"bgColor3D",bgAlpha:"bgAlpha3D",bgAngle:"bgAngle3D",bgRatio:"bgRatio3D",canvasBgColor:"canvasBgColor3D",canvasBaseColor:canvasBaseColor3DStr,divLineColor:"divLineColor3D",divLineAlpha:"divLineAlpha3D",legendBgColor:"legendBgColor3D",legendBorderColor:"legendBorderColor3D",toolTipbgColor:"toolTipbgColor3D",toolTipBorderColor:"toolTipBorderColor3D",baseFontColor:"baseFontColor3D",anchorBgColor:"anchorBgColor3D"}},supportedStyle={font:"font",fontFamily:"font-family","font-family":"font-family",fontWeight:"font-weight","font-weight":"font-weight",fontSize:"font-size","font-size":"font-size",lineHeight:"line-height","line-height":"line-height",textDecoration:"text-decoration","text-decoration":"text-decoration",color:"color",whiteSpace:"white-space","white-space":"white-space",padding:"padding",margin:"margin",background:"background",backgroundColor:"background-color","background-color":"background-color",backgroundImage:"background-image","background-image":"background-image",backgroundPosition:"background-position","background-position":"background-position",backgroundPositionLeft:"background-position-left","background-position-left":"background-position-left",backgroundPositionTop:"background-position-top","background-position-top":"background-position-top",backgroundRepeat:"background-repeat","background-repeat":"background-repeat",border:"border",borderColor:"border-color","border-color":"border-color",borderStyle:"border-style","border-style":"border-style",borderThickness:"border-thickness","border-thickness":"border-thickness",borderTop:"border-top","border-top":"border-top",borderTopColor:"border-top-color","border-top-color":"border-top-color",borderTopStyle:"border-top-style","border-top-style":"border-top-style",borderTopThickness:"border-top-thickness","border-top-thickness":"border-top-thickness",borderRight:"border-right","border-right":"border-right",borderRightColor:"border-right-color","border-right-color":"border-right-color",borderRightStyle:"border-right-style","border-right-style":"border-right-style",borderRightThickness:"border-right-thickness","border-right-thickness":"border-right-thickness",borderBottom:"border-bottom","border-bottom":"border-bottom",borderBottomColor:"border-bottom-color","border-bottom-color":"border-bottom-color",borderBottomStyle:"border-bottom-style","border-bottom-style":"border-bottom-style",borderBottomThickness:"border-bottom-thickness","border-bottom-thickness":"border-bottom-thickness",borderLeft:"border-left","border-left":"border-left",borderLeftColor:"border-left-color","border-left-color":"border-left-color",borderLeftStyle:"border-left-style","border-left-Style":"border-left-style",borderLeftThickness:"border-left-thickness","border-left-thickness":"border-left-thickness"},crispFixer=hasSVG?0:.5,crispBound=function crispBound(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var w=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var h=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var options=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};var isStacked=arguments[6];if(h<1||w<1){return{x:x,y:y,width:w,height:h,"stroke-width":s}}if(s>=w||s>=h){s=Math.floor(Math.min(w,h)/2)||s}var x1=x,y1=y,x2=x+w,s2=s/2,isOdd=s%2,y2=y+h;if(options.top){y1=Math.round(y1)+s2-crispFixer}else{if(isOdd){y1=Math.floor(y1)+.5-crispFixer}else{y1=Math.round(y1)-crispFixer}}if(options.bottom){y2=Math.round(y2)-s2-crispFixer}else{if(isStacked&&options.top){y2=Math.round(y2)+s2-crispFixer}else{if(isOdd){y2=Math.floor(y2)+.5-crispFixer}else{y2=Math.round(y2)-crispFixer}}}if(options.left){x1=Math.round(x1)+s2-crispFixer}else{if(isStacked&&options.right){x1=Math.round(x1)-s2-crispFixer}else{if(isOdd){x1=Math.floor(x1)+.5-crispFixer}else{x1=Math.round(x1)-crispFixer}}}if(options.right){x2=Math.round(x2)-s2-crispFixer}else{if(isOdd){x2=Math.floor(x2)+.5-crispFixer}else{x2=Math.round(x2)-crispFixer}}return{x:x1,y:y1,width:Math.abs(x2-x1),height:Math.abs(y2-y1),"stroke-width":s}},polyPathToPath=function polyPathToPath(polypath){var path,sides=polypath[0],cx=polypath[1],cy=polypath[2],r=polypath[3],startAngle=polypath[4],dip=polypath[5],inangle,i,angle,h;path=[];sides=win.parseInt(sides,10)||0;cx=toFloat(cx)||0;cy=toFloat(cy)||0;r=toFloat(r)||0;startAngle=startAngle===null||isNaN(startAngle)?Math.PI*.5:startAngle%360*(Math.PI/180);dip=dip===null||isNaN(dip)?0:toFloat(dip);angle=startAngle;if(sides>2){inangle=2*Math.PI/sides;switch(dip){case 0:for(i=0;i<sides;i++){path.push("L",cx+r*Math.cos(-angle),cy+r*Math.sin(-angle));angle+=inangle}path[0]="M";path.push("Z");break;case 1:for(i=0;i<sides;i++){path.push(M,cx,cy,"L",cx+r*Math.cos(-angle),cy+r*Math.sin(-angle));angle+=inangle}break;default:inangle*=.5;h=r*Math.cos(inangle)*(1-dip);for(i=0;i<sides;i++){path.push("L",cx+r*Math.cos(-angle),cy+r*Math.sin(-angle));angle+=inangle;path.push("L",cx+h*Math.cos(-angle),cy+h*Math.sin(-angle));angle+=inangle}path[0]="M";path.push("Z");break}}else{if(r===0){path.push("M",cx,cy,"L",cx,cy,"Z")}else{path.push("M",cx-r,cy,"A",r,r,0,0,0,cx+r,cy,"A",r,r,0,0,0,cx-r,cy,"Z")}}return path},rgbaToHex=function rgbaToHex(rgb){rgb=rgb.replace("rgba(",BLANKSTRING).split(",");return"#"+(COLOR_BLACK+(rgb[0]<<16|rgb[1]<<8|rgb[2]).toString(16)).slice(-6)},animHelperFN={getTimeByValue:function getTimeByValue(timeRange,pixelRange,plotRange){var timePixelRatio=(timeRange.end-timeRange.start)/(pixelRange.endPx-pixelRange.startPx);return{start:timeRange.start+timePixelRatio*(plotRange.startPx-pixelRange.startPx),end:timeRange.start+timePixelRatio*(plotRange.endPx-pixelRange.startPx)}},animByWeight:function animByWeight(i,len,weight,mul,shift){mul=mul||1;len--;shift=shift||0;return{start:i/len*weight*mul+shift,end:i/len*weight*mul+weight+shift}}},createElement=function createElement(tagName,attributes,parentElement){var elem=doc.createElement(tagName),x;for(x in attributes){elem.setAttribute(x,attributes[x])}parentElement&&parentElement.appendChild&&parentElement.appendChild(elem);return elem},isArray=function(){if(Array.isArray){return Array.isArray}var objectToStringFn=Object.prototype.toString,arrayToStringResult=objectToStringFn.call([]);return function(subject){return objectToStringFn.call(subject)===arrayToStringResult}}(),getEventCoordinate=function(){return function(event){if(event.pageX===UNDEF){event.pageX=event.clientX+doc.body.scrollLeft+doc.documentElement.scrollLeft;event.pageY=event.clientY+doc.body.scrollTop+doc.documentElement.scrollTop}return event}}(),getViewPortDimension=function(){var pw="innerWidth",ph="innerHeight",docEl=doc.documentElement||doc.body,vpEl=docEl;if(!("innerWidth"in win)){pw="clientWidth";ph="clientHeight"}else{vpEl=win}return function(){return{width:vpEl[pw],height:vpEl[ph],scrollTop:docEl.scrollTop,scrollLeft:docEl.scrollLeft}}}(),limitedEvalParser=function(){var DOT=".",windowPropIdentifier=/^@window_/g;return function(expr,args,multipleParams){var pattern=expr.replace(/\[[\'\"]/g,DOT).replace(/[\'\"]\]/g,BLANK).replace(/\[/g,".@window_").replace(/\]/g,BLANK),tokens=pattern.split(DOT),obj=win,boxObj,windowProp,tokenEx=BLANK,token,l,i;l=tokens.length;for(i=0;i<l;i+=1){token=tokens[i];boxObj=obj;if(token.match(windowPropIdentifier)){windowProp=win[token.replace(windowPropIdentifier,BLANK)];obj=obj[windowProp]}else if(obj===UNDEF||obj===null){throw(tokenEx||token).replace(windowPropIdentifier,BLANK)+" is not defined"}else{obj=obj[token]}tokenEx=token}if(obj&&(typeof obj.call==="function"||obj===win.alert)){if(obj===win.alert){obj(args)}else{multipleParams?obj.apply(boxObj,args.split("__FC_ARG_SEP__")):obj.call(boxObj,args)}}else if(tokenEx==="void"){return void args}else{setTimeout(function(){throw token.replace(windowPropIdentifier,BLANK)+"() is not a function"},0)}}}(),toRaphaelColor=function(){var cache={};return function(obj){obj=obj||this;var o=obj&&obj.FCcolor||obj,colors=o.color,ratio=o.ratio,angle=o.angle,opacities=o.alpha,r=o.r,cx=o.cx,cy=o.cy,fx=o.fx,fy=o.fy,units=o.gradientUnits,x1=o.x1,y1=o.y1,x2=o.x2,y2=o.y2,radialGradient=o.radialGradient,opacity=1,str,i,l,color,hash;if(typeof obj==="string"){return cache[hash="~"+obj]||(cache[hash]=obj.replace(/^#?([a-f0-9]{3,6})/gi,"#$1"))}colors=colors||BLANK;if(!colors){return str}hash=[colors,opacities,ratio,angle,r,cx,cy,units,fx,fy,x1,x2,y1,y2,radialGradient].join(UNDERSCORE).replace(/[\(\)\s,\xb0#]/g,UNDERSCORE);if(cache[hash]){return cache[hash]}ratio=ratio&&(ratio+BLANK).split(COMMA)||[];opacities=(opacities||opacities===0)&&(opacities+BLANK).split(COMMA)||[];if(colors=colors.split(COMMA)){str=BLANK;if(colors.length===1){color=colors[0].replace(/^#?([a-f0-9]{3,6})/gi,"$1");if(opacities.length){str="rgba("+(0,_libGraphics.HEXtoRGB)(color).join(COMMA)+","+toFloat(opacities[0])*.01+")"}else{str=color.replace(/^#?([a-f0-9]{3,6})/gi,"#$1")}}else{for(i=0,l=colors.length;i<l;i++){color=colors[i].replace(/^#?([a-f0-9]{3,6})/gi,"$1");if(!isNaN(ratio[i])){ratio[i]=toFloat(ratio[i]);color+=COLON+ratio[i];if(!isNaN(ratio[i+1])){ratio[i+1]=toFloat(ratio[i+1])+ratio[i]}}if(!isNaN(opacities[i])&&opacities[i]!==BLANK){opacity=opacities[i]*.01}colors[i]="rgba("+(0,_libGraphics.HEXtoRGB)(color).join(COMMA)+","+opacity+")";if(!isNaN(ratio[i])){if(ratio[i]===ratio[i-1]){ratio[i]+=.001}colors[i]=colors[i]+COLON+ratio[i]}}str+=colors.join(HYPHEN);if(r!==UNDEF||fx!==UNDEF||cx!==UNDEF||o.radialGradient){str="xr("+[fx,fy,r,cx,cy,units].join(",")+")"+str}else{str=HYPHEN+str;if(x1!==UNDEF||y1!==UNDEF||x2!==UNDEF||y2!==UNDEF){str="("+[x1,y1,x2,y2,units].join(",")+")"+str}if(angle===UNDEF){angle=0}str=360-toFloat(angle)%360+str}}}return cache[hash]=str}}(),gradientify=function(){return function(){var attr="";return attr}}(),parseTooltext=function(){var macroList=[{regex:/((^|[^\\])((\\)\\)*\$cleanvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$cleanvalue))/gi,argIndex:2,argKey:"cleanvalue"},{regex:/((^|[^\\])((\\)\\)*\$datavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$datavalue))/gi,argIndex:2,argKey:"formattedValue"},{regex:/((^|[^\\])((\\)\\)*\$value)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$value))/gi,argIndex:3,argKey:"value"},{regex:/((^|[^\\])((\\)\\)*\$label)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$label))/gi,argIndex:2,argKey:"label"},{regex:/((^|[^\\])((\\)\\)*\$seriesname)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$seriesname))/gi,argIndex:5,argKey:"seriesname"},{regex:/((^|[^\\])((\\)\\)*\$yaxisname)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$yaxisname))/gi,argIndex:2,argKey:"yaxisName"},{regex:/((^|[^\\])((\\)\\)*\$xaxisname)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$xaxisname))/gi,argIndex:2,argKey:"xaxisName"},{regex:/((^|[^\\])((\\)\\)*\$displayvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$displayvalue))/gi,argIndex:3,argKey:"displayvalue"},{regex:/((^|[^\\])((\\)\\)*\$xdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$xdatavalue))/gi,argIndex:2,argKey:"xDataValue"},{regex:/((^|[^\\])((\\)\\)*\$ydatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$ydatavalue))/gi,argIndex:2,argKey:"yDataValue"},{regex:/((^|[^\\])((\\)\\)*\$xvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$xvalue))/gi,argIndex:3,argKey:"x"},{regex:/((^|[^\\])((\\)\\)*\$yvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$yvalue))/gi,argIndex:3,argKey:"y"},{regex:/((^|[^\\])((\\)\\)*\$zvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$zvalue))/gi,argIndex:3,argKey:"z"},{regex:/((^|[^\\])((\\)\\)*\$name)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$name))/gi,argIndex:3,argKey:"name"},{regex:/((^|[^\\])((\\)\\)*\$percentValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$percentValue))/gi,argIndex:2,argKey:"percentValue"},{regex:/((^|[^\\])((\\)\\)*\$startValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$startValue))/gi,argIndex:2,argKey:"startValue"},{regex:/((^|[^\\])((\\)\\)*\$startDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$startDataValue))/gi,argIndex:2,argKey:"startDataValue"},{regex:/((^|[^\\])((\\)\\)*\$endValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$endValue))/gi,argIndex:2,argKey:"endValue"},{regex:/((^|[^\\])((\\)\\)*\$endDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$endDataValue))/gi,argIndex:2,argKey:"endDataValue"},{regex:/((^|[^\\])((\\)\\)*\$axisName)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$axisName))/gi,argIndex:2,argKey:"axisName"},{regex:/((^|[^\\])((\\)\\)*\$cumulativevalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$cumulativevalue))/gi,argIndex:2,argKey:"cumulativeValue"},{regex:/((^|[^\\])((\\)\\)*\$cumulativedatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$cumulativedatavalue))/gi,argIndex:2,argKey:"cumulativeDataValue"},{regex:/((^|[^\\])((\\)\\)*\$cumulativePercentValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$cumulativePercentValue))/gi,argIndex:2,argKey:"cumulativePercentValue"},{regex:/((^|[^\\])((\\)\\)*\$cumulativepercentdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$cumulativepercentdatavalue))/gi,argIndex:2,argKey:"cumulativePercentDataValue"},{regex:/((^|[^\\])((\\)\\)*\$sum)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$sum))/gi,argIndex:2,argKey:"sum"},{regex:/((^|[^\\])((\\)\\)*\$unformattedsum)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$unformattedsum))/gi,argIndex:2,argKey:"unformattedSum"},{regex:/((^|[^\\])((\\)\\)*\$targetvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$targetvalue))/gi,argIndex:2,argKey:"targetValue"},{regex:/((^|[^\\])((\\)\\)*\$targetdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$targetdatavalue))/gi,argIndex:2,argKey:"targetDataValue"},{regex:/((^|[^\\])((\\)\\)*\$processname)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$processname))/gi,argIndex:2,argKey:"processName"},{regex:/((^|[^\\])((\\)\\)*\$start)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$start))/gi,argIndex:2,argKey:"start"},{regex:/((^|[^\\])((\\)\\)*\$end)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$end))/gi,argIndex:2,argKey:"end"},{regex:/((^|[^\\])((\\)\\)*\$percentcomplete)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$percentcomplete))/gi,argIndex:2,argKey:"percentComplete"},{regex:/((^|[^\\])((\\)\\)*\$taskpercentcomplete)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$taskpercentcomplete))/gi,argIndex:2,argKey:"taskPercentComplete"},{regex:/((^|[^\\])((\\)\\)*\$taskstartdate)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$taskstartdate))/gi,argIndex:2,argKey:"taskStartDate"},{regex:/((^|[^\\])((\\)\\)*\$taskenddate)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$taskenddate))/gi,argIndex:2,argKey:"taskEndDate"},{regex:/((^|[^\\])((\\)\\)*\$tasklabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$tasklabel))/gi,argIndex:2,argKey:"taskLabel"},{regex:/((^|[^\\])((\\)\\)*\$date)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$date))/gi,argIndex:2,argKey:"date"},{regex:/((^|[^\\])((\\)\\)*\$percentofprevvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$percentofprevvalue))/gi,argIndex:2,argKey:"percentOfPrevValue"},{regex:/((^|[^\\])((\\)\\)*\$sname)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$sname))/gi,argIndex:2,argKey:"sName"},{regex:/((^|[^\\])((\\)\\)*\$lname)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$lname))/gi,argIndex:2,argKey:"lName"},{regex:/((^|[^\\])((\\)\\)*\$fromid)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromid))/gi,argIndex:2,argKey:"fromId"},{regex:/((^|[^\\])((\\)\\)*\$fromlabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromlabel))/gi,argIndex:2,argKey:"fromLabel"},{regex:/((^|[^\\])((\\)\\)*\$toid)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toid))/gi,argIndex:2,argKey:"toId"},{regex:/((^|[^\\])((\\)\\)*\$tolabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$tolabel))/gi,argIndex:2,argKey:"toLabel"},{regex:/((^|[^\\])((\\)\\)*\$fromxvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromxvalue))/gi,argIndex:2,argKey:"fromXValue"},{regex:/((^|[^\\])((\\)\\)*\$fromyvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromyvalue))/gi,argIndex:2,argKey:"fromYValue"},{regex:/((^|[^\\])((\\)\\)*\$fromxdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromxdatavalue))/gi,argIndex:2,argKey:"fromXDataValue"},{regex:/((^|[^\\])((\\)\\)*\$fromydatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromydatavalue))/gi,argIndex:2,argKey:"fromYDataValue"},{regex:/((^|[^\\])((\\)\\)*\$fromlabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromlabel))/gi,argIndex:2,argKey:"fromLabel"},{regex:/((^|[^\\])((\\)\\)*\$toxvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toxvalue))/gi,argIndex:2,argKey:"toXValue"},{regex:/((^|[^\\])((\\)\\)*\$toyvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toyvalue))/gi,argIndex:2,argKey:"toYValue"},{regex:/((^|[^\\])((\\)\\)*\$toxdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toxdatavalue))/gi,argIndex:2,argKey:"toXDataValue"},{regex:/((^|[^\\])((\\)\\)*\$toydatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toydatavalue))/gi,argIndex:2,argKey:"toYDataValue"},{regex:/((^|[^\\])((\\)\\)*\$tolabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$tolabel))/gi,argIndex:2,argKey:"toLabel"},{regex:/((^|[^\\])((\\)\\)*\$openvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$openvalue))/gi,argIndex:2,argKey:"openValue"},{regex:/((^|[^\\])((\\)\\)*\$closevalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$closevalue))/gi,argIndex:2,argKey:"closeValue"},{regex:/((^|[^\\])((\\)\\)*\$highvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$highvalue))/gi,argIndex:2,argKey:"highValue"},{regex:/((^|[^\\])((\\)\\)*\$lowvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$lowvalue))/gi,argIndex:2,argKey:"lowValue"},{regex:/((^|[^\\])((\\)\\)*\$opendatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$opendatavalue))/gi,argIndex:2,argKey:"openDataValue"},{regex:/((^|[^\\])((\\)\\)*\$closedatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$closedatavalue))/gi,argIndex:2,argKey:"closeDataValue"},{regex:/((^|[^\\])((\\)\\)*\$highdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$highdatavalue))/gi,argIndex:2,argKey:"highDataValue"},{regex:/((^|[^\\])((\\)\\)*\$lowdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$lowdatavalue))/gi,argIndex:2,argKey:"lowDataValue"},{regex:/((^|[^\\])((\\)\\)*\$maxvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$maxvalue))/gi,argIndex:2,argKey:"maxValue"},{regex:/((^|[^\\])((\\)\\)*\$maxdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$maxdatavalue))/gi,argIndex:2,argKey:"maxDataValue"},{regex:/((^|[^\\])((\\)\\)*\$minvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$minvalue))/gi,argIndex:2,argKey:"minValue"},{regex:/((^|[^\\])((\\)\\)*\$mindatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$mindatavalue))/gi,argIndex:2,argKey:"minDataValue"},{regex:/((^|[^\\])((\\)\\)*\$q1)/gi,argIndex:2,argKey:"Q1"},{regex:/((^|[^\\])((\\)\\)*\$unformattedQ1)/gi,argIndex:2,argKey:"unformattedQ1"},{regex:/((^|[^\\])((\\)\\)*\$q3)/gi,argIndex:2,argKey:"Q3"},{regex:/((^|[^\\])((\\)\\)*\$unformattedQ3)/gi,argIndex:2,argKey:"unformattedQ3"},{regex:/((^|[^\\])((\\)\\)*\$median)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$median))/gi,argIndex:2,argKey:"median"},{regex:/((^|[^\\])((\\)\\)*\$unformattedMedian)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$unformattedMedian))/gi,argIndex:2,argKey:"unformattedMedian"},{regex:/((^|[^\\])((\\)\\)*\$SD)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$SD))/gi,argIndex:2,argKey:"SD"},{regex:/((^|[^\\])((\\)\\)*\$unformattedsd)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$unformattedsd))/gi,argIndex:2,argKey:"unformattedsd"},{regex:/((^|[^\\])((\\)\\)*\$QD)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$QD))/gi,argIndex:2,argKey:"QD"},{regex:/((^|[^\\])((\\)\\)*\$unformattedQD)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$unformattedQD))/gi,argIndex:2,argKey:"unformattedQD"},{regex:/((^|[^\\])((\\)\\)*\$MD)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$MD))/gi,argIndex:2,argKey:"MD"},{regex:/((^|[^\\])((\\)\\)*\$unformattedMD)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$unformattedMD))/gi,argIndex:2,argKey:"unformattedMD"},{regex:/((^|[^\\])((\\)\\)*\$mean)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$mean))/gi,argIndex:2,argKey:"mean"},{regex:/((^|[^\\])((\\)\\)*\$unformattedMean)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$unformattedMean))/gi,argIndex:2,argKey:"unformattedMean"},{regex:/((^|[^\\])((\\)\\)*\$unformattedMean)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$unformattedMean))/gi,argIndex:2,argKey:"unformattedMean"},{regex:/((^|[^\\])((\\)\\)*\$volumeValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$volumeValue))/gi,argIndex:2,argKey:"volumeValue"},{regex:/((^|[^\\])((\\)\\)*\$volumeDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$volumeDataValue))/gi,argIndex:2,argKey:"volumeDataValue"},{regex:/((^|[^\\])((\\)\\)*\$fromXValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromXValue))/gi,argIndex:2,argKey:"fromXValue"},{regex:/((^|[^\\])((\\)\\)*\$fromYValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromYValue))/gi,argIndex:2,argKey:"fromYValue"},{regex:/((^|[^\\])((\\)\\)*\$fromXDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromXDataValue))/gi,argIndex:2,argKey:"fromXDataValue"},{regex:/((^|[^\\])((\\)\\)*\$fromYDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromYDataValue))/gi,argIndex:2,argKey:"fromYDataValue"},{regex:/((^|[^\\])((\\)\\)*\$fromLabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$fromLabel))/gi,argIndex:2,argKey:"fromLabel"},{regex:/((^|[^\\])((\\)\\)*\$toXValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toXValue))/gi,argIndex:2,argKey:"toXValue"},{regex:/((^|[^\\])((\\)\\)*\$toYValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toYValue))/gi,argIndex:2,argKey:"toYValue"},{regex:/((^|[^\\])((\\)\\)*\$toXDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toXDataValue))/gi,argIndex:2,argKey:"toXDataValue"},{regex:/((^|[^\\])((\\)\\)*\$toYDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$toYDataValue))/gi,argIndex:2,argKey:"toYDataValue"},{regex:/((^|[^\\])((\\)\\)*\$tolabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$tolabel))/gi,argIndex:2,argKey:"toLabel"},{regex:/((^|[^\\])((\\)\\)*\$tlLabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$tlLabel))/gi,argIndex:5,argKey:"tlLabel"},{regex:/((^|[^\\])((\\)\\)*\$trlabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$trlabel))/gi,argIndex:5,argKey:"trLabel"},{regex:/((^|[^\\])((\\)\\)*\$bllabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$bllabel))/gi,argIndex:5,argKey:"blLabel"},{regex:/((^|[^\\])((\\)\\)*\$brlabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$brlabel))/gi,argIndex:5,argKey:"brLabel"},{regex:/((^|[^\\])((\\)\\)*\$rowlabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$rowlabel))/gi,argIndex:5,argKey:"rowLabel"},{regex:/((^|[^\\])((\\)\\)*\$columnlabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$columnlabel))/gi,argIndex:5,argKey:"columnLabel"},{regex:/((^|[^\\])((\\)\\)*\$errorvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$errorvalue))/gi,argIndex:2,argKey:"errorValue"},{regex:/((^|[^\\])((\\)\\)*\$errordatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$errordatavalue))/gi,argIndex:2,argKey:"errorDataValue"},{regex:/((^|[^\\])((\\)\\)*\$errorpercentvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$errorpercentvalue))/gi,argIndex:2,argKey:"errorPercentValue"},{regex:/((^|[^\\])((\\)\\)*\$errorpercentdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$errorpercentdatavalue))/gi,argIndex:2,argKey:"errorPercentDataValue"},{regex:/((^|[^\\])((\\)\\)*\$horizontalErrorValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$horizontalErrorValue))/gi,argIndex:2,argKey:"horizontalErrorValue"},{regex:/((^|[^\\])((\\)\\)*\$horizontalErrorDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$horizontalErrorDataValue))/gi,argIndex:2,argKey:"horizontalErrorDataValue"},{regex:/((^|[^\\])((\\)\\)*\$verticalErrorValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$verticalErrorValue))/gi,argIndex:2,argKey:"verticalErrorValue"},{regex:/((^|[^\\])((\\)\\)*\$verticalErrorDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$verticalErrorDataValue))/gi,argIndex:2,argKey:"verticalErrorDataValue"},{regex:/((^|[^\\])((\\)\\)*\$horizontalErrorPercent)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$horizontalErrorPercentValue))/gi,argIndex:2,argKey:"horizontalErrorPercentValue"},{regex:/((^|[^\\])((\\)\\)*\$horizontalErrorPercentDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$horizontalErrorPercentDataValue))/gi,argIndex:2,argKey:"horizontalErrorPercentDataValue"},{regex:/((^|[^\\])((\\)\\)*\$verticalErrorPercent)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$verticalErrorPercentValue))/gi,argIndex:2,argKey:"verticalErrorPercentValue"},{regex:/((^|[^\\])((\\)\\)*\$verticalErrorPercentDataValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$verticalErrorPercentDataValue))/gi,argIndex:2,argKey:"verticalErrorPercentDataValue"},{regex:/((^|[^\\])((\\)\\)*\$xaxispercentvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$xaxispercentvalue))/gi,argIndex:2,argKey:"xAxisPercentValue"},{regex:/((^|[^\\])((\\)\\)*\$percentdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$percentdatavalue))/gi,argIndex:2,argKey:"percentDataValue"},{regex:/((^|[^\\])((\\)\\)*\$trType)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$trType))/gi,argIndex:4,argKey:"trtype"},{regex:/((^|[^\\])((\\)\\)*\$tlType)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$tlType))/gi,argIndex:4,argKey:"tltype"},{regex:/((^|[^\\])((\\)\\)*\$brType)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$brType))/gi,argIndex:4,argKey:"brtype"},{regex:/((^|[^\\])((\\)\\)*\$blType)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$blType))/gi,argIndex:4,argKey:"bltype"},{regex:/((^|[^\\])((\\)\\)*\$colorRangeLabel)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$colorRangeLabel))/gi,argIndex:5,argKey:"colorRangeLabel"},{regex:/((^|[^\\])((\\)\\)*\$zdatavalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$zdatavalue))/gi,argIndex:2,argKey:"zDataValue"},{regex:/((^|[^\\])((\\)\\)*\$svalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$svalue))/gi,argIndex:3,argKey:"svalue"},{regex:/((^|[^\\])((\\)\\)*\$positiveErrorValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$positiveErrorValue))/gi,argIndex:2,argKey:"positiveErrorValue"},{regex:/((^|[^\\])((\\)\\)*\$negativeErrorValue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$negativeErrorValue))/gi,argIndex:2,argKey:"negativeErrorValue"},{regex:/((^|[^\\])((\\)\\)*\$datasvalue)/gi,escapeRegex:/((^|[^\\])((\\)\\)*\\(\$datasvalue))/gi,argIndex:2,argKey:"formattedsValue"}],defAllMacroIndices=[],replaceConstant="$2$4",escapeReplaceStr="$2$4$5",i,l=macroList.length;for(i=0;i<l;i+=1){defAllMacroIndices.push(i)}return function(){var returnText=arguments[0],ApplicableMacroIndices=arguments[1],replaceStr,argObj,macroObj,i,l;if(!isArray(ApplicableMacroIndices)){ApplicableMacroIndices=defAllMacroIndices}if(returnText){l=ApplicableMacroIndices.length;for(i=0;i<l;i+=1){macroObj=macroList[ApplicableMacroIndices[i]];if(macroObj){replaceStr=regReplaceEscape(getValidValue((argObj=arguments[macroObj.argIndex])&&argObj[macroObj.argKey],BLANK)+BLANK);returnText=returnText.replace(macroObj.regex,replaceConstant+(macroObj.parsingMethod?macroObj.parsingMethod(replaceStr):replaceStr));returnText=returnText.replace(macroObj.escapeRegex,escapeReplaceStr)}}}return returnText}}(),getAxisLimits=function(){var getDivisibleRange,numDecimals,isRangeDivisible;getDivisibleRange=function getDivisibleRange(yMin,yMax,numDivLines,interval,interceptRange){var range=Math.abs(yMax-yMin),rangeDiv=range/(numDivLines+1),checkLimit;if(!isRangeDivisible(range,numDivLines,interval)){if(interceptRange){checkLimit=interval>1?2:.5;if(Number(rangeDiv)/Number(interval)<checkLimit){interval=interval/10}}rangeDiv=(Math.floor(rangeDiv/interval)+1)*interval;range=rangeDiv*(numDivLines+1)}return range};numDecimals=function numDecimals(num){num=Math.abs(num);var strNum=String(num),decimals=0,dotPos=strNum.indexOf(DECIMALSTRING);if(dotPos!=-1){decimals=strNum.length-dotPos-1}return decimals};isRangeDivisible=function isRangeDivisible(range,numDivLines,interval){var rangeDiv=range/(numDivLines+1);if(numDecimals(rangeDiv)>numDecimals(interval)){return false}else{return true}};return function(maxValue,minValue,yAxisMaxValue,yAxisMinValue,stopMaxAtZero,setMinAsZero,numDivLines,adjustDiv){var yMaxGiven,yMinGiven,yMax,yMin,range,interval,maxPowerOfTen,minPowerOfTen,powerOfTen,yInterval,rangePowerOfTen,rangeInterval,yTopBound,yLowerBound,deltaRange,found,adjInterval,rangeD,nextRange,rangeDiv,mf,smallArm,extSmallArm,i,adjRange,divLines,divInterval,extBigArm,addToRange=0,evalNumDivlines;maxValue=isNaN(maxValue)===true||maxValue===UNDEF?.1:maxValue;minValue=isNaN(minValue)===true||minValue===UNDEF?0:minValue;if(maxValue===minValue&&maxValue===0){maxValue=.1}stopMaxAtZero=typeof stopMaxAtZero==="undefined"?true:stopMaxAtZero;setMinAsZero=typeof setMinAsZero==="undefined"?true:setMinAsZero;maxPowerOfTen=Math.floor(Math.log(Math.abs(maxValue))/Math.LN10);minPowerOfTen=Math.floor(Math.log(Math.abs(minValue))/Math.LN10);powerOfTen=Math.max(minPowerOfTen,maxPowerOfTen);yInterval=Math.pow(10,powerOfTen);if(Math.abs(maxValue)/yInterval<2&&Math.abs(minValue)/yInterval<2){powerOfTen--;yInterval=Math.pow(10,powerOfTen)}rangePowerOfTen=Math.floor(Math.log(maxValue-minValue)/Math.LN10);rangeInterval=Math.pow(10,rangePowerOfTen);if(maxValue-minValue>0&&yInterval/rangeInterval>=10){yInterval=rangeInterval;powerOfTen=rangePowerOfTen}yTopBound=(Math.floor(maxValue/yInterval)+1)*yInterval;if(minValue<0){yLowerBound=-1*((Math.floor(Math.abs(minValue/yInterval))+1)*yInterval)}else{if(setMinAsZero){yLowerBound=0}else{yLowerBound=Math.floor(Math.abs(minValue/yInterval)-1)*yInterval;yLowerBound=yLowerBound<0?0:yLowerBound}}if(stopMaxAtZero&&maxValue<=0){yTopBound=0}if(!yAxisMaxValue&&yAxisMaxValue!==0){yMaxGiven=false}else{yMaxGiven=true}if(!yAxisMinValue&&yAxisMinValue!==0){yMinGiven=false}else{yMinGiven=true}if(yMaxGiven===false||yMaxGiven===true&&Number(yAxisMaxValue)<maxValue&&maxValue-Number(yAxisMaxValue)>EPSILON){yMax=yTopBound}else{yMax=Number(yAxisMaxValue)}if(yMinGiven===false||yMinGiven===true&&Number(yAxisMinValue)>minValue&&Number(yAxisMinValue)-minValue>EPSILON){yMin=yLowerBound}else{yMin=Number(yAxisMinValue)}range=Math.abs(yMax-yMin);interval=yInterval;if(yMinGiven===false&&yMaxGiven===false&&adjustDiv){if(yMax>0&&yMin<0){found=false;adjInterval=interval>10?interval/10:interval;rangeD=getDivisibleRange(yMin,yMax,numDivLines,adjInterval,false);nextRange=rangeD-(numDivLines+1)*adjInterval;while(found===false){nextRange=nextRange+(numDivLines+1)*adjInterval;if(isRangeDivisible(nextRange,numDivLines,adjInterval)){deltaRange=nextRange-range;rangeDiv=nextRange/(numDivLines+1);smallArm=Math.min(Math.abs(yMin),yMax);mf=smallArm==Math.abs(yMin)?-1:1;if(numDivLines===0){found=true}else{for(i=1;i<=Math.floor((numDivLines+1)/2);i++){extSmallArm=rangeDiv*i;if(extSmallArm-smallArm>deltaRange){continue}if(extSmallArm>smallArm){extBigArm=nextRange-extSmallArm;if(extBigArm/rangeDiv==Math.floor(extBigArm/rangeDiv)&&extSmallArm/rangeDiv==Math.floor(extSmallArm/rangeDiv)){range=nextRange;yMax=mf==-1?extBigArm:extSmallArm;yMin=mf==-1?-extSmallArm:-extBigArm;found=true}}else{continue}}}}}}else{adjRange=getDivisibleRange(yMin,yMax,numDivLines,interval,true);deltaRange=adjRange-range;range=adjRange;if(yMax>0){yMax=yMax+deltaRange}else{yMin=yMin-deltaRange}}}else{if(adjustDiv){evalNumDivlines=function evalNumDivlines(numDivLines,range,interval){var counter=0,multiplyFactor=1,divLines;while(1){divLines=numDivLines+counter*multiplyFactor;divLines=divLines===0?1:divLines;if(isRangeDivisible(range,divLines,interval)){break}counter=multiplyFactor==-1||counter>numDivLines?++counter:counter;if(counter>25){divLines=0;break}multiplyFactor=counter<=numDivLines?multiplyFactor*-1:1}return divLines};if(numDivLines>0){divLines=evalNumDivlines(numDivLines,range,interval);if(divLines===0){divLines=evalNumDivlines(numDivLines,range+1,interval);addToRange=1}numDivLines=divLines}}}divInterval=(yMax-yMin+addToRange)/(numDivLines+1);return{Max:yMax,Min:yMin,Range:range,interval:interval,divGap:divInterval}}}(),createDialog=function(){var api=function api(container,text,chartObj){var smartLabel=chartObj.jsVars&&chartObj.jsVars.smartLabel,chartWidth=container.offsetWidth,chartHeight=container.offsetHeight,chart=this.chart,title=this.title,imgStyle=chartObj._chartMessageImageStyle,strObj=getImageURL(text),smartText;title.y=chartHeight/2;title.x=chartWidth/2;chart.bgSWF=title.text=UNDEF;text=strObj.string;if(strObj.image){chart.bgSWF=text;chart.bgImageHAlign=imgStyle.imageHAlign;chart.bgImageVAlign=imgStyle.imageVAlign;chart.bgImageScale=imgStyle.imageScale;chart.bgSWFAlpha=imgStyle.imageAlpha}else if(text!==UNDEF){if(smartLabel){setLineHeight(title.style);smartLabel.setStyle(title.style);smartText=smartLabel.getSmartText(parseUnsafeString(text),chartWidth,chartHeight);title.text=smartText.text}else{title.text=parseUnsafeString(text)}title.verticalAlign="middle"}title.style=chartObj._chartMessageStyle;delete chartObj._chartMessageImageStyle;delete chartObj._chartMessageStyle};api.prototype={chart:{events:{},margin:[0,0,0,0],backgroundColor:{FCcolor:{alpha:0}}},credits:{href:CREDIT_HREF,text:CREDIT_STRING,enabled:creditLabel},legend:{enabled:false},title:{text:"",style:{fontFamily:"Verdana,sans",fontSize:"10px",color:"#666666"}},plotOptions:{series:{}},series:[{}],exporting:{enabled:false},nativeMessage:true};return api.prototype.constructor=api}(),chartAPI,interActiveEvtList={click:true,dragstart:true,dragmove:true,dragend:true,dblclick:true,mousedown:true,mousemove:true,mouseout:true,mouseover:true,mouseup:true,touchstart:touchEnabled||hasTouch,touchmove:touchEnabled||hasTouch,touchend:touchEnabled||hasTouch,touchcancel:touchEnabled||hasTouch},regex={stripWhitespace:stripWhitespace,dropHash:dropHash,startsRGBA:startsRGBA,cleanColorCode:cleanColorCode,breakPlaceholder:breakPlaceholder,hexcode:hexcode},preDefStr={colors:{B90000:"B90000",FFFFFF:"FFFFFF",AAAAAA:"AAAAAA",c000000:"000000"},BLANK:"",DATASET:"dataset",NORMALSTRING:"normal",PX:"px",INPUT:"input",LABEL:"label",BLANKSPACE:" ",COMMA:",",OBJECTBOUNDINGBOX:"objectBoundingBox",GROUPID:"groupId",EVENTARGS:"eventArgs",CIRCLE:"circle",POLYGON:"polygon",SPOKE:"spoke",RECTANGLE:"rectangle",ROLLOUT:"rollout",ROLLOVER:"rollover",DATAPLOTCLICK:"dataplotclick",defaultFontStr:"Verdana,sans",line:"line",bar:"bar",column:"column",volume:"volume",HUNDREDSTRING:"100",SEVENTYSTRING:"70",NINETYSTRING:"90",AUTOSTRING:"auto",configStr:"config",animationObjStr:"animationObj",showHoverEffectStr:"showHoverEffect",hiddenStr:"hidden",visibleStr:"visible",columnStr:"columns",barStr:"bars",barHotStr:"bar-hot",colHotStr:"col-hot",shadowStr:"shadow",dataLabelStr:"datalabel",errorBarStr:"errorBar",errorHotStr:"error-hot",errorShadowStr:"error-shadow",negativeValueStr:"negative-values",positiveValueStr:"positive-values",zeroPlaneStr:"zero-plane",categoryPlotsStr:"categoryplots",noneStr:"none",setRolloverAttrStr:"setRolloverAttr",setRolloutAttrStr:"setRolloutAttr",elementStr:"element",hotElementStr:"hotElement",strokeWidthStr:"stroke-width",strokeDashStr:"stroke-dasharray",strokeLineJoinStr:"stroke-linejoin",miterStr:"miter",visiblilityStr:"visibility",ROUND:"round",PERCENTAGESTRING:"%",pStr:"p",sStr:"s",divLineAlpha3DStr:"divLineAlpha3D",divLineAlphaStr:"divLineAlpha",altVGridColorStr:"altVGridColor",altVGridAlphaStr:"altVGridAlpha",altHGridColorStr:"altHGridColor",altHGridAlphaStr:"altHGridAlpha",PLOTFILLCOLOR_STR:"plotFillColor",UNDERSCORE:UNDERSCORE,gaugeFillColorStr:"gaugeFillColor",gaugeBorderColorStr:"gaugeBorderColor",NORMAL:"normal",BOLD:"bold",POINTER:"pointer",DEFAULT:"default",POSITION_MIDDLE:"middle",POSITION_START:"start",POSITION_TOP:"top",POSITION_BOTTOM:"bottom",POSITION_END:"end"},appliedCSS=["fontFamily","fontSize","fontWeight","fontStyle"],safeMax=function safeMax(){var arr=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var fn=arguments[1];var len=arr.length,i=-1,val,maxVal;if(typeof fn==="function"){while(++i<len){val=fn(arr[i],i,arr);if(val!=null&&val>=val){maxVal=val;while(++i<len){val=fn(arr[i],i,arr);if(val!=null&&val>maxVal){maxVal=val}}}}}else{while(++i<len){val=arr[i];if(val!=null&&val>=val){maxVal=val;while(++i<len){val=arr[i];if(val!=null&&val>maxVal){maxVal=val}}}}}return maxVal},safeMin=function safeMin(){var arr=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var fn=arguments[1];var len=arr.length,i=-1,val,minVal;if(typeof fn==="function"){while(++i<len){val=fn(arr[i],i,arr);if(val!=null&&val<=val){minVal=val;while(++i<len){val=fn(arr[i],i,arr);if(val!=null&&val<minVal){minVal=val}}}}}else{while(++i<len){val=arr[i];if(val!=null&&val<=val){minVal=val;while(++i<len){val=arr[i];if(val!=null&&val<minVal){minVal=val}}}}}return minVal},extent=function extent(){var arr=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var fn=arguments[1];var maxVal=safeMax(arr,fn),minVal=safeMin(arr,fn);return[minVal,maxVal]};function defined(obj){return typeof obj!=="undefined"&&obj!==null}function pInt(s,mag){return parseInt(s,mag||10)}function getContainerBackgroundColor(chart){var options=chart.options,color=options.containerBackgroundColor,opacity=options.containerBackgroundOpacity;if(defined(chart.jsVars.transparent)){opacity=chart.jsVars.transparent?0:1}else{opacity=parseFloat(opacity);if(opacity<0){opacity=0}else if(opacity>1){opacity=1}}if(!color){color="#ffffff"}if(isIE&&!hasSVG){return opacity?color:"transparent"}else{color=color.replace(/^#?([a-f0-9]+)/gi,"$1");color=(0,_libGraphics.HEXtoRGB)(color);color[3]=opacity.toString();return"rgba("+color.join(",")+")"}}function hashify(color){return color&&color.replace(/^#?([a-f0-9]+)/gi,"#$1")||"none"}function addElScrollEvent(eveObj){eveObj.data&&(eveObj.data.elScroll=false)}function getPosition(el,chart){var pos={top:0,left:0},elNode,position,chartConfig=chart&&chart.config,eventListeners=chart&&(chart.eventListeners||(chart.eventListeners=[])),isEvntAdded=chart&&(chartConfig.isEvntAdded||(chartConfig.isEvntAdded=false)),getWindowpageYOffset=function getWindowpageYOffset(){var pageYOffset=void 0;if(isIE11)pageYOffset=doc.documentElement.scrollTop;else if(isEdge)pageYOffset=doc.body.scrollTop;else pageYOffset=win.pageYOffset;return pageYOffset},getWindowpageXOffset=function getWindowpageXOffset(){var pageXOffset=void 0;if(isIE11)pageXOffset=doc.documentElement.scrollLeft;else if(isEdge)pageXOffset=doc.body.scrollLeft;else pageXOffset=win.pageXOffset;return pageXOffset};if(el){pos.top=el.offsetTop;pos.left=el.offsetLeft;elNode=el;while((elNode=elNode.parentNode)&&elNode.tagName!=="BODY"){position=win.getComputedStyle(elNode).getPropertyValue("position");if(/fixed/.test(position)){if(chart){chartConfig.itemFixed=true}}pos.top-=elNode.scrollTop||0;pos.left-=elNode.scrollLeft||0;chart&&!isEvntAdded&&eventListeners.push(_domEvent2["default"].listen(elNode,"scroll",addElScrollEvent,chartConfig))}while(elNode){pos.top-=elNode.scrollTop||0;pos.left-=elNode.scrollLeft||0;elNode=elNode.parentNode}el=el.offsetParent;while(el){pos.top+=el.offsetTop;pos.left+=el.offsetLeft;el=el.offsetParent}pos.top+=pluckNumber(getWindowpageYOffset(),win.scrollY,doc.documentElement.scrollTop);pos.left+=pluckNumber(getWindowpageXOffset(),win.scrollX,doc.documentElement.scrollLeft);chart&&!isEvntAdded&&eventListeners.push(_domEvent2["default"].listen(win,"resize",addElScrollEvent,chartConfig));chart&&!isEvntAdded&&eventListeners.push(_domEvent2["default"].listen(win,"scroll",addElScrollEvent,chartConfig));chart&&!isEvntAdded&&(chartConfig.isEvntAdded=true)}return pos}function clampNumber(number){var lowerBound=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-Infinity;var upperBound=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;if(number<=lowerBound){return lowerBound}else if(number>=upperBound){return upperBound}else{return number}}function pluckNumber(){var arg,i,l;for(i=0,l=arguments.length;i<l;i+=1){arg=arguments[i];if(!arg&&arg!==false&&arg!==0){continue}else if(isNaN(arg=Number(arg))){continue}return arg}return UNDEF}function getTouchEvent(event){var e=event&&(event.sourceEvent||event.originalEvent||event);return touchEnabled&&e&&e.touches&&e.touches[0]||e||stubEvent}function fcEach(obj,fn,scope,data){var i;if(!scope){scope=obj}if(!data){data={}}if(isArray(obj)){for(i=0;i<obj.length;i+=1){if(fn.call(scope,obj[i],i,obj,data)===false){return i}}}else if(!(obj===null||obj===UNDEF)){for(i in obj){if(fn.call(scope,obj[i],i,obj,data)===false){return i}}}}function selectionEventHandler(evt){var config=evt.data,chart=config.chart,animationManager=chart.getFromEnv("animationManager"),state=evt.state,event=getEventCoordinate(getTouchEvent(evt.originalEvent)),canvas=chart.getChildren("canvas")[0],resizeBoxCheck,resizeBox=resizeBoxCheck=canvas.getGraphicalElement("resizeBox"),layerX=config.layerX=event.pageX-config.chartPosLeft,layerY=config.layerY=event.pageY-config.chartPosTop,dx=layerX-config.ox,dy=layerY-config.oy,bBox=config.bBox,x=config.ox,y=config.oy,zoomX=config.zoomX,zoomY=config.zoomY,canvasY=config.canvasY,canvasX=config.canvasX,canvasW=config.canvasW,canvasH=config.canvasH,canvasX2=config.canvasX2,canvasY2=config.canvasY2,strokeWidth=config.strokeWidth,attr=config.attr,container=this,chartPosition,selectionData;switch(state){case"start":chartPosition=getPosition(container);config.chartPosLeft=chartPosition.left;config.chartPosTop=chartPosition.top;layerX=event.pageX-config.chartPosLeft;layerY=event.pageY-config.chartPosTop;config.oy=layerY;config.ox=layerX;config.allowMove=false;attr.x=0;attr.y=0;attr.height=0;attr.width=0;resizeBox=canvas.addGraphicalElement("resizeBox",animationManager.setAnimation({el:resizeBoxCheck||"rect",attr:attr,container:chart.getChildContainer("trackerGroup")})).show();if(!resizeBoxCheck){canvas.addGraphicalElement("resizeBox",resizeBox)}if(layerX>canvasX&&layerX<canvasX2&&layerY>canvasY&&layerY<canvasY2){config.allowMove=true}if(evt.target._isTrackerElem){config.allowMove=false}break;case"end":bBox=resizeBox.getBBox();selectionData={chart:chart,selectionLeft:bBox.x,selectionTop:bBox.y,selectionHeight:bBox.height,selectionWidth:bBox.width,originalEvent:evt.originalEvent};if(config.isDragged){config.selectionEnd&&config.selectionEnd(selectionData);config.isDragged=0}resizeBox.hide();delete config.oy;delete config.ox;break;default:if(!config.allowMove){return}dx=layerX-config.ox;dy=layerY-config.oy;bBox=config.bBox;x=config.ox;y=config.oy;if(!config.isDragged){selectionData={chart:chart,selectionLeft:(zoomX?mathMin(x,x+dx):canvasX)+strokeWidth*.5,selectionTop:(zoomY?mathMin(y,y+dy):canvasY)+strokeWidth*.5,selectionHeight:0,selectionWidth:0,originalEvent:evt.originalEvent};config.selectionStart&&config.selectionStart(selectionData);config.isDragged=1}dx=-(x-mathMin(x-(x-mathMax(x+dx,canvasX)),canvasX2));dy=-(y-mathMin(y-(y-mathMax(y+dy,canvasY)),canvasY2));animationManager.setAnimation({el:resizeBox,attr:{x:(zoomX?mathMin(x,x+dx):canvasX)+strokeWidth*.5,y:(zoomY?mathMin(y,y+dy):canvasY)+strokeWidth*.5,width:zoomX?mathAbs(dx):canvasW,height:zoomY?mathAbs(dy):canvasH}});break}}function onXYCanvasClick(event){var config=event.data,e=event.originalEvent,tgt=e.target||e.originalTarget||e.srcElement||e.relatedTarget||e.fromElement,eventType=e.type,layerX=e.layerX,layerY=e.layerY;if(layerX===UNDEF){layerX=e.pageX-config.chartPosLeft;layerY=e.pageY-config.chartPosTop}if(eventType==="mousedown"){tgt.ishot=layerX>config.canvasX&&layerX<config.canvasX2&&layerY>config.canvasY&&layerY<config.canvasY2}if(eventType==="mouseup"){setTimeout(function(){tgt.ishot=false},1)}}function capitalizeString(str,all){return str?str.replace(all?/(^|\s)([a-z])/g:/(^|\s)([a-z])/,function(m,p1,p2){return p1+p2.toUpperCase()}):str}function getFirstValue(){var arg,i,l;for(i=0,l=arguments.length;i<l;i+=1){arg=arguments[i];if(!arg&&arg!==false&&arg!==0){continue}return arg}return BLANK}function bindSelectionEvent(chart,config){config=config||{};var chartConfig=chart.config,container=chart.getFromEnv("chart-container"),zoomType=chartConfig.zoomType,attr=(0,_raphael2["default"])({},config.attr||{}),strokeWidth=attr["stroke-width"]=pluckNumber(attr.strokeWidth,attr["stroke-width"],1),eventListeners=chart.eventListeners||(chart.eventListeners=[]),chartPosition=getPosition(container,chart);config=(0,_raphael2["default"])({chart:chart,zoomX:/x/.test(zoomType),zoomY:/y/.test(zoomType),canvasY:chartConfig.canvasTop,canvasX:chartConfig.canvasLeft,canvasW:chartConfig.canvasWidth,canvasH:chartConfig.canvasHeight,canvasX2:chartConfig.canvasLeft+chartConfig.canvasWidth,canvasY2:chartConfig.canvasTop+chartConfig.canvasHeight,strokeWidth:strokeWidth,chartPosLeft:chartPosition.left,chartPosTop:chartPosition.top,attr:attr},config);attr.stroke=getFirstValue(attr.stroke,"rgba(51,153,255,0.8)");attr.fill=getFirstValue(attr.fill,"rgba(185,213,241,0.3)");if(container){_domEvent2["default"].unlisten(container,"pointerdrag",selectionEventHandler);eventListeners.push(_domEvent2["default"].listen(container,"pointerdrag",selectionEventHandler,config))}if(chartConfig.link){_domEvent2["default"].unlisten(chart.getFromEnv("chart-container"),"mouseup mousedown",onXYCanvasClick);eventListeners.push(_domEvent2["default"].listen(chart.getFromEnv("chart-container"),"mouseup mousedown",onXYCanvasClick,config))}}function regescape(text){return text&&text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function regReplaceEscape(text){return text&&text.replace(/\$/g,"$$$$")}function getValidValue(arg,value){return!arg&&arg!==false&&arg!==0?value:arg}function getDefinedColor(color,defColor){return!color&&color!==0&&color!==BLANK?defColor:color}function pluck(){var arg,i,l;for(i=0,l=arguments.length;i<l;i+=1){arg=arguments[i];if(!arg&&arg!==false&&arg!==0){continue}return arg}return UNDEF}function getMouseCoordinate(el,event,chart){var isFullScreen=doc.webkitIsFullScreen||doc.mozFullScreen||doc.msFullscreenElement||doc.fullscreenElement!==undefined,customEvent=getEventCoordinate(getTouchEvent(event)),pageX=isFullScreen?customEvent.clientX:customEvent.pageX,pageY=isFullScreen?customEvent.clientY:customEvent.pageY,chartConfig=chart&&chart.config,pos,eType=event.type,itemFixed=chartConfig&&chartConfig.itemFixed,winY=itemFixed?win.pageYOffset||win.scrollY||doc.documentElement.scrollTop:0,winX=itemFixed?win.pageXOffset||win.scrollX||doc.documentElement.scrollLeft:0;if(chartConfig&&chartConfig.elScroll&&chartConfig.posOb){pos=chartConfig.posOb}else{chartConfig&&(chartConfig.elScroll=true);pos=getPosition(el,chart);chartConfig&&(chartConfig.posOb=pos)}if(eType==="touchend"){pageX=prevPageX;pageY=prevPageY}else if(eType==="touchmove"||eType==="touchstart"){prevPageX=pageX;prevPageY=pageY}return{chartX:pageX-pos.left-winX,chartY:pageY-pos.top-winY,pageX:pageX,pageY:pageY}}function dehashify(color){return color&&color.replace(/^#?([a-f0-9]+)/gi,"$1")||"none"}function getFirstDefinedValue(){var arg,i,l;for(i=0,l=arguments.length;i<l;i+=1){arg=arguments[i];if(!arg&&arg!==false&&arg!==0&&arg!=BLANK){continue}return arg}return UNDEF}function pluckFontSize(){var arg,i,l;for(i=0,l=arguments.length;i<l;i+=1){arg=arguments[i];if(!arg&&arg!==false&&arg!==0){continue}else if(isNaN(arg=Number(arg))){continue}return arg<1?1:arg}return 1}function parsePointValue(value,abs){value=!value&&value!==false&&value!==0?NaN:Number(value);return isNaN(value)?null:abs?mathAbs(value):value}function parseUnsafeString(str){if(typeof str==="string"){return str.replace(breakPlaceholder,BREAKSTRING)}else{return BLANK}}function getColorCodeString(color,fillString){var returnString="",colorEntry,len,i=0,fillArray=fillString.split(COMMA);for(len=fillArray.length;i<len;i+=1){colorEntry=fillArray[i].split("-");if(colorEntry.length===2){if(colorEntry[0].indexOf("dark")!=="-1"){returnString+=(0,_libGraphics.getLightColor)(color,100-parseInt(colorEntry[1],10))+COMMA}else{returnString+=(0,_libGraphics.getDarkColor)(color,100-parseInt(colorEntry[1],10))+COMMA}}else{returnString+=fillArray[i]+COMMA}}return returnString.substring(0,returnString.length-1)}function trimString(str){str=str.replace(/^\s\s*/,"");var ws=/\s/,i=str.length;while(ws.test(str.charAt(i-=1))){}return str.slice(0,i+1)}function getCrispValue(position,distance,borderthickness){var normalizer=borderthickness%2/2,newposition=mathRound(position+normalizer)-normalizer,newdistance=mathRound(position+distance+normalizer)-normalizer-newposition;return{position:newposition,distance:newdistance}}function fastTrim(str){str=str.replace(/^\s\s*/,"");var ws=/\s/,i=str.length;while(ws.test(str.charAt(i-=1))){}return str.slice(0,i+1)}function imprint(obj1,obj2,ignoreNull){var item;if((typeof obj1==="undefined"?"undefined":_typeof(obj1))!=="object"||obj1===null){obj1=obj2;return obj2}if((typeof obj2==="undefined"?"undefined":_typeof(obj2))!=="object"||obj2===null){return obj1}for(item in obj2){if(obj1[item]===UNDEF||!ignoreNull&&obj1[item]===null){obj1[item]=obj2[item]}}return obj1}function getLinkedChartDataJSON(linkedDataId,FCDataObj){var linkedDataJSON={chart:{}},index,FcJSON=FCDataObj;linkedDataId=linkedDataId.toLowerCase();if(FcJSON.linkeddata){for(index=0;index<FcJSON.linkeddata.length;index+=1){if(FcJSON.linkeddata[index].id.toLowerCase()===linkedDataId){linkedDataJSON=FcJSON.linkeddata[index].linkedchart||FcJSON.linkeddata[index].linkedmap}}}return linkedDataJSON}function executeJS(strLink,multipleParams){limitedEvalParser(strLink.substr(0,strLink.indexOf("__FC_ARG_SEP__")).replace(/\s/g,BLANK),strLink.substr(strLink.indexOf("__FC_ARG_SEP__")).replace(/__FC_ARG_SEP__/,""),multipleParams)}function pseudoEval(executionString){if(/^j\s*\-/.test(executionString)){executeJS(executionString.replace(/^j\s*\-/,BLANK).replace(/\-/,"__FC_ARG_SEP__"))}else{executeJS(executionString.replace(/^javascript\s*\:/i,BLANK).replace(/[\'\"]?\s*\,\s*[\'\"]?/g,"__FC_ARG_SEP__").replace(/\(\s*[\'\"]?(.*)\)\;?/,"__FC_ARG_SEP__$1").replace(/[\'\"]?$/,""),true)}}function getLinkAction(dataObj,chart){var secureLink=function secureLink(link){return link};return function(isHotCall){if(isHotCall&&chart.config.clickURLOverridesPlotLinks){return}var chartAttrs=dataObj.chart||dataObj.map||{},unescapeLinks=pluckNumber(chartAttrs.unescapelinks,1),clickedEntity=this.entity||UNDEF,clickedEntityBox=this.entityBox||UNDEF,strLink=this.link,originalLink=strLink,dashPos,frameDetails,commaPos,linkURL,delimiter,linkType,linkedDataId,linkedData,alias,popupWin,firstBreak;if(strLink!==UNDEF){if(unescapeLinks){strLink=win.decodeURIComponent?win.decodeURIComponent(strLink):win.unescape(strLink)}strLink=strLink.replace(/^\s+/,BLANK).replace(/\s+$/,BLANK);if(strLink.search(/^[a-z]*\s*[\-\:]\s*/i)!==-1){delimiter=strLink.split(/\s*[\-\:]\s*/)[0].toLowerCase();firstBreak=delimiter.length}isHotCall&&(chart.config.hotElemClicked=true);switch(delimiter){case"j":case"javascript":pseudoEval(strLink);break;case"n":strLink.replace(/^n\s*\-/i,"n-");win.open(secureLink(strLink.slice(2),unescapeLinks));break;case"f":strLink=strLink.replace(/^f\s*\-/i,"f-");dashPos=strLink.indexOf("-",2);if(dashPos!==-1){frameDetails=strLink.substr(2,dashPos-2);if(frameDetails&&win.frames[frameDetails]){win.frames[frameDetails].location=secureLink(strLink.slice(dashPos+1),unescapeLinks)}else{win.open(secureLink(strLink.slice(dashPos+1),unescapeLinks),frameDetails)}}else{win.open(secureLink(strLink.slice(2),unescapeLinks))}break;case"p":strLink=strLink.replace(/p\s*\-/i,"p-");dashPos=strLink.indexOf("-",2);commaPos=strLink.indexOf(COMMA,2);if(dashPos===-1){dashPos=1}linkURL=secureLink(strLink.slice(dashPos+1),unescapeLinks);popupWin=win.open(linkURL,strLink.substr(2,commaPos-2),strLink.substr(commaPos+1,dashPos-commaPos-1));popupWin&&popupWin.focus();break;case"newchart":case"newmap":if(strLink.charAt(firstBreak)===":"){dashPos=strLink.indexOf("-",firstBreak+1);alias=strLink.substring(firstBreak+1,dashPos);firstBreak=dashPos}dashPos=strLink.indexOf("-",firstBreak+1);linkType=strLink.substring(firstBreak+1,dashPos).toLowerCase();switch(linkType){case"xmlurl":case"jsonurl":linkedData=strLink.substring(dashPos+1,strLink.length);break;case"xml":case"json":linkedDataId=strLink.substring(dashPos+1,strLink.length);linkedData=getLinkedChartDataJSON(linkedDataId,dataObj);linkType="json";break}chart.fireChartInstanceEvent("linkedChartInvoked",{alias:alias,linkType:linkType.toUpperCase(),data:linkedData,clickedEntity:clickedEntity,clickedEntityBox:clickedEntityBox});break;default:win.location.href=secureLink(strLink,unescapeLinks);break}chart.fireChartInstanceEvent("linkClicked",{linkProvided:originalLink,linkInvoked:strLink,linkAction:delimiter&&delimiter.toLowerCase()})}}}function getImageURL(str){var strObj={image:false};if(str!==UNDEF){str=str.replace(/^\s+/,BLANK).replace(/\s+$/,BLANK);if(/^i\s*[\-]\s*/i.test(str)){strObj.image=true;strObj.string=str.replace(/^i\s*[\-]\s*/i,BLANK)}else{strObj.string=str.replace(/^\\/,BLANK)}}return strObj}function toPrecision(obj,value){var tenPow=mathPow(10,value);return mathRound(obj*tenPow)/tenPow}function getDashStyle(len,gap,apply){return apply||apply===UNDEF?[len,gap]:DASH_DEF}function setLineHeight(styleObj,baseFontSize){if((typeof styleObj==="undefined"?"undefined":_typeof(styleObj))!=="object"){return BLANK}if(styleObj.fontSize||styleObj["font-size"]){if(!styleObj.fontSize&&styleObj["font-size"]){styleObj.fontSize=styleObj["font-size"];delete styleObj["font-size"]}styleObj.lineHeight=(parseFloat(styleObj.fontSize)||baseFontSize||10)*LINE_HEIGHT_FACTOR+"px";delete styleObj["line-height"]}if(!styleObj.lineHeight&&styleObj["line-height"]){styleObj.lineHeight=styleObj["line-height"];delete styleObj["line-height"]}return styleObj.lineHeight}function parsexAxisStyles(data,catObj,FCChartObj,style,dataColor){var fontBdrColor=getFirstValue(data.labelbordercolor,catObj.bordercolor,FCChartObj.labelbordercolor,BLANK),bgColor=pluck(data.labelbgcolor,catObj.bgcolor,FCChartObj.labelbgcolor),borderThickness=pluckNumber(data.labelborderthickness,catObj.borderthickness,FCChartObj.labelborderthickness,1),defColor=pluckNumber(FCChartObj.usedataplotcolorforlabels,0)?dataColor||style.color:style.color,styleObj;fontBdrColor=fontBdrColor?(0,_libGraphics.convertColor)(fontBdrColor,pluckNumber(data.labelborderalpha,catObj.borderalpha,FCChartObj.labelborderalpha,data.labelalpha,catObj.alpha,FCChartObj.labelalpha,100)):BLANK;styleObj={fontFamily:pluck(data.labelfont,catObj.font,FCChartObj.labelfont,style.fontFamily),fontSize:pluck(data.labelfontsize,catObj.fontsize,FCChartObj.labelfontsize,parseInt(style.fontSize,10))+PXSTRING,color:(0,_libGraphics.convertColor)(pluck(data.labelfontcolor,catObj.fontcolor,FCChartObj.labelfontcolor,defColor),pluckNumber(data.labelfontalpha,catObj.fontalpha,FCChartObj.labelfontalpha,data.labelalpha,catObj.alpha,FCChartObj.labelalpha,100)),fontWeight:pluckNumber(data.labelfontbold,catObj.fontbold,FCChartObj.labelfontbold)?"bold":"normal",fontStyle:pluckNumber(data.labelfontitalic,catObj.fontitalic,FCChartObj.labelfontitalic)?"italic":"normal",border:fontBdrColor||bgColor?borderThickness+"px solid":BLANK,borderColor:fontBdrColor,borderThickness:borderThickness,borderPadding:pluckNumber(data.labelborderpadding,catObj.borderpadding,FCChartObj.labelborderpadding,2),borderRadius:pluckNumber(data.labelborderradius,catObj.borderradius,FCChartObj.labelborderradius,0),backgroundColor:bgColor?(0,_libGraphics.convertColor)(bgColor,pluckNumber(data.labelbgalpha,catObj.bgalpha,FCChartObj.labelbgalpha,data.labelalpha,catObj.alpha,FCChartObj.labelalpha,100)):BLANK,borderDash:pluckNumber(data.labelborderdashed,catObj.borderdashed,FCChartObj.labelborderdashed,0)?getDashStyle(pluckNumber(data.labelborderdashlen,catObj.borderdashlen,FCChartObj.labelborderdashlen,4),pluckNumber(data.labelborderdashgap,catObj.borderdashgap,FCChartObj.labelborderdashgap,2)):DASH_DEF};styleObj.lineHeight=setLineHeight(styleObj);return styleObj}function setImageDisplayMode(bgImageDisplayMode,bgImageVAlign,bgImageHAlign,bgImageScale,chartBorderWidth,chartWidth,chartHeight,imageEle){var imageWidth=imageEle.width*(bgImageScale/100),imageHeight=imageEle.height*(bgImageScale/100),alignImage={},cWidth=chartWidth-chartBorderWidth*2,cHeight=chartHeight-chartBorderWidth*2;alignImage=(0,_imageAlignment.getAlignImage)(bgImageVAlign,bgImageHAlign,bgImageDisplayMode,imageWidth,imageHeight,chartWidth,chartHeight,chartBorderWidth,cWidth,cHeight);return alignImage}function componentDispose(){var fcObj=this,childComponents,item,itemName,length,i,graphicComponents,graphicObj,graphics,group,groupEle,followerEle,nthItem;if(fcObj&&fcObj!==win){fcObj.disposing=true;childComponents=fcObj.components;if(childComponents){for(itemName in childComponents){item=childComponents[itemName];if(item instanceof Array){length=item.length;for(i=0;i<length;i++){nthItem=item[i];if(nthItem&&!fcObj.disposing){if(nthItem.dispose){nthItem.dispose()}else{componentDispose.call(nthItem)}}}}else{if(item&&!item.disposing){if(item.dispose){item.dispose()}else{componentDispose.call(item)}}}}}graphicComponents=fcObj.graphics;for(graphics in graphicComponents){graphicObj=graphicComponents[graphics];if(graphicObj){if(graphicObj.hide){graphicObj.hide();if(graphicObj.followers&&graphicObj.followers[0]){followerEle=graphicObj.followers[0].el;followerEle&&followerEle.hide&&followerEle.hide()}}else{for(group in graphicObj){groupEle=graphicObj[group];groupEle.hide&&groupEle.hide()}}}}for(itemName in fcObj){delete fcObj[itemName]}}}function isInterActiveEvt(name){return!!interActiveEvtList[name]}function addInterActiveEvtName(name){if(name&&name.toLowerCase){interActiveEvtList[name.toLowerCase()]=true}}function comparatorAsc(a,b){return a-b}function comparatorDesc(a,b){return b-a}function getComparatorFN(isASC,key){if(isASC){return key?function(a,b){return a[key]-b[key]}:comparatorAsc}else{return key?function(a,b){return b[key]-a[key]}:comparatorDesc}}function stableSort(arr,sortFunction){var length=arr.length,i;for(i=0;i<length;i++){arr[i].ssI=i}arr.sort(function(a,b){var sortValue=sortFunction(a,b);return sortValue===0?a.ssI-b.ssI:sortValue});for(i=0;i<length;i++){delete arr[i].ssI}}function getSuggestiveRotation(){var arg,angle,x,y;arg=arguments[0];if(arguments.length===1){angle=arg.angle;x=arg.x;y=arg.y}else{angle=arg;x=arguments[1];y=arguments[2]}angle=angle||0;return RStr+angle+COMMA+x+COMMA+y}function normalizeCSSDimension(width,height,container){var w=typeof width==="undefined"?container.offsetWidth||parseFloat(container.style.width):width,h=typeof height==="undefined"?container.offsetHeight||parseFloat(container.style.height):height,o={},s=container.style,p=void 0;s.width=w=w.toString?w.toString():"0";s.height=h=h.toString?h.toString():"0";if((o.widthIsRelative=w.match(/^\s*\d*\.?\d*\%\s*$/)&&!w.match(/^\s*0\%\s*$/))&&container.offsetWidth===0){p=container;while(p=p.offsetParent){if(p.offsetWidth>0){w=(p.offsetWidth*parseFloat(w.match(/\d*/)[0])/100).toString();break}}}if((o.heightIsRelative=h.match(/^\s*\d*\.?\d*\%\s*$/)&&!h.match(/^\s*0\%\s*$/))&&container.offsetHeight<=20){p=container;while(p=p.offsetParent){if(p.offsetHeight>0){h=(p.offsetHeight*parseFloat(h.match(/\d*/)[0])/100).toString();break}}}o.width=w.replace?w.replace(/^\s*(\d*\.?\d*)\s*$/gi,"$1px"):w;o.height=h.replace?h.replace(/^\s*(\d*\.?\d*)\s*$/gi,"$1px"):h;s.width=o.width;s.height=o.height;o.pixelWidth=o.widthIsRelative?container.offsetWidth:parseInt(o.width,10)||0;o.pixelHeight=o.heightIsRelative?container.offsetHeight:parseInt(o.height,10)||0;return o}var componentFactory=function componentFactory(parent,ChildClass,childType){var count=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var configArr=arguments[4];if(parent&&ChildClass&&childType){var typedChildren=parent.getChildren(childType)||[],i=void 0,ll=void 0,childInstance=void 0;for(i=0;i<count;i+=1){if(typedChildren&&typedChildren[i]&&!typedChildren[i].getState("removed")){childInstance=typedChildren[i]}else{childInstance=new ChildClass;parent.attachChild(childInstance,childType)}if(configArr&&configArr.length>i&&childInstance.configure){childInstance.configure(configArr[i])}}ll=typedChildren&&typedChildren.length;if(i<ll){for(;i<ll;i+=1){typedChildren[i]&&typedChildren[i].remove&&typedChildren[i].remove()}}}},datasetFactory=function datasetFactory(parent,DataSetClass,dataSetType){var count=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var configArr=arguments[4];var indices=arguments.length>5&&arguments[5]!==undefined?arguments[5]:[];if(parent&&DataSetClass&&dataSetType){var typedDataset=parent.getChildren(dataSetType)||[],i=void 0,ll=void 0,dsInstance=void 0;for(i=0;i<count;i+=1){if(typedDataset&&typedDataset[i]&&!typedDataset[i].getState("removed")){dsInstance=typedDataset[i]}else{dsInstance=new DataSetClass;parent.attachChild(dsInstance,dataSetType)}dsInstance.config._childIndex=i;dsInstance.setState("_total",count);dsInstance.setJSONIndex&&dsInstance.setJSONIndex(indices[i]||i);if(configArr&&configArr.length>i&&dsInstance.configure){dsInstance.configure(configArr[i])}}ll=typedDataset&&typedDataset.length;if(i<ll){for(;i<ll;i+=1){typedDataset[i]&&typedDataset[i].remove&&typedDataset[i].remove()}}}};exports.isInterActiveEvt=isInterActiveEvt;exports.addInterActiveEvtName=addInterActiveEvtName;exports.getEmptyConstractor=getEmptyConstractor;exports.BLANKSTRINGPLACEHOLDER=BLANKSTRINGPLACEHOLDER;exports.isFirefox=isFirefox;exports.UNDEF=UNDEF;exports.UNDERSCORE=UNDERSCORE;exports.BLANKSTRING=BLANKSTRING;exports.COLOR_BLACK=COLOR_BLACK;exports.COLOR_GLASS=COLOR_GLASS;exports.COLOR_WHITE=COLOR_WHITE;exports.COLOR_TRANSPARENT=COLOR_TRANSPARENT;exports.HASHSTRING=HASHSTRING;exports.BREAKSTRING=BREAKSTRING;exports.STRINGSTRING=STRINGSTRING;exports.OBJECTSTRING=OBJECTSTRING;exports.COMMASTRING=COMMASTRING;exports.ZEROSTRING=ZEROSTRING;exports.SAMPLESTRING=SAMPLESTRING;exports.TESTSTR=TESTSTR;exports.ONESTRING=ONESTRING;exports.DECIMALSTRING=DECIMALSTRING;exports.STRINGUNDEFINED=STRINGUNDEFINED;exports.POSITION_TOP=POSITION_TOP;exports.POSITION_RIGHT=POSITION_RIGHT;exports.POSITION_BOTTOM=POSITION_BOTTOM;exports.POSITION_LEFT=POSITION_LEFT;exports.POSITION_CENTER=POSITION_CENTER;exports.POSITION_MIDDLE=POSITION_MIDDLE;exports.POSITION_START=POSITION_START;exports.POSITION_END=POSITION_END;exports.FC_CONFIG_STRING=FC_CONFIG_STRING;exports.SHAPE_RECT=SHAPE_RECT;exports.HUNDREDSTRING=HUNDREDSTRING;exports.PXSTRING=PXSTRING;exports.COMMASPACE=COMMASPACE;exports.TEXTANCHOR=TEXTANCHOR;exports.hiddenStr=hiddenStr;exports.visibleStr=visibleStr;exports.startsRGBA=startsRGBA;exports.cleanColorCode=cleanColorCode;exports.TOUCH_THRESHOLD_PIXELS=TOUCH_THRESHOLD_PIXELS;exports.CLICK_THRESHOLD_PIXELS=CLICK_THRESHOLD_PIXELS;exports.regex=regex;exports.getEventCoordinate=getEventCoordinate;exports.getMouseCoordinate=getMouseCoordinate;exports.getTouchEvent=getTouchEvent;exports.extend2=_raphael2["default"];exports.imprint=imprint;exports.pluck=pluck;exports.pluckNumber=pluckNumber;exports.getFirstDefinedValue=getFirstDefinedValue;exports.createElement=createElement;exports.polyPathToPath=polyPathToPath;exports.hashify=hashify;exports.dehashify=dehashify;exports.getComparatorFN=getComparatorFN;exports.pluckFontSize=pluckFontSize;exports.getValidValue=getValidValue;exports.getPosition=getPosition;exports.getViewPortDimension=getViewPortDimension;exports.bindSelectionEvent=bindSelectionEvent;exports.fcEach=fcEach;exports.getDefinedColor=getDefinedColor;exports.getFirstValue=getFirstValue;exports.getColorCodeString=getColorCodeString;exports.clampNumber=clampNumber;exports.toRaphaelColor=toRaphaelColor;exports.rgbaToHex=rgbaToHex;exports.gradientify=gradientify;exports.fastTrim=fastTrim;exports.parsePointValue=parsePointValue;exports.parseUnsafeString=parseUnsafeString;exports.parseTooltext=parseTooltext;exports.toPrecision=toPrecision;exports.hasTouch=hasTouch;exports.creditLabel=creditLabel;exports.CREDIT_HREF=CREDIT_HREF;exports.CREDIT_STRING=CREDIT_STRING;exports.regescape=regescape;exports.regReplaceEscape=regReplaceEscape;exports.getImageURL=getImageURL;exports.isArray=isArray;exports.getCrispValue=getCrispValue;exports.getCripValues=getCrispValue;exports.preDefStr=preDefStr;exports.stubFN=EMPTYFN;exports.stableSort=stableSort;exports.hasSVG=hasSVG;exports.CREDIT_REGEX=CREDIT_REGEX;exports.isIE=isIE;exports.isIE11=isIE11;exports.isIE9=isIE9;exports.isEdge=isEdge;exports.lineHeightFactor=lineHeightFactor;exports.getLinkAction=getLinkAction;exports.setImageDisplayMode=setImageDisplayMode;exports.setLineHeight=setLineHeight;exports.parsexAxisStyles=parsexAxisStyles;exports.supportedStyle=supportedStyle;exports.getAxisLimits=getAxisLimits;exports.getDashStyle=getDashStyle;exports.chartAPI=chartAPI;exports.createDialog=createDialog;exports.componentDispose=componentDispose;exports.executeJS=executeJS;exports.pseudoEval=pseudoEval;exports.validhexcolor=validhexcolor;exports.appliedCSS=appliedCSS;exports.getContainerBackgroundColor=getContainerBackgroundColor;exports.capitalizeString=capitalizeString;exports.TRACKER_FILL=TRACKER_FILL;exports.chartPaletteStr=chartPaletteStr;exports.DASH_DEF=DASH_DEF;exports.attrTypeNum=attrTypeNum;exports.canvasBGAlphaStr=canvasBGAlphaStr;exports.attrTypeBool=attrTypeBool;exports.pInt=pInt;exports.defined=defined;exports.canvasBorderColorStr=canvasBorderColorStr;exports.attribDefs=_libAttr.attribDefs;exports.parseConfiguration=_libAttr.parseConfiguration;exports.setAttribDefs=_libAttr.setAttribDefs;exports.hasAttribDefs=_libAttr.hasAttribDefs;exports.crispBound=crispBound;exports.defaultGaugePaletteOptions=defaultGaugePaletteOptions;exports.MathExt=MathExt;exports.xssEncode=xssEncode;exports.animHelperFN=animHelperFN;exports.mathAbs=mathAbs;exports.mathRound=mathRound;exports.NORMAL=NORMAL;exports.BOLD=BOLD;exports.HAND=HAND;exports.POINTER=POINTER;exports.BLANK=BLANK;exports.ROUND=ROUND;exports.configStr=configStr;exports.animationObjStr=animationObjStr;exports.COMMA=COMMA;exports.TILE=TILE;exports.FILL=FILL;exports.FIT=FIT;exports.MOUSEOUT=MOUSEOUT;exports.MOUSEMOVE=MOUSEMOVE;exports.touchEnabled=touchEnabled;exports.VISIBLE=VISIBLE;exports.BGRATIOSTRING=BGRATIOSTRING;exports.dropHash=dropHash;exports.componentFactory=componentFactory;exports.datasetFactory=datasetFactory;exports.trimString=trimString;exports.PROJECT_VERSION=PROJECT_VERSION;exports.LINE_HEIGHT_FACTOR=LINE_HEIGHT_FACTOR;exports.safeMax=safeMax;exports.safeMin=safeMin;exports.normalizeAngle=normalizeAngle;exports.extent=extent;exports.getSuggestiveRotation=getSuggestiveRotation;exports.isXSSSafe=isXSSSafe;exports.normalizeCSSDimension=normalizeCSSDimension;exports.domInsertModes=domInsertModes},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var attrTypeNum=1,attrTypeBool=2,UNDEF=void 0;var blankObj={},mathMax=Math.max,attribDefs;function parseConfiguration(userConfig,defaultConfig,parentConfig,ignoreList,helperComponents,localAttribDefs){var key,val,type,attrUpdateCount=1,tempDefs;exports.attribDefs=attribDefs=attribDefs||blankObj;ignoreList=ignoreList||blankObj;localAttribDefs=localAttribDefs||blankObj;helperComponents=helperComponents||{};for(key in userConfig){if(!ignoreList[key]){val=userConfig[key];if(!(!val&&val!==false&&val!==0)){type=(tempDefs=localAttribDefs[key]||attribDefs[key])&&tempDefs.type;switch(type){case attrTypeNum:val=Number(val);if(!isNaN(val)){defaultConfig[key]=val}break;case attrTypeBool:val=Number(val);if(!isNaN(val)){defaultConfig[key]=!!val}break;default:defaultConfig[key]=val}}}}if(parentConfig){for(key in defaultConfig){if(defaultConfig[key]===UNDEF&&(tempDefs=localAttribDefs[key]||attribDefs[key])&&tempDefs.pAttr){defaultConfig[key]=parentConfig[tempDefs.pAttr]}}}while(attrUpdateCount){attrUpdateCount=0;for(key in defaultConfig){if(defaultConfig[key]===UNDEF&&(tempDefs=localAttribDefs[key]||attribDefs[key])){if(tempDefs.attr){if((val=defaultConfig[tempDefs.attr])!==UNDEF){defaultConfig[key]=val;attrUpdateCount+=1}}else if(tempDefs.parser){if((val=tempDefs.parser(defaultConfig,parentConfig,helperComponents))!==UNDEF){defaultConfig[key]=val;attrUpdateCount+=1}}}}}}function setAttribDefs(name,def){var attribObj,key;exports.attribDefs=attribDefs=attribDefs||{};if(typeof name==="string"){attribObj={};attribObj[name]=def}else{attribObj=name}for(key in attribObj){if(!attribDefs[key]){attribDefs[key]=attribObj[key]}}}function hasAttribDefs(name){return!!attribDefs[name]}exports.attribDefs=attribDefs={setBorderWidth:{type:attrTypeNum,pAttr:"plotborderthickness"},plotborderthickness:{type:attrTypeNum,pAttr:"plotborderthickness"},showBorderEffect:{parser:function parser(){var pConfig=arguments[1],plotBorderThicknessLimit=.1;return+pConfig.showplotborder===1&&pConfig.plotborderthickness===plotBorderThicknessLimit?1:0}},alphaanimation:{type:attrTypeNum},showplotborder:{type:attrTypeNum,pAttr:"showplotborder"},zeroplanethickness:{type:attrTypeNum},showzeroplaneontop:{type:attrTypeNum},stickytracking:{type:attrTypeNum},usemessagelog:{type:attrTypeNum},showtooltip:{type:attrTypeNum,pAttr:"showtooltip"},seriesnameintooltip:{type:attrTypeNum},plothovereffect:{type:attrTypeNum,attr:"anchorhovereffect"},anchorhovereffect:{type:attrTypeNum,attr:"showhovereffect"},showhovereffect:{type:attrTypeNum},linethickness:{type:attrTypeNum,pAttr:"linethickness"},dashed:{type:attrTypeNum,pAttr:"linedashed"},linedashed:{type:attrTypeNum,attr:"plotborderdashed"},plotborderdashed:{type:attrTypeNum,pAttr:"plotborderdashed"},linedashlen:{type:attrTypeNum,pAttr:"linedashlen"},linedashgap:{type:attrTypeNum,pAttr:"linedashgap"},anchoralpha:{pAttr:"anchoralpha"},anchorsides:{type:attrTypeNum,pAttr:"anchorsides"},anchorradius:{type:attrTypeNum,pAttr:"anchorradius"},anchorbgalpha:{pAttr:"anchorbgalpha"},anchorbgcolor:{pAttr:"anchorbgcolor"},anchorbordercolor:{pAttr:"anchorbordercolor"},anchorstartangle:{type:attrTypeNum,pAttr:"anchorstartangle"},anchorimageurl:{pAttr:"anchorimageurl"},anchorimagescale:{type:attrTypeNum,pAttr:"anchorimagescale"},anchorimagealpha:{pAttr:"anchorimagealpha"},anchorimagepadding:{type:attrTypeNum,pAttr:"anchorimagepadding"},anchorborderthickness:{type:attrTypeNum,pAttr:"anchorborderthickness"},anchorshadow:{type:attrTypeNum,pAttr:"anchorshadow"},valuepadding:{type:attrTypeNum,pAttr:"valuepadding"},valueposition:{pAttr:"valueposition"},plotfillangle:{type:attrTypeNum,pAttr:"plotfillangle"},useplotgradientcolor:{type:attrTypeNum},rotatevalues:{type:attrTypeNum,pAttr:"rotatevalues"},includeinlegend:{type:attrTypeNum},connectnulldata:{type:attrTypeNum},plotfillalpha:{pAttr:"plotfillalpha"},alpha:{pAttr:"linealpha"},linealpha:{pAttr:"plotfillalpha"},showvalues:{type:attrTypeNum,pAttr:"showvalues"},showpercentvalues:{type:attrTypeNum,parser:function parser(config){return config.isstacked&&config.stack100percent?1:0}},showpercentintooltip:{type:attrTypeNum,parser:function parser(config){return config.isstacked&&config.stack100percent?1:0}},stack100percent:{type:attrTypeNum,attr:"usepercentdistribution"},drawfullareaborder:{type:attrTypeNum},use3dlineshift:{type:attrTypeNum},parentyaxis:{type:attrTypeNum},radarborderthickness:{type:attrTypeNum},radarborderradius:{type:attrTypeNum},gaugeoriginx:{type:attrTypeNum},hasgaugeoriginx:{attr:"gaugeoriginx"},gaugeoriginy:{type:attrTypeNum},hasgaugeoriginy:{attr:"gaugeoriginy"},gaugeradius:{type:attrTypeNum},hasgaugeradius:{attr:"gaugeradius"},showgaugeborder:{type:attrTypeNum},setAdaptiveMin:{type:attrTypeNum},adjustDiv:{type:attrTypeNum},axisNameWidth:{type:attrTypeNum},rotateAxisName:{type:attrTypeNum},useEllipsesWhenOverflow:{type:attrTypeNum},showZeroPlane:{type:attrTypeNum},zeroPlaneAlpha:{type:attrTypeNum},showZeroPlaneValue:{type:attrTypeNum},zeroPlaneOnTop:{type:attrTypeNum},trendlineThickness:{type:attrTypeNum},showTrendlinesOnTop:{type:attrTypeNum},trendlinesAreDashed:{type:attrTypeNum},trendlinesDashLen:{type:attrTypeNum},trendlinesDashGap:{type:attrTypeNum},showTrendlines:{type:attrTypeNum},showTrendlineLabels:{type:attrTypeNum},showLabels:{type:attrTypeNum},rotateLabels:{type:attrTypeNum},slantLabel:{type:attrTypeNum},showAxisValues:{type:attrTypeNum},showTooltip:{type:attrTypeNum},maxLabelHeight:{type:attrTypeNum},useroundedges:{type:attrTypeNum,pAttr:"useroundedges"},placevaluesinside:{type:attrTypeNum},plotpaddingpercent:{type:attrTypeNum},use3dlighting:{type:attrTypeNum,pAttr:"use3dlighting"},usedataplotcolorforlabels:{type:attrTypeNum},plotspacepercent:{type:attrTypeNum,parser:function parser(config){return mathMax(config.plotspacepercent%100,0)}},ratio:{pAttr:"plotfillratio"},base:{type:attrTypeNum},showMinorDivLineValues:{type:attrTypeNum},numMinorDivLines:{type:attrTypeNum},majorTMNumber:{type:attrTypeNum},majorTMHeight:{type:attrTypeNum},showTickMarks:{type:attrTypeNum},majorTMThickness:{type:attrTypeNum},adjustTM:{type:attrTypeBool},minorTMNumber:{type:attrTypeNum},minorTMThickness:{type:attrTypeNum},tickMarkDistance:{type:attrTypeNum},placeTicksInside:{type:attrTypeNum},placeValuesInside:{type:attrTypeNum},axisValuePadding:{type:attrTypeNum},gridLineWidth:{type:attrTypeNum},showRadarBorder:{type:attrTypeNum},radarBorderThickness:{type:attrTypeNum},maxcolwidth:{type:attrTypeNum,parser:function parser(config){return Math.abs(config.maxcolwidth)}},maxbarheight:{type:attrTypeNum,parser:function parser(config){return Math.abs(config.maxbarheight)}},plotborderalpha:{parser:function parser(config,pConfig){return pConfig.plotborderalpha||config.plotfillalpha}},autoscale:{type:attrTypeNum},plotborderdashlen:{type:attrTypeNum,pAttr:"plotborderdashlen"},plotborderdashgap:{type:attrTypeNum,pAttr:"plotborderdashgap"},plotfillratio:{pAttr:"plotfillratio"},drawverticaljoins:{type:attrTypeNum,pAttr:"drawverticaljoins"},useforwardsteps:{type:attrTypeNum,pAttr:"useforwardsteps"},minimizetendency:{type:attrTypeNum},usepercentdistribution:{type:attrTypeNum},stepatmiddle:{type:attrTypeNum}};exports.attribDefs=attribDefs;exports.parseConfiguration=parseConfiguration;exports.setAttribDefs=setAttribDefs;exports.hasAttribDefs=hasAttribDefs},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _raphael=__webpack_require__(121);var _raphael2=_interopRequireDefault(_raphael);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var SPACE=" ",win=window,doc=win.document,hasTouch="ontouchstart"in win,BE={click:"click",touchstart:"touchstart",touchend:"touchend",touchmove:"touchmove",mousedown:"mousedown",mouseup:"mouseup",mousemove:"mousemove",mouseout:"mouseout",mouseover:"mouseover",keydown:"keydown"},gestures=function(){var retObj={},gesture;retObj.pointerdrag={start:[BE.mousedown],end:[BE.mouseup],onStart:[BE.mousemove],postHandlers:{},preHandlers:{}};retObj.pointerhover={start:[BE.mouseover],end:[BE.mouseout]};retObj.click={start:[BE.click]};retObj.escape={start:[BE.keydown],preHandlers:{start:function start(event){event=event||win.event;if(event.keyCode&&event.keyCode===27){return true}return false}}};if(hasTouch){gesture=retObj.pointerdrag;gesture.start.push(BE.touchstart);gesture.end.push(BE.touchend);gesture.onStart.push(BE.touchmove);gesture.postHandlers.onStart=function(event){if(event.preventDefault){event.preventDefault()}else{event.returnValue=false}}}return retObj}(),gDefs;function defineGestures(){var gestureMap=(0,_raphael2["default"])({},gestures);return gestureMap}gDefs=defineGestures();function DOMEventFx(){var eventHandlerMap={},gestureHandlerMap={},addHandler=doc.addEventListener?function(elem,event,handlerFn){elem.addEventListener(event,handlerFn,false)}:function(elem,event,handlerFn){elem.attachEvent("on"+event,handlerFn)},removeHandler=doc.removeEventListener?function(elem,event,handlerFn){elem.removeEventListener(event,handlerFn,false)}:function(elem,event,handlerFn){elem.detachEvent("on"+event,handlerFn)},addEventHandler=function addEventHandler(elem,event,handlerObj,attachTo){var unlistener;attachTo=attachTo||"closure";addHandler(elem,event,handlerObj[attachTo]);unlistener=function unlistener(){removeHandler(elem,event,handlerObj[attachTo])};return unlistener},addGestureHandler=function addGestureHandler(elem,gesture,handlerObj){var unlisteners=[],eventArr,each,i,def;def=gDefs[gesture];handlerObj.start=function(event){var onStartArr=def.onStart,endArr=def.end,startUn=[],endUn=[],i=onStartArr&&onStartArr.length||0;event=event||win.event;while(i--){startUn.push(addEventHandler(elem,onStartArr[i],handlerObj,"onStart"))}i=endArr&&endArr.length||0;while(i--){endUn.push(addEventHandler(elem,endArr[i],handlerObj,"end"))}handlerObj.startUn=handlerObj.startUn?handlerObj.startUn.concat(startUn):startUn;handlerObj.endUn=handlerObj.endUn?handlerObj.endUn.concat(endUn):endUn;handlerObj.state="start";handlerObj.closure(event)};handlerObj.onStart=function(event){event=event||win.event;handlerObj.state="on";if(handlerObj.gDef&&handlerObj.gDef.preHandlers&&typeof handlerObj.gDef.preHandlers.onStart==="function"){handlerObj.gDef.preHandlers.onStart(event)}handlerObj.closure(event);if(handlerObj.gDef&&handlerObj.gDef.postHandlers&&typeof handlerObj.gDef.postHandlers.onStart==="function"){handlerObj.gDef.postHandlers.onStart(event)}};handlerObj.end=function(event){var startUn=handlerObj.startUn,endUn=handlerObj.endUn,i=startUn&&startUn.length||0;event=event||win.event;while(i--){startUn[i]()}delete handlerObj.startUn;handlerObj.startUn=[];i=endUn&&endUn.length||0;while(i--){endUn[i]()}delete handlerObj.endUn;handlerObj.endUn=[];handlerObj.state="end";handlerObj.closure(event)};if(def){eventArr=def.start;i=eventArr.length;while(i--){each=eventArr[i];if(each){unlisteners.push(addEventHandler(elem,each,handlerObj,"start"))}}}return unlisteners},removeGestureHandler=function removeGestureHandler(elem,gesture,handlerObj){var eventArr,each,i,def;def=gDefs[gesture];if(def){eventArr=def.start;i=eventArr.length;while(i--){each=eventArr[i];if(each){removeHandler(elem,each,handlerObj.start)}}}},getHandlerClosure=function getHandlerClosure(handlerObj){return function(event){var ctxt=handlerObj.context||handlerObj.elem,eventObj;event=event.originalEvent||event;eventObj={data:handlerObj.data,type:handlerObj.type,state:handlerObj.state,isGesture:handlerObj.isGesture,target:event.target||event.srcElement,originalEvent:event};event=event||win.event;handlerObj.handler.call(ctxt,eventObj)}};return{listen:function listen(elem,gestures,handlers,data,context){var dem=this,gestureArr=typeof gestures==="string"?gestures.split(SPACE):gestures,i=gestureArr.length,unlisteners=[],addToUnlistener=function addToUnlistener(elem,type,handler){unlisteners.push(function(){dem.unlisten(elem,type,handler)})},handlerMap,gesture,handlerObj,isGesture,handler;if(!elem.ownerDocument||elem.ownerDocument!==doc){while(i--){gesture=gestureArr[i];handler=typeof handlers==="function"?handlers:handlers[i];handlerObj={handler:handler,elem:elem,type:gesture,isGesture:isGesture,data:data,context:context,start:[],end:[],links:{prev:null,next:null}};handlerObj.closure=getHandlerClosure(handlerObj);handlerMap=eventHandlerMap[gesture];if(!handlerMap){handlerMap=eventHandlerMap[gesture]=[]}handlerMap.push(handlerObj);addEventHandler(elem,gesture,handlerObj);addToUnlistener(elem,gesture,handler)}}else{while(i--){gesture=gestureArr[i];isGesture=Boolean(gDefs[gesture]);handler=typeof handlers==="function"?handlers:handlers[i];handlerObj={handler:handler,elem:elem,type:gesture,isGesture:isGesture,gDef:isGesture?gDefs[gesture]:null,data:data,context:context,start:[],end:[],links:{prev:null,next:null}};handlerObj.closure=getHandlerClosure(handlerObj);if(isGesture){handlerMap=gestureHandlerMap[gesture];if(!handlerMap){handlerMap=gestureHandlerMap[gesture]=[]}handlerMap.push(handlerObj);addGestureHandler(elem,gesture,handlerObj)}else{handlerMap=eventHandlerMap[gesture];if(!handlerMap){handlerMap=eventHandlerMap[gesture]=[]}handlerMap.push(handlerObj);addEventHandler(elem,gesture,handlerObj)}addToUnlistener(elem,gesture,handler)}}return{unlisten:function unlisten(){var i=unlisteners.length;while(i--){unlisteners[i]()}unlisteners.length=0;unlisteners=null}}},unlisten:function unlisten(elem,gesture,handler){var isGesture=Boolean(gDefs[gesture]),eventHandlers,retVal=false,i,hObj;if(!isGesture){eventHandlers=eventHandlerMap[gesture];i=eventHandlers&&eventHandlers.length||0;while(i--){hObj=eventHandlers[i];if(hObj.handler===handler&&hObj.elem===elem){removeHandler(elem,gesture,hObj.closure);eventHandlers.splice(i,1);retVal=true}}}else{eventHandlers=gestureHandlerMap[gesture];i=eventHandlers&&eventHandlers.length||0;while(i--){hObj=eventHandlers[i];if(hObj.handler===handler&&hObj.elem===elem){removeGestureHandler(elem,gesture,hObj);eventHandlers.splice(i,1);retVal=true}}}return retVal},fire:function fire(elem,event,eventArguments,defaultFunction){var eventHandlers,i,hObj,eventObj;if(!elem.ownerDocument||elem.ownerDocument!==doc){eventHandlers=eventHandlerMap[event];i=eventHandlers&&eventHandlers.length||0;while(i--){hObj=eventHandlers[i];if(hObj.elem===elem){hObj.closure(eventArguments)}}}else{if(doc.createEvent){eventObj=doc.createEvent("HTMLEvents");eventObj.initEvent(event,true,true);if(eventArguments){if(eventArguments.originalEvent){eventArguments.originalEvent=eventObj}}if(typeof elem[event]==="function"){elem[event]()}elem.dispatchEvent(eventObj);if(defaultFunction&&!eventObj.returnValue){defaultFunction(eventObj)}}else{eventObj=doc.createEventObject();eventObj.eventType=event;if(eventArguments){if(eventArguments.originalEvent){eventArguments.originalEvent=eventObj}else{(0,_raphael2["default"])(eventObj,eventArguments)}}if(typeof elem[event]==="function"){elem[event]()}elem.fireEvent("on"+event,eventObj);if(defaultFunction&&!eventObj.returnValue){defaultFunction(eventObj)}}}}}}exports["default"]=new DOMEventFx},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports["default"]=function(obj1,obj2,skipUndef,shallow){var item;if((typeof obj1==="undefined"?"undefined":_typeof(obj1))!==objectStr&&(typeof obj2==="undefined"?"undefined":_typeof(obj2))!==objectStr){return null}if((typeof obj2==="undefined"?"undefined":_typeof(obj2))!==objectStr||obj2===null){return obj1}if(typeof obj1==="undefined"){obj1=obj2 instanceof Array?[]:{}}if(shallow){for(item in obj2){obj1[item]=obj2[item]}}else{merge(obj1,obj2,skipUndef)}return obj1};var UNDEF=void 0,BLANK="__blank",nullStr="â",E="",arrayToStr="[object Array]",objectToStr="[object Object]",objectStr="object",dashedAttr2CSSMap={"font-family":"fontFamily","font-size":"fontSize","text-anchor":"textAnchor","font-weight":"fontWeight","letter-spacing":"letterSpacing","font-style":"fontStyle"},loadRefImage=function loadRefImage(element,attrs){var src=attrs.src,RefImg=element._.RefImg;if(!RefImg){RefImg=element._.RefImg=new Image}if(attrs.src===undefined){return}RefImg.src=src;element._.RefImg=RefImg},showRecursively=function showRecursively(el){var origAttrTree={},currentEl=el,currentNode=origAttrTree,fn=function fn(){var localEl=el,localNode=origAttrTree;while(localEl){if(localNode._doHide){localEl.hide()}localEl=localEl.parent;localNode=localNode.parent}};while(currentEl){if(currentEl.node&&currentEl.node.style&&currentEl.node.style.display==="none"){currentEl.show();currentNode._doHide=true}currentEl=currentEl.parent;currentNode.parent={};currentNode=currentNode.parent}return fn},checkCyclicRef=function checkCyclicRef(obj,parentArr){var i=parentArr.length,bIndex=-1;while(i--){if(obj===parentArr[i]){bIndex=i;return bIndex}}return bIndex},getArrayCopy=function getArrayCopy(array){var i,len,arg;for(i=0,len=array.length,arg=new Array(len);i<len;i++){arg[i]=array[i]}return arg},merge=function merge(obj1,obj2,skipUndef,tgtArr,srcArr){var item,srcVal,tgtVal,str,cRef;if(!srcArr){tgtArr=[obj1];srcArr=[obj2]}else{tgtArr.push(obj1);srcArr.push(obj2)}if(obj2 instanceof Array){for(item=0;item<obj2.length;item+=1){try{srcVal=obj1[item];tgtVal=obj2[item]}catch(e){continue}if((typeof tgtVal==="undefined"?"undefined":_typeof(tgtVal))!==objectStr){if(!(skipUndef&&tgtVal===UNDEF)){obj1[item]=tgtVal}}else{if(srcVal===null||(typeof srcVal==="undefined"?"undefined":_typeof(srcVal))!==objectStr){srcVal=obj1[item]=tgtVal instanceof Array?[]:{}}cRef=checkCyclicRef(tgtVal,srcArr);if(cRef!==-1){srcVal=obj1[item]=tgtArr[cRef]}else{merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr)}}}}else{for(item in obj2){try{srcVal=obj1[item];tgtVal=obj2[item]}catch(e){continue}if(tgtVal!==null&&(typeof tgtVal==="undefined"?"undefined":_typeof(tgtVal))===objectStr){str=Object.prototype.toString.call(tgtVal);if(str===objectToStr){if(srcVal===null||(typeof srcVal==="undefined"?"undefined":_typeof(srcVal))!==objectStr){srcVal=obj1[item]={}}cRef=checkCyclicRef(tgtVal,srcArr);if(cRef!==-1){srcVal=obj1[item]=tgtArr[cRef]}else{merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr)}}else if(str===arrayToStr){if(srcVal===null||!(srcVal instanceof Array)){srcVal=obj1[item]=[]}cRef=checkCyclicRef(tgtVal,srcArr);if(cRef!==-1){srcVal=obj1[item]=tgtArr[cRef]}else{merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr)}}else{obj1[item]=tgtVal}}else{obj1[item]=tgtVal}}}return obj1};var cacher=function cacher(f,scope,postprocessor,key,maxCache,sharedCache,firstArgKey){var cache=sharedCache||{},count=0;if(cache.__start===undefined){cache.__start=null}if(cache.__end===undefined){cache.__end=null}maxCache=maxCache||1e3;key=key||"item";function cachedfunction(arg1){var hashKey=firstArgKey?arg1:getArrayCopy(arguments).join(nullStr),cur,oldEnd,oldStart;hashKey=hashKey===E?BLANK:hashKey;cur=cache[hashKey];if(!cur){cur=cache[hashKey]={};f&&(cache[hashKey][key]=postprocessor?postprocessor(f.apply(scope,arguments)):f.apply(scope,arguments));cache.__end===null&&(cache.__end=hashKey);count++;if(count>maxCache&&cache.__end){oldEnd=cache[cache.__end];cache[oldEnd.__prev].__next=null;delete cache[cache.__end];cache.__end=oldEnd.__prev;count--}}else{if(cur.__prev){cache[cur.__prev].__next=cur.__next;if(cur.__next){cur.__next.__prev=cur.__prev}else{cache.__end=cur.__prev}}}oldStart=cache.__start;if(oldStart!==cur){cur.__prev=null;cur.__next=oldStart;oldStart&&(oldStart.__prev=hashKey);cache.__start=cur}return cache[hashKey][key]}return cachedfunction};exports.merge=merge;exports.getArrayCopy=getArrayCopy;exports.dashedAttr2CSSMap=dashedAttr2CSSMap;exports.loadRefImage=loadRefImage;exports.showRecursively=showRecursively;exports.cacher=cacher},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var symbolStr={circle:"circle",triangle:"triangle",square:"square",diamond:"diamond",poly:"poly_",spoke:"spoke_"},UNDEF,COLOR_BLACK="000000",COLOR_WHITE="FFFFFF",mathAbs=Math.abs,stripWhitespace=/\s+/g,dropHash=/^#?/,validhexcolor=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,COMMA=",",BGRATIOSTRING,startsRGBA=/^rgba/i,cleanColorCode=/[#\s]/gi,BLANK="",HASHSTRING="#";function parsePointValue(value,abs){value=!value&&value!==false&&value!==0?NaN:Number(value);return isNaN(value)?null:abs?mathAbs(value):value}function getFirstColor(color,index){color=color.split(COMMA)[index||0];color=color.replace(stripWhitespace,BLANK);if(color==BLANK){color=COLOR_BLACK}return color.replace(dropHash,HASHSTRING)}function getFirstAlpha(alpha){alpha=parseInt(alpha,10);if(isNaN(alpha)||alpha>100||alpha<0){alpha=100}return alpha}function getAlpha(alpha,multiplier){alpha=Number(alpha);alpha=isNaN(alpha)?100:alpha;if(multiplier!==UNDEF){alpha=alpha*multiplier/100}return alpha%101}function parseAlpha(alpha,length,multiplier){var alphaArr=alpha.split(COMMA),x;if(multiplier!==UNDEF){multiplier=Number(multiplier.split(COMMA)[0])}multiplier=isNaN(multiplier)?UNDEF:multiplier;alphaArr[0]=getAlpha(alphaArr[0],multiplier);for(x=1;x<length;x+=1){alphaArr[x]=alphaArr[0]*getAlpha(alphaArr[x],multiplier)/100}return alphaArr.join(COMMA)}function convertColor(color,alpha,rgba){var R=0,G=0,B=0,colorStr,tempArr;if(rgba&&rgba.match(startsRGBA)){tempArr=rgba.split(COMMA);R=tempArr[0].slice(tempArr[0].indexOf("(")+1);G=tempArr[1];B=tempArr[2];if(!alpha&&alpha!==0){alpha=parseInt(tempArr[3].slice(0,tempArr[3].indexOf(")"))*100,10)}}if(color){if(color.match(startsRGBA)){tempArr=color.split(COMMA);R=tempArr[0].slice(tempArr[0].indexOf("(")+1);G=tempArr[1];B=tempArr[2]}else{colorStr=color.replace(cleanColorCode,BLANK).split(COMMA)[0];switch(colorStr.length){case 3:colorStr=colorStr.charAt(0)+colorStr.charAt(0)+colorStr.charAt(1)+colorStr.charAt(1)+colorStr.charAt(2)+colorStr.charAt(2);break;case 6:break;default:colorStr=(colorStr+COLOR_WHITE).slice(0,6);break}R=parseInt(colorStr.slice(0,2),16);G=parseInt(colorStr.slice(2,4),16);B=parseInt(colorStr.slice(4,6),16)}}if(!alpha&&alpha!==0){alpha=100}if(typeof alpha==="string"){alpha=alpha.split(COMMA)[0]}alpha=parseInt(alpha,10)/100;return"rgba("+R+COMMA+G+COMMA+B+COMMA+alpha+")"}function getDarkColor(color,offsetPercent){offsetPercent=offsetPercent<0||offsetPercent>100?100:offsetPercent;offsetPercent=offsetPercent/100;color=color.replace(cleanColorCode,BLANK);var sourceclrRGB=parseInt(color,16),R=Math.floor(sourceclrRGB/65536),G=Math.floor((sourceclrRGB-R*65536)/256),B=sourceclrRGB-R*65536-G*256;return(COLOR_BLACK+(R*offsetPercent<<16|G*offsetPercent<<8|B*offsetPercent).toString(16)).slice(-6)}function getLightColor(color,offsetPercent){offsetPercent=offsetPercent<0||offsetPercent>100?100:offsetPercent;offsetPercent=offsetPercent/100;color=color.replace(cleanColorCode,BLANK);var sourceclrRGB=parseInt(color,16),R=Math.floor(sourceclrRGB/65536),G=Math.floor((sourceclrRGB-R*65536)/256),B=sourceclrRGB-R*65536-G*256;return(COLOR_BLACK+(256-(256-R)*offsetPercent<<16|256-(256-G)*offsetPercent<<8|256-(256-B)*offsetPercent).toString(16)).slice(-6)}function mapSymbolName(num,isSpoke){var x=symbolStr.circle;num=parsePointValue(num);if(num>=3){x=(isSpoke?symbolStr.spoke:symbolStr.poly)+num}return x}function getColumnColor(setColor,setAlpha,ratio,angle,isRoundEdges,bdColor,bdAlpha,isBar,is3D){var bgColor,borderColor,colorArr,alphaArr,bdColorArr,color,alpha,bdAlphaArr;colorArr=setColor.split(COMMA);alphaArr=setAlpha.split(COMMA);bdColorArr=bdColor.split(COMMA);bdAlphaArr=bdAlpha.split(COMMA);setColor=setColor.replace(/\s/g,BLANK).replace(/\,$/,BLANK);if(is3D){bgColor={FCcolor:{color:colorArr[0],alpha:alphaArr[0]}}}else if(isRoundEdges){color=colorArr[0];alpha=alphaArr[0];bgColor={FCcolor:{color:getDarkColor(color,75)+COMMA+getLightColor(color,10)+COMMA+getDarkColor(color,90)+COMMA+getLightColor(color,55)+COMMA+getDarkColor(color,80),alpha:alpha+COMMA+alpha+COMMA+alpha+COMMA+alpha+COMMA+alpha,ratio:"0,11,14,57,18",angle:isBar?"90":"0"}};bdColorArr=[getDarkColor(color,70)]}else{setAlpha=parseAlpha(setAlpha,colorArr.length);bgColor={FCcolor:{color:setColor,alpha:setAlpha,ratio:ratio,angle:isBar?-angle:angle}}}borderColor={FCcolor:{color:bdColorArr[0],alpha:bdAlphaArr[0]}};return[bgColor,borderColor]}function getPointColor(color,alpha){var colorObj,innerColor,outerColor;color=getFirstColor(color);alpha=getFirstAlpha(alpha);innerColor=getLightColor(color,70);outerColor=getDarkColor(color,50);colorObj={FCcolor:{gradientUnits:"objectBoundingBox",cx:.4,cy:.4,r:"100%",color:innerColor+COMMA+outerColor,alpha:alpha+COMMA+alpha,ratio:BGRATIOSTRING,radialGradient:true}};return colorObj}function getAngle(width,height,type){var angle=Math.atan(height/width)*180/Math.PI;if(type==2){angle=180-angle}else if(type==3){angle+=180}else if(type==4){angle=360-angle}return angle}function parseColor(color){return color.replace(cleanColorCode,BLANK).replace(dropHash,HASHSTRING)}function getValidColor(color){return validhexcolor.test(parseColor(color))&&color}function RGBtoHex(rgb){return(COLOR_BLACK+(rgb[0]<<16|rgb[1]<<8|rgb[2]).toString(16)).slice(-6)}function rawRGBtoHEX(rawRgb){var arr=rawRgb.match(/[\d+]+/g),rgb;rgb=arr.splice(0,3);return(COLOR_BLACK+(rgb[0]<<16|rgb[1]<<8|rgb[2]).toString(16)).slice(-6)}function HEXtoRGB(sourceColor){var sourceClrRGB=parseInt(sourceColor,16),r=Math.floor(sourceClrRGB/65536),g=Math.floor((sourceClrRGB-r*65536)/256),b=Math.floor(sourceClrRGB-r*65536-g*256);return[r,g,b]}exports.convertColor=convertColor;exports.getDarkColor=getDarkColor;exports.getLightColor=getLightColor;exports.mapSymbolName=mapSymbolName;exports.getColumnColor=getColumnColor;exports.getPointColor=getPointColor;exports.getAngle=getAngle;exports.parseColor=parseColor;exports.getValidColor=getValidColor;exports.RGBtoHex=RGBtoHex;exports.rawRGBtoHEX=rawRGBtoHEX;exports.HEXtoRGB=HEXtoRGB;exports.parsePointValue=parsePointValue;exports.getFirstColor=getFirstColor;exports.getFirstAlpha=getFirstAlpha},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function getImageAlignment(chartBorderWidth,bgImageVAlign,bgImageHAlign,imageWidth,imageHeight,chartWidth,chartHeight){var alignObj={};switch(bgImageVAlign){case"top":alignObj.y=chartBorderWidth;break;case"bottom":alignObj.y=chartHeight-imageHeight-chartBorderWidth;break;case"middle":alignObj.y=(chartHeight-imageHeight)/2;break}switch(bgImageHAlign){case"left":alignObj.x=chartBorderWidth;break;case"right":alignObj.x=chartWidth-imageWidth-chartBorderWidth;break;case"middle":alignObj.x=(chartWidth-imageWidth)/2;break}return alignObj}function getAlignImage(bgImageVAlign,bgImageHAlign,bgImageDisplayMode,imageWidth,imageHeight,chartWidth,chartHeight,chartBorderWidth,cWidth,cHeight){var alignImage={},imgAspectRatio,cAspectRatio,scaleFactor,xCount,yCount,alignObj;switch(bgImageDisplayMode){case"center":alignImage.width=imageWidth;alignImage.height=imageHeight;alignImage.y=chartHeight/2-imageHeight/2;alignImage.x=chartWidth/2-imageWidth/2;break;case"stretch":alignImage.width=chartWidth-chartBorderWidth*2;alignImage.height=chartHeight-chartBorderWidth*2;alignImage.y=chartBorderWidth;alignImage.x=chartBorderWidth;break;case"tile":alignImage.width=imageWidth;alignImage.height=imageHeight;alignImage.tileInfo={};alignImage.tileInfo.xCount=xCount=Math.ceil(cWidth/imageWidth);alignImage.tileInfo.yCount=yCount=Math.ceil(cHeight/imageHeight);alignObj=getImageAlignment(chartBorderWidth,bgImageVAlign,bgImageHAlign,imageWidth*xCount,imageHeight*yCount,chartWidth,chartHeight);alignImage.y=alignObj.y;alignImage.x=alignObj.x;break;case"fit":imgAspectRatio=imageWidth/imageHeight;cAspectRatio=cWidth/cHeight;scaleFactor=imgAspectRatio>cAspectRatio?cWidth/imageWidth:cHeight/imageHeight;alignImage.width=imageWidth*scaleFactor;alignImage.height=imageHeight*scaleFactor;alignObj=getImageAlignment(chartBorderWidth,bgImageVAlign,bgImageHAlign,alignImage.width,alignImage.height,chartWidth,chartHeight);alignImage.y=alignObj.y;alignImage.x=alignObj.x;break;case"fill":imgAspectRatio=imageWidth/imageHeight;cAspectRatio=cWidth/cHeight;scaleFactor=imgAspectRatio>cAspectRatio?cHeight/imageHeight:cWidth/imageWidth;alignImage.width=imageWidth*scaleFactor;alignImage.height=imageHeight*scaleFactor;alignObj=getImageAlignment(chartBorderWidth,bgImageVAlign,bgImageHAlign,alignImage.width,alignImage.height,chartWidth,chartHeight);alignImage.y=alignObj.y;alignImage.x=alignObj.x;break;default:alignObj=getImageAlignment(chartBorderWidth,bgImageVAlign,bgImageHAlign,imageWidth,imageHeight,chartWidth,chartHeight);alignImage.width=imageWidth;alignImage.height=imageHeight;alignImage.y=alignObj.y;alignImage.x=alignObj.x}return alignImage}exports.getAlignImage=getAlignImage},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var UNDEF=void 0,conditionChecks={},rootSender={},managedFnCall=function managedFnCall(item,scope,event,args){try{item[0].call(scope,event,args||{})}catch(e){setTimeout(function(){throw e},0)}},slotLoader=function slotLoader(slot,event,args){var i=0,scope;if(!(slot instanceof Array)||event.cancelled){return}for(;i<slot.length;i+=1){if(slot[i].removed===true){slot.splice(i,1);i-=1;continue}if(slot[i][1]===event.sender||slot[i][1]===UNDEF){scope=slot[i][1]===event.sender?event.sender:rootSender;managedFnCall(slot[i],scope,event,args);if(event.detached===true){slot.splice(i,1);i-=1;event.detached=false}}if(event.cancelled===true){break}}},unpropagator=function unpropagator(){this.originalEvent&&this.originalEvent.stopPropagation&&this.originalEvent.stopPropagation.call&&this.originalEvent.stopPropagation()},unImdPropagator=function unImdPropagator(){this.cancelled=true;if(this.originalEvent&&this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation.call){this.originalEvent.stopImmediatePropagation()}else if(this.originalEvent&&this.originalEvent.stopPropagation&&this.originalEvent.stopPropagation.call){this.originalEvent.stopPropagation()}},detacher=function detacher(){return(this.detached=true)===false},undefaulter=function undefaulter(){this.defaultPrevented=true;this.originalEvent&&this.originalEvent.preventDefault&&this.originalEvent.preventDefault.call&&this.originalEvent.preventDefault()},isDuplicate=function isDuplicate(slot,listener,bind){var i=void 0,l=slot.length;for(i=0;i<l;i+=1){if(slot[i][0]===listener&&slot[i][1]===bind&&!slot[i].removed){return true}}},listeners={},lastEventId=0,addListener=function addListener(type,listener,bind,options){var recurseReturn,i,slot;if(type instanceof Array){recurseReturn=[];for(i=0;i<type.length;i+=1){recurseReturn.push(addListener(type[i],listener,bind))}return recurseReturn}if(typeof type!=="string"){raiseError(bind,"03091549","param","::addListener",new Error("Unspecified Event Type"));return}if(typeof listener!=="function"){raiseError(bind,"03091550","param","::addListener",new Error("Invalid Event Listener"));return}type=type.toLowerCase();if(bind){if(!bind._evtListeners){bind._evtListeners={}}if(!(bind._evtListeners[type]instanceof Array)){bind._evtListeners[type]=[]}slot=bind._evtListeners[type]}else{if(!(listeners[type]instanceof Array)){listeners[type]=[]}slot=listeners[type]}if(isDuplicate(slot,listener,bind)){return false}options&&options.priority?slot.unshift([listener,bind]):slot.push([listener,bind]);return listener},removeListener=function removeListener(type,listener,bind){var slot,i;if(typeof listener!=="function"){raiseError(bind,"03091560","param","::removeListener",new Error("Invalid Event Listener"));return}if(type instanceof Array){for(i=0;i<type.length;i+=1){removeListener(type[i],listener,bind)}return}slot=getListeners(type,bind);if(!(slot instanceof Array&&slot.length)){return}for(i=slot.length-1;i>=0;i-=1){if(slot[i][0]===listener&&slot[i][1]===bind){slot[i].removed=true}}},triggerEvent=function triggerEvent(type,sender,args,originalEvent,defaultFn,cancelFn){if(!sender||!sender.disposed){var eventObject,primarySlot,secondarySlot,tertiarySlot,quaternarySlot;type=type.toLowerCase();primarySlot=getListeners(type,sender);secondarySlot=getListeners("*",sender);tertiarySlot=listeners[type];quaternarySlot=listeners["*"];if(primarySlot&&primarySlot.length||secondarySlot&&secondarySlot.length||tertiarySlot&&tertiarySlot.length||quaternarySlot&&quaternarySlot.length){eventObject={type:type,eventType:type,eventId:lastEventId+=1,sender:sender||new Error("Orphan Event"),stopPropagation:unpropagator,stopImmediatePropagation:unImdPropagator,cancelled:false,preventDefault:undefaulter,defaultPrevented:false,originalEvent:originalEvent,detached:false,data:args,detachHandler:detacher};slotLoader(quaternarySlot,eventObject,args);slotLoader(tertiarySlot,eventObject,args);if(sender){slotLoader(getListeners("*",sender),eventObject,args);slotLoader(getListeners(type,sender),eventObject,args)}}if(eventObject&&eventObject.defaultPrevented){if(cancelFn&&typeof cancelFn==="function"){cancelFn.call(sender,eventObject,args||{})}}else if(defaultFn&&typeof defaultFn==="function"){defaultFn.call(sender,eventObject,args||{})}return true}},getListeners=function getListeners(type,bind){if(typeof type!=="string"){raiseError(bind,"03091559","param","::removeListener",new Error("Unspecified Event Type"));return}type=type.toLowerCase();return bind?bind._evtListeners&&bind._evtListeners[type]:listeners[type]},disposeEvents=function disposeEvents(target){var type,evtListeners=target?target._evtListeners:listeners;for(type in evtListeners){evtListeners[type].length&&(evtListeners[type].length=0)}},errorNatures={type:"TypeException",range:"ValueRangeException",impl:"NotImplementedException",param:"ParameterException",run:"RuntimeException",comp:"DesignTimeError",undefined:"UnspecifiedException"},raiseEWEvent=function raiseEWEvent(sender,id,nature,source,err,level){var message="#"+id+" "+(sender?sender.id:"unknown-source")+source+" "+level+" >> ",args;if(err instanceof Error){err.name=errorNatures[nature];err.module="FusionCharts"+source;err.level=level;err.message=message+err.message;message=err.message;setTimeout(function(){throw err},0)}else{message=message+err}args={id:id,nature:errorNatures[nature],source:"FusionCharts"+source,message:message};triggerEvent(level,sender,args)},raiseError=function raiseError(sender,id,nature,source,message){raiseEWEvent(sender,id,nature,source,message,"Error")},raiseWarning=function raiseWarning(sender,id,nature,source,message){raiseEWEvent(sender,id,nature,source,message,"Warning")},raiseEventGroup=function raiseEventGroup(check,name,args,obj,eventScope,defaultFn,cancelledFn){var id=obj.id,hash=check+id;if(conditionChecks[hash]){clearTimeout(conditionChecks[hash]);delete conditionChecks[hash]}else{if(id&&hash){conditionChecks[hash]=setTimeout(function(){triggerEvent(name,obj,args,eventScope,defaultFn,cancelledFn);delete conditionChecks[hash]},0)}else{triggerEvent(name,obj,args,eventScope,defaultFn,cancelledFn)}}},setRootSender=function setRootSender(){var sender=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};rootSender=sender};exports.addListener=addListener;exports.removeListener=removeListener;exports.triggerEvent=triggerEvent;exports.getListeners=getListeners;exports.disposeEvents=disposeEvents;exports.raiseWarning=raiseWarning;exports.raiseError=raiseError;exports.raiseEventGroup=raiseEventGroup;exports.setRootSender=setRootSender},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.getDepsByType=exports.getDep=exports.addDep=undefined;var _eventApi=__webpack_require__(124);var typeStore={},depStore={};function getExtensionName(extension){var name=extension.getName&&extension.getName()||extension.name;if(typeof name==="undefined"){(0,_eventApi.raiseError)({id:"Extension"},"90211","extension","Name",new Error("A FusionCharts extension must have a getName API or a name property."))}return name&&name.toLowerCase()}function getExtensionType(extension){var type=extension.getType&&extension.getType()||extension.type;return type&&type.toLowerCase()}function defineDepType(type){if(typeof type==="string"){typeStore[type]={}}}function addDep(dep){var extensionName=void 0,pluggableComponent=void 0,extensionType=void 0,isFirstTimeAdd=void 0,requiresFusionCharts=void 0;if(dep.extension){pluggableComponent=dep.extension}else{pluggableComponent=dep}extensionName=getExtensionName(dep);extensionType=getExtensionType(dep);requiresFusionCharts=dep.requiresFusionCharts;if(extensionType){!typeStore[extensionType]&&defineDepType(extensionType);if(isFirstTimeAdd=typeStore[extensionType][extensionName]!==pluggableComponent){typeStore[extensionType][extensionName]=pluggableComponent}}else if(extensionName){if(isFirstTimeAdd=depStore[extensionName]!==pluggableComponent){depStore[extensionName]=pluggableComponent}}isFirstTimeAdd&&(0,_eventApi.triggerEvent)("dependencyadded",this,{name:extensionName,type:extensionType});isFirstTimeAdd&&requiresFusionCharts&&pluggableComponent(this)}function getDep(name,type){var dependency=void 0;name=name&&name.toLowerCase();if(type&&typeStore[type]){return typeStore[type][name]}else if(!type){for(var key in typeStore){if(typeStore.hasOwnProperty(key)){dependency=typeStore[key][name];if(dependency){return dependency}}}}return depStore[name]}function getDepsByType(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return type===""?typeStore:typeStore[type.toLowerCase()]}exports.addDep=addDep;exports.getDep=getDep;exports.getDepsByType=getDepsByType},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.onDataUpdateCancel=exports.onDataUpdateSuccess=exports.cache=exports.dataStore=undefined;var _eventApi=__webpack_require__(124);var dataStore={},cache={};function onDataUpdateCancel(event,args){(0,_eventApi.triggerEvent)("dataUpdateCancelled",event.sender,args,void 0,args.failurecallback)}function onDataUpdateSuccess(event,args){var chart=event.sender,state=chart.__state,chartId=chart.id;dataStore[chartId]=args;if(cache[chartId]){delete cache[chartId]}cache[chartId]={};state.dataReady=void 0;state.dataAvailable=true;if(args.silent!==true){if(chart.options.safeMode===true&&state.rendering===true&&!chart.isActive()){state.updatePending=args;(0,_eventApi.raiseWarning)(chart,"23091255","run","::DataHandler~update","Renderer update was postponed due to async loading.")}else{delete state.args;chart.update(args)}}else{chart.options.dataSource=args.data}(0,_eventApi.triggerEvent)("dataUpdated",chart,args,void 0,args.successcallback)}exports.dataStore=dataStore;exports.cache=cache;exports.onDataUpdateSuccess=onDataUpdateSuccess;exports.onDataUpdateCancel=onDataUpdateCancel},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function clearStateEventHandler(event){delete event.sender.jsVars._reflowData;event.sender.jsVars._reflowData={};delete event.sender.jsVars._reflowClean}exports["default"]={beforeInitialize:function beforeInitialize(event){var sender=event.sender,vars=sender.jsVars,userArg;vars.fcObj=sender;vars.msgStore=vars.msgStore||{LoadDataErrorText:"Error in loading data.",XMLLoadingText:"Retrieving data. Please wait",InvalidXMLText:"Invalid data.",ChartNoDataText:"No data to display.",ReadingDataText:"Reading data. Please wait",ChartNotSupported:"Chart type not supported.",PBarLoadingText:"",LoadingText:"Loading chart. Please wait",RenderChartErrorText:"Unable to render chart."};vars.cfgStore=vars.cfgStore||{};vars.previousDrawCount=-1;vars.drawCount=0;vars._reflowData={};sender.addEventListener("beforeRender",function(e){return e.detachHandler()});if(!(vars.userModules instanceof Array)){userArg=vars.userModules;vars.userModules=[];if(typeof userArg==="string"){vars.userModules=vars.userModules.concat(userArg.split(","))}}},beforeDataUpdate:clearStateEventHandler,beforeDispose:function beforeDispose(event){var chart=event.sender,vars=chart.jsVars;vars.smartLabel&&!vars.smartLabel.disposed&&vars.smartLabel.dispose();clearStateEventHandler.apply(undefined,arguments)},beforeRender:function beforeRender(event){var chart=event.sender,vars=chart.jsVars;delete vars.drLoadAttempted;clearStateEventHandler.apply(undefined,arguments)},dataLoadRequested:function dataLoadRequested(event){var obj=event.sender,vars=obj.jsVars;delete vars.loadError;if(obj.ref&&obj.options.showDataLoadingMessage){if(vars.hcObj&&!vars.hasNativeMessage&&vars.hcObj.showLoading){vars.hcObj.showMessage(vars.msgStore.XMLLoadingText)}else if(obj.ref.showChartMessage){obj.ref.showChartMessage("XMLLoadingText")}else{vars.stallLoad=true}}else{vars.stallLoad=true}},dataLoadRequestCompleted:function dataLoadRequestCompleted(event){var obj=event.sender,vars=obj.jsVars;delete vars.stallLoad},dataLoadError:function dataLoadError(event){var obj=event.sender,vars=obj.jsVars,args=obj.args,options=obj.options;delete vars.stallLoad;vars.loadError=true;obj._chartMessageImageStyle={imageHAlign:args.dataLoadErrorMessageImageHAlign||options.baseChartMessageImageHAlign,imageVAlign:args.dataLoadErrorMessageImageVAlign||options.baseChartMessageImageVAlign,imageAlpha:args.dataLoadErrorMessageImageAlpha||options.baseChartMessageImageAlpha,imageScale:args.dataLoadErrorMessageImageScale||options.baseChartMessageImageScale};obj._chartMessageStyle={color:args.dataLoadErrorMessageColor||options.baseChartMessageColor,fontFamily:args.dataLoadErrorMessageFont||options.baseChartMessageFont,fontSize:args.dataLoadErrorMessageFontSize||options.baseChartMessageFontSize};if(obj.apiInstance.setChartMessage){obj.apiInstance.setChartMessage(options.dataLoadErrorMessage,obj);obj.apiInstance.drawChartMessage()}if(obj.__state.dataFetchDuringConstruction){delete obj.__state.dataFetchDuringConstruction}clearStateEventHandler.apply(undefined,arguments)}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.globalStore=undefined;var _lib=__webpack_require__(118);var _eventApi=__webpack_require__(124);var _dependencyManager=__webpack_require__(125);var _schedular=__webpack_require__(129);var _globalstore=__webpack_require__(130);var _globalstore2=_interopRequireDefault(_globalstore);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var percentRegex=/\%/,globalStore=new _globalstore2["default"],handleContainerResize=function(){var store={},intervalId,LocalFC,trackResize=function trackResize(){var item,itemObj,itemVar,parentEle,count=0,ref,s,offW,INTERVALMS=parseInt(LocalFC.options.resizeTrackingInterval,10)||300,jsVars={},storeContainerSize=function storeContainerSize(){jsVars.itemVar._containerOffsetW=jsVars.parentEle.offsetWidth;jsVars.itemVar._containerOffsetH=jsVars.parentEle.offsetHeight},offH;for(item in store){count+=1;itemObj=store[item];itemVar=itemObj.jsVars;ref=itemObj.ref;if(!itemObj.disposed&&(parentEle=ref&&ref.parentNode)&&(s=ref.style)&&(percentRegex.test(s.width)||percentRegex.test(s.height))){offW=parentEle.offsetWidth;offH=parentEle.offsetHeight;if(!itemVar.resizeLocked&&(offW&&itemVar._containerOffsetW!==offW||offH&&itemVar._containerOffsetH!==offH)){itemObj.resizeTo&&itemObj.resizeTo();jsVars.itemVar=itemVar;jsVars.parentEle=parentEle;setTimeout(storeContainerSize,1)}}else{delete store[item];count-=1}}if(!count){intervalId=clearTimeout(intervalId)}else{intervalId=setTimeout(trackResize,INTERVALMS)}};return function(sender,container,FusionCharts){var vars=sender.jsVars,element=container||sender.ref&&sender.ref.parentNode||{};LocalFC=FusionCharts;vars._containerOffsetW=element.parentNode.offsetWidth;vars._containerOffsetH=element.parentNode.offsetHeight;store[sender.id]=sender;if(!intervalId){intervalId=setTimeout(trackResize,parseInt(FusionCharts.options.resizeTrackingInterval,10)||300)}}}();function createChart(FusionCharts,chartObj,container,type,notify,message,suppressDataEvents){var vars=chartObj.jsVars,dataComp,dataObj,instanceAPI=chartObj.apiInstance,hasNativeMessage=vars.hasNativeMessage,chartOptions=chartObj.options,args=chartObj.args,secondTimeRender=vars.secondTimeRender,Api,eiMethods,method,ToolTipController,toolTipController,callback,mapOptions,attributes,isMap,chartWidth=percentRegex.test(chartObj.width)?container.offsetWidth:chartObj.width,chartHeight=percentRegex.test(chartObj.height)?container.offsetHeight:chartObj.height,postConfigure=function postConfigure(){instanceAPI.setChartEvents();callback({hasRendered:true,container:container})},isDataErroneous=function isDataErroneous(){var errorPresent=dataComp.error instanceof Error;if(errorPresent){chartObj._chartMessageImageStyle={imageHAlign:(0,_lib.pluck)(args.dataInvalidMessageImageHAlign,chartOptions.baseChartMessageImageHAlign).toLowerCase(),imageVAlign:(0,_lib.pluck)(args.dataInvalidMessageImageVAlign,chartOptions.baseChartMessageImageVAlign).toLowerCase(),imageAlpha:(0,_lib.pluckNumber)(args.dataInvalidMessageImageAlpha,chartOptions.baseChartMessageImageAlpha),imageScale:(0,_lib.pluckNumber)(args.dataInvalidMessageImageScale,chartOptions.baseChartMessageImageScale)};chartObj._chartMessageStyle={fontFamily:args.dataInvalidMessageFont||chartOptions.baseChartMessageFont,fontSize:args.dataInvalidMessageFontSize||chartOptions.baseChartMessageFontSize,color:args.dataInvalidMessageColor||chartOptions.baseChartMessageColor};instanceAPI.createBaseComponent();instanceAPI.getFromEnv("animationManager").setAnimationState("chartmessage");instanceAPI.setChartMessage(chartOptions.dataInvalidMessage,chartObj,container);instanceAPI.drawChartMessage();instanceAPI.getContainer("parentgroup")&&instanceAPI.getContainer("parentgroup").hide();hasNativeMessage=vars.hasNativeMessage=true;chartObj.__state.dataReady=false;if(!suppressDataEvents){(0,_eventApi.triggerEvent)("dataInvalid",vars.fcObj,{error:dataComp.error},_lib.UNDEF,function(){(0,_eventApi.triggerEvent)("dataxmlinvalid",chartObj,{},[chartObj.id])})}}return errorPresent};type=type||chartObj.chartType();Api=(0,_dependencyManager.getDep)(type,"chartapi");if(!Api&&(mapOptions=(0,_dependencyManager.getDep)(type,"maps"))){Api=(0,_dependencyManager.getDep)("maps","chartapi");isMap=true}if(instanceAPI){instanceAPI.addToEnv("chartWidth",chartWidth);instanceAPI.addToEnv("chartHeight",chartHeight)}container.FusionCharts=FusionCharts.items[chartObj.id];args.asyncRender=(0,_lib.pluckNumber)(args.asyncRender,1);callback=function callback(obj){if(!chartObj.disposed){var eventArgs={renderer:"javascript"},fcObj=vars.fcObj,w=fcObj.width,h=fcObj.height,backEle=vars.overlayButton;hasNativeMessage=vars.hasNativeMessage;vars.container=container;vars.hcObj=obj;vars.width=instanceAPI.getFromEnv("chartWidth");vars.height=instanceAPI.getFromEnv("chartHeight");vars.instanceAPI=instanceAPI;if(obj.hasRendered){if(vars.overlayButtonActive&&backEle){backEle.innerHTML=_lib.BLANK;backEle.appendChild(document.createTextNode(vars.overlayButtonMessage));obj.container.appendChild(backEle)}}if((/\%/g.test(w)||/\%/g.test(h))&&container&&container.parentNode&&!FusionCharts.options.preventTrackResize){handleContainerResize(fcObj,container,FusionCharts)}if(notify){notify({success:obj.hasRendered,ref:container,id:chartObj.id});if(obj.hasRendered&&!chartObj.disposed){instanceAPI.config.hasRendered=true;if(chartObj.disposed===true){return}if(!hasNativeMessage){fcObj.__state.firstRenderNotified=true;instanceAPI.addJob("postFirstRender-fire-rendered",function(){(0,_eventApi.triggerEvent)("rendered",fcObj,{renderer:"javascript"},[fcObj.id])},_schedular.priorityList.postRender)}}}if(!chartObj.disposed){if(obj.hasRendered&&vars.previousDrawCount<vars.drawCount){eventArgs.width=vars.width;eventArgs.height=vars.height;eventArgs.drawCount=vars.drawCount;eventArgs.displayingMessage=hasNativeMessage;eventArgs.renderer=fcObj.options.renderer;(0,_eventApi.triggerEvent)("drawcomplete",fcObj,eventArgs,[fcObj.id]);if(!chartObj.disposed){if(!hasNativeMessage&&!suppressDataEvents){instanceAPI.addJob("postSecondRender-fire-rendered",function(){if(fcObj.__state&&!fcObj.__state.firstRenderNotified){(0,_eventApi.triggerEvent)("rendered",fcObj,{renderer:"javascript"},[fcObj.id])}(0,_eventApi.triggerEvent)("renderComplete",fcObj,eventArgs)},_schedular.priorityList.postRender)}}}}}};if(instanceAPI&&instanceAPI.getState("initiated")){(0,_eventApi.triggerEvent)("internal.drawStart",chartObj,{chartType:type,logicName:instanceAPI.name,logicBase:instanceAPI.base&&instanceAPI.base.name,defaultSeriesType:instanceAPI.defaultSeriesType});if(!chartObj.disposed){if(instanceAPI.getState("stallLoad")){instanceAPI.setState("stallLoad",false);instanceAPI.setState("state","initial")}else{instanceAPI.setState("state","update")}dataComp=chartObj.jsVars&&chartObj.jsVars.themeObject&&chartObj.jsVars.themeObject.getThemedJSONData()||chartObj.getChartData((0,_dependencyManager.getDepsByType)("transcoder").JSON,true,true);dataObj=dataComp.data;instanceAPI.addToEnv("dataSource",dataObj);instanceAPI.addToEnv("chart-attrib",dataObj.chart);if(isDataErroneous()){return}if(instanceAPI._checkInvalidData()||instanceAPI._checkInvalidSpecificData()){instanceAPI.createBaseComponent();instanceAPI.getFromEnv("animationManager").setAnimationState("chartmessage");instanceAPI.setChartMessage();instanceAPI.drawChartMessage();(0,_eventApi.triggerEvent)("nodatatodisplay",chartObj,{},[chartObj.id]);if(!chartObj.disposed){callback&&callback({hasRendered:true,container:container});instanceAPI.getContainer("parentgroup")&&instanceAPI.getContainer("parentgroup").hide()}return}else{instanceAPI.config.hasChartMessage=false}if(!suppressDataEvents){(0,_eventApi.triggerEvent)("dataloaded",chartObj,{},[chartObj.id])}if(!chartObj.disposed){instanceAPI._removeWaitingJobs();instanceAPI.addToEnv("chartWidth",chartWidth);instanceAPI.addToEnv("chartHeight",chartHeight);instanceAPI.setData(dataObj);if(!chartObj.hasRendered()&&instanceAPI.getFromEnv("paper")){instanceAPI.setChartEvents()}callback({hasRendered:true,container:container})}}}else if(instanceAPI&&type==="base"){instanceAPI.createBaseComponent();instanceAPI.getFromEnv("animationManager").setAnimationState("chartmessage");instanceAPI.setChartMessage(message,chartObj,container);instanceAPI.drawChartMessage();notify({success:true,ref:container,id:chartObj.id})}else{if(instanceAPI&&instanceAPI.getName()==="base"&&type!=="base"){instanceAPI.remove({instant:true});instanceAPI=_lib.UNDEF}if(!instanceAPI){instanceAPI=chartObj.apiInstance=new Api;globalStore.attachChild(instanceAPI,"chartAPI");instanceAPI.addToEnv("chartInstance",chartObj);instanceAPI.addToEnv("chart",instanceAPI);instanceAPI.addToEnv("chart-container",container);instanceAPI.addToEnv("chartWidth",chartWidth);instanceAPI.addToEnv("chartHeight",chartHeight);instanceAPI.addToEnv("eventListeners",[]);if(isMap){mapOptions=mapOptions[0];for(attributes in mapOptions){if(mapOptions.hasOwnProperty(attributes)){instanceAPI.config[attributes]=mapOptions[attributes]}}}if(type!=="base"){ToolTipController=(0,_dependencyManager.getDep)("ToolTipController");toolTipController=new ToolTipController(container);instanceAPI.addToEnv("toolTipController",toolTipController);instanceAPI.disposeChartStyleSheet();instanceAPI.addEventListener("postconfigure",function(e){instanceAPI.addJob("postConfigure-lagacy-fn",postConfigure,_schedular.priorityList.postRender);e.detachHandler()});instanceAPI.setState("initiated",true);chartObj.__state.dataReady=true}instanceAPI.addToEnv("core-options",FusionCharts.options)}instanceAPI.config.origRenderWidth=chartObj.__state.renderedWidth;instanceAPI.config.origRenderHeight=chartObj.__state.renderedHeight;if(type!=="base"){container.jsVars=chartObj.jsVars;eiMethods=instanceAPI.eiMethods;chartObj.ref=container;vars.type=type;if(eiMethods&&typeof eiMethods!=="string"){for(method in eiMethods){container[method]=eiMethods[method]}}(0,_eventApi.triggerEvent)("loaded",chartObj,{type:type,renderer:"javascript"},[chartObj.id])}if(!chartObj.disposed){if(type==="base"){instanceAPI.setDummyEImethods(chartObj.chartType());instanceAPI.createBaseComponent();instanceAPI.getFromEnv("animationManager").setAnimationState("chartmessage");instanceAPI.setChartMessage(message,chartObj,container);instanceAPI.drawChartMessage()}else if(message!==_lib.UNDEF){if(typeof message==="string"){instanceAPI.setChartMessage(message,chartObj,container);instanceAPI.drawChartMessage();hasNativeMessage=vars.hasNativeMessage=true}}else if(!(instanceAPI&&instanceAPI.configure)||instanceAPI&&instanceAPI.name==="base"){chartObj._chartMessageImageStyle={imageHAlign:(0,_lib.pluck)(args.typeNotSupportedMessageImageHAlign,chartOptions.baseChartMessageImageHAlign).toLowerCase(),imageVAlign:(0,_lib.pluck)(args.typeNotSupportedMessageImageVAlign,chartOptions.baseChartMessageImageVAlign).toLowerCase(),imageAlpha:(0,_lib.pluckNumber)(args.typeNotSupportedMessageImageAlpha,chartOptions.baseChartMessageImageAlpha),imageScale:(0,_lib.pluckNumber)(args.typeNotSupportedMessageImageScale,chartOptions.baseChartMessageImageScale)};chartObj._chartMessageStyle={color:args.typeNotSupportedMessageColor||chartOptions.baseChartMessageColor,fontFamily:args.typeNotSupportedMessageFont||chartOptions.baseChartMessageFont,fontSize:args.typeNotSupportedMessageFontSize||chartOptions.baseChartMessageFontSize};instanceAPI.setChartMessage(chartOptions.typeNotSupportedMessage,chartObj,container);instanceAPI.drawChartMessage();hasNativeMessage=vars.hasNativeMessage=true}else if(vars.message){instanceAPI.setChartMessage(vars.message,chartObj,container);instanceAPI.drawChartMessage();hasNativeMessage=vars.hasNativeMessage=true}else if(vars.loadError){chartObj._chartMessageImageStyle={imageHAlign:(0,_lib.pluck)(args.dataLoadErrorMessageImageHAlign,chartOptions.baseChartMessageImageHAlign).toLowerCase(),imageVAlign:(0,_lib.pluck)(args.dataLoadErrorMessageImageVAlign,chartOptions.baseChartMessageImageVAlign).toLowerCase(),imageAlpha:(0,_lib.pluckNumber)(args.dataLoadErrorMessageImageAlpha,chartOptions.baseChartMessageImageAlpha),imageScale:(0,_lib.pluckNumber)(args.dataLoadErrorMessageImageScale,chartOptions.baseChartMessageImageScale)};chartObj._chartMessageStyle={color:args.dataLoadErrorMessageColor||chartOptions.baseChartMessageColor,fontFamily:args.dataLoadErrorMessageFont||chartOptions.baseChartMessageFont,fontSize:args.dataLoadErrorMessageFontSize||chartOptions.baseChartMessageFontSize};instanceAPI.createBaseComponent();instanceAPI.getFromEnv("animationManager").setAnimationState("chartmessage");instanceAPI.setChartMessage(chartOptions.dataLoadErrorMessage,chartObj,container);instanceAPI.drawChartMessage();hasNativeMessage=vars.hasNativeMessage=true}else if(vars.stallLoad){instanceAPI.setState("stallLoad",true);chartObj._chartMessageImageStyle={imageHAlign:(0,_lib.pluck)(args.dataLoadStartMessageImageHAlign,chartOptions.baseChartMessageImageHAlign).toLowerCase(),imageVAlign:(0,_lib.pluck)(args.dataLoadStartMessageImageVAlign,chartOptions.baseChartMessageImageVAlign).toLowerCase(),imageAlpha:(0,_lib.pluckNumber)(args.dataLoadStartMessageImageAlpha,chartOptions.baseChartMessageImageAlpha),imageScale:(0,_lib.pluckNumber)(args.dataLoadStartMessageImageScale,chartOptions.baseChartMessageImageScale)};chartObj._chartMessageStyle={fontFamily:args.dataLoadStartMessageFont||chartOptions.baseChartMessageFont,fontSize:args.dataLoadStartMessageFontSize||chartOptions.baseChartMessageFontSize,color:args.dataLoadStartMessageColor||chartOptions.baseChartMessageColor};instanceAPI.createBaseComponent();instanceAPI.getFromEnv("animationManager").setAnimationState("chartmessage");instanceAPI.setChartMessage(chartOptions.dataLoadStartMessage,chartObj,container);instanceAPI.drawChartMessage();hasNativeMessage=vars.hasNativeMessage=true;callback({hasRendered:true,container:container})}else if(type==="zoomscatter"&&!document.createElement("canvas").getContext){chartObj._chartMessageImageStyle={imageHAlign:(0,_lib.pluck)(args.browserNotSupportedMessageImageHAlign,chartOptions.baseChartMessageImageHAlign).toLowerCase(),imageVAlign:(0,_lib.pluck)(args.browserNotSupportedMessageImageVAlign,chartOptions.baseChartMessageImageVAlign).toLowerCase(),imageAlpha:(0,_lib.pluckNumber)(args.browserNotSupportedMessageImageAlpha,chartOptions.baseChartMessageImageAlpha),imageScale:(0,_lib.pluckNumber)(args.browserNotSupportedMessageImageScale,chartOptions.baseChartMessageImageScale)};chartObj._chartMessageStyle={color:args.browserNotSupportedMessageColor||chartOptions.baseChartMessageColor,fontFamily:args.browserNotSupportedMessageFont||chartOptions.baseChartMessageFont,fontSize:args.browserNotSupportedMessageFontSize||chartOptions.baseChartMessageFontSize};instanceAPI.createBaseComponent();instanceAPI.getFromEnv("animationManager").setAnimationState("chartmessage");instanceAPI.setChartMessage((0,_lib.pluck)(args.browserNotSupportedMessage,chartOptions.browserNotSupportedMessage),chartObj,container);instanceAPI.drawChartMessage();hasNativeMessage=vars.hasNativeMessage=true}else{(0,_eventApi.triggerEvent)("internal.drawStart",chartObj,{chartType:type,logicName:instanceAPI.name,logicBase:instanceAPI.base&&instanceAPI.base.name,defaultSeriesType:instanceAPI.defaultSeriesType});if(!chartObj.disposed){dataComp=chartObj.jsVars&&chartObj.jsVars.themeObject&&chartObj.jsVars.themeObject.getThemedJSONData()||chartObj.getChartData((0,_dependencyManager.getDepsByType)("transcoder").JSON,true);dataObj=dataComp.data;instanceAPI.setState("state","initial");if(!isDataErroneous()){if(!suppressDataEvents){(0,_eventApi.triggerEvent)("dataloaded",chartObj,{},[chartObj.id])}if(!chartObj.disposed){if(instanceAPI.getFromEnv("chartInstance").disposed===true){return}if(args.asyncRender&&!secondTimeRender&&type!=="base"){instanceAPI.createBaseComponent();instanceAPI.getFromEnv("animationManager").setAnimationState("chartmessage");instanceAPI.setChartMessage(instanceAPI.getFromEnv("chartInstance").options.loadMessage,_lib.UNDEF,container);instanceAPI.drawChartMessage();instanceAPI.config.hasChartMessage=false}instanceAPI.addToEnv("dataSource",dataObj);instanceAPI.addToEnv("chart-attrib",dataObj.chart);if(instanceAPI._checkInvalidData()||instanceAPI._checkInvalidSpecificData()){instanceAPI.createBaseComponent();instanceAPI.getFromEnv("animationManager").setAnimationState("chartmessage");instanceAPI.setChartMessage();instanceAPI.drawChartMessage();(0,_eventApi.triggerEvent)("nodatatodisplay",chartObj,{},[chartObj.id]);callback&&callback({hasRendered:true,container:container});return}else{instanceAPI.config.hasChartMessage=false}instanceAPI.setData(dataObj)}}}}}}vars.secondTimeRender=true}exports.globalStore=globalStore;exports["default"]=createChart},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var jobList=[],pausedList={},priorityJobList=[],jobByID={},jobCount=0,win=window,nav=win.navigator,isIE11=/trident/i.test(nav.userAgent)&&/rv:11/i.test(nav.userAgent)&&!win.opera,isIE=/msie/i.test(nav.userAgent)&&!win.opera,isEdge=/Edge/.test(nav.userAgent),minMsThreshold=16,schedular={},fnStr="function",jobPrefixStr="JOB_",priorityList={instant:1,render:1,chartEvents:1,configure:2,chartClick:2,draw:3,entitydraw:4,label:4,animation:5,tracker:6,kdTree:6,postRender:7},jobFrame=win.requestAnimationFrame||win.webkitRequestAnimationFrame||win.mozRequestAnimationFrame||win.oRequestAnimationFrame||win.msRequestAnimationFrame||function(callback){setTimeout(callback,minMsThreshold)},jobExecutionFramerequested=false,executeJob=function executeJob(){var contd=true,jobObj=void 0,startTime=(new Date).getTime(),timeNow=void 0,sfDone=void 0;jobExecutionFramerequested=true;while(contd&&(jobObj=jobList[0])){timeNow=(new Date).getTime();if((!jobObj.OIAF||!sfDone)&&(!jobObj.executeAfter||jobObj.executeAfter<timeNow)&&timeNow-startTime<minMsThreshold){jobList.shift();priorityJobList[jobObj.priority]-=1;if(jobByID[jobObj.jobID]&&!jobObj.executed){jobObj.executed=true;delete jobByID[jobObj.jobID];jobObj.job();sfDone=jobObj.OIAF}}else{contd=false}}if(jobList.length){jobFrame(executeJob)}else{jobExecutionFramerequested=false}};if(isIE11||isIE||isEdge){jobFrame=jobFrame.bind(window)}schedular.addJob=function(job,priority,options){var jobID,jobObj,i,position=0,OIAF=options&&options.oneInAFrame,loopLimit=options&&options.addToTop?priority-1:priority;if((typeof job==="undefined"?"undefined":_typeof(job))===fnStr){jobID=jobPrefixStr+ ++jobCount+"_"+(priority||1);jobObj={job:job,priority:priority,OIAF:OIAF,jobID:jobID};if(options&&options.executionDelay){jobObj.executeAfter=(new Date).getTime()+options.executionDelay}}else{jobObj=job}for(i=0;i<=loopLimit;i++){position+=priorityJobList[i]||0}jobList.splice(position,0,jobObj);jobByID[jobObj.jobID]=jobObj;priorityJobList[priority]=(priorityJobList[priority]||0)+1;if(!jobExecutionFramerequested&&jobList.length===1){OIAF?jobFrame(executeJob):setTimeout(executeJob,0)}return jobID};schedular.removeJob=function(jobID){if(jobByID[jobID]){delete jobByID[jobID]}};schedular.updateJob=function(jobID,job,priority,options){if(jobByID[jobID]){jobByID[jobID].job=job;return jobID}else{return this.addJob(job,priority,options)}};schedular.pauseExecution=function(jobID){if(jobByID[jobID]){pausedList[jobID]=jobByID[jobID];delete jobByID[jobID]}else{return false}};schedular.resumeExecution=function(jobID){var jobObj=pausedList[jobID];if(jobObj){schedular.addJob(jobObj,jobObj.priority);delete pausedList[jobID]}else{return false}};exports["default"]=schedular;exports.priorityList=priorityList},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var GlobalStore=function(_ComponentInterface){_inherits(GlobalStore,_ComponentInterface);function GlobalStore(){_classCallCheck(this,GlobalStore);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}GlobalStore.prototype.getName=function getName(){return"globalStore"};GlobalStore.prototype.getType=function getType(){return"globalStore"};return GlobalStore}(_componentInterface2["default"]);exports["default"]=GlobalStore},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.removeAllEventsFromGraphic=exports._mapSubFnForward=undefined;var _lib=__webpack_require__(118);var _eventApi=__webpack_require__(124);var _schedular=__webpack_require__(129);var _schedular2=_interopRequireDefault(_schedular);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var idCounterStore={},asyncDrawOptions={executionDelay:16},TS="touchstart",CLICK="click",_mapSubFnBackward=function _mapSubFnBackward(sub,callback){if(sub&&sub.hasOwnProperty&&callback&&callback.call){var key=void 0,child=void 0,i=void 0;for(key in sub){if(sub.hasOwnProperty(key)){child=sub[key];if(child instanceof Array){for(i=child.length-1;i>=0;i--){callback(child[i],key,i)}}else{callback(child,key)}}}}},_mapSubFnForward=function _mapSubFnForward(sub,callback){if(sub&&sub.hasOwnProperty&&callback&&callback.call){var key=void 0,child=void 0,i=void 0,length=void 0;for(key in sub){if(sub.hasOwnProperty(key)){child=sub[key];if(child instanceof Array){length=child.length;for(i=0;i<length;i++){callback(child[i],key,i)}}else{callback(child,key)}}}}};function addEventOnAllGraphics(component,eventType,listener){var callBack;if(eventType&&listener){callBack=function callBack(element){element.on&&element.on(eventType,listener)};_mapSubFnForward(component.getGraphicalElement(),callBack);_mapSubFnForward(component.getChildContainer(),callBack)}}function removeEventFromAllGraphics(component,eventType,listener){var callBack;if(eventType&&listener){callBack=function callBack(element){element.off&&element.off(eventType,listener)};_mapSubFnForward(component.getGraphicalElement(),callBack);_mapSubFnForward(component.getChildContainer(),callBack)}}function addAllEventsOnGraphic(graphicElement,listenersObj,component){var eventType,listeners;if(listenersObj&&listenersObj.hasOwnProperty){for(eventType in listenersObj){if(listenersObj.hasOwnProperty(eventType)){listeners=(0,_eventApi.getListeners)(eventType,component);if(listeners&&listeners.length>=1){graphicElement&&graphicElement.on(eventType,listenersObj[eventType])}}}}}function removeAllEventsFromGraphic(graphicElement,listenersObj){var eventType,listeners;if(listenersObj&&listenersObj.hasOwnProperty){for(eventType in listenersObj){if(listenersObj.hasOwnProperty(eventType)){listeners=(0,_eventApi.getListeners)(eventType,this);if(listeners&&listeners.length>=1){graphicElement&&graphicElement.off(eventType,listenersObj[eventType])}}}}}var ComponentInterface=function(){function ComponentInterface(){_classCallCheck(this,ComponentInterface);var component=this;component.config={};component._jobList={};component._components={};component._env={};component._extListeners={};component._state={};component._factories=[];component._factoriyNames={};component._graphics={};component.__drawJob=function(){component.updateVisual()};component.__remove=function(){component.getState("removed")&&component._dispose()};component._setRemoveAnim=function(el,label){var animationManager=component.getFromEnv("animationManager");animationManager.setAnimation({el:el,component:component,label:label,props:el.__props});component._setRemoveAnim=function(el,label){animationManager.setAnimation({el:el,component:component,label:label,props:el.__props})}};component.__instantRemoveFn=function(el){var animationManager=component.getFromEnv("animationManager");animationManager.removeElement(el,true);component.__instantRemoveFn=function(el){return animationManager.removeElement(el,true)}};component.fireEvent("instantiated");component.__setDefaultConfig()}ComponentInterface.prototype.configure=function configure(dataObj){this.preConfigure(dataObj);this.configureAttributes(dataObj);this.postConfigure(dataObj);this.invokeFactories()};ComponentInterface.prototype.preConfigure=function preConfigure(dataObj){this.fireEvent("preconfigure",dataObj)};ComponentInterface.prototype.configureAttributes=function configureAttributes(){return this};ComponentInterface.prototype.postConfigure=function postConfigure(dataObj){this.fireEvent("postconfigure",dataObj)};ComponentInterface.prototype.prepareAttributes=function prepareAttributes(){var component=this;component.fireEvent("beforeattributeprepared");component.allocatePosition&&component.allocatePosition();component._mapChildren(function(child){child.prepareAttributes&&child.prepareAttributes()});component.fireEvent("attributeprepared")};ComponentInterface.prototype.setDefaults=function setDefaults(){this.__setDefaultConfig();this._mapChildren(function(child){return child.setDefaults()})};ComponentInterface.prototype.__setDefaultConfig=function __setDefaultConfig(){return this};ComponentInterface.prototype.setData=function setData(config){var noOverWrite=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var component=this,changeInfo=void 0,parent=component.getLinkedParent();component.asyncDraw();!noOverWrite&&this.setDefaults();component.configure&&component.configure(config);changeInfo=component.getState("change-info");changeInfo&&changeInfo.hasNoExternalEffect||parent&&parent.childChange&&parent.childChange(changeInfo,component.getId())};ComponentInterface.prototype.getName=function getName(){return"generic"};ComponentInterface.prototype.getType=function getType(){return"generic"};ComponentInterface.prototype.getId=function getId(){if(!this._id){this.setId()}return this._id};ComponentInterface.prototype.setId=function setId(id){var key;if(id===_lib.UNDEF){key=this.getType()+_lib.UNDERSCORE+this.getName();if(!idCounterStore[key]){idCounterStore[key]=1}id=key+_lib.UNDERSCORE+idCounterStore[key];idCounterStore[key]+=1}this._id=id};ComponentInterface.prototype.iterateComponents=function iterateComponents(callback){var childIteratorCallback=function childIteratorCallback(child,key,index){var searchInDepth=callback(child,key,index);if(searchInDepth!==false&&child._mapChildren){child._mapChildren(childIteratorCallback)}};this._mapChildren(childIteratorCallback)};ComponentInterface.prototype._mapChildren=function _mapChildren(callback,backWord){if(backWord){_mapSubFnBackward(this.getChildren(),callback)}else{_mapSubFnForward(this.getChildren(),callback)}};ComponentInterface.prototype.getFromEnv=function getFromEnv(name){return name?this._env[name]:this._env};ComponentInterface.prototype.addToEnv=function addToEnv(name,value){if(name){this._env[name]=value}};ComponentInterface.prototype.deleteFromEnv=function deleteFromEnv(name){delete this._env[name]};ComponentInterface.prototype._updateParentEnv=function _updateParentEnv(){var parent=this.getLinkedParent(),pEnv,EnvConstractor,oldEnv=this._env,env,key;if(parent){pEnv=parent.getFromEnv();EnvConstractor=function EnvConstractor(){};EnvConstractor.prototype=pEnv;EnvConstractor.prototype.constructor=EnvConstractor;env=new EnvConstractor;if(oldEnv){for(key in oldEnv){if(oldEnv.hasOwnProperty(key)){env[key]=oldEnv[key]}}}this._env=env;this._mapChildren(function(child){child._updateParentEnv&&child._updateParentEnv()})}};ComponentInterface.prototype.addJob=function addJob(name,job,priority,options){var component=this;if(component._jobList[name]){component._jobList[name]=_schedular2["default"].updateJob(component._jobList[name],job,priority,options)}else{component._jobList[name]=_schedular2["default"].addJob(job,priority,options)}};ComponentInterface.prototype.removeJob=function removeJob(name){var jobId=this._jobList[name];if(jobId){_schedular2["default"].removeJob(jobId);delete this._jobList[name]}};ComponentInterface.prototype.removeAllJobs=function removeAllJobs(){var jobName=void 0,jobList=this._jobList;for(jobName in jobList){if(jobList.hasOwnProperty(jobName)){_schedular2["default"].removeJob(jobList[jobName]);delete jobList[name]}}};ComponentInterface.prototype.asyncDraw=function asyncDraw(){var component=this;component.addJob("draw",component.__drawJob,_schedular.priorityList&&_schedular.priorityList.draw,asyncDrawOptions)};ComponentInterface.prototype.syncDraw=function syncDraw(){var component=this;component.fireEvent("beforedraw");component.removeJob("draw");component.getState("removed")?component.removingDraw():component.draw&&component.draw();component.addExtEventListener("animationComplete",component.__remove,component.getFromEnv("animationManager"));component.childrenSyncDraw();component.setState("dirty",false);component.setState("parentChanged",false);component.addJob("draw-complete",function(){component.fireEvent("drawn")},_schedular.priorityList.instant)};ComponentInterface.prototype.updateVisual=function updateVisual(){var component=this;component.fireEvent("beforevisualupdate");component.removeJob("visualupdate");component.manageSpace&&component.manageSpace();component.prepareAttributes();component.syncDraw();component.fireEvent("visualupdated")};ComponentInterface.prototype.removingDraw=function removingDraw(){var component=this;_mapSubFnForward(component.getChildContainer(),component._setRemoveAnim);_mapSubFnForward(component.getGraphicalElement(),component._setRemoveAnim);_mapSubFnForward(component.getContainer(),component._setRemoveAnim)};ComponentInterface.prototype.childrenSyncDraw=function childrenSyncDraw(){this._mapChildren(function(child){child&&child.draw&&child.syncDraw()})};ComponentInterface.prototype.addEventListener=function addEventListener(eventType,callback,options){var component=this,listeners;if(eventType&&eventType.toLowerCase){eventType=eventType.toLowerCase();if((0,_eventApi.addListener)(eventType,callback,component,options)){if((0,_lib.isInterActiveEvt)(eventType)){listeners=(0,_eventApi.getListeners)(eventType,component);if(listeners&&listeners.length===1){if(!component._middleListeners){component._middleListeners={}}if(!component._middleListeners[eventType]){component._middleListeners[eventType]=function(e){component.fireEvent(eventType,_lib.UNDEF,_lib.UNDEF,_lib.UNDEF,e)}}addEventOnAllGraphics(component,eventType,component._middleListeners[eventType])}}return callback}}return false};ComponentInterface.prototype.removeEventListener=function removeEventListener(eventType,callback){var component=this,listeners;if(eventType&&eventType.toLowerCase){eventType=eventType.toLowerCase();(0,_eventApi.removeListener)(eventType,callback,this);if((0,_lib.isInterActiveEvt)(eventType)){listeners=(0,_eventApi.getListeners)(eventType,this);if(listeners&&listeners.length===0&&this._middleListeners&&this._middleListeners[eventType]){removeEventFromAllGraphics(component,eventType,this._middleListeners[eventType])}}}};ComponentInterface.prototype.fireEvent=function fireEvent(name,data,defaultFn,cancelledFn,originalEvent){(0,_eventApi.triggerEvent)(name,this,data,originalEvent,defaultFn,cancelledFn)};ComponentInterface.prototype.addExtEventListener=function addExtEventListener(eventType,callback,extComponent){var component=this,customCallbackTS,startTime,customCallbackClick;if(extComponent&&extComponent.addEventListener){if(_lib.touchEnabled&&extComponent.getType&&extComponent.getType()==="legendItem"&&eventType==="click"){customCallbackTS=function customCallbackTS(){startTime=(new Date).getTime()};customCallbackClick=function customCallbackClick(e){if(!startTime||(new Date).getTime()-startTime<600){callback.call(extComponent,e)}startTime=undefined};if(extComponent.addEventListener(TS,customCallbackTS)){if(!component._extListeners[TS]){component._extListeners[TS]=[]}component._extListeners[TS].push({fn:customCallbackTS,component:extComponent})}if(extComponent.addEventListener(CLICK,customCallbackClick)){if(!component._extListeners[CLICK]){component._extListeners[CLICK]=[]}component._extListeners[CLICK].push({fn:customCallbackClick,component:extComponent});return callback}}else{if(extComponent.addEventListener(eventType,callback)){if(!component._extListeners[eventType]){component._extListeners[eventType]=[]}component._extListeners[eventType].push({fn:callback,component:extComponent});return callback}}}return false};ComponentInterface.prototype.removeExtEventListener=function removeExtEventListener(eventType,callback,extComponent){var component=this,i,l,listenersArr;if(extComponent&&extComponent.addEventListener&&component._extListeners&&component._extListeners[eventType]){listenersArr=component._extListeners[eventType];l=listenersArr.length;for(i=l-1;i>=0;i-=1){if(listenersArr[i]&&listenersArr[i].fn===callback&&listenersArr[i].component===extComponent){extComponent.removeEventListener(eventType,callback);listenersArr.splice(i,1);return}}}};ComponentInterface.prototype.addGraphicalElement=function addGraphicalElement(name,element,isArray,arrayIndex){var graphics=this._graphics;isArray=isArray||false;if(element){if(isArray){graphics[name]===_lib.UNDEF&&(graphics[name]=[]);if(arrayIndex){graphics[name][arrayIndex]=element}else{graphics[name].push(element)}}else{graphics[name]=element;this.fireEvent("graphicalelementattached",{element:element})}addAllEventsOnGraphic(element,this._middleListeners,this)}return element};ComponentInterface.prototype.removeGraphicalElement=function removeGraphicalElement(element){var component=this,graphics=component._graphics,found=void 0;_mapSubFnForward(graphics,function(child,type,index){if(child===element){found=true;removeAllEventsFromGraphic(child,component._middleListeners);component._setRemoveAnim(child,type);if(index!==_lib.UNDEF){graphics[type].splice(index,1)}else{delete graphics[type]}}});if(found){this.fireEvent("graphicalelementremoved",{element:element})}};ComponentInterface.prototype.getGraphicalElement=function getGraphicalElement(name){return typeof name!=="undefined"?this._graphics[name]:this._graphics};ComponentInterface.prototype.addChildContainer=function addChildContainer(name,element){var component=this,containerStore=component._childContainers;if(element){if(containerStore===_lib.UNDEF){containerStore=component._childContainers={}}containerStore[name]=element;addAllEventsOnGraphic(element,component._middleListeners,component)}return element};ComponentInterface.prototype.removeChildContainer=function removeChildContainer(name){var component=this,containerStore=component._childContainers;if(containerStore&&containerStore[name]){removeAllEventsFromGraphic(containerStore[name],component._middleListeners);component._setRemoveAnim(containerStore[name],name);delete containerStore[name]}};ComponentInterface.prototype.getChildContainer=function getChildContainer(name){if(this._childContainers===_lib.UNDEF){this._childContainers={}}return name?this._childContainers[name]:this._childContainers};ComponentInterface.prototype.addContainer=function addContainer(name,element){var containerStore=this._containers;if(element){if(containerStore===_lib.UNDEF){containerStore=this._containers={}}containerStore[name]=element}return element};ComponentInterface.prototype.removeContainer=function removeContainer(name){var component=this,containerStore=component._containers;if(containerStore&&containerStore[name]){component._setRemoveAnim(containerStore[name],name);delete containerStore[name]}};ComponentInterface.prototype.getContainer=function getContainer(name){if(this._containers===_lib.UNDEF){this._containers={}}return name?this._containers[name]:this._containers};ComponentInterface.prototype._setLinkedParent=function _setLinkedParent(parent){var oldParent=this._linkedParent;this._linkedParent=parent;if(oldParent!==parent){this.setState("parentChanged",true);if(oldParent){this.fireEvent("parentdetached",{oldParent:oldParent})}if(parent){this.fireEvent("parentAttached",{newParent:parent})}}this._updateParentEnv&&this._updateParentEnv()};ComponentInterface.prototype.getLinkedParent=function getLinkedParent(){return this._linkedParent};ComponentInterface.prototype.setLinkedItem=function setLinkedItem(itemName,item){if(!this.linkedItems){this.linkedItems={}}if(itemName!==_lib.UNDEF||item!==_lib.UNDEF){this.linkedItems[itemName]=item}};ComponentInterface.prototype.getLinkedItem=function getLinkedItem(itemName){if(this.linkedItems){return itemName!==_lib.UNDEF?this.linkedItems[itemName]:this.linkedItems}};ComponentInterface.prototype.removeLinkedItem=function removeLinkedItem(itemName){if(this.linkedItems){this.linkedItems[itemName]&&delete this.linkedItems[itemName]}};ComponentInterface.prototype.attachChild=function attachChild(component,componentType,componentIsArray){var type=componentType||component.getType(),components=this._components;if(componentIsArray===false){components[type]=component}else{if(!(components[type]&&components[type]instanceof Array)){components[type]=[]}components[type].push(component)}component._setLinkedParent(this);this.fireEvent("childattached",{attachedChild:component});return component};ComponentInterface.prototype.getChild=function getChild(id){var attachedChildren=this._components,returnChild;if(id===_lib.UNDEF){return attachedChildren}this._searchChildren(id,function(foundChild){returnChild=foundChild});return returnChild};ComponentInterface.prototype._searchChildren=function _searchChildren(id,cb){var attachedChildren=this._components,attachedChild,key,i;for(key in attachedChildren){if(attachedChildren.hasOwnProperty(key)){attachedChild=attachedChildren[key];if(attachedChild.constructor===Array){for(i=attachedChild.length-1;i>=0;i--){if(attachedChild[i].getId&&attachedChild[i].getId()===id){return cb(attachedChild[i],i,attachedChild)}}}else{if(attachedChild.getId&&attachedChild.getId()===id){return cb(key,_lib.UNDEF,attachedChildren)}}}}};ComponentInterface.prototype.detachChild=function detachChild(id){var returnChild,component=this;if(id===_lib.UNDEF){return _lib.UNDEF}component._searchChildren(id,function(foundChild,idx,children){if(children&&children.constructor===Array){returnChild=children.splice(idx,1)[0]}else{returnChild=children[foundChild];delete children[foundChild]}returnChild._setLinkedParent(_lib.UNDEF);component.fireEvent("childdetached",{detachedChild:returnChild})});return returnChild};ComponentInterface.prototype.getChildren=function getChildren(componentType){return componentType?this._components[componentType]:this._components};ComponentInterface.prototype._dispose=function _dispose(){var component=this,parent,itemName,i,eventType,listenersArr;if(component&&component!==window&&component._disposing!==true){component._disposing=true;component.fireEvent("beforeremove");parent=component.getLinkedParent();if(parent&&parent.detachChild&&!parent._disposing){parent.detachChild(this.getId())}if(component._extListeners){for(eventType in component._extListeners){listenersArr=component._extListeners[eventType];for(i=listenersArr.length-1;i>=0;i--){if(listenersArr[i].component&&listenersArr[i].component.addEventListener){listenersArr[i].component.removeEventListener(eventType,listenersArr[i].fn)}}}}component.removeAllJobs();if(component.getFromEnv("paper")&&!component.getFromEnv("paper").removed){_mapSubFnForward(component.getChildContainer(),component.__instantRemoveFn);_mapSubFnForward(component.getGraphicalElement(),component.__instantRemoveFn);_mapSubFnForward(component.getContainer(),component.__instantRemoveFn)}for(itemName in component){if(component.hasOwnProperty(itemName)){delete component[itemName]}}component.fireEvent("removed")}};ComponentInterface.prototype.remove=function remove(config){var component=this,instantDispose=config&&config.instant,childComponents;component.setState("removed",true);childComponents=component.getChildren();if(childComponents){component._mapChildren(function(child){child&&child.remove&&child.remove(config)},true)}if(instantDispose){component._dispose()}};ComponentInterface.prototype.setState=function setState(name,value){this._state[name]=value};ComponentInterface.prototype.getState=function getState(name){return this._state&&this._state[name]};ComponentInterface.prototype.registerFactory=function registerFactory(name,callback,depedentOn){var factoryObj={name:name,factory:callback,dep:depedentOn};if(this._factoriyNames[name]){for(var i=0,l=this._factories.length,found=false;i<l&&!found;i+=1){if(this._factories[i].name===name){this._factories.splice(i,1);found=true}}}this._factories.push(factoryObj);this._factoriyNames[name]=true};ComponentInterface.prototype.deregisterFactory=function deregisterFactory(name){if(this._factoriyNames[name]){delete this._factoriyNames[name];return this._factories.splice(this._factories.findIndex(function(factoryObj){return factoryObj.name===name}),1)[0].factory}};ComponentInterface.prototype.invokeFactories=function invokeFactories(){var component=this,_factoriyNames=component._factoriyNames,executedList={},factories=component._factories,pendingFactories=void 0,lastNumPendingCount=factories.length+1,factoryExecutor=function factoryExecutor(factoryObj){var hasPendingDep=void 0;if(factoryObj.dep&&factoryObj.dep.length){factoryObj.dep.forEach(function(dep){hasPendingDep=_factoriyNames[dep]&&!executedList[dep]})}if(!hasPendingDep){factoryObj.factory(component);executedList[factoryObj.name]=true}else{pendingFactories.push(factoryObj)}};while(factories.length&&factories.length<lastNumPendingCount){pendingFactories=[];factories.forEach(factoryExecutor);lastNumPendingCount=factories.length;factories=pendingFactories}if(factories.length){factories.forEach(function(factoryObj){return factoryObj.factory(component)})}this.fireEvent("factoriesinvoked",{})};return ComponentInterface}();exports["default"]=ComponentInterface;exports._mapSubFnForward=_mapSubFnForward;exports.removeAllEventsFromGraphic=removeAllEventsFromGraphic},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(133);var _lib2=_interopRequireDefault(_lib);var _containerManager=__webpack_require__(134);var _containerManager2=_interopRequireDefault(_containerManager);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var slLib=_lib2["default"].init(window),doc=slLib.win.document,M=slLib.win.Math,max=M.max,round=M.round,BLANK="",htmlSplCharSpace={" ":"&nbsp;"},documentSupport=slLib.getDocumentSupport(),SVG_BBOX_CORRECTION=documentSupport.isWebKit?0:4.5;function SmartLabelManager(container,useEllipses,options){var wrapper,prop,max,isBrowserLess=false,canvas=window.document.createElement("canvas");options=options||{};options.maxCacheLimit=isFinite(max=options.maxCacheLimit)?max:slLib.maxDefaultCacheLimit;if(typeof container==="string"){container=doc.getElementById(container)}wrapper=slLib.createContainer(container);wrapper.innerHTML=slLib.testStrAvg;if(documentSupport.isHeadLess||!documentSupport.isIE&&!wrapper.offsetHeight&&!wrapper.offsetWidth){isBrowserLess=true}wrapper.innerHTML="";for(prop in slLib.parentContainerStyle){wrapper.style[prop]=slLib.parentContainerStyle[prop]}this.parentContainer=wrapper;this.ctx=canvas&&canvas.getContext&&canvas.getContext("2d");this._containerManager=new _containerManager2["default"](wrapper,isBrowserLess,10);this._showNoEllipses=!useEllipses;this._init=true;this.style={};this.oldStyle=1;this.options=options;this.setStyle()}SmartLabelManager.textToLines=function(smartlabel){smartlabel=smartlabel||{};if(!smartlabel.text){smartlabel.text=""}else if(typeof smartlabel.text!=="string"){smartlabel.text=smartlabel.text.toString()}smartlabel.lines=smartlabel.text.split(/\n|<br\s*?\/?>/gi);return smartlabel};SmartLabelManager.prototype._calCharDimWithCache=function(){var text=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var calculateDifference=arguments[1];var length=arguments[2];if(!this._init){return false}var size,csArr,tw,twi,cachedStyle,asymmetricDifference,maxAdvancedCacheLimit=this.options.maxCacheLimit,style=this.style||{},cache,advancedCacheKey,cacheName,cacheInitName;cache=this._advancedCache=this._advancedCache||(this._advancedCache={}),advancedCacheKey=this._advancedCacheKey||(this._advancedCacheKey=[]),cacheName=text+(style.fontSize||BLANK)+(style.fontFamily||BLANK)+(style.fontWeight||BLANK)+(style.fontStyle||BLANK),cacheInitName=text+"init"+(style.fontSize||BLANK)+(style.fontFamily||BLANK)+(style.fontWeight||BLANK)+(style.fontStyle||BLANK);!this.ctx&&htmlSplCharSpace[text]&&(text=htmlSplCharSpace[text]);if(!calculateDifference){asymmetricDifference=0}else{if((asymmetricDifference=cache[cacheInitName])===undefined){tw=this._getDimention(text.repeat?text.repeat(length):Array(length+1).join(text)).width;twi=this._getDimention(text).width;asymmetricDifference=cache[cacheInitName]=(tw-length*twi)/(length+1);advancedCacheKey.push(cacheInitName);if(advancedCacheKey.length>maxAdvancedCacheLimit){delete cache[advancedCacheKey.shift()]}}}if(cachedStyle=cache[cacheName]){csArr=cachedStyle.split(",");return{width:parseFloat(csArr[0],10),height:parseFloat(csArr[1],10)}}size=this._getDimention(text);size.width+=asymmetricDifference;cache[cacheName]=size.width+","+size.height;advancedCacheKey.push(cacheName);if(advancedCacheKey.length>maxAdvancedCacheLimit){delete cache[advancedCacheKey.shift()]}return size};SmartLabelManager.prototype._getDimention=function(text){if(this.requireDiv||!this.ctx){return slLib._getDimentionUsingDiv(text,this)}else{return slLib._getDimentionUsingCanvas(text,this)}};SmartLabelManager.prototype._getWidthFn=function(){var sl=this,contObj=sl._containerObj,svgText=contObj.svgText;if(svgText){return function(str){var bbox,width;svgText.textContent=str;bbox=svgText.getBBox();width=bbox.width-SVG_BBOX_CORRECTION;if(width<1){width=bbox.width}return width}}else{return function(str){if(sl.requireDiv||!sl.ctx){return slLib._getDimentionUsingDiv(str,sl).width}else{return slLib._getDimentionUsingCanvas(str,sl).width}}}};SmartLabelManager.prototype._setStyleOfCanvas=function(){if(this.style===this.oldStyle){return}var sl=this,style=sl.style,sCont,fontStyle=style.fontStyle||style["font-style"]||"normal",fontVariant=style.fontVariant||style["font-variant"]||"normal",fontWeight=style.fontWeight||style["font-weight"]||"normal",fontSize=style.fontSize||style["font-size"]||"12px",fontFamily=style.fontFamily||style["font-family"]||"Verdana,sans";fontSize+=fontSize.indexOf("px")===-1?"px":"";sl.ctx.font=fontStyle+" "+fontVariant+" "+fontWeight+" "+fontSize+" "+fontFamily;sCont=this._containerObj=this._containerManager.get(style);if(this._containerObj){this._container=sCont.node;this._context=sCont.context;this._cache=sCont.charCache;this._lineHeight=sCont.lineHeight;this._styleNotSet=false}else{this._styleNotSet=true}sCont.ellipsesWidth=sl.ctx.measureText("...").width;sCont.dotWidth=sl.ctx.measureText(".").width;sCont.lineHeight=this._lineHeight=sCont.lineHeight||slLib._getCleanHeight(style.lineHeight);this.oldStyle=style};SmartLabelManager.prototype._setStyleOfDiv=function(){var sCont,style=this.style;this._containerObj=sCont=this._containerManager.get(style);!sCont.node&&this._containerManager._makeDivNode(this._containerObj);if(this._containerObj){this._container=sCont.node;this._context=sCont.context;this._cache=sCont.charCache;this._lineHeight=sCont.lineHeight;this._styleNotSet=false}else{this._styleNotSet=true}};SmartLabelManager.prototype._updateStyle=function(){return this.requireDiv||!this.ctx?this._setStyleOfDiv():this._setStyleOfCanvas()};SmartLabelManager.prototype.setStyle=function(style){if(style){this.style=style;slLib.setLineHeight(style)}};SmartLabelManager.prototype.useEllipsesOnOverflow=function(useEllipses){if(!this._init){return this}this._showNoEllipses=!useEllipses;return this};SmartLabelManager.prototype.getSmartText=function(text,maxWidth,maxHeight,noWrap){if(!this._init){return false}if(text===undefined||text===null){text=""}else if(typeof text!=="string"){text=text.toString()}var len,trimStr,tempArr,tmpText,maxWidthWithEll,toolText,oriWidth,oriHeight,newCharIndex,nearestChar,tempChar,getWidth,initialLeft,initialTop,getOriSizeImproveObj,spanArr,x,y,minWidth,elem,chr,elemRightMostPoint,elemLowestPoint,lastBR,removeFromIndex,removeFromIndexForEllipses,hasHTMLTag=false,maxStrWidth=0,lastDash=-1,lastSpace=-1,lastIndexBroken=-1,strWidth=0,strHeight=0,oriTextArr=[],i=0,j,ellipsesStr=this._showNoEllipses?"":"...",lineHeight,context,container,sCont,ellipsesWidth,dotWidth,canvas=this.ctx,characterArr=[],dashIndex=-1,spaceIndex=-1,lastLineBreak=-1,hasOnlyBrTag,dimentionObj,fastTrim=function fastTrim(str){str=str.replace(/^\s\s*/,"");var ws=/\s/,i=str.length;while(ws.test(str.charAt(i-=1))){}return str.slice(0,i+1)},smartLabel={text:text,maxWidth:maxWidth,maxHeight:maxHeight,width:null,height:null,oriTextWidth:null,oriTextHeight:null,oriText:text,isTruncated:false};hasHTMLTag=slLib.xmlTagRegEx.test(text);hasOnlyBrTag=slLib._hasOnlyBRTag(text);this.requireDiv=hasHTMLTag&&!hasOnlyBrTag;this._updateStyle();lineHeight=this._lineHeight;context=this._context;container=this._container;sCont=this._containerObj;ellipsesWidth=sCont.ellipsesWidth;dotWidth=sCont.dotWidth;toolText=text.replace(slLib.spanAdditionRegx,"$2");getWidth=this._getWidthFn();if(lineHeight-maxHeight<=1&&lineHeight-maxHeight>=0){maxHeight*=1.2}if(canvas||container){if(!documentSupport.isBrowserLess){if(!hasHTMLTag){tmpText=text=text.replace(slLib.ltgtRegex,function(match){return match==="&lt;"?"<":">"});getOriSizeImproveObj=this.getOriSize(tmpText,true,{hasHTMLTag:hasHTMLTag,hasOnlyBrTag:hasOnlyBrTag,cleanText:true});smartLabel.oriTextWidth=oriWidth=getOriSizeImproveObj.width;smartLabel.oriTextHeight=oriHeight=getOriSizeImproveObj.height}else if(hasOnlyBrTag){text=text.replace(slLib.brRegex,"<br />");dimentionObj=slLib._getDimentionOfMultiLineText(text,this);smartLabel.oriTextWidth=oriWidth=dimentionObj.width;smartLabel.oriTextHeight=oriHeight=dimentionObj.height}else{container.innerHTML=text;smartLabel.oriTextWidth=oriWidth=container.offsetWidth;smartLabel.oriTextHeight=oriHeight=container.offsetHeight}if(oriHeight<=maxHeight&&oriWidth<=maxWidth){smartLabel.width=smartLabel.oriTextWidth=oriWidth;smartLabel.height=smartLabel.oriTextHeight=oriHeight;return smartLabel}if(lineHeight>maxHeight){smartLabel.text="";smartLabel.width=smartLabel.oriTextWidth=0;smartLabel.height=smartLabel.oriTextHeight=0;return smartLabel}}text=fastTrim(text).replace(/(\s+)/g," ");maxWidthWithEll=this._showNoEllipses?maxWidth:maxWidth-ellipsesWidth;if(!hasHTMLTag||hasOnlyBrTag){oriTextArr=slLib._getTextArray(text);len=oriTextArr.length;trimStr="",tempArr=[];tempChar=oriTextArr[0];if(this._cache[tempChar]){minWidth=this._cache[tempChar].width}else{minWidth=getWidth(tempChar);this._cache[tempChar]={width:minWidth}}if(maxWidthWithEll>minWidth&&!hasOnlyBrTag){tempArr=text.substr(0,slLib.getNearestBreakIndex(text,maxWidthWithEll,this)).split("")}else if(minWidth>maxWidth){smartLabel.text="";smartLabel.width=smartLabel.oriTextWidth=smartLabel.height=smartLabel.oriTextHeight=0;return smartLabel}else if(ellipsesStr){maxWidthWithEll=maxWidth-2*dotWidth;if(maxWidthWithEll>minWidth){ellipsesStr=".."}else{maxWidthWithEll=maxWidth-dotWidth;if(maxWidthWithEll>minWidth){ellipsesStr="."}else{maxWidthWithEll=0;ellipsesStr=""}}}i=tempArr.length;strWidth=getWidth(tempArr.join(""));strHeight=this._lineHeight;if(noWrap){for(;i<len;i+=1){tempChar=tempArr[i]=oriTextArr[i];if(tempArr[i]==="<br />"){strHeight+=this._lineHeight;lastIndexBroken=i;maxStrWidth=max(maxStrWidth,strWidth);strWidth=0;trimStr=null;continue}if(this._cache[tempChar]){minWidth=this._cache[tempChar].width}else{if(!getOriSizeImproveObj||!(minWidth=getOriSizeImproveObj.detailObj[tempChar])){minWidth=getWidth(tempChar)}this._cache[tempChar]={width:minWidth}}strWidth+=minWidth;if(strWidth>maxWidthWithEll){if(!trimStr){trimStr=tempArr.slice(0,-1).join("")}if(strWidth>maxWidth){smartLabel.text=fastTrim(trimStr)+ellipsesStr;smartLabel.tooltext=smartLabel.oriText;smartLabel.width=max(maxStrWidth,strWidth);smartLabel.height=strHeight;return smartLabel}}}smartLabel.text=tempArr.join("");smartLabel.width=max(maxStrWidth,strWidth);smartLabel.height=strHeight;return smartLabel}else{for(;i<len;i+=1){tempChar=tempArr[i]=oriTextArr[i];if(tempChar===" "&&!context){tempChar=this.ctx?" ":"&nbsp;"}if(tempArr[i]==="<br />"){maxStrWidth=max(maxStrWidth,strWidth);strHeight+=this._lineHeight;if(strHeight<=maxHeight){lastIndexBroken=i;strWidth=0;trimStr=null;continue}else if(strHeight>maxHeight){trimStr=tempArr.slice(0,-1).join("");smartLabel.text=fastTrim(trimStr)+ellipsesStr;smartLabel.tooltext=toolText;smartLabel.width=maxStrWidth;smartLabel.height=strHeight-this._lineHeight;return smartLabel}}if(this._cache[tempChar]){minWidth=this._cache[tempChar].width}else{if(!getOriSizeImproveObj||!(minWidth=getOriSizeImproveObj.detailObj[tempChar])){minWidth=getWidth(tempChar)}this._cache[tempChar]={width:minWidth}}strWidth+=minWidth;if(strWidth>maxWidthWithEll){if(!trimStr){trimStr=tempArr.slice(0,-1).join("")}if(strWidth>maxWidth){if(oriTextArr[i+1]==="<br />"){continue}lastSpace=slLib._findLastIndex(oriTextArr.slice(0,tempArr.length)," ");lastDash=slLib._findLastIndex(oriTextArr.slice(0,tempArr.length),"-");if(lastSpace>lastIndexBroken){strWidth=getWidth(tempArr.slice(lastIndexBroken+1,lastSpace).join(""));tempArr.splice(lastSpace,1,"<br />");lastIndexBroken=lastSpace;newCharIndex=lastSpace+1}else if(lastDash>lastIndexBroken){if(lastDash===tempArr.length-1){strWidth=getWidth(tempArr.slice(lastIndexBroken+1,lastSpace).join(""));tempArr.splice(lastDash,1,"<br />-")}else{strWidth=getWidth(tempArr.slice(lastIndexBroken+1,lastSpace).join(""));tempArr.splice(lastDash,1,"-<br />")}lastIndexBroken=lastDash;newCharIndex=lastDash+1}else{tempArr.splice(tempArr.length-1,1,"<br />"+oriTextArr[i]);lastLineBreak=tempArr.length-2;strWidth=getWidth(tempArr.slice(lastIndexBroken+1,lastLineBreak+1).join(""));lastIndexBroken=lastLineBreak;newCharIndex=i}strHeight+=this._lineHeight;if(strHeight>maxHeight){smartLabel.text=fastTrim(trimStr)+ellipsesStr;smartLabel.tooltext=smartLabel.oriText;smartLabel.width=maxWidth;smartLabel.height=strHeight-this._lineHeight;return smartLabel}else{maxStrWidth=max(maxStrWidth,strWidth);trimStr=null;if(!hasOnlyBrTag){nearestChar=slLib.getNearestBreakIndex(text.substr(newCharIndex),maxWidthWithEll,this);strWidth=getWidth(text.substr(newCharIndex,nearestChar||1));if(tempArr.length<newCharIndex+nearestChar){tempArr=tempArr.concat(text.substr(tempArr.length,newCharIndex+nearestChar-tempArr.length).split(""));i=tempArr.length-1}}else{strWidth=slLib._getDimentionOfMultiLineText(tempArr.slice(lastIndexBroken+1).join(""),this).width}}}}}maxStrWidth=max(maxStrWidth,strWidth);smartLabel.text=tempArr.join("");smartLabel.width=maxStrWidth;smartLabel.height=strHeight;return smartLabel}}else{toolText=text.replace(slLib.spanAdditionRegx,"$2");text=text.replace(slLib.spanAdditionRegx,slLib.spanAdditionReplacer);text=text.replace(/(<br\s*\/*\>)/g,'<span class="'+[slLib.classNameWithTag," ",slLib.classNameWithTagBR].join("")+'">$1</span>');container.innerHTML=text;spanArr=container[documentSupport.childRetriverFn](documentSupport.childRetriverString);for(x=0,y=spanArr.length;x<y;x+=1){elem=spanArr[x];if(documentSupport.noClassTesting||slLib.classNameReg.test(elem.className)){chr=elem.innerHTML;if(chr!==""){if(chr===" "){spaceIndex=characterArr.length}else if(chr==="-"){dashIndex=characterArr.length}characterArr.push({spaceIdx:spaceIndex,dashIdx:dashIndex,elem:elem});oriTextArr.push(chr)}}}i=0;len=characterArr.length;minWidth=characterArr[0].elem.offsetWidth;if(minWidth>maxWidth){smartLabel.text="";smartLabel.width=smartLabel.oriTextWidth=smartLabel.height=smartLabel.oriTextHeight=0;return smartLabel}else if(minWidth>maxWidthWithEll&&!this._showNoEllipses){maxWidthWithEll=maxWidth-2*dotWidth;if(maxWidthWithEll>minWidth){ellipsesStr=".."}else{maxWidthWithEll=maxWidth-dotWidth;if(maxWidthWithEll>minWidth){ellipsesStr="."}else{maxWidthWithEll=0;ellipsesStr=""}}}initialLeft=characterArr[0].elem.offsetLeft;initialTop=characterArr[0].elem.offsetTop;if(noWrap){for(;i<len;i+=1){elem=characterArr[i].elem;elemRightMostPoint=elem.offsetLeft-initialLeft+elem.offsetWidth;if(elemRightMostPoint>maxWidthWithEll){if(!removeFromIndexForEllipses){removeFromIndexForEllipses=i}if(container.offsetWidth>maxWidth){removeFromIndex=i;i=len}}}}else{for(;i<len;i+=1){elem=characterArr[i].elem;elemLowestPoint=elem.offsetHeight+(elem.offsetTop-initialTop);elemRightMostPoint=elem.offsetLeft-initialLeft+elem.offsetWidth;lastBR=null;if(elemRightMostPoint>maxWidthWithEll){if(!removeFromIndexForEllipses){removeFromIndexForEllipses=i}if(elemRightMostPoint>maxWidth){lastSpace=characterArr[i].spaceIdx;lastDash=characterArr[i].dashIdx;if(lastSpace>lastIndexBroken){characterArr[lastSpace].elem.innerHTML="<br/>";lastIndexBroken=lastSpace}else if(lastDash>lastIndexBroken){if(lastDash===i){characterArr[lastDash].elem.innerHTML="<br/>-"}else{characterArr[lastDash].elem.innerHTML="-<br/>"}lastIndexBroken=lastDash}else{elem.parentNode.insertBefore(lastBR=doc.createElement("br"),elem)}if(elem.offsetHeight+elem.offsetTop>maxHeight){if(lastBR){lastBR.parentNode.removeChild(lastBR)}else if(lastIndexBroken===lastDash){characterArr[lastDash].elem.innerHTML="-"}else{characterArr[lastSpace].elem.innerHTML=" "}removeFromIndex=i;i=len}else{removeFromIndexForEllipses=null}}}else{if(elemLowestPoint>maxHeight){removeFromIndex=i;i=len}}}}if(removeFromIndex<len){smartLabel.isTruncated=true;removeFromIndexForEllipses=removeFromIndexForEllipses?removeFromIndexForEllipses:removeFromIndex;for(i=len-1;i>=removeFromIndexForEllipses;i-=1){elem=characterArr[i].elem;elem.parentNode.removeChild(elem)}for(;i>=0;i-=1){elem=characterArr[i].elem;if(slLib.classNameBrReg.test(elem.className)){elem.parentNode.removeChild(elem)}else{i=0}}}smartLabel.text=container.innerHTML.replace(slLib.spanRemovalRegx,"$1").replace(/\&amp\;/g,"&");if(smartLabel.isTruncated){smartLabel.text+=ellipsesStr;smartLabel.tooltext=toolText}}smartLabel.height=container.offsetHeight;smartLabel.width=container.offsetWidth;return smartLabel}else{smartLabel.error=new Error("Body Tag Missing!");return smartLabel}};SmartLabelManager.prototype.getOriSize=function(){var text=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var detailedCalculationFlag=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var config=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!this._init){return false}var textArr,letter,lSize,i,l,cumulativeSize=0,height=0,container,indiSizeStore={},hasHTMLTag=config.hasHTMLTag,hasOnlyBrTag=config.hasOnlyBrTag;typeof hasHTMLTag==="undefined"&&(hasHTMLTag=slLib.xmlTagRegEx.test(text));typeof hasOnlyBrTag==="undefined"&&(hasOnlyBrTag=slLib._hasOnlyBRTag(text));this.requireDiv=hasHTMLTag&&!hasOnlyBrTag;if(!config.cleanText){text=text.replace(slLib.ltgtRegex,function(match){return match==="&lt;"?"<":">"})}this._updateStyle();container=this._container;if(hasOnlyBrTag){return slLib._getDimentionOfMultiLineText(text,this)}if(!detailedCalculationFlag){return this._calCharDimWithCache(text)}if(hasHTMLTag){container.innerHTML=text;return{width:container.offsetWidth,height:container.offsetHeight}}textArr=text.split("");for(i=0,l=textArr.length;i<l;i++){letter=textArr[i];lSize=this._calCharDimWithCache(letter,false,textArr.length);height=max(height,lSize.height);cumulativeSize+=lSize.width;indiSizeStore[letter]=lSize.width}return{width:round(cumulativeSize),height:height,detailObj:indiSizeStore}};SmartLabelManager.prototype.dispose=function(){if(!this._init){return this}this._containerManager&&this._containerManager.dispose&&this._containerManager.dispose();delete this._container;delete this._context;delete this._cache;delete this._containerManager;delete this._containerObj;delete this.id;delete this.style;delete this.parentContainer;delete this._showNoEllipses;return this};exports["default"]=SmartLabelManager},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var lib={init:function init(win){var doc=win.document,nav=win.navigator,userAgent=nav.userAgent,DIV="DIV",ceil=Math.ceil,floor=Math.floor,clsNameSpace="fusioncharts-smartlabel-",containerClass=clsNameSpace+"container",classNameWithTag=clsNameSpace+"tag",classNameWithTagBR=clsNameSpace+"br";lib={win:win,containerClass:containerClass,classNameWithTag:classNameWithTag,classNameWithTagBR:classNameWithTagBR,maxDefaultCacheLimit:1e3,classNameReg:/\bfusioncharts-smartlabel-tag\b/,classNameBrReg:/\bfusioncharts-smartlabel-br\b/,spanAdditionRegx:/(<[^<\>]+?\>)|(&(?:[a-z]+|#[0-9]+);|.)/gi,spanAdditionReplacer:'$1<span class="'+classNameWithTag+'">$2</span>',spanRemovalRegx:new RegExp("\\<span[^\\>]+?"+classNameWithTag+"[^\\>]{0,}\\>(.*?)\\<\\/span\\>","ig"),xmlTagRegEx:new RegExp("<[^>][^<]*[^>]+>","i"),brRegex:new RegExp("({br[ ]*})|(<br[ ]*>)|(<br[ ]*/>)|(<BR[ ]*/>)|(<br\\>)","g"),ltgtRegex:/&lt;|&gt;/g,htmlSpecialEntityRegex:/&amp;|&quot;|&lt;|&gt;/g,brReplaceRegex:/<br\/>/gi,testStrAvg:"WgI",parentContainerStyle:{position:"absolute",top:"-9999em",whiteSpace:"nowrap",padding:"0px",width:"1px",height:"1px",overflow:"hidden"},supportedStyle:{font:"font",fontFamily:"font-family","font-family":"font-family",fontWeight:"font-weight","font-weight":"font-weight",fontSize:"font-size","font-size":"font-size",lineHeight:"line-height","line-height":"line-height",fontStyle:"font-style","font-style":"font-style"},getDocumentSupport:function getDocumentSupport(){var childRetriverFn,childRetriverString,noClassTesting;if(doc.getElementsByClassName){childRetriverFn="getElementsByClassName";childRetriverString=classNameWithTag;noClassTesting=true}else{childRetriverFn="getElementsByTagName";childRetriverString="span";noClassTesting=false}return{isIE:/msie/i.test(userAgent)&&!win.opera,hasSVG:Boolean(win.SVGAngle||doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),isHeadLess:new RegExp(" HtmlUnit").test(userAgent),isWebKit:new RegExp(" AppleWebKit/").test(userAgent),childRetriverFn:childRetriverFn,childRetriverString:childRetriverString,noClassTesting:noClassTesting}},createContainer:function createContainer(containerParent){var body,container;if(containerParent&&(containerParent.offsetWidth||containerParent.offsetHeight)){if(containerParent.appendChild){containerParent.appendChild(container=doc.createElement(DIV));container.className=containerClass;container.setAttribute("aria-hidden","true");container.setAttribute("role","presentation");return container}}else{body=doc.getElementsByTagName("body")[0];if(body&&body.appendChild){container=doc.createElement(DIV);container.className=containerClass;container.setAttribute("aria-hidden","true");container.setAttribute("role","presentation");body.appendChild(container);return container}}},getNearestBreakIndex:function getNearestBreakIndex(text,maxWidth,sl){if(!text||!text.length){return 0}var difference,getWidth=sl._getWidthFn(),charLen=0,increment=0,oriWidth=getWidth(text),avgWidth=oriWidth/text.length;difference=maxWidth;charLen=ceil(maxWidth/avgWidth);if(oriWidth<maxWidth){return text.length-1}if(charLen>text.length){difference=maxWidth-oriWidth;charLen=text.length}while(difference>0){difference=maxWidth-getWidth(text.substr(0,charLen));increment=floor(difference/avgWidth);if(increment){charLen+=increment}else{return charLen}}while(difference<0){difference=maxWidth-getWidth(text.substr(0,charLen));increment=floor(difference/avgWidth);if(increment){charLen+=increment}else{return charLen}}return charLen},setLineHeight:function setLineHeight(styleObj){var fSize=styleObj.fontSize=styleObj.fontSize||styleObj["font-size"]||"12px";styleObj.lineHeight=styleObj.lineHeight||styleObj["line-height"]||parseInt(fSize,10)*1.2+"px";return styleObj},_getCleanHeight:function _getCleanHeight(height){height=height.replace(/px/g,"");return Number(height)},_getDimentionUsingDiv:function _getDimentionUsingDiv(){var text=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var sl=arguments[1];var container=sl._container;if(text instanceof Array){text=text.join("")}container.innerHTML=text;return{width:container.offsetWidth,height:container.offsetHeight}},_getDimentionUsingCanvas:function _getDimentionUsingCanvas(){var text=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var sl=arguments[1];var ctx=sl.ctx,style=sl.style,height=lib._getCleanHeight(style.lineHeight);if(!(text instanceof Array)){text=text.replace(/<br \/>/g,"")}else{text=text.join("");text=text.replace(/<br \/>/g,"")}return{width:ctx.measureText(text).width,height:height}},_hasOnlyBRTag:function _hasOnlyBRTag(){var input=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var i,len,text=input.replace(lib.brRegex,"<br />"),brTagArray=text.split("<br />"),brTagArrayLen=brTagArray.length,index=[];for(i=0;i<brTagArrayLen;i++){if(lib.xmlTagRegEx.test(brTagArray[i])){return false}}return brTagArrayLen>1},_getDimentionOfMultiLineText:function _getDimentionOfMultiLineText(){var rawText=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var sl=arguments[1];var i,len,text=rawText.replace(lib.brRegex,"<br />"),textAr=lib._getTextArray(text),width=0,maxWidth=0,getWidth=sl._getWidthFn(),height=lib._getCleanHeight(sl.style.lineHeight),textHeight=height,textWidth,indiSizeStore={};for(i=0,len=textAr.length;i<len;i++){if(textAr[i]==="<br />"){maxWidth=Math.max(maxWidth,width);width=0;textHeight+=height}else{textWidth=getWidth(textAr[i]);width+=textWidth;indiSizeStore[textAr[i]]=textWidth}}maxWidth=Math.max(maxWidth,width);return{height:textHeight,width:maxWidth,detailObj:indiSizeStore}},_getTextArray:function _getTextArray(){var text=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var i,j,len,tempLen,brText,tempText,finaltextAr=[];brText=text.split("<br />");len=brText.length;for(i=0;i<len;i++){tempText=brText[i].split("");tempLen=tempText.length;for(j=0;j<tempLen;j++){finaltextAr.push(tempText[j])}if(i!==len-1){finaltextAr.push("<br />")}}return finaltextAr},_findLastIndex:function _findLastIndex(){var array=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var item=arguments[1];var i,len=array.length;for(i=len-1;i>=0;i--){if(array[i]===item){return i}}return-1}};return lib}};exports["default"]=lib},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(133);var _lib2=_interopRequireDefault(_lib);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var slLib=_lib2["default"].init(window),doc=slLib.win.document,documentSupport=slLib.getDocumentSupport(),SVG_BBOX_CORRECTION=documentSupport.isWebKit?0:4.5;function ContainerManager(parentContainer,isBrowserLess,maxContainers){var svg;maxContainers=maxContainers>5?maxContainers:5;maxContainers=maxContainers<20?maxContainers:20;this.maxContainers=maxContainers;this.first=null;this.last=null;this.containers={};this.length=0;this.rootNode=parentContainer;if(isBrowserLess){svg=doc.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttributeNS("http://www.w3.org/2000/svg","xlink","http://www.w3.org/1999/xlink");svg.setAttributeNS("http://www.w3.org/2000/svg","height","0");svg.setAttributeNS("http://www.w3.org/2000/svg","width","0");this.svgRoot=svg;this.rootNode.appendChild(svg)}}ContainerManager.prototype.get=function(style){var diff,key,containerObj,containers=this.containers,len=this.length,max=this.maxContainers,keyStr="";for(key in slLib.supportedStyle){if(style[key]!==undefined){keyStr+=slLib.supportedStyle[key]+":"+style[key]+";"}}if(!keyStr){return false}if(containerObj=containers[keyStr]){if(this.first!==containerObj){containerObj.prev&&(containerObj.prev.next=containerObj.next);containerObj.next&&(containerObj.next.prev=containerObj.prev);containerObj.next=this.first;containerObj.next.prev=containerObj;this.last===containerObj&&(this.last=containerObj.prev);containerObj.prev=null;this.first=containerObj}}else{if(len>=max){diff=len-max+1;while(diff--){this.removeContainer(this.last)}}containerObj=this.addContainer(keyStr)}return containerObj};ContainerManager.prototype._makeDivNode=function(container){var node,keyStr=container.keyStr;if(!container.node){container.node=doc.createElement("div");container.node.className="fusioncharts-div";this.rootNode.appendChild(container.node)}node=container.node;if(documentSupport.isIE&&!documentSupport.hasSVG){node.style.setAttribute("cssText",keyStr)}else{node.setAttribute("style",keyStr)}node.setAttribute("aria-hidden","true");node.setAttribute("role","presentation");node.style.display="inline-block";node.innerHTML=slLib.testStrAvg;container.lineHeight=node.offsetHeight;container.avgCharWidth=node.offsetWidth/3;if(documentSupport.isBrowserLess){if(!container.svgText){container.svgText=doc.createElementNS("http://www.w3.org/2000/svg","text");this.svgRoot.appendChild(node)}node=container.svgText;node.setAttribute("style",keyStr);node.textContent=slLib.testStrAvg;container.lineHeight=node.getBBox().height;container.avgCharWidth=(node.getBBox().width-SVG_BBOX_CORRECTION)/3;node.textContent="...";container.ellipsesWidth=node.getBBox().width-SVG_BBOX_CORRECTION;node.textContent=".";container.dotWidth=node.getBBox().width-SVG_BBOX_CORRECTION}else{node.innerHTML="...";container.ellipsesWidth=node.offsetWidth;node.innerHTML=".";container.dotWidth=node.offsetWidth;node.innerHTML=""}};ContainerManager.prototype.addContainer=function(keyStr){var container;this.containers[keyStr]=container={next:null,prev:null,node:null,ellipsesWidth:0,lineHeight:0,dotWidth:0,avgCharWidth:4,keyStr:keyStr,charCache:{}};container.next=this.first;container.next&&(container.next.prev=container);this.first=container;if(!this.last){this.last=container}this.length+=1;return container};ContainerManager.prototype.removeContainer=function(cObj){var keyStr=cObj.keyStr;if(!keyStr||!this.length||!cObj){return}this.length-=1;cObj.prev&&(cObj.prev.next=cObj.next);cObj.next&&(cObj.next.prev=cObj.prev);this.first===cObj&&(this.first=cObj.next);this.last===cObj&&(this.last=cObj.prev);cObj.node&&cObj.node.parentNode.removeChild(cObj.node);delete this.containers[keyStr]};ContainerManager.prototype.dispose=function(){var key,containers=this.containers;this.maxContainers=null;for(key in containers){this.removeContainer(containers[key])}this.rootNode.parentNode.removeChild(this.rootNode);this.rootNode=null;this.first=null;this.last=null};exports["default"]=ContainerManager},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var fileStore={},addFile=function addFile(name){fileStore[name]=true},getFile=function getFile(name){return fileStore[name]};exports.addFile=addFile;exports.getFile=getFile;exports["default"]={extension:function extension(FUSIONCHARTS){FUSIONCHARTS.addFile=addFile;FUSIONCHARTS.getFile=getFile},name:"fileStore",type:"plugin",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={options:{chartTypeSourcePath:["typeSourcePath",""],product:["product","v3"],insertMode:["insertMode","replace"],safeMode:["safeMode",true],overlayButton:["overlayButton"],containerBackgroundColor:["containerBackgroundColor","#ffffff"],containerBackgroundOpacity:["containerBackgroundOpacity",1],containerClassName:["containerClassName","fusioncharts-container"],chartType:["type"],baseChartMessageFont:["baseChartMessageFont","Verdana,sans"],baseChartMessageFontSize:["baseChartMessageFontSize","10"],baseChartMessageColor:["baseChartMessageColor","#666666"],baseChartMessageImageHAlign:["baseChartMessageImageHAlign","middle"],baseChartMessageImageVAlign:["baseChartMessageImageVAlign","middle"],baseChartMessageImageAlpha:["baseChartMessageImageAlpha",100],baseChartMessageImageScale:["baseChartMessageImageScale",100],dataLoadStartMessage:["dataLoadStartMessage","Retrieving data. Please wait."],dataLoadErrorMessage:["dataLoadErrorMessage","Error in loading data."],dataInvalidMessage:["dataInvalidMessage","Invalid data."],dataEmptyMessage:["dataEmptyMessage","No data to display."],typeNotSupportedMessage:["typeNotSupportedMessage","Chart type not supported."],browserNotSupportedMessage:["browserNotSupportedMessage","This browser is not supported."],loadMessage:["loadMessage","Loading chart. Please wait."],renderErrorMessage:["renderErrorMessage","Unable to render chart."],messageURL:["messageURL",""],containerElementId:["renderAt"],renderer:["renderer"],containerElementType:["containerElementType"],showChartLoadingMessage:["showChartLoadingMessage",true],visibilityTrackingInterval:300,events:["events",{}]},jsVars:{},attributes:{lang:["lang","EN"],id:["id"]},link:["link"],width:["width","400"],height:["height","300"]}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _lib=__webpack_require__(118);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var UNDEF=void 0,mathAbs=Math.abs,mathPow=Math.pow,mathRound=Math.round,ONESTRING="1",BLANK="",ZEROSTRING="0",DECIMALSTRING=".",COMMASTRING=",",MINUSSTR="-",TWOSTRING="2",AUTOSTRING="auto",formatNumber=void 0,formatNumberScale=void 0,convertNumberSeps=void 0,formatDecimals=void 0,formatCommas=void 0,numberFormatDefaults={formatnumber:ONESTRING,formatnumberscale:ONESTRING,forcenumberscale:ZEROSTRING,defaultnumberscale:BLANK,numberscaleunit:["K","M"],numberscalevalue:[1e3,1e3],numberprefix:BLANK,numbersuffix:BLANK,decimals:BLANK,forcedecimals:ZEROSTRING,yaxisvaluedecimals:TWOSTRING,decimalseparator:DECIMALSTRING,thousandseparator:COMMASTRING,thousandseparatorposition:[3],indecimalseparator:BLANK,inthousandseparator:BLANK,sformatnumber:ONESTRING,sformatnumberscale:ZEROSTRING,sforcenumberscale:ZEROSTRING,sdefaultnumberscale:BLANK,snumberscaleunit:["K","M"],snumberscalevalue:[1e3,1e3],snumberprefix:BLANK,snumbersuffix:BLANK,sdecimals:TWOSTRING,sforcedecimals:ZEROSTRING,syaxisvaluedecimals:TWOSTRING,xFormatNumber:ZEROSTRING,xFormatNumberScale:ZEROSTRING,xforcenumberscale:ZEROSTRING,xDefaultNumberScale:BLANK,xNumberScaleUnit:["K","M"],xNumberScaleValue:[1e3,1e3],xNumberPrefix:BLANK,xNumberSuffix:BLANK},numberFormatOverrides={mscombidy2d:{formatnumberscale:ONESTRING}};var NumberFormatter=function(){function NumberFormatter(chart,customAttrs){_classCallCheck(this,NumberFormatter);var nf=this,chartName=chart.getName&&chart.getName(),csConfigBuffer,csConf=nf.csConf=(0,_lib.extend2)({},numberFormatDefaults),overrideConf=numberFormatOverrides[chartName];nf.cleaneValueCacheStore={};nf.percentStrCacheStore={};if(overrideConf){csConfigBuffer=(0,_lib.extend2)(csConf,overrideConf);csConf=csConfigBuffer}this.linkedItems={chart:chart};nf.configure(customAttrs)}NumberFormatter.prototype.setDefaults=function setDefaults(){var nf=this,chart=this.linkedItems.chart,chartName=chart.getName&&chart.getName(),csConf=nf.csConf=(0,_lib.extend2)({},numberFormatDefaults),overrideConf=numberFormatOverrides[chartName];if(overrideConf){(0,_lib.extend2)(csConf,overrideConf)}};NumberFormatter.prototype.configure=function configure(customAttrs){var nf=this,chart=nf.linkedItems.chart,chartAttrs=customAttrs||chart.getFromEnv("chart-attrib"),chartName=chart.getName&&chart.getName(),chartConf=chart.config,csConf=nf.csConf,isMultyAxis,numberscaleunit,snumberscaleunit,xnumberscaleunit,ticknumberscaleunit,ynumberscaleunit,numberscalevalue,xnumberscalevalue,ticknumberscalevalue,ynumberscalevalue,thousandseparatorposition,snumberscalevalue,paramLabels,paramLabels2,param1,param2,baseConf,length,value,lastValue,scaleRecursively,sScaleRecursively,xScaleRecursively,maxScaleRecursion,sMaxScaleRecursion,xMaxScaleRecursion,scaleSeparator,sScaleSeparator,xScaleSeparator;if(!chartConf){chartConf=chart}nf.csConf=csConf;nf.useScaleRecursively=chartConf.useScaleRecursively;if((0,_lib.getValidValue)(chartAttrs.numberscaleunit)){numberscaleunit=chartAttrs.numberscaleunit.split(COMMASTRING)}if(snumberscaleunit=(0,_lib.getValidValue)(chartAttrs.snumberscaleunit,chartAttrs.numberscaleunit)){snumberscaleunit=snumberscaleunit.split(COMMASTRING)}if(xnumberscaleunit=(0,_lib.getValidValue)(chartAttrs.xnumberscaleunit,chartAttrs.numberscaleunit)){xnumberscaleunit=xnumberscaleunit.split(COMMASTRING)}if(ticknumberscaleunit=(0,_lib.getValidValue)(chartAttrs.ticknumberscaleunit,chartAttrs.numberscaleunit)){ticknumberscaleunit=ticknumberscaleunit.split(COMMASTRING)}if(ynumberscaleunit=(0,_lib.getValidValue)(chartAttrs.ynumberscaleunit,chartAttrs.numberscaleunit)){ynumberscaleunit=ynumberscaleunit.split(COMMASTRING)}if((0,_lib.getValidValue)(chartAttrs.numberscalevalue)){numberscalevalue=chartAttrs.numberscalevalue.split(COMMASTRING)}if(snumberscalevalue=(0,_lib.getValidValue)(chartAttrs.snumberscalevalue,chartAttrs.numberscalevalue)){snumberscalevalue=snumberscalevalue.split(COMMASTRING)}if(xnumberscalevalue=(0,_lib.getValidValue)(chartAttrs.xnumberscalevalue,chartAttrs.numberscalevalue)){xnumberscalevalue=xnumberscalevalue.split(COMMASTRING)}if(ticknumberscalevalue=(0,_lib.getValidValue)(chartAttrs.ticknumberscalevalue,chartAttrs.numberscalevalue)){ticknumberscalevalue=ticknumberscalevalue.split(COMMASTRING)}if(ynumberscalevalue=(0,_lib.getValidValue)(chartAttrs.ynumberscalevalue,chartAttrs.numberscalevalue)){ynumberscalevalue=ynumberscalevalue.split(COMMASTRING)}if((0,_lib.getValidValue)(chartAttrs.thousandseparatorposition)){thousandseparatorposition=chartAttrs.thousandseparatorposition.split(COMMASTRING);length=thousandseparatorposition.length;lastValue=numberFormatDefaults.thousandseparatorposition[0];while(length--){value=parseInt(thousandseparatorposition[length],10);if(value<=0){value=lastValue}lastValue=thousandseparatorposition[length]=value}}scaleRecursively=(0,_lib.pluckNumber)(chartAttrs.scalerecursively,0);sScaleRecursively=(0,_lib.pluckNumber)(chartAttrs.sscalerecursively,scaleRecursively);xScaleRecursively=(0,_lib.pluckNumber)(chartAttrs.xscalerecursively,scaleRecursively);maxScaleRecursion=(0,_lib.pluckNumber)(chartAttrs.maxscalerecursion,-1);sMaxScaleRecursion=(0,_lib.pluckNumber)(chartAttrs.smaxscalerecursion,maxScaleRecursion);xMaxScaleRecursion=(0,_lib.pluckNumber)(chartAttrs.xmaxscalerecursion,maxScaleRecursion);scaleSeparator=(0,_lib.getValidValue)(chartAttrs.scaleseparator," ");sScaleSeparator=(0,_lib.getValidValue)(chartAttrs.sscaleseparator,scaleSeparator);xScaleSeparator=(0,_lib.getValidValue)(chartAttrs.xscaleseparator,scaleSeparator);if(!maxScaleRecursion){maxScaleRecursion=-1}nf.baseConf=baseConf={cacheStore:[],formatnumber:(0,_lib.pluck)(chartAttrs.formatnumber,csConf.formatnumber),formatnumberscale:(0,_lib.pluck)(chartAttrs.formatnumberscale,chartConf.formatnumberscale,csConf.formatnumberscale),forcenumberscale:(0,_lib.pluck)(chartAttrs.forcenumberscale,csConf.forcenumberscale),defaultnumberscale:(0,_lib.getFirstValue)(chartAttrs.defaultnumberscale,csConf.defaultnumberscale),numberscaleunit:(0,_lib.pluck)(numberscaleunit,csConf.numberscaleunit).concat(),numberscalevalue:(0,_lib.pluck)(numberscalevalue,csConf.numberscalevalue).concat(),numberprefix:(0,_lib.getFirstValue)(chartAttrs.numberprefix,csConf.numberprefix),numbersuffix:(0,_lib.getFirstValue)(chartAttrs.numbersuffix,csConf.numbersuffix),decimalprecision:parseInt(chartAttrs.decimals===AUTOSTRING?csConf.decimalprecision:(0,_lib.pluck)(chartAttrs.decimals,chartAttrs.decimalprecision,chartConf.decimals,csConf.decimals,chartConf.decimalprecision,csConf.decimalprecision),10),forcedecimals:(0,_lib.pluck)(chartAttrs.forcedecimals,csConf.forcedecimals),decimalseparator:(0,_lib.pluck)(chartAttrs.decimalseparator,csConf.decimalseparator),thousandseparator:(0,_lib.pluck)(chartAttrs.thousandseparator,csConf.thousandseparator),thousandseparatorposition:(0,_lib.pluck)(thousandseparatorposition,csConf.thousandseparatorposition),indecimalseparator:(0,_lib.getFirstValue)(chartAttrs.indecimalseparator,csConf.indecimalseparator),inthousandseparator:(0,_lib.getFirstValue)(chartAttrs.inthousandseparator,csConf.inthousandseparator),scalerecursively:scaleRecursively,maxscalerecursion:maxScaleRecursion,scaleseparator:scaleSeparator};if((0,_lib.getValidValue)(baseConf.inthousandseparator)){nf.baseConf._REGinthousandseparator=new RegExp((0,_lib.regescape)(baseConf.inthousandseparator),"g")}if((0,_lib.getValidValue)(baseConf.indecimalseparator)){nf.baseConf._REGindecimalseparator=new RegExp((0,_lib.regescape)(baseConf.indecimalseparator))}nf.Y=[];if(!isMultyAxis){paramLabels={cacheStore:[],formatnumber:baseConf.formatnumber,formatnumberscale:baseConf.formatnumberscale,forcenumberscale:baseConf.forcenumberscale,defaultnumberscale:baseConf.defaultnumberscale,numberscaleunit:baseConf.numberscaleunit.concat(),numberscalevalue:baseConf.numberscalevalue.concat(),numberprefix:baseConf.numberprefix,numbersuffix:baseConf.numbersuffix,decimalprecision:baseConf.decimalprecision,forcedecimals:baseConf.forcedecimals,decimalseparator:baseConf.decimalseparator,thousandseparator:baseConf.thousandseparator,thousandseparatorposition:baseConf.thousandseparatorposition,indecimalseparator:baseConf.indecimalseparator,inthousandseparator:baseConf.inthousandseparator,scalerecursively:scaleRecursively,maxscalerecursion:maxScaleRecursion,scaleseparator:scaleSeparator};if(!chartConf.useScaleRecursively||(paramLabels.numberscalevalue&&paramLabels.numberscalevalue.length)!=(paramLabels.numberscaleunit&&paramLabels.numberscaleunit.length)){paramLabels.scalerecursively=scaleRecursively=0}param1={cacheStore:[],formatnumber:paramLabels.formatnumber,formatnumberscale:paramLabels.formatnumberscale,forcenumberscale:paramLabels.forcenumberscale,defaultnumberscale:paramLabels.defaultnumberscale,numberscaleunit:paramLabels.numberscaleunit.concat(),numberscalevalue:paramLabels.numberscalevalue.concat(),numberprefix:paramLabels.numberprefix,numbersuffix:paramLabels.numbersuffix,decimalprecision:parseInt((0,_lib.pluck)(chartAttrs.yaxisvaluedecimals,paramLabels.decimalprecision,2),10),forcedecimals:(0,_lib.pluck)(chartAttrs.forceyaxisvaluedecimals,paramLabels.forcedecimals),decimalseparator:paramLabels.decimalseparator,thousandseparator:paramLabels.thousandseparator,thousandseparatorposition:paramLabels.thousandseparatorposition.concat(),indecimalseparator:paramLabels.indecimalseparator,inthousandseparator:paramLabels.inthousandseparator,scalerecursively:scaleRecursively,maxscalerecursion:maxScaleRecursion,scaleseparator:scaleSeparator};param2={cacheStore:[],formatnumber:(0,_lib.pluck)(chartAttrs.sformatnumber,numberFormatDefaults.sformatnumber),formatnumberscale:(0,_lib.pluck)(chartAttrs.sformatnumberscale,numberFormatDefaults.sformatnumberscale),forcenumberscale:(0,_lib.pluck)(chartAttrs.sforcenumberscale,numberFormatDefaults.sforcenumberscale),defaultnumberscale:(0,_lib.getFirstValue)(chartAttrs.sdefaultnumberscale,paramLabels.defaultnumberscale),numberscaleunit:(0,_lib.pluck)(snumberscaleunit,numberFormatDefaults.snumberscaleunit).concat(),numberscalevalue:(0,_lib.pluck)(snumberscalevalue,numberFormatDefaults.snumberscalevalue).concat(),numberprefix:(0,_lib.getFirstValue)(chartAttrs.snumberprefix,numberFormatDefaults.snumberprefix),numbersuffix:(0,_lib.getFirstValue)(chartAttrs.snumbersuffix,numberFormatDefaults.snumbersuffix),decimalprecision:parseInt((0,_lib.pluck)(chartAttrs.syaxisvaluedecimals,chartAttrs.sdecimals,chartAttrs.decimals,numberFormatDefaults.sdecimals),10),forcedecimals:(0,_lib.pluck)(chartAttrs.forcesyaxisvaluedecimals,chartAttrs.sforcedecimals,chartAttrs.forcedecimals,numberFormatDefaults.sforcedecimals),decimalseparator:(0,_lib.pluck)(chartAttrs.decimalseparator,numberFormatDefaults.decimalseparator),thousandseparator:(0,_lib.pluck)(chartAttrs.thousandseparator,numberFormatDefaults.thousandseparator),thousandseparatorposition:paramLabels.thousandseparatorposition.concat(),indecimalseparator:(0,_lib.pluck)(chartAttrs.indecimalseparator,numberFormatDefaults.indecimalseparator),inthousandseparator:(0,_lib.pluck)(chartAttrs.inthousandseparator,numberFormatDefaults.inthousandseparator),scalerecursively:sScaleRecursively,maxscalerecursion:sMaxScaleRecursion,scaleseparator:sScaleSeparator};paramLabels2=(0,_lib.extend2)({},param2);paramLabels2.decimalprecision=parseInt((0,_lib.pluck)(chartAttrs.sdecimals,chartAttrs.decimals,chartAttrs.syaxisvaluedecimals,numberFormatDefaults.sdecimals),10);paramLabels2.forcedecimals=(0,_lib.pluck)(chartAttrs.sforcedecimals,chartAttrs.forcedecimals,chartAttrs.forcesyaxisvaluedecimals,numberFormatDefaults.sforcedecimals);paramLabels2.cacheStore=[];if(!chartConf.useScaleRecursively||(param2.numberscalevalue&&param2.numberscalevalue.length)!=(param2.numberscaleunit&&param2.numberscaleunit.length)){param2.scalerecursively=sScaleRecursively=0}if(/^(bubble|scatter|selectscatter|zoomscatter)$/gi.test(chartName)){param1.formatnumber=(0,_lib.pluck)(chartAttrs.yformatnumber,param1.formatnumber);param1.formatnumberscale=(0,_lib.pluck)(chartAttrs.yformatnumberscale,param1.formatnumberscale);param1.forcenumberscale=(0,_lib.pluck)(chartAttrs.yforcenumberscale,param1.forcenumberscale);param1.defaultnumberscale=(0,_lib.getFirstValue)(chartAttrs.ydefaultnumberscale,param1.defaultnumberscale);param1.numberscaleunit=(0,_lib.pluck)(ynumberscaleunit,param1.numberscaleunit);param1.numberscalevalue=(0,_lib.pluck)(ynumberscalevalue,param1.numberscalevalue);param1.numberprefix=(0,_lib.pluck)(chartAttrs.ynumberprefix,param1.numberprefix);param1.numbersuffix=(0,_lib.pluck)(chartAttrs.ynumbersuffix,param1.numbersuffix);paramLabels.formatnumber=(0,_lib.pluck)(chartAttrs.yformatnumber,paramLabels.formatnumber);paramLabels.formatnumberscale=(0,_lib.pluck)(chartAttrs.yformatnumberscale,paramLabels.formatnumberscale);paramLabels.forcenumberscale=(0,_lib.pluck)(chartAttrs.yforcenumberscale,paramLabels.forcenumberscale);paramLabels.defaultnumberscale=(0,_lib.getFirstValue)(chartAttrs.ydefaultnumberscale,paramLabels.defaultnumberscale);paramLabels.numberscaleunit=(0,_lib.pluck)(chartAttrs.ynumberscaleunit,paramLabels.numberscaleunit.concat());paramLabels.numberscalevalue=(0,_lib.pluck)(chartAttrs.ynumberscalevalue,paramLabels.numberscalevalue.concat());paramLabels.numberprefix=(0,_lib.pluck)(chartAttrs.ynumberprefix,paramLabels.numberprefix);paramLabels.numbersuffix=(0,_lib.pluck)(chartAttrs.ynumbersuffix,paramLabels.numbersuffix)}if(/^(pie2d|pie3d|doughnut2d|doughnut3d|marimekko|pareto2d|pareto3d)$/.test(chartName)){paramLabels.decimalprecision=(0,_lib.pluck)(chartAttrs.decimals,TWOSTRING)}if(scaleRecursively){paramLabels.numberscalevalue.push(1);paramLabels.numberscaleunit.unshift(paramLabels.defaultnumberscale);param1.numberscalevalue.push(1);param1.numberscaleunit.unshift(param1.defaultnumberscale)}if(sScaleRecursively){param2.numberscalevalue.push(1);param2.numberscaleunit.unshift(param2.defaultnumberscale);paramLabels2.numberscalevalue.push(1);paramLabels2.numberscaleunit.unshift(paramLabels2.defaultnumberscale)}nf.Y[0]={yAxisLabelConf:param1,dataLabelConf:paramLabels};nf.Y[1]={yAxisLabelConf:param2,dataLabelConf:paramLabels2};nf.paramLabels=paramLabels;nf.param1=param1;nf.param2=param2;nf.paramLabels2=paramLabels2}nf.paramX={cacheStore:[],formatnumber:(0,_lib.pluck)(chartAttrs.xformatnumber,baseConf.formatnumber),formatnumberscale:(0,_lib.pluck)(chartAttrs.xformatnumberscale,baseConf.formatnumberscale),forcenumberscale:(0,_lib.pluck)(chartAttrs.xforcenumberscale,baseConf.forcenumberscale),defaultnumberscale:(0,_lib.getFirstValue)(chartAttrs.xdefaultnumberscale,baseConf.defaultnumberscale),numberscaleunit:(0,_lib.pluck)(xnumberscaleunit,baseConf.numberscaleunit.concat()),numberscalevalue:(0,_lib.pluck)(xnumberscalevalue,baseConf.numberscalevalue.concat()),numberprefix:(0,_lib.pluck)(chartAttrs.xnumberprefix,baseConf.numberprefix),numbersuffix:(0,_lib.pluck)(chartAttrs.xnumbersuffix,baseConf.numbersuffix),decimalprecision:parseInt((0,_lib.pluck)(chartAttrs.xaxisvaluedecimals,chartAttrs.xaxisvaluesdecimals,baseConf.decimalprecision,2),10),forcedecimals:(0,_lib.pluck)(chartAttrs.forcexaxisvaluedecimals,0),decimalseparator:baseConf.decimalseparator,thousandseparator:baseConf.thousandseparator,thousandseparatorposition:baseConf.thousandseparatorposition.concat(),indecimalseparator:baseConf.indecimalseparator,inthousandseparator:baseConf.inthousandseparator,scalerecursively:xScaleRecursively,maxscalerecursion:xMaxScaleRecursion,scaleseparator:xScaleSeparator};nf.paramLegend=(0,_lib.extend2)((0,_lib.extend2)({},baseConf),{cacheStore:[],decimalprecision:parseInt((0,_lib.pluckNumber)(chartAttrs.legendvaluedecimals,baseConf.decimalprecision,2),10),forcedecimals:(0,_lib.pluckNumber)(chartAttrs.legendvalueforcedecimals,baseConf.forcedecimals,0),formatnumberscale:(0,_lib.pluck)(chartAttrs.legendvalueformatnumberscale,baseConf.formatnumberscale),forcenumberscale:(0,_lib.pluck)(chartAttrs.legendvalueforcenumberscale,baseConf.forcenumberscale),formatnumber:(0,_lib.pluck)(chartAttrs.legendvalueformatnumber,baseConf.formatnumber)});if(scaleRecursively){nf.paramLegend.numberscalevalue.push(1);nf.paramLegend.numberscaleunit.unshift(nf.paramLegend.defaultnumberscale)}if(!chartConf.useScaleRecursively||(nf.paramX.numberscalevalue&&nf.paramX.numberscalevalue.length)!=(nf.paramX.numberscaleunit&&nf.paramX.numberscaleunit.length)){nf.paramX.scalerecursively=xScaleRecursively=0}if(xScaleRecursively){nf.paramX.numberscalevalue.push(1);nf.paramX.numberscaleunit.unshift(nf.paramX.defaultnumberscale)}nf.paramScale={cacheStore:[],formatnumber:(0,_lib.pluck)(chartAttrs.tickformatnumber,baseConf.formatnumber),formatnumberscale:(0,_lib.pluck)(chartAttrs.tickformatnumberscale,baseConf.formatnumberscale),forcenumberscale:(0,_lib.pluck)(chartAttrs.tickforcenumberscale,baseConf.forcenumberscale),defaultnumberscale:(0,_lib.getFirstValue)(chartAttrs.tickdefaultnumberscale,baseConf.defaultnumberscale),numberscaleunit:(0,_lib.pluck)(ticknumberscaleunit,baseConf.numberscaleunit.concat()),numberscalevalue:(0,_lib.pluck)(ticknumberscalevalue,baseConf.numberscalevalue.concat()),numberprefix:(0,_lib.pluck)(chartAttrs.ticknumberprefix,baseConf.numberprefix),numbersuffix:(0,_lib.pluck)(chartAttrs.ticknumbersuffix,baseConf.numbersuffix),decimalprecision:parseInt((0,_lib.pluck)(chartAttrs.tickvaluedecimals,baseConf.decimalprecision,TWOSTRING),10),forcedecimals:(0,_lib.pluck)(chartAttrs.forcetickvaluedecimals,baseConf.forcedecimals,0),decimalseparator:baseConf.decimalseparator,thousandseparator:baseConf.thousandseparator,thousandseparatorposition:baseConf.thousandseparatorposition.concat(),indecimalseparator:baseConf.indecimalseparator,inthousandseparator:baseConf.inthousandseparator,scalerecursively:scaleRecursively,maxscalerecursion:maxScaleRecursion,scaleseparator:scaleSeparator};if(scaleRecursively){nf.paramScale.numberscalevalue.push(1);nf.paramScale.numberscaleunit.unshift(nf.paramScale.defaultnumberscale)}nf.timeConf={inputDateFormat:(0,_lib.pluck)(chartAttrs.inputdateformat,chartAttrs.dateformat,"mm/dd/yyyy"),outputDateFormat:(0,_lib.pluck)(chartAttrs.outputdateformat,chartAttrs.inputdateformat,chartAttrs.dateformat,"mm/dd/yyyy"),days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],daySuffix:["","st","nd","rd","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","st","nd","rd","th","th","th","th","th","th","th","st"]};nf.cleaneValueCacheStore={};nf.percentStrCacheStore={}};NumberFormatter.prototype.dispose=function dispose(){var nf=this;if(nf.Y){delete nf.Y}if(nf.cleaneValueCacheStore){delete nf.cleaneValueCacheStore}if(nf.percentStrCacheStore){delete nf.percentStrCacheStore}if(nf.paramLabels){delete nf.paramLabels}if(nf.param1){delete nf.param1}if(nf.param2){delete nf.param2}if(nf.paramLabels2){delete nf.paramLabels2}if(nf.csConf){delete nf.csConf}if(nf.chart){delete nf.chart}if(nf.baseConf){delete nf.baseConf}if(nf.timeConf){delete nf.timeConf}if(nf.paramX){delete nf.paramX}if(nf.paramScale){delete nf.paramScale}};NumberFormatter.prototype.parseMLAxisConf=function parseMLAxisConf(axisObj,index){var baseConf=this.baseConf,csConf=this.csConf,scaleRecursively=(0,_lib.pluckNumber)(axisObj.scalerecursively,baseConf.scalerecursively),maxScaleRecursion=(0,_lib.pluckNumber)(axisObj.maxscalerecursion,baseConf.maxscalerecursion),scaleSeparator=(0,_lib.getValidValue)(axisObj.scaleseparator,baseConf.scaleseparator),paramLabels,numberscaleunit,numberscalevalue,param,thousandseparatorposition,length,value,lastValue;index=(0,_lib.pluckNumber)(index,this.Y.length);if((0,_lib.getValidValue)(axisObj.numberscaleunit)){numberscaleunit=axisObj.numberscaleunit.split(COMMASTRING)}if((0,_lib.getValidValue)(axisObj.numberscalevalue)){numberscalevalue=axisObj.numberscalevalue.split(COMMASTRING)}if(!maxScaleRecursion){maxScaleRecursion=-1}if((0,_lib.getValidValue)(axisObj.thousandseparatorposition)){thousandseparatorposition=axisObj.thousandseparatorposition.split(COMMASTRING);length=thousandseparatorposition.length;lastValue=numberFormatDefaults.thousandseparatorposition[0];while(length--){value=(0,_lib.pluckNumber)(mathAbs(thousandseparatorposition[length]));if(!value){value=lastValue}else{lastValue=value}thousandseparatorposition[length]=value}}paramLabels={cacheStore:[],formatnumber:(0,_lib.pluck)(axisObj.formatnumber,baseConf.formatnumber),formatnumberscale:(0,_lib.pluck)(axisObj.formatnumberscale,baseConf.formatnumberscale),forcenumberscale:(0,_lib.pluck)(axisObj.forcenumberscale,baseConf.forcenumberscale),defaultnumberscale:(0,_lib.getFirstValue)(axisObj.defaultnumberscale,baseConf.defaultnumberscale),numberscaleunit:(0,_lib.pluck)(numberscaleunit,baseConf.numberscaleunit).concat(),numberscalevalue:(0,_lib.pluck)(numberscalevalue,baseConf.numberscalevalue).concat(),numberprefix:(0,_lib.getFirstValue)(axisObj.numberprefix,baseConf.numberprefix),numbersuffix:(0,_lib.getFirstValue)(axisObj.numbersuffix,baseConf.numbersuffix),forcedecimals:(0,_lib.pluck)(axisObj.forcedecimals,baseConf.forcedecimals),decimalprecision:parseInt(axisObj.decimals===AUTOSTRING?csConf.decimalprecision:(0,_lib.pluck)(axisObj.decimals,baseConf.decimalprecision),10),decimalseparator:(0,_lib.pluck)(axisObj.decimalseparator,baseConf.decimalseparator),thousandseparator:(0,_lib.pluck)(axisObj.thousandseparator,baseConf.thousandseparator),thousandseparatorposition:(0,_lib.pluck)(thousandseparatorposition,baseConf.thousandseparatorposition),indecimalseparator:(0,_lib.getFirstValue)(axisObj.indecimalseparator,baseConf.indecimalseparator),inthousandseparator:(0,_lib.getFirstValue)(axisObj.inthousandseparator,baseConf.inthousandseparator),scalerecursively:scaleRecursively,maxscalerecursion:maxScaleRecursion,scaleseparator:scaleSeparator};if(!this.useScaleRecursively||(paramLabels.numberscalevalue&&paramLabels.numberscalevalue.length)!=(paramLabels.numberscaleunit&&paramLabels.numberscaleunit.length)){paramLabels.scalerecursively=scaleRecursively=0}param={cacheStore:[],formatnumber:paramLabels.formatnumber,formatnumberscale:paramLabels.formatnumberscale,forcenumberscale:paramLabels.forcenumberscale,defaultnumberscale:paramLabels.defaultnumberscale,numberscaleunit:paramLabels.numberscaleunit.concat(),numberscalevalue:paramLabels.numberscalevalue.concat(),numberprefix:paramLabels.numberprefix,numbersuffix:paramLabels.numbersuffix,decimalprecision:parseInt((0,_lib.pluck)(axisObj.yaxisvaluedecimals,paramLabels.decimalprecision,2),10),forcedecimals:(0,_lib.pluck)(axisObj.forceyaxisvaluedecimals,paramLabels.forcedecimals),decimalseparator:paramLabels.decimalseparator,thousandseparator:paramLabels.thousandseparator,thousandseparatorposition:paramLabels.thousandseparatorposition.concat(),indecimalseparator:paramLabels.indecimalseparator,inthousandseparator:paramLabels.inthousandseparator,scalerecursively:scaleRecursively,maxscalerecursion:maxScaleRecursion,scaleseparator:scaleSeparator};if(scaleRecursively){paramLabels.numberscalevalue.push(1);paramLabels.numberscaleunit.unshift(paramLabels.defaultnumberscale);param.numberscalevalue.push(1);param.numberscaleunit.unshift(param.defaultnumberscale)}this.Y[index]={dataLabelConf:paramLabels,yAxisLabelConf:param}};NumberFormatter.prototype.percentValue=function percentValue(num){var rtn=this.percentStrCacheStore[num],precision;if(rtn===UNDEF){precision=isNaN(this.paramLabels.decimalprecision)?"2":this.paramLabels.decimalprecision;rtn=this.percentStrCacheStore[num]=formatCommas(formatDecimals(num,precision,this.paramLabels.forcedecimals),this.paramLabels.decimalseparator,this.paramLabels.thousandseparator,this.paramLabels.thousandseparatorposition)+"%"}return rtn};NumberFormatter.prototype.getCleanValue=function getCleanValue(numStr,abs){var rtn=this.cleaneValueCacheStore[numStr],num;if(rtn===UNDEF||abs){num=convertNumberSeps(numStr,this.baseConf);this.cleaneValueCacheStore[numStr]=rtn=isNaN(num)?null:abs?mathAbs(num):num}return rtn};NumberFormatter.prototype.dataLabels=function dataLabels(num,axisIndex){var formatterConf=this.Y[axisIndex]||(axisIndex?this.Y[1]:this.Y[0]),rtn;formatterConf=formatterConf&&formatterConf.dataLabelConf||this.baseConf;rtn=formatterConf.cacheStore[num];if(rtn===UNDEF){rtn=formatterConf.cacheStore[num]=formatNumber(num,formatterConf)}return rtn};NumberFormatter.prototype.yAxis=function yAxis(num,axisIndex){var formatterConf=this.Y[axisIndex]||(axisIndex?this.Y[1]:this.Y[0]),rtn;formatterConf=formatterConf&&formatterConf.yAxisLabelConf||this.baseConf;rtn=formatterConf.cacheStore[num];if(rtn===UNDEF){rtn=formatterConf.cacheStore[num]=formatNumber(num,formatterConf,true)}return rtn};NumberFormatter.prototype.xAxis=function xAxis(num){var rtn=this.paramX.cacheStore[num];if(rtn===UNDEF){rtn=this.paramX.cacheStore[num]=formatNumber(num,this.paramX,true)}return rtn};NumberFormatter.prototype.sYAxis=function sYAxis(num){var formatterConf=this.Y[1],rtn;formatterConf=formatterConf&&formatterConf.yAxisLabelConf||this.baseConf;rtn=formatterConf.cacheStore[num];if(rtn===UNDEF){rtn=formatterConf.cacheStore[num]=formatNumber(num,formatterConf)}return rtn};NumberFormatter.prototype.scale=function scale(num){var rtn=this.paramScale.cacheStore[num];if(rtn===UNDEF){rtn=this.paramScale.cacheStore[num]=formatNumber(num,this.paramScale)}return rtn};NumberFormatter.prototype.legendValue=function legendValue(num){var rtn=this.paramLegend.cacheStore[num];if(rtn===UNDEF){rtn=this.paramLegend.cacheStore[num]=formatNumber(num,this.paramLegend)}return rtn};NumberFormatter.prototype.legendPercentValue=function legendPercentValue(num){var rtn=this.percentStrCacheStore[num],paramLegend=this.paramLegend,precision;if(rtn===UNDEF){precision=isNaN(paramLegend.decimalprecision)?"2":paramLegend.decimalprecision;rtn=this.percentStrCacheStore[num]=formatCommas(formatDecimals(num,precision,paramLegend.forcedecimals),paramLegend.decimalseparator,paramLegend.thousandseparator,paramLegend.thousandseparatorposition)+"%"}return rtn};NumberFormatter.prototype.getDateValue=function getDateValue(date){var dataObj,hour,min,sec,ms;if(date&&!/\//.test(this.timeConf.inputDateFormat)){date=date.replace(new RegExp(this.timeConf.inputDateFormat.replace(/[a-z]/gi,BLANK).slice(0,1),"g"),"/")}date=/^dd/.test(this.timeConf.inputDateFormat)&&date&&date.replace(/(\d{1,2})\/(\d{1,2})\/(\d{2,4})/,"$2/$1/$3")||date;dataObj=new Date(date);ms=dataObj.getTime();if(!ms&&date&&/\:/.test(date)){date=date.split(":");hour=(0,_lib.pluckNumber)(date[0],0);min=(0,_lib.pluckNumber)(date[1],0);sec=(0,_lib.pluckNumber)(date[2],0);hour=hour>23?hour===24&&min===0&&sec===0?hour:23:hour;min=min>59?59:min;sec=sec>59?59:sec;dataObj=new Date;dataObj.setHours(hour);dataObj.setMinutes(min);dataObj.setSeconds(sec);ms=dataObj.getTime()}return{ms:ms,date:dataObj}};NumberFormatter.prototype.getFormattedDate=function getFormattedDate(date,format){var D=(typeof date==="undefined"?"undefined":_typeof(date))==="object"&&date||new Date(date),timeConf=this.timeConf,output=(0,_lib.pluck)(format,timeConf.outputDateFormat),year=D.getFullYear(),month=D.getMonth(),day=D.getDate(),nday=D.getDay(),min=D.getMinutes(),sec=D.getSeconds(),hours=D.getHours();min=min>9?BLANK+min:ZEROSTRING+min;sec=sec>9?BLANK+sec:ZEROSTRING+sec;hours=hours>9?BLANK+hours:ZEROSTRING+hours;output.match(/dnl/)&&(output=output.replace(/dnl/gi,timeConf.days[nday]));output.match(/dns/)&&(output=output.replace(/dns/gi,timeConf.days[nday]&&timeConf.days[nday].substr(0,3)));output.match(/dd/)&&(output=output.replace(/dd/gi,day));output.match(/mnl/)&&(output=output.replace(/mnl/gi,timeConf.months[month]));output.match(/mns/)&&(output=output.replace(/mns/gi,timeConf.months[month]&&timeConf.months[month].substr(0,3)));output.match(/mm/)&&(output=output.replace(/mm/gi,month+1));output.match(/yyyy/)&&(output=output.replace(/yyyy/gi,year));output.match(/yy/)&&(output=output.replace(/yy/gi,(year%1e3%100+"").replace(/^(\d)$/,"0$1")));output.match(/hh12/)&&(output=output.replace(/hh12/gi,hours%12||12));output.match(/hh/)&&(output=output.replace(/hh/gi,hours));output.match(/mn/)&&(output=output.replace(/mn/gi,min));output.match(/ss/)&&(output=output.replace(/ss/gi,sec));output.match(/ampm/)&&(output=output.replace(/ampm/gi,hours<12?"AM":"PM"));output.match(/ds/)&&(output=output.replace(/ds/gi,timeConf.daySuffix[day]));return output};return NumberFormatter}();formatNumber=function formatNumber(num,attributes,isAxisValue){var strNum,strScale,numList,scaleList,upperIndex,tempNum,tempStr,i,valueArr,decimalPlaceLen,objNum;if(num===null){return}num=Number(num);strNum=num+BLANK;if(attributes.formatnumberscale==1){strScale=attributes.defaultnumberscale}else{strScale=BLANK}valueArr=strNum.split(DECIMALSTRING)[1];decimalPlaceLen=valueArr?valueArr.length:attributes.forcedecimals?TWOSTRING:BLANK;if(attributes.formatnumberscale==1){objNum=formatNumberScale(num,attributes.defaultnumberscale,attributes.numberscalevalue,attributes.numberscaleunit,attributes.scalerecursively,attributes.forcenumberscale);strNum=objNum.value;num=objNum.value;strScale=objNum.scale}if(attributes.scalerecursively&&attributes.formatnumberscale!==0&&attributes.formatnumberscale!=="0"){numList=objNum.value;scaleList=objNum.scale;upperIndex=attributes.maxscalerecursion==-1?numList.length:Math.min(numList.length,attributes.maxscalerecursion);if(attributes.formatnumber==1){strNum="";for(i=0;i<upperIndex;i++){tempNum=i===0?numList[i]:Math.abs(numList[i]);tempStr=tempNum+BLANK;if(i==upperIndex-1){tempStr=formatDecimals(tempNum,(0,_lib.pluck)(attributes.decimalprecision,decimalPlaceLen),attributes.forcedecimals)}strNum=strNum+formatCommas(tempStr,attributes.decimalseparator,attributes.thousandseparator,attributes.thousandseparatorposition)+scaleList[i]+(i<upperIndex-1?attributes.scaleseparator:"")}}else{strNum="";for(i=0;i<upperIndex;i++){strNum=strNum+(i===0?numList[i]:Math.abs(numList[i])+BLANK)+scaleList[i]+(i<upperIndex-1?attributes.scaleseparator:"")}}strNum=(attributes.numberprefix||BLANK)+strNum+(attributes.numbersuffix||BLANK)}else{if(attributes.formatnumber==1){strNum=formatDecimals(num,(0,_lib.pluck)(attributes.decimalprecision,decimalPlaceLen),attributes.forcedecimals);strNum=formatCommas(strNum,attributes.decimalseparator,attributes.thousandseparator,attributes.thousandseparatorposition,isAxisValue)}strNum=(attributes.numberprefix||BLANK)+strNum+strScale+(attributes.numbersuffix||BLANK)}return strNum};formatNumberScale=function formatNumberScale(intNum,defaultNumberScale,numScaleValues,numScaleUnits,scaleRecursively,forceNumberScale){var objRtn={},strScale=defaultNumberScale,recLowerScaleValue,recTempVal,i=0,numScaleValue,THOUSAND=1e3,arrValues=[],arrScales=[],carry;forceNumberScale=(0,_lib.pluckNumber)(forceNumberScale)||0;if(scaleRecursively){recLowerScaleValue=(0,_lib.pluckNumber)(numScaleValues[0])||THOUSAND;for(i=0;i<numScaleValues.length;i++){numScaleValue=(0,_lib.pluckNumber)(numScaleValues[i])||THOUSAND;if(Math.abs(Number(intNum))>=numScaleValue&&i<numScaleValues.length-1){carry=intNum%numScaleValue;intNum=(intNum-carry)/numScaleValue;if(i===0&&carry!==0&&numScaleUnits[i]===BLANK&&forceNumberScale){arrValues.push(carry/recLowerScaleValue);arrScales.push(numScaleUnits[1]||BLANK)}else if(carry!==0){if(i===1&&defaultNumberScale===BLANK&&forceNumberScale){recTempVal=carry+(arrValues.length?arrValues.pop():0);arrScales.pop();arrValues.push(recTempVal)}else{arrValues.push(carry)}arrScales.push(numScaleUnits[i])}}else{if(i===0&&defaultNumberScale===BLANK&&forceNumberScale){intNum=Number(intNum)/recLowerScaleValue;arrValues.push(intNum);arrScales.push(numScaleUnits[1]||BLANK)}else{if(i===1&&defaultNumberScale===BLANK&&forceNumberScale){recTempVal=intNum+(arrValues.length?arrValues.pop():0);arrScales.pop();arrValues.push(recTempVal)}else{arrValues.push(intNum)}arrScales.push(numScaleUnits[i])}break}}arrValues.reverse();arrScales.reverse();objRtn.value=arrValues;objRtn.scale=arrScales}else{if(numScaleValues.length===numScaleUnits.length){for(i=0;i<numScaleValues.length;i++){numScaleValue=(0,_lib.pluckNumber)(numScaleValues[i])||THOUSAND;if(numScaleValue&&Math.abs(Number(intNum))>=numScaleValue){strScale=numScaleUnits[i]||BLANK;intNum=Number(intNum)/numScaleValue}else{if(i===0&&defaultNumberScale===BLANK&&forceNumberScale){strScale=numScaleUnits[0]||BLANK;intNum=Number(intNum)/numScaleValue}break}}}objRtn.value=intNum;objRtn.scale=strScale}return objRtn};formatDecimals=function formatDecimals(intNum,decimalPrecision,forceDecimals){var tenToPower,strRounded,parts,paddingNeeded,i;if(decimalPrecision<=0){return mathRound(intNum)+BLANK}if(isNaN(decimalPrecision)){intNum=intNum+BLANK;if(intNum.length>12&&intNum.indexOf(DECIMALSTRING)!=-1){decimalPrecision=12-intNum.split(DECIMALSTRING)[0].length;tenToPower=mathPow(10,decimalPrecision);strRounded=mathRound(intNum*tenToPower)/tenToPower+BLANK;intNum=strRounded}return intNum}tenToPower=mathPow(10,decimalPrecision);strRounded=mathRound(intNum*tenToPower)/tenToPower+BLANK;if(forceDecimals==1){if(strRounded.indexOf(DECIMALSTRING)==-1){strRounded+=".0"}parts=strRounded.split(DECIMALSTRING);paddingNeeded=decimalPrecision-parts[1].length;for(i=1;i<=paddingNeeded;i++){strRounded+=ZEROSTRING}}return strRounded};formatCommas=function formatCommas(strNum,decimalseparator,thousandseparator,thSepPos,isAxisValue){var intNum=Number(strNum),strDecimalPart=BLANK,boolIsNegative=false,strNumberFloor=BLANK,formattedNumber=BLANK,startPos=0,endPos=0,minExponentialValue=1e15,fractionDigits,strNumberLen,sepPosLen,sepDigit;if(isNaN(intNum)){return BLANK}if(intNum>minExponentialValue){if(isAxisValue){fractionDigits=1}else{fractionDigits=14}return intNum.toExponential(fractionDigits)}startPos=0;endPos=strNum.length;if(strNum.indexOf(DECIMALSTRING)!=-1){strDecimalPart=strNum.substring(strNum.indexOf(DECIMALSTRING)+1,strNum.length);endPos=strNum.indexOf(DECIMALSTRING)}if(intNum<0){boolIsNegative=true;startPos=1}strNumberFloor=strNum.substring(startPos,endPos);strNumberLen=strNumberFloor.length;sepPosLen=thSepPos.length-1;sepDigit=thSepPos[sepPosLen];if(strNumberLen<sepDigit){formattedNumber=strNumberFloor}else{while(strNumberLen>=sepDigit){formattedNumber=(strNumberLen-sepDigit?thousandseparator:BLANK)+strNumberFloor.substr(strNumberLen-sepDigit,sepDigit)+formattedNumber;strNumberLen-=sepDigit;sepDigit=(sepPosLen-=1)<=0?thSepPos[0]:thSepPos[sepPosLen];if(strNumberLen<sepDigit){formattedNumber=strNumberFloor.substring(strNumberLen,0)+formattedNumber}}}if(strDecimalPart!=BLANK){formattedNumber=formattedNumber+decimalseparator+strDecimalPart}if(boolIsNegative===true){formattedNumber=MINUSSTR+formattedNumber}return formattedNumber};convertNumberSeps=function convertNumberSeps(num,conf){num=num+BLANK;if(conf._REGinthousandseparator){num=num.replace(conf._REGinthousandseparator,BLANK)}if(conf._REGindecimalseparator){num=num.replace(conf._REGindecimalseparator,DECIMALSTRING)}num=parseFloat(num);return isFinite(num)?num:NaN};exports["default"]=NumberFormatter},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _raphael=__webpack_require__(139);var _raphael2=_interopRequireDefault(_raphael);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}_raphael2["default"].stopPartialEventPropagation=true;_raphael2["default"]._stopabsolutePath=true;exports["default"]={extension:_raphael2["default"],name:"redraphael",type:"plugin"}},function(module,exports,__webpack_require__){"use strict";(function(global){exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};
/**!
                                                                                                                                                                                                                                                                               * RedRaphael 1.0.0 - JavaScript Vector Library
                                                                                                                                                                                                                                                                               * Copyright (c) 2012-2013 FusionCharts Technologies <http://www.fusioncharts.com>
                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                               * Raphael 2.1.0
                                                                                                                                                                                                                                                                               * Copyright (c) 2008-2012 Dmitry Baranovskiy <http://raphaeljs.com>
                                                                                                                                                                                                                                                                               * Copyright Â© 2008-2012 Sencha Labs <http://sencha.com>
                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                               * Licensed under the MIT license.
                                                                                                                                                                                                                                                                               */var _eve2=__webpack_require__(140);var _eve3=_interopRequireDefault(_eve2);var _raphael=__webpack_require__(121);var _raphael2=_interopRequireDefault(_raphael);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _win=typeof window!=="undefined"?window:typeof global!=="undefined"?global:null;function R(first){var args,arg,f;if(R._url===undefined){R._url=E}if(R.is(first,FUNCTION)){return loaded?first():_eve3["default"].on("raphael.DOMload",first)}else if(R.is(first,ARRAY)){return R._engine.create[APPLY](R,first.splice(0,3+R.is(first[0],NU))).add(first)}else{arg=(0,_raphael.getArrayCopy)(arguments);args=Array.prototype.slice.call(arg,0);if(R.is(args[args.length-1],FUNCTION)){f=args.pop();return loaded?f.call(R._engine.create[APPLY](R,args)):_eve3["default"].on("raphael.DOMload",function(){f.call(R._engine.create[APPLY](R,args))})}else{return R._engine.create[APPLY](R,arguments)}}}R.upgrade="1.0.0";R.version="2.1.0";R.eve=_eve3["default"];var loaded,UNDEF,undef,E="",S=" ",HAS="hasOwnProperty",APPLY="apply",CONCAT="concat",NU="number",STRING="string",ARRAY="array",OBJECT="object",FINITE="finite",SPLIT="split",NONE="none",BLACK="#000",NULL="null",FUNCTION="function",COMMA=",",TOKEN1="$1",rCheckRegex=/R/i,isIE=/trident/i.test(_win.navigator.userAgent),paramCounts={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},arraySplice=Array.prototype.splice,hasPrototypeBug=function(){var a=function a(){};return a.hasOwnProperty("prototype")}(),g={doc:_win.document,win:_win},doc=g.doc,win=g.win,supportsTouch=R.supportsTouch="createTouch"in doc,mStr="m",lStr="l",strM="M",strL="L",__data,__params=[],charRegex=/[a-z]/i,pathStringBreakFn=function pathStringBreakFn(a,b,c){var name=b.toLowerCase(),subArr=[],i=0;__params.length=0;c.replace(pathValues,function(a,b){b&&__params.push(+b)});if(name==="r"){__data.push([b][CONCAT](__params))}else if(name==="z"){__data.push([b])}else if(__params.length>=paramCounts[name]){while(i<__params.length){if(i%paramCounts[name]){subArr.push(__params[i])}else{subArr.length&&__data.push(subArr)&&(subArr=[]);subArr.push(b,__params[i])}i++}__data.push(subArr)}},supportsOnlyTouch=R.supportsOnlyTouch=supportsTouch&&!(win.navigator.maxTouchPoints||win.navigator.msMaxTouchPoints),CustomAttributes=function CustomAttributes(){},caproto=R.ca=R.customAttributes=CustomAttributes.prototype,Paper=function Paper(){this.ca=this.customAttributes=new CustomAttributes;this._CustomAttributes=function(){};this._CustomAttributes.prototype=this.ca;this._elementsById={};this.id=R._oid++;(0,_eve3["default"])("raphael.new",this)},paperproto=R.fn=Paper.prototype=R.prototype,events="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel dragstart dragmove dragend"[SPLIT](S),touchMap=R._touchMap={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},dragEventMap=R._dragEventMap={dragstart:"mousedown",dragmove:"mousemove",dragend:"mouseup"},Str=String,toFloat=win.parseFloat,toInt=win.parseInt,math=Math,mmax=math.max,mmin=math.min,abs=math.abs,pow=math.pow,mathCos=math.cos,mathSin=math.sin,mathSqrt=math.sqrt,round=math.round,PI=math.PI,deg2rad=PI/180,rad2deg=180/PI,lowerCase=Str.prototype.toLowerCase,upperCase=Str.prototype.toUpperCase,objectToString=Object.prototype.toString,separator=/[, ]+/,formatrg=/\{(\d+)\}/g,colourRegExp=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,bezierrg=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,commaSpaces=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,p2s=/,?([achlmqrstvxz]),?/gi,pathCommaRegex=/,?[a-z],?/i,pathCommand=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,tCommand=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,pathValues=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,isnan={NaN:1,Infinity:1,"-Infinity":1},hsrg={hs:1,rg:1},availableAttrs=R._availableAttrs={"arrow-end":NONE,"arrow-start":NONE,blur:0,"clip-rect":"0 0 1e9 1e9","clip-path":E,cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"about:blank","letter-spacing":0,"line-height":12,"vertical-align":"middle",opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:E,stroke:"#000","stroke-dasharray":E,"stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",visibility:E,title:E,transform:E,rotation:0,width:0,x:0,y:0,"shape-rendering":"auto",alpha:NU},availableAnimAttrs=R._availableAnimAttrs={blur:NU,"clip-rect":"csv","clip-path":"path",cx:NU,cy:NU,fill:"colour","fill-opacity":NU,"font-size":NU,height:NU,opacity:NU,path:"path",r:NU,rx:NU,ry:NU,stroke:"colour","stroke-opacity":NU,"stroke-width":NU,transform:"transform",width:NU,x:NU,y:NU,color:"colour",borderColor:"colour",borderWidth:NU,alpha:NU,"text-bound":"text-bound"},eldata={},sortByNumber=function sortByNumber(a,b){return toFloat(a)-toFloat(b)},fun=function fun(){},pipe=function pipe(x){return x},rectPath=R._rectPath=function(x,y,w,h,r){if(r){return[[strM,x+r,y],[lStr,w-r*2,0],["a",r,r,0,0,1,r,r],[lStr,0,h-r*2],["a",r,r,0,0,1,-r,r],[lStr,r*2-w,0],["a",r,r,0,0,1,-r,-r],[lStr,0,r*2-h],["a",r,r,0,0,1,r,-r],["z"]]}return[[strM,x,y],[lStr,w,0],[lStr,0,h],[lStr,-w,0],["z"]]},ellipsePath=function ellipsePath(x,y,rx,ry){if(ry==null){ry=rx}return[[strM,x,y],[mStr,0,-ry],["a",rx,ry,0,1,1,0,2*ry],["a",rx,ry,0,1,1,0,-2*ry],["z"]]},getPath=R._getPath={group:function group(){return false},path:function path(el){return el.attr("path")},circle:function circle(el){var a=el.attrs;return ellipsePath(a.cx,a.cy,a.r)},ellipse:function ellipse(el){var a=el.attrs;return ellipsePath(a.cx,a.cy,a.rx,a.ry)},rect:function rect(el){var a=el.attrs;return rectPath(a.x,a.y,a.width,a.height,a.r)},image:function image(el){var a=el.attrs;return rectPath(a.x,a.y,a.width,a.height)},text:function text(el){var bbox=el._getBBox();return rectPath(bbox.x,bbox.y,bbox.width,bbox.height)}},mapPath=R.mapPath=function(path,matrix){if(!matrix){return path}var x,y,i,j,ii,jj,pathi;path=path2curve(path).slice(0);for(i=0,ii=path.length;i<ii;i++){pathi=path[i]=path[i].slice(0);for(j=1,jj=pathi.length;j<jj;j+=2){x=matrix.x(pathi[j],pathi[j+1]);y=matrix.y(pathi[j],pathi[j+1]);pathi[j]=x;pathi[j+1]=y}}return path},lastArgIfGroup=R._lastArgIfGroup=function(args,clear){var last=args.length-1,arg=args[last];if(arg&&arg.constructor===R.el.constructor&&arg.type==="group"){if(clear){args[last]=undefined;delete args[last];arraySplice.call(args,last,1)}return arg}},serializeArgs=R._serializeArgs=function(args){var arg0=args[0],pathString,attrs,i,ii;if(R.is(arg0,OBJECT)&&!R.is(arg0,ARRAY)&&arg0.type!=="group"){attrs=arg0;if(arg0.path){pathString=arg0.path;pathString&&!R.is(pathString,STRING)&&!R.is(pathString[0],ARRAY)&&(pathString+=E)}for(i=1,ii=arguments.length;i<ii;i+=2){if(!attrs[arguments[i]]){attrs[arguments[i]]=arguments[i+1]}}}else{attrs={};for(i=1,ii=arguments.length;i<ii;i+=2){attrs[arguments[i]]=args[(i-1)/2]||arguments[i+1]}}return attrs},is=R.is=function(o,type){if(type===FINITE){return!isnan[HAS](+o)}if(type===ARRAY){return o instanceof Array}if(type===OBJECT&&(o===undef||o===null)){return false}return type===NULL&&o===null||type===(typeof o==="undefined"?"undefined":_typeof(o))&&o!==null||type===OBJECT&&o===Object(o)||type===ARRAY&&Array.isArray&&Array.isArray(o)||objectToString.call(o).slice(8,-1).toLowerCase()===type},clone=R.clone=hasPrototypeBug?function(obj){if(Object(obj)!==obj){return obj}var res=new obj.constructor;for(var key in obj){if(key!=="prototype"&&obj[HAS](key)){res[key]=clone(obj[key])}}return res}:function(obj){if(Object(obj)!==obj){return obj}var res=new obj.constructor;for(var key in obj){if(obj[HAS](key)){res[key]=clone(obj[key])}}return res},Node=_win.Node;if(Node&&!Node.prototype.contains){Node.prototype.contains=function(el){while(el=el.parentNode){if(el===this)return true}return false}}R._g=g;R.merge=_raphael.merge;R.extend=_raphael2["default"];R.createUUID=function(uuidRegEx,uuidReplacer){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(uuidRegEx,uuidReplacer).toUpperCase()}}(/[xy]/g,function(c){var r=math.random()*16|0,v=c==="x"?r:r&3|8;return v.toString(16)});R._radial_gradient=/^x?r(?:\(([^\)]*?)\))?/;R._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i;R.getElementID=function(id){return"rr-"+id};function PriorityQueue(comparator){this._comparator=comparator;this._elements=[]}PriorityQueue.prototype.isEmpty=function(){return this.size()===0};PriorityQueue.prototype.peek=function(){if(this.isEmpty())return null;return this._elements[0]};PriorityQueue.prototype.deq=function(){var first=this.peek();var last=this._elements.pop();var size=this.size();if(size===0)return first;this._elements[0]=last;var current=0;while(current<size){var largest=current;var left=2*current+1;var right=2*current+2;if(left<size&&this._compare(left,largest)>=0){largest=left}if(right<size&&this._compare(right,largest)>=0){largest=right}if(largest===current)break;this._swap(largest,current);current=largest}return first};PriorityQueue.prototype.enq=function(element){var size=this._elements.push(element);var current=size-1;while(current>0){var parent=Math.floor((current-1)/2);if(this._compare(current,parent)<=0)break;this._swap(parent,current);current=parent}return size};PriorityQueue.prototype.size=function(){return this._elements.length};PriorityQueue.prototype._compare=function(a,b){return this._comparator(this._elements[a],this._elements[b])};PriorityQueue.prototype._swap=function(a,b){var aux=this._elements[a];this._elements[a]=this._elements[b];this._elements[b]=aux};R.type=win.ENABLE_RED_CANVAS&&(win.CanvasRenderingContext2D||doc.createElement("canvas").getContext)?"CANVAS":win.SVGAngle||doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";R.svg=!((R.vml=R.type==="VML")||(R.canvas=R.type==="CANVAS"));R._Paper=Paper;R._id=0;R._oid=0;R.rad=function(deg){return deg%360*deg2rad};R.deg=function(rad){return rad*rad2deg%360};var _toHex=function toHex(color){if(R.vml){var trim=/^\s+|\s+$/g;var bod;try{var docum=new ActiveXObject("htmlfile");docum.write("<body>");docum.close();bod=docum.body}catch(e){bod=createPopup().document.body}var range=bod.createTextRange();_toHex=(0,_raphael.cacher)(function(color){try{bod.style.color=Str(color).replace(trim,E);var value=range.queryCommandValue("ForeColor");value=(value&255)<<16|value&65280|(value&16711680)>>>16;return"#"+("000000"+value.toString(16)).slice(-6)}catch(e){return NONE}})}else{var i=g.doc.createElement("i");i.title="RaphaÃ«l Colour Picker";i.style.display=NONE;g.doc.body.appendChild(i);_toHex=(0,_raphael.cacher)(function(color){i.style.color=color;return g.doc.defaultView.getComputedStyle(i,E).getPropertyValue("color")})}return _toHex(color)},hsbtoString=function hsbtoString(){return"hsb("+[this.h,this.s,this.b]+")"},hsltoString=function hsltoString(){return"hsl("+[this.h,this.s,this.l]+")"},rgbtoString=function rgbtoString(){return this.hex},prepareRGB=function prepareRGB(r,g,b){if(g==null&&is(r,OBJECT)&&"r"in r&&"g"in r&&"b"in r){b=r.b;g=r.g;r=r.r}if(g==null&&is(r,STRING)){var clr=R.getRGB(r);r=clr.r;g=clr.g;b=clr.b}if(r>1||g>1||b>1){r/=255;g/=255;b/=255}return[r,g,b]},packageRGB=function packageRGB(r,g,b,o){var rgb={r:r*=255,g:g*=255,b:b*=255,hex:R.rgb(r,g,b),toString:rgbtoString};is(o,FINITE)&&(rgb.opacity=o);return rgb};R.color=function(clr){var rgb;if(R.is(clr,OBJECT)&&"h"in clr&&"s"in clr&&"b"in clr){rgb=R.hsb2rgb(clr);clr.r=rgb.r;clr.g=rgb.g;clr.b=rgb.b;clr.hex=rgb.hex}else if(R.is(clr,OBJECT)&&"h"in clr&&"s"in clr&&lStr in clr){rgb=R.hsl2rgb(clr);clr.r=rgb.r;clr.g=rgb.g;clr.b=rgb.b;clr.hex=rgb.hex}else{if(R.is(clr,STRING)){clr=R.getRGB(clr)}if(R.is(clr,OBJECT)&&"r"in clr&&"g"in clr&&"b"in clr){rgb=R.rgb2hsl(clr);clr.h=rgb.h;clr.s=rgb.s;clr.l=rgb.l;rgb=R.rgb2hsb(clr);clr.v=rgb.b}else{clr={hex:NONE};clr.r=clr.g=clr.b=clr.h=clr.s=clr.v=clr.l=-1}}clr.toString=rgbtoString;return clr};R.hsb2rgb=function(h,s,v,o){if(this.is(h,OBJECT)&&"h"in h&&"s"in h&&"b"in h){v=h.b;s=h.s;h=h.h;o=h.o}h*=360;var R,G,B,X,C;h=h%360/60;C=v*s;X=C*(1-abs(h%2-1));R=G=B=v-C;h=~~h;R+=[C,X,0,0,X,C][h];G+=[X,C,C,X,0,0][h];B+=[0,0,X,C,C,X][h];return packageRGB(R,G,B,o)};R.hsl2rgb=function(h,s,l,o){if(this.is(h,OBJECT)&&"h"in h&&"s"in h&&lStr in h){l=h.l;s=h.s;h=h.h}if(h>1||s>1||l>1){h/=360;s/=100;l/=100}h*=360;var R,G,B,X,C;h=h%360/60;C=2*s*(l<.5?l:1-l);X=C*(1-abs(h%2-1));R=G=B=l-C/2;h=~~h;R+=[C,X,0,0,X,C][h];G+=[X,C,C,X,0,0][h];B+=[0,0,X,C,C,X][h];return packageRGB(R,G,B,o)};R.rgb2hsb=function(r,g,b){b=prepareRGB(r,g,b);r=b[0];g=b[1];b=b[2];var H,S,V,C;V=mmax(r,g,b);C=V-mmin(r,g,b);H=C===0?null:V===r?(g-b)/C:V===g?(b-r)/C+2:(r-g)/C+4;H=(H+360)%6*60/360;S=C===0?0:C/V;return{h:H,s:S,b:V,toString:hsbtoString}};R.rgb2hsl=function(r,g,b){b=prepareRGB(r,g,b);r=b[0];g=b[1];b=b[2];var H,S,L,M,m,C;M=mmax(r,g,b);m=mmin(r,g,b);C=M-m;H=C===0?null:M===r?(g-b)/C:M===g?(b-r)/C+2:(r-g)/C+4;H=(H+360)%6*60/360;L=(M+m)/2;S=C===0?0:L<.5?C/(2*L):C/(2-2*L);return{h:H,s:S,l:L,toString:hsltoString}};R._path2string=function(){return this.join(COMMA).replace(p2s,TOKEN1)};R._cacher=_raphael.cacher;function clrToString(){return this.hex}R.getRGB=(0,_raphael.cacher)(function(colour){var opacity,res,red,green,blue,t,values,rgb;colour&&is(colour,OBJECT)&&"opacity"in colour&&(opacity=colour.opacity);if(!colour||!!((colour=Str(colour)).indexOf("-")+1)){return{r:-1,g:-1,b:-1,hex:NONE,error:1,toString:clrToString}}if(colour===NONE){return{r:-1,g:-1,b:-1,hex:NONE,toString:clrToString}}!(hsrg[HAS](colour.toLowerCase().substring(0,2))||colour.charAt()==="#")&&(colour=_toHex(colour));if(rgb=colour.match(colourRegExp)){if(rgb[2]){blue=toInt(rgb[2].substring(5),16);green=toInt(rgb[2].substring(3,5),16);red=toInt(rgb[2].substring(1,3),16)}if(rgb[3]){blue=toInt((t=rgb[3].charAt(3))+t,16);green=toInt((t=rgb[3].charAt(2))+t,16);red=toInt((t=rgb[3].charAt(1))+t,16)}if(rgb[4]){values=rgb[4][SPLIT](commaSpaces);red=toFloat(values[0]);values[0].slice(-1)==="%"&&(red*=2.55);green=toFloat(values[1]);values[1].slice(-1)==="%"&&(green*=2.55);blue=toFloat(values[2]);values[2].slice(-1)==="%"&&(blue*=2.55);rgb[1].toLowerCase().slice(0,4)==="rgba"&&(opacity=toFloat(values[3]));values[3]&&values[3].slice(-1)==="%"&&(opacity/=100)}if(rgb[5]){values=rgb[5][SPLIT](commaSpaces);red=toFloat(values[0]);values[0].slice(-1)==="%"&&(red*=2.55);green=toFloat(values[1]);values[1].slice(-1)==="%"&&(green*=2.55);blue=toFloat(values[2]);values[2].slice(-1)==="%"&&(blue*=2.55);(values[0].slice(-3)==="deg"||values[0].slice(-1)==="Â°")&&(red/=360);rgb[1].toLowerCase().slice(0,4)==="hsba"&&(opacity=toFloat(values[3]));values[3]&&values[3].slice(-1)==="%"&&(opacity/=100);return R.hsb2rgb(red,green,blue,opacity)}if(rgb[6]){values=rgb[6][SPLIT](commaSpaces);red=toFloat(values[0]);values[0].slice(-1)==="%"&&(red*=2.55);green=toFloat(values[1]);values[1].slice(-1)==="%"&&(green*=2.55);blue=toFloat(values[2]);values[2].slice(-1)==="%"&&(blue*=2.55);(values[0].slice(-3)==="deg"||values[0].slice(-1)==="Â°")&&(red/=360);rgb[1].toLowerCase().slice(0,4)==="hsla"&&(opacity=toFloat(values[3]));values[3]&&values[3].slice(-1)==="%"&&(opacity/=100);return R.hsl2rgb(red,green,blue,opacity)}rgb={r:red,g:green,b:blue,toString:clrToString};rgb.hex="#"+(16777216|blue|green<<8|red<<16).toString(16).slice(1);R.is(opacity,FINITE)&&(rgb.opacity=opacity);return rgb}return{r:-1,g:-1,b:-1,hex:NONE,error:1,toString:clrToString}},R);R.tintshade=(0,_raphael.cacher)(function(colour,percent){var rgb=R.getRGB(colour),tint,offset=255;percent<0&&(percent*=-1,offset=0);percent>1&&(percent=1);tint=percent===0?rgb:{r:offset-(offset-rgb.r)*percent,g:offset-(offset-rgb.g)*percent,b:offset-(offset-rgb.b)*percent,toString:clrToString};tint.hex=R.rgb(tint.r,tint.g,tint.b);rgb.error&&(tint.error=rgb.error);if("opacity"in rgb){tint.rgba="rgba("+[tint.r,tint.g,tint.b,rgb.opacity].join(",")+")";tint.opacity=rgb.opacity}else{tint.rgba="rgb("+[tint.r,tint.g,tint.b].join(",")+")"}return tint},R);R.rgb=(0,_raphael.cacher)(function(r,g,b){return"#"+(16777216|b|g<<8|r<<16).toString(16).slice(1)});function catmullRom2bezier(crp,z){var d=[];for(var i=0,iLen=crp.length;iLen-2*!z>i;i+=2){var p=[{x:+crp[i-2],y:+crp[i-1]},{x:+crp[i],y:+crp[i+1]},{x:+crp[i+2],y:+crp[i+3]},{x:+crp[i+4],y:+crp[i+5]}];if(z){if(!i){p[0]={x:+crp[iLen-2],y:+crp[iLen-1]}}else if(iLen-4===i){p[3]={x:+crp[0],y:+crp[1]}}else if(iLen-2===i){p[2]={x:+crp[0],y:+crp[1]};p[3]={x:+crp[2],y:+crp[3]}}}else{if(iLen-4===i){p[3]=p[2]}else if(!i){p[0]={x:+crp[i],y:+crp[i+1]}}}d.push(["C",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return d}R.sanitizePath=function(pathArg){var pathStr;pathStr=pathArg.join?pathArg.join(COMMA):pathArg;if(rCheckRegex.test(pathStr)){pathStr=R._pathToAbsolute(pathStr)}else{if(p2s.test(pathCommaRegex)){pathStr=pathStr.replace(p2s,TOKEN1)}}return pathStr};R.parsePathString=function(pathString){if(!pathString||!pathString.length){return null}var pth=paths(pathString);if(pth.arr){return pathClone(pth.arr)}__data=undef;if(R.is(pathString,ARRAY)){pathString=Str(pathString).replace(/,?([A-Z]),?/g,",$1,").replace(/(^,?)|(,?$)/g,"").replace(/,,?/g,",").split(",");if(R.is(pathString[0],ARRAY)){__data=pathClone(pathString)}else{var i,subPathArr=[],l=pathString.length,pathI,noOfDataPoints;__data=[];for(i=0;i<l;i+=1){if(charRegex.test(pathString[i])){subPathArr.length&&__data.push(subPathArr);pathI=pathString[i];subPathArr=[pathI];noOfDataPoints=paramCounts[pathI.toLowerCase()]}else if(noOfDataPoints){subPathArr.push(+pathString[i]);noOfDataPoints--}else if(pathString[i].length){__data.push(subPathArr);subPathArr=[pathI].concat(+pathString[i]);noOfDataPoints=paramCounts[pathI.toLowerCase()]-1}}__data.push(subPathArr)}}if(!__data||!__data.length){__data=[];Str(pathString).replace(pathCommand,pathStringBreakFn)}__data.toString=R._path2string;pth.arr=__data;return pth.arr};R.parseTransformString=(0,_raphael.cacher)(function(TString){if(!TString){return null}var paramCounts={r:3,s:4,t:2,m:6},data=[];if(R.is(TString,ARRAY)&&R.is(TString[0],ARRAY)){data=pathClone(TString)}if(!data.length){Str(TString).replace(tCommand,function(a,b,c){var params=[],name=lowerCase.call(b);c.replace(pathValues,function(a,b){b&&params.push(+b)});data.push([b][CONCAT](params))})}data.toString=R._path2string;return data});var _pathCache={},paths=(0,_raphael.cacher)(function(){return{}},undef,undef,undef,500,_pathCache,true);R.findDotsAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t,t13=pow(t1,3),t12=pow(t1,2),t2=t*t,t3=t2*t,x=t13*p1x+t12*3*t*c1x+t1*3*t*t*c2x+t3*p2x,y=t13*p1y+t12*3*t*c1y+t1*3*t*t*c2y+t3*p2y,mx=p1x+2*t*(c1x-p1x)+t2*(c2x-2*c1x+p1x),my=p1y+2*t*(c1y-p1y)+t2*(c2y-2*c1y+p1y),nx=c1x+2*t*(c2x-c1x)+t2*(p2x-2*c2x+c1x),ny=c1y+2*t*(c2y-c1y)+t2*(p2y-2*c2y+c1y),ax=t1*p1x+t*c1x,ay=t1*p1y+t*c1y,cx=t1*c2x+t*p2x,cy=t1*c2y+t*p2y,alpha=90-math.atan2(mx-nx,my-ny)*180/PI;(mx>nx||my<ny)&&(alpha+=180);return{x:x,y:y,m:{x:mx,y:my},n:{x:nx,y:ny},start:{x:ax,y:ay},end:{x:cx,y:cy},alpha:alpha}};function base3(t,p1,p2,p3,p4){var t1=-3*p1+9*p2-9*p3+3*p4,t2=t*t1+6*p1-12*p2+6*p3;return t*t2-3*p1+3*p2}function bezlen(x1,y1,x2,y2,x3,y3,x4,y4,z){if(z==null){z=1}z=z>1?1:z<0?0:z;var z2=z/2,n=12,Tvalues=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Cvalues=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],sum=0;for(var i=0;i<n;i++){var ct=z2*Tvalues[i]+z2,xbase=base3(ct,x1,x2,x3,x4),ybase=base3(ct,y1,y2,y3,y4),comb=xbase*xbase+ybase*ybase;sum+=Cvalues[i]*mathSqrt(comb)}return z2*sum}function getTatLen(x1,y1,x2,y2,x3,y3,x4,y4,ll){if(ll<0||bezlen(x1,y1,x2,y2,x3,y3,x4,y4)<ll){return}var t=1,step=t/2,t2=t-step,l,e=.01;l=bezlen(x1,y1,x2,y2,x3,y3,x4,y4,t2);while(abs(l-ll)>e){step/=2;t2+=(l<ll?1:-1)*step;l=bezlen(x1,y1,x2,y2,x3,y3,x4,y4,t2)}return t2}function intersect(x1,y1,x2,y2,x3,y3,x4,y4){if(mmax(x1,x2)<mmin(x3,x4)||mmin(x1,x2)>mmax(x3,x4)||mmax(y1,y2)<mmin(y3,y4)||mmin(y1,y2)>mmax(y3,y4)){return}var nx=(x1*y2-y1*x2)*(x3-x4)-(x1-x2)*(x3*y4-y3*x4),ny=(x1*y2-y1*x2)*(y3-y4)-(y1-y2)*(x3*y4-y3*x4),denominator=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);if(!denominator){return}var px=nx/denominator,py=ny/denominator,px2=+px.toFixed(2),py2=+py.toFixed(2);if(px2<+mmin(x1,x2).toFixed(2)||px2>+mmax(x1,x2).toFixed(2)||px2<+mmin(x3,x4).toFixed(2)||px2>+mmax(x3,x4).toFixed(2)||py2<+mmin(y1,y2).toFixed(2)||py2>+mmax(y1,y2).toFixed(2)||py2<+mmin(y3,y4).toFixed(2)||py2>+mmax(y3,y4).toFixed(2)){return}return{x:px,y:py}}R._removedFactory=function(methodname){return function(){(0,_eve3["default"])("raphael.log",null,"RaphaÃ«l: you are calling to method â"+methodname+"â of removed object",methodname)}};var pathDimensions=R.pathBBox=function(path){var pth=paths(path);if(!path){return{x:0,y:0,width:0,height:0,x2:0,y2:0}}path=path2curve(path);var x=0,y=0,X=[],Y=[],p;for(var i=0,ii=path.length;i<ii;i++){p=path[i];if(p[0]===strM){x=p[1];y=p[2];X.push(x);Y.push(y)}else{var dim=curveDim(x,y,p[1],p[2],p[3],p[4],p[5],p[6]);X=X[CONCAT](dim.min.x,dim.max.x);Y=Y[CONCAT](dim.min.y,dim.max.y);x=p[5];y=p[6]}}var xmin=mmin[APPLY](0,X),ymin=mmin[APPLY](0,Y),xmax=mmax[APPLY](0,X),ymax=mmax[APPLY](0,Y),bb={x:xmin,y:ymin,x2:xmax,y2:ymax,width:xmax-xmin,height:ymax-ymin};pth.bbox=clone(bb);return bb},pathClone=function pathClone(pathArray){var res=clone(pathArray);res.toString=R._path2string;return res},pathToAbsolute=R._pathToAbsolute=function(pathArray){var pth=paths(pathArray),res;if(!pth.abs){if(!R.is(pathArray,ARRAY)||!R.is(pathArray&&pathArray[0],ARRAY)){pathArray=R.parsePathString(pathArray)}if(!pathArray||!pathArray.length){res=[[strM,0,0]];res.toString=R._path2string;return res}var x=0,y=0,mx=0,my=0,start=0;res=[];if(pathArray[0][0]===strM){x=+pathArray[0][1];y=+pathArray[0][2];mx=x;my=y;start++;res[0]=[strM,x,y]}var crz=pathArray.length===3&&pathArray[0][0]===strM&&pathArray[1][0].toUpperCase()==="R"&&pathArray[2][0].toUpperCase()==="Z";for(var r,pa,i=start,ii=pathArray.length;i<ii;i++){res.push(r=[]);pa=pathArray[i];if(pa[0]!=upperCase.call(pa[0])){r[0]=upperCase.call(pa[0]);switch(r[0]){case"A":r[1]=pa[1];r[2]=pa[2];r[3]=pa[3];r[4]=pa[4];r[5]=pa[5];r[6]=+(pa[6]+x);r[7]=+(pa[7]+y);break;case"V":r[1]=+pa[1]+y;break;case"H":r[1]=+pa[1]+x;break;case"R":var dots=[x,y][CONCAT](pa.slice(1));for(var j=2,jj=dots.length;j<jj;j++){dots[j]=+dots[j]+x;dots[++j]=+dots[j]+y}res.pop();res=res[CONCAT](catmullRom2bezier(dots,crz));break;case"M":mx=+pa[1]+x;my=+pa[2]+y;default:for(j=1,jj=pa.length;j<jj;j++){r[j]=+pa[j]+(j%2?x:y);j%2?x=r[j]:y=r[j]}}}else if(pa[0]==="R"){dots=[x,y][CONCAT](pa.slice(1));res.pop();res=res[CONCAT](catmullRom2bezier(dots,crz));r=["R"][CONCAT](pa.slice(-2))}else{for(var k=0,kk=pa.length;k<kk;k++){r[k]=pa[k]}}switch(r[0]){case"Z":x=mx;y=my;break;case"H":x=r[1];break;case"V":y=r[1];break;case"M":mx=r[r.length-2];my=r[r.length-1];default:x=r[r.length-2];y=r[r.length-1]}}res.toString=R._path2string;pth.abs=res}return pathClone(pth.abs)},l2c=function l2c(x1,y1,x2,y2){return[x1,y1,x2,y2,x2,y2]},q2c=function q2c(x1,y1,ax,ay,x2,y2){var _13=1/3,_23=2/3;return[_13*x1+_23*ax,_13*y1+_23*ay,_13*x2+_23*ax,_13*y2+_23*ay,x2,y2]},a2c=function a2c(x1,y1,rx,ry,angle,large_arc_flag,sweep_flag,x2,y2,recursive){sweep_flag=sweep_flag&&+sweep_flag;large_arc_flag=large_arc_flag&&+large_arc_flag;var _120=PI*120/180,rad=deg2rad*(+angle||0),res=[],xy,rotate=(0,_raphael.cacher)(function(x,y,rad){var X=x*mathCos(rad)-y*mathSin(rad),Y=x*mathSin(rad)+y*mathCos(rad);return{x:X,y:Y}});if(!recursive){xy=rotate(x1,y1,-rad);x1=xy.x;y1=xy.y;xy=rotate(x2,y2,-rad);x2=xy.x;y2=xy.y;var cos=mathCos(deg2rad*angle),sin=mathSin(deg2rad*angle),x=(x1-x2)/2,y=(y1-y2)/2;var h=x*x/(rx*rx)+y*y/(ry*ry);if(h>1){h=mathSqrt(h);rx=h*rx;ry=h*ry}var rx2=rx*rx,ry2=ry*ry,k=(large_arc_flag===sweep_flag?-1:1)*mathSqrt(abs((rx2*ry2-rx2*y*y-ry2*x*x)/(rx2*y*y+ry2*x*x))),cx=k*rx*y/ry+(x1+x2)/2,cy=k*-ry*x/rx+(y1+y2)/2,f1=math.asin(((y1-cy)/ry).toFixed(9)),f2=math.asin(((y2-cy)/ry).toFixed(9));f1=x1<cx?PI-f1:f1;f2=x2<cx?PI-f2:f2;f1<0&&(f1=PI*2+f1);f2<0&&(f2=PI*2+f2);if(sweep_flag&&f1>f2){f1=f1-PI*2}if(!sweep_flag&&f2>f1){f2=f2-PI*2}}else{f1=recursive[0];f2=recursive[1];cx=recursive[2];cy=recursive[3]}var df=f2-f1;if(abs(df)>_120){var f2old=f2,x2old=x2,y2old=y2;f2=f1+_120*(sweep_flag&&f2>f1?1:-1);x2=cx+rx*mathCos(f2);y2=cy+ry*mathSin(f2);res=a2c(x2,y2,rx,ry,angle,0,sweep_flag,x2old,y2old,[f2,f2old,cx,cy])}df=f2-f1;var c1=mathCos(f1),s1=mathSin(f1),c2=mathCos(f2),s2=mathSin(f2),t=math.tan(df/4),hx=4/3*rx*t,hy=4/3*ry*t,m1=[x1,y1],m2=[x1+hx*s1,y1-hy*c1],m3=[x2+hx*s2,y2-hy*c2],m4=[x2,y2];m2[0]=2*m1[0]-m2[0];m2[1]=2*m1[1]-m2[1];if(recursive){return[m2,m3,m4][CONCAT](res)}else{res=[m2,m3,m4][CONCAT](res).join()[SPLIT](COMMA);var newres=[];for(var i=0,ii=res.length;i<ii;i++){newres[i]=i%2?rotate(res[i-1],res[i],rad).y:rotate(res[i],res[i+1],rad).x}return newres}},findDotAtSegment=function findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t;return{x:pow(t1,3)*p1x+pow(t1,2)*3*t*c1x+t1*3*t*t*c2x+pow(t,3)*p2x,y:pow(t1,3)*p1y+pow(t1,2)*3*t*c1y+t1*3*t*t*c2y+pow(t,3)*p2y}},curveDim=(0,_raphael.cacher)(function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){var a=c2x-2*c1x+p1x-(p2x-2*c2x+c1x),b=2*(c1x-p1x)-2*(c2x-c1x),c=p1x-c1x,t1=(-b+mathSqrt(b*b-4*a*c))/2/a,t2=(-b-mathSqrt(b*b-4*a*c))/2/a,y=[p1y,p2y],x=[p1x,p2x],dot;abs(t1)>"1e12"&&(t1=.5);abs(t2)>"1e12"&&(t2=.5);if(t1>0&&t1<1){dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t1);x.push(dot.x);y.push(dot.y)}if(t2>0&&t2<1){dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t2);x.push(dot.x);y.push(dot.y)}a=c2y-2*c1y+p1y-(p2y-2*c2y+c1y);b=2*(c1y-p1y)-2*(c2y-c1y);c=p1y-c1y;t1=(-b+mathSqrt(b*b-4*a*c))/2/a;t2=(-b-mathSqrt(b*b-4*a*c))/2/a;abs(t1)>"1e12"&&(t1=.5);abs(t2)>"1e12"&&(t2=.5);if(t1>0&&t1<1){dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t1);x.push(dot.x);y.push(dot.y)}if(t2>0&&t2<1){dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t2);x.push(dot.x);y.push(dot.y)}return{min:{x:mmin[APPLY](0,x),y:mmin[APPLY](0,y)},max:{x:mmax[APPLY](0,x),y:mmax[APPLY](0,y)}}}),path2curve=R._path2curve=(0,_raphael.cacher)(function(path,path2){var pth=!path2&&paths(path);if(!path2&&pth.curve){return pathClone(pth.curve)}var p=pathToAbsolute(path),p2=path2&&pathToAbsolute(path2),attrs={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},attrs2={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},processPath=function processPath(path,d){var nx,ny;if(!path){return["C",d.x,d.y,d.x,d.y,d.x,d.y]}!(path[0]in{T:1,Q:1})&&(d.qx=d.qy=null);switch(path[0]){case"M":d.X=path[1];d.Y=path[2];break;case"A":path=["C"][CONCAT](a2c[APPLY](0,[d.x,d.y][CONCAT](path.slice(1))));break;case"S":nx=d.x+(d.x-(d.bx||d.x));ny=d.y+(d.y-(d.by||d.y));path=["C",nx,ny][CONCAT](path.slice(1));break;case"T":d.qx=d.x+(d.x-(d.qx||d.x));d.qy=d.y+(d.y-(d.qy||d.y));path=["C"][CONCAT](q2c(d.x,d.y,d.qx,d.qy,path[1],path[2]));break;case"Q":d.qx=path[1];d.qy=path[2];path=["C"][CONCAT](q2c(d.x,d.y,path[1],path[2],path[3],path[4]));break;case"L":path=["C"][CONCAT](l2c(d.x,d.y,path[1],path[2]));break;case"H":path=["C"][CONCAT](l2c(d.x,d.y,path[1],d.y));break;case"V":path=["C"][CONCAT](l2c(d.x,d.y,d.x,path[1]));break;case"Z":path=["C"][CONCAT](l2c(d.x,d.y,d.X,d.Y));break}return path},fixArc=function fixArc(pp,i){if(pp[i].length>7){pp[i].shift();var pi=pp[i];while(pi.length){pp.splice(i++,0,["C"][CONCAT](pi.splice(0,6)))}pp.splice(i,1);ii=mmax(p.length,p2&&p2.length||0)}},fixM=function fixM(path1,path2,a1,a2,i){if(path1&&path2&&path1[i][0]===strM&&path2[i][0]!=strM&&!i){path2.splice(i,0,[strM,a2.x,a2.y]);a1.bx=0;a1.by=0;a1.x=path1[i][1];a1.y=path1[i][2];ii=mmax(p.length,p2&&p2.length||0)}};for(var i=0,ii=mmax(p.length,p2&&p2.length||0);i<ii;i++){p[i]=processPath(p[i],attrs);fixArc(p,i);p2&&(p2[i]=processPath(p2[i],attrs2));p2&&fixArc(p2,i);fixM(p,p2,attrs,attrs2,i);fixM(p2,p,attrs2,attrs,i);var seg=p[i],seg2=p2&&p2[i],seglen=seg.length,seg2len=p2&&seg2.length;attrs.x=seg[seglen-2];attrs.y=seg[seglen-1];attrs.bx=toFloat(seg[seglen-4])||attrs.x;attrs.by=toFloat(seg[seglen-3])||attrs.y;attrs2.bx=p2&&(toFloat(seg2[seg2len-4])||attrs2.x);attrs2.by=p2&&(toFloat(seg2[seg2len-3])||attrs2.y);attrs2.x=p2&&seg2[seg2len-2];attrs2.y=p2&&seg2[seg2len-1]}if(!p2){pth.curve=pathClone(p)}return p2?[p,p2]:p},null,pathClone),parseDots=R._parseDots=(0,_raphael.cacher)(function(gradient){var dots=[];for(var i=0,ii=gradient.length;i<ii;i++){var dot={},par=gradient[i].match(/^([^:]*):?([\d\.]*)/);dot.color=R.getRGB(par[1]);if(dot.color.error){return null}dot.opacity=dot.color.opacity;dot.color=dot.color.hex;par[2]&&(dot.offset=par[2]+"%");dots.push(dot)}for(i=1,ii=dots.length-1;i<ii;i++){if(!dots[i].offset){var start=toFloat(dots[i-1].offset||0),end=0;for(var j=i+1;j<ii;j++){if(dots[j].offset){end=dots[j].offset;break}}if(!end){end=100;j=ii}end=toFloat(end);var d=(end-start)/(j-i+1);for(;i<j;i++){start+=d;dots[i].offset=start+"%"}}}return dots}),tear=R._tear=function(el,paper){el===paper.top&&(paper.top=el.prev);el===paper.bottom&&(paper.bottom=el.next);el.next&&(el.next.prev=el.prev);el.prev&&(el.prev.next=el.next)},tofront=R._tofront=function(el,paper){if(paper.top===el){return false}tear(el,paper);el.next=null;el.prev=paper.top;paper.top.next=el;paper.top=el;return true},toback=R._toback=function(el,paper){if(paper.bottom===el){return false}tear(el,paper);el.next=paper.bottom;el.prev=null;paper.bottom.prev=el;paper.bottom=el;return true},insertafter=R._insertafter=function(el,el2,paper,paper2){tear(el,paper);el.parent=paper2;el2===paper2.top&&(paper2.top=el);el2.next&&(el2.next.prev=el);el.next=el2.next;el.prev=el2;el2.next=el},insertbefore=R._insertbefore=function(el,el2,paper,paper2){tear(el,paper);el.parent=paper2;el2===paper2.bottom&&(paper2.bottom=el);el2.prev&&(el2.prev.next=el);el.prev=el2.prev;el2.prev=el;el.next=el2},extractTransform=R._extractTransform=function(el,tstr){if(tstr==null){return el._.transform}tstr=Str(tstr).replace(/\.{3}|\u2026/g,el._.transform||E);var tdata=R.parseTransformString(tstr),deg=0,dx=0,dy=0,sx=1,sy=1,_=el._,m=new Matrix;_.transform=tdata||[];if(tdata){for(var i=0,ii=tdata.length;i<ii;i++){var t=tdata[i],tlen=t.length,command=Str(t[0]).toLowerCase(),absolute=t[0]!=command,inver=absolute?m.invert():0,x1,y1,x2,y2,bb;if(command==="t"&&tlen===3){if(absolute){x1=inver.x(0,0);y1=inver.y(0,0);x2=inver.x(t[1],t[2]);y2=inver.y(t[1],t[2]);m.translate(x2-x1,y2-y1)}else{m.translate(t[1],t[2])}}else if(command==="r"){if(tlen===2){bb=_.bb||(_.bb=el.getBBox(1));m.rotate(t[1],bb.x+bb.width/2,bb.y+bb.height/2);deg+=t[1]}else if(tlen===4){if(absolute){x2=inver.x(t[2],t[3]);y2=inver.y(t[2],t[3]);m.rotate(t[1],x2,y2)}else{m.rotate(t[1],t[2],t[3])}deg+=t[1]}}else if(command==="s"){if(tlen===2||tlen===3){bb=_.bb||(_.bb=el.getBBox(1));m.scale(t[1],t[tlen-1],bb.x+bb.width/2,bb.y+bb.height/2);sx*=t[1];sy*=t[tlen-1]}else if(tlen===5){if(absolute){x2=inver.x(t[3],t[4]);y2=inver.y(t[3],t[4]);m.scale(t[1],t[2],x2,y2)}else{m.scale(t[1],t[2],t[3],t[4])}sx*=t[1];sy*=t[2]}}else if(command===mStr&&tlen===7){m.add(t[1],t[2],t[3],t[4],t[5],t[6])}_.dirtyT=1;el.matrix=m}}el.matrix=m;_.sx=sx;_.sy=sy;_.deg=deg;_.dx=dx=m.e;_.dy=dy=m.f;if(sx===1&&sy===1&&!deg&&_.bbox){_.bbox.x+=+dx;_.bbox.y+=+dy}else{_.dirtyT=1}},getEmpty=function getEmpty(item){var l=item[0];switch(l.toLowerCase()){case"t":return[l,0,0];case"m":return[l,1,0,0,1,0,0];case"r":if(item.length===4){return[l,0,item[2],item[3]]}else{return[l,0]}case"s":if(item.length===5){return[l,1,1,item[3],item[4]]}else if(item.length===3){return[l,1,1]}else{return[l,1]}}},equaliseTransform=R._equaliseTransform=function(t1,t2){t2=Str(t2).replace(/\.{3}|\u2026/g,t1);t1=R.parseTransformString(t1)||[];t2=R.parseTransformString(t2)||[];var maxlength=mmax(t1.length,t2.length),from=[],to=[],i=0,j,jj,tt1,tt2;for(;i<maxlength;i++){tt1=t1[i]||getEmpty(t2[i]);tt2=t2[i]||getEmpty(tt1);if(tt1[0]!=tt2[0]||tt1[0].toLowerCase()==="r"&&(tt1[2]!=tt2[2]||tt1[3]!=tt2[3])||tt1[0].toLowerCase()==="s"&&(tt1[3]!=tt2[3]||tt1[4]!=tt2[4])){return}from[i]=[];to[i]=[];for(j=0,jj=mmax(tt1.length,tt2.length);j<jj;j++){j in tt1&&(from[i][j]=tt1[j]);j in tt2&&(to[i][j]=tt2[j])}}return{from:from,to:to}};R._getContainer=function(x,y,w,h){var container;container=h==null&&!R.is(x,OBJECT)?g.doc.getElementById(x):x;if(container==null){return}if(container.tagName){if(y==null){return{container:container,width:container.style.pixelWidth||container.offsetWidth,height:container.style.pixelHeight||container.offsetHeight}}else{return{container:container,width:y,height:w}}}return{container:1,x:x,y:y,width:w,height:h}};R._engine={};R.path2curve=path2curve;R.matrix=function(a,b,c,d,e,f){return new Matrix(a,b,c,d,e,f)};function Matrix(a,b,c,d,e,f){if(a!=null){this.a=+a;this.b=+b;this.c=+c;this.d=+d;this.e=+e;this.f=+f}else{this.a=1;this.b=0;this.c=0;this.d=1;this.e=0;this.f=0}}(function(matrixproto){matrixproto.add=function(a,b,c,d,e,f){var out=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],matrix=[[a,c,e],[b,d,f],[0,0,1]],x,y,z,res;if(a&&a instanceof Matrix){matrix=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]}for(x=0;x<3;x++){for(y=0;y<3;y++){res=0;for(z=0;z<3;z++){res+=m[x][z]*matrix[z][y]}out[x][y]=res}}this.a=out[0][0];this.b=out[1][0];this.c=out[0][1];this.d=out[1][1];this.e=out[0][2];this.f=out[1][2]};matrixproto.invert=function(){var me=this,x=me.a*me.d-me.b*me.c;return new Matrix(me.d/x,-me.b/x,-me.c/x,me.a/x,(me.c*me.f-me.d*me.e)/x,(me.b*me.e-me.a*me.f)/x)};matrixproto.clone=function(){return new Matrix(this.a,this.b,this.c,this.d,this.e,this.f)};matrixproto.translate=function(x,y){this.add(1,0,0,1,x,y)};matrixproto.scale=function(x,y,cx,cy){y==null&&(y=x);(cx||cy)&&this.add(1,0,0,1,cx,cy);this.add(x,0,0,y,0,0);(cx||cy)&&this.add(1,0,0,1,-cx,-cy)};matrixproto.rotate=function(a,x,y){a=R.rad(a);x=x||0;y=y||0;var cos=+mathCos(a).toFixed(9),sin=+mathSin(a).toFixed(9);this.add(cos,sin,-sin,cos,x,y);this.add(1,0,0,1,-x,-y)};matrixproto.x=function(x,y){return x*this.a+y*this.c+this.e};matrixproto.y=function(x,y){return x*this.b+y*this.d+this.f};matrixproto.get=function(i){return+this[Str.fromCharCode(97+i)].toFixed(4)};matrixproto.toString=function(){return R.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()};matrixproto.toMatrixString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"};matrixproto.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};matrixproto.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};function norm(a){return a[0]*a[0]+a[1]*a[1]}function normalize(a){var mag=mathSqrt(norm(a));a[0]&&(a[0]/=mag);a[1]&&(a[1]/=mag)}matrixproto.split=function(){var out={};out.dx=this.e;out.dy=this.f;var row=[[this.a,this.c],[this.b,this.d]];out.scalex=mathSqrt(norm(row[0]));normalize(row[0]);out.shear=row[0][0]*row[1][0]+row[0][1]*row[1][1];row[1]=[row[1][0]-row[0][0]*out.shear,row[1][1]-row[0][1]*out.shear];out.scaley=mathSqrt(norm(row[1]));normalize(row[1]);out.shear/=out.scaley;var sin=-row[0][1],cos=row[1][1];if(cos<0){out.rotate=R.deg(math.acos(cos));if(sin<0){out.rotate=360-out.rotate}}else{out.rotate=R.deg(math.asin(sin))}out.isSimple=!+out.shear.toFixed(9)&&(out.scalex.toFixed(9)===out.scaley.toFixed(9)||!out.rotate);out.isSuperSimple=!+out.shear.toFixed(9)&&out.scalex.toFixed(9)===out.scaley.toFixed(9)&&!out.rotate;out.noRotation=!+out.shear.toFixed(9)&&!out.rotate;return out};matrixproto.toTransformString=function(shorter){var s=shorter||this[SPLIT]();if(s.isSimple){s.scalex=+s.scalex.toFixed(4);s.scaley=+s.scaley.toFixed(4);s.rotate=+s.rotate.toFixed(4);return(s.dx||s.dy?"t"+[s.dx,s.dy]:E)+(s.scalex!=1||s.scaley!=1?"s"+[s.scalex,s.scaley,0,0]:E)+(s.rotate?"r"+[s.rotate,0,0]:E)}else{return mStr+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}})(Matrix.prototype);var navigator=win.navigator,version=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);if(navigator.vendor==="Apple Computer, Inc."&&(version&&version[1]<4||navigator.platform.slice(0,2)==="iP")||navigator.vendor==="Google Inc."&&version&&version[1]<8){paperproto.safari=function(){var rect=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:NONE});setTimeout(function(){rect.remove()});return true}}else{paperproto.safari=fun}var preventDefault=function preventDefault(){this.returnValue=false},preventTouch=function preventTouch(){return this.originalEvent.preventDefault()},stopPropagation=function stopPropagation(){this.cancelBubble=true},stopTouch=function stopTouch(){return this.originalEvent.stopPropagation()},eventCopyList={stopPropagation:"fn",stopImmediatePropagation:"fn",preventDefault:"fn",type:true,clientX:true,clientY:true,pageX:true,pageY:true,bubbles:true,cancelable:true,touches:true,target:true,originalTarget:true,srcElement:true,relatedTarget:true,fromElement:true,changedTouches:true,layerX:true,layerY:true},makeSelectiveCopy=function makeSelectiveCopy(target,source){var _loop=function _loop(_eve){if(eventCopyList[_eve]==="fn"){target[_eve]=function(){return function(){source[_eve]()}}(source)}else{target[_eve]=source[_eve]}};for(var _eve in eventCopyList){_loop(_eve)}target.originalEvent=source},addEvent=R.addEvent=function(){if(g.doc.addEventListener){return function(obj,type,fn,element){var realName=supportsOnlyTouch&&touchMap[type]||type,f,args;if(!isIE){args={capture:false};supportsTouch&&element._drag&&(args.passive=false)}touchMap[dragEventMap[type]]&&(realName=touchMap[dragEventMap[type]]);f=function f(e){var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,target;if(supportsTouch&&touchMap[HAS](supportsOnlyTouch?type:dragEventMap[type])){for(var i=0,ii=e.targetTouches&&e.targetTouches.length;i<ii;i++){target=e.targetTouches[i].target;if(target===obj||target.nodeName==="tspan"&&target.parentNode===obj){var olde=e;e=e.targetTouches[i];e.originalEvent=olde;e.preventDefault=preventTouch;e.stopPropagation=stopTouch;break}}}return fn.call(element,e,e.clientX+scrollX,e.clientY+scrollY)};obj.addEventListener(realName,f,args);return function(){obj.removeEventListener(realName,f,args);return true}}}else if(g.doc.attachEvent){return function(obj,type,fn,element){var f=function f(e){e=e||g.win.event;var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,x=e.clientX+scrollX,y=e.clientY+scrollY;e.preventDefault=e.preventDefault||preventDefault;e.stopPropagation=e.stopPropagation||stopPropagation;return fn.call(element,e,x,y)};obj.attachEvent("on"+type,f);var detacher=function detacher(){obj.detachEvent("on"+type,f);return true};return detacher}}}(),dragMove=function dragMove(e){var x=e.clientX!==UNDEF?e.clientX:e.changedTouches&&e.changedTouches[0].clientX,y=e.clientY!==UNDEF?e.clientY:e.changedTouches&&e.changedTouches[0].clientY,scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,dragi,data,dummyEve={},key,el=this,j=el.dragInfo.onmove.length;while(j--){if(supportsTouch&&e.type==="touchmove"){var i=e.touches.length,touch;while(i--){touch=e.touches[i];if(touch.identifier===el._drag.id){x=touch.clientX;y=touch.clientY;(e.originalEvent?e.originalEvent:e).preventDefault();break}}}else{e.preventDefault()}if(el.removed){continue}if(el.dragStartFn){el.dragStartFn(j);el.dragStartFn=undefined;el.dragInfo._dragmove=true}if(g.win.opera){var node=R._engine.getNode(el),next=node.nextSibling,parent=node.parentNode,display=node.style.display;parent.removeChild(node);node.style.display=NONE;node.style.display=display;next?parent.insertBefore(node,next):parent.appendChild(node)}x+=scrollX;y+=scrollY;makeSelectiveCopy(dummyEve,e);data=dummyEve.data=[x-el._drag.x,y-el._drag.y,x,y];(0,_eve3["default"])("raphael.drag.move."+el.id,el.dragInfo.move_scope[j]||el,dummyEve,data)}},dragUp=function dragUp(e){var el=this,dragInfo=el.dragInfo,i=dragInfo.onend.length;if(el.dragInfo._dragmove){while(i--){el._drag={};(0,_eve3["default"])("raphael.drag.end."+el.id,dragInfo.end_scope[i]||dragInfo.start_scope[i]||dragInfo.move_scope[i]||el,e)}}el.dragInfo._dragmove=undefined;R.undragmove.call(el,dragMove);R.undragend.call(el,dragUp);R.unmousemove.call(el,dragMove).unmouseup.call(el,dragUp)},elproto=R.el={};for(var i=events.length;i--;){(function(eventName){R[eventName]=elproto[eventName]=function(fn,scope,tragetElem){if(R.is(fn,FUNCTION)){this.events=this.events||[];this.events.push({name:eventName,f:fn,unbind:addEvent(tragetElem||this.shape||this.node||g.doc,eventName,fn,scope||this)})}return this};R["un"+eventName]=elproto["un"+eventName]=function(fn){var events=this.events||[],l=events.length;while(l--){if(events[l].name===eventName&&events[l].f===fn){events[l].unbind();events.splice(l,1);!events.length&&delete this.events;return this}}return this}})(events[i])}elproto.data=function(key,value){var data=eldata[this.id]=eldata[this.id]||{};if(arguments.length===1){if(R.is(key,OBJECT)){for(var i in key){if(key[HAS](i)){this.data(i,key[i])}}return this}R.stopPartialEventPropagation||(0,_eve3["default"])("raphael.data.get."+this.id,this,data[key],key);return data[key]}data[key]=value;R.stopPartialEventPropagation||(0,_eve3["default"])("raphael.data.set."+this.id,this,value,key);return this};elproto.removeData=function(key){if(key==null){delete eldata[this.id]}else{eldata[this.id]&&delete eldata[this.id][key]}return this};elproto.getData=function(){return clone(eldata[this.id]||{})};var downables=[],mouseDown=function mouseDown(){this.untrack=addEvent(g.doc,"mouseup",mouseUp,this)},mouseUp=function mouseUp(){this.untrack();this.untrack=null;return this.fn&&this.fn.apply(this.scope||this.el,arguments)};elproto.mouseup=function(fn,scope,track,tragetElem){if(!track){return R.mouseup.apply(this,[fn,scope,tragetElem])}downables.push(track={el:this,fn:fn,scope:scope});track.unbind=addEvent(this.shape||this.node||g.doc,"mousedown",mouseDown,track);return this};elproto.unmouseup=function(fn){var i=downables.length,undowned;while(i--){if(downables[i].el===this&&downables[i].fn===fn){undowned=downables[i];undowned.unbind();undowned.untrack&&undowned.untrack();downables.splice(i,1)}}return undowned?this:R.unmouseup.apply(this,arguments)};elproto.hover=function(f_in,f_out,scope_in,scope_out){return this.mouseover(f_in,scope_in).mouseout(f_out,scope_out||scope_in)};elproto.unhover=function(f_in,f_out){return this.unmouseover(f_in).unmouseout(f_out)};var draggable=[];elproto.drag=function(onmove,onstart,onend,move_scope,start_scope,end_scope){var dragInfo=this.dragInfo||(this.dragInfo={onmove:[],onstart:[],onend:[],move_scope:[],start_scope:[],end_scope:[]});onmove&&dragInfo.onmove.push(onmove)&&dragInfo.move_scope.push(move_scope);onstart&&dragInfo.onstart.push(onstart)&&dragInfo.start_scope.push(start_scope);onend&&dragInfo.onend.push(onend)&&dragInfo.end_scope.push(end_scope);this.dragFn=this.dragFn||function(e){var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,key,dummyEve={},data,i,j,k,ii,jj,kk,dummydragMoveFn,_dragX,_dragY,dragInfo=this.dragInfo,args=[dragMove,undef,g.doc];this._drag.x=_dragX=(e.clientX!==UNDEF?e.clientX:e.changedTouches&&e.changedTouches[0].clientX)+scrollX;this._drag.y=_dragY=(e.clientY!==UNDEF?e.clientY:e.changedTouches&&e.changedTouches[0].clientY)+scrollY;this._drag.id=e.identifier;if(supportsTouch&&!supportsOnlyTouch){R.dragmove.apply(this,args).dragend.call(this,dragUp,undef,g.doc)}R.mousemove.apply(this,args).mouseup.call(this,dragUp,undef,undef,g.doc);makeSelectiveCopy(dummyEve,e);data=dummyEve.data=[_dragX,_dragY];for(i=0,ii=dragInfo.onstart.length;i<ii;i++){_eve3["default"].on("raphael.drag.start."+this.id,dragInfo.onstart[i])}for(j=0,jj=dragInfo.onmove.length;j<jj;j++){_eve3["default"].on("raphael.drag.move."+this.id,dragInfo.onmove[j])}for(k=0,kk=dragInfo.onend.length;k<kk;k++){_eve3["default"].on("raphael.drag.end."+this.id,dragInfo.onend[k])}if(ii&&!jj){dummydragMoveFn=function dummydragMoveFn(){this.undragmove();dragInfo.onmove=[]};dragInfo.onmove.push(dummydragMoveFn);_eve3["default"].on("raphael.drag.end."+this.id,dummydragMoveFn);jj}this.dragStartFn=function(i){(0,_eve3["default"])("raphael.drag.start."+this.id,this.dragInfo.start_scope[i]||this.dragInfo.move_scope[i]||this,dummyEve,data)}};this._drag={};draggable.push({el:this,start:this.dragFn,onstart:onstart,onmove:onmove,onend:onend});if(onstart&&!this.startHandlerAttached){if(supportsTouch&&!supportsOnlyTouch){this.dragstart(this.dragFn)}this.mousedown(this.dragFn);this.startHandlerAttached=true}return this};elproto.onDragOver=function(f){f?_eve3["default"].on("raphael.drag.over."+this.id,f):_eve3["default"].unbind("raphael.drag.over."+this.id)};elproto.undrag=function(){var elem=this,i=draggable.length;while(i--){if(draggable[i].el===elem){elem.unmousedown(elem.dragFn);draggable.splice(i,1);_eve3["default"].unbind("raphael.drag.*."+elem.id);elem.dragInfo=undefined;elem.dragFn=undefined;elem.startHandlerAttached=undefined}}R.unmousemove.call(elem,dragMove).unmouseup.call(elem,dragUp);R.undragmove.call(elem,dragMove);R.undragend.call(elem,dragUp);delete elem._drag};elproto.undragstart=function(handler){var elem=this,dragInfo=elem.dragInfo,onstart=dragInfo&&dragInfo.onstart,i,ii,start_scope=dragInfo&&dragInfo.start_scope;if(handler){for(i=0,ii=onstart&&onstart.length;i<ii;i++){if(onstart[i]===handler){onstart.splice(i,1);start_scope.splice(i,1);_eve3["default"].unbind("raphael.drag.start."+this.id,handler);break}}}if(!(onstart&&onstart.length)||!handler){R.undragstart.call(elem,elem.dragFn);R.unmousedown.call(elem,elem.dragFn);_eve3["default"].unbind("raphael.drag.start."+this.id);elem.startHandlerAttached=false;dragInfo&&(dragInfo.onstart=[],dragInfo.start_scope=[])}};elproto.undragmove=function(handler){var elem=this,dragInfo=elem.dragInfo,onmove=dragInfo&&dragInfo.onmove,i,ii,move_scope=dragInfo&&dragInfo.move_scope;if(handler){for(i=0,ii=onmove&&onmove.length;i<ii;i++){if(onmove[i]===handler){onmove.splice(i,1);move_scope.splice(i,1);_eve3["default"].unbind("raphael.drag.move."+this.id,handler);break}}}if(!(onmove&&onmove.length)||!handler){R.undragmove.call(elem,dragMove);R.unmousemove.call(elem,dragMove);dragInfo&&(dragInfo.onmove=[],dragInfo.move_scope=[]);_eve3["default"].unbind("raphael.drag.move."+this.id)}};elproto.undragend=function(handler){var elem=this,dragInfo=elem.dragInfo,onend=dragInfo&&dragInfo.onend,i,ii,end_scope=dragInfo&&dragInfo.end_scope;if(handler){for(i=0,ii=onend&&onend.length;i<ii;i++){if(onend[i]===handler){onend.splice(i,1);end_scope.splice(i,1);_eve3["default"].unbind("raphael.drag.end."+this.id,handler);break}}}if(!(onend&&onend.length)||!handler){R.undragend.call(elem,dragUp);R.unmouseup.call(elem,dragUp);dragInfo&&(dragInfo.onend=[],dragInfo.end_scope=[]);_eve3["default"].unbind("raphael.drag.end."+this.id)}};elproto.follow=function(el,callback,stalk){if(el.removed||el.constructor!==R.el.constructor){return this}el.followers.push({el:this,stalk:stalk={before:"insertBefore",after:"insertAfter"}[stalk],cb:callback});stalk&&this[stalk](el);return this};elproto.unfollow=function(el){if(el.removed||el.constructor!==R.el.constructor){return this}for(var i=0,ii=el.followers.length;i<ii;i++){if(el.followers[i].el===this){el.followers.splice(i,1);break}}return this};paperproto.hide=function(){var paper=this;paper.canvas.style.visibility="hidden";return paper};paperproto.show=function(){var paper=this;paper.canvas.style.visibility=E;return paper};paperproto.group=function(){var paper=this,args=(0,_raphael.getArrayCopy)(arguments),group=lastArgIfGroup(args,true),out=R._engine.group(paper,args[0],group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out};paperproto.circle=function(){var paper=this,args=(0,_raphael.getArrayCopy)(arguments),group=lastArgIfGroup(args,true),attrs=serializeArgs(args,"cx",0,"cy",0,"r",0,"fill",NONE,"stroke",BLACK),out=R._engine.circle(paper,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out};paperproto.rect=function(){var paper=this,args=(0,_raphael.getArrayCopy)(arguments),group=lastArgIfGroup(args,true),attrs=serializeArgs(args,"x",0,"y",0,"width",0,"height",0,"r",0,"fill",NONE,"stroke",BLACK),out=R._engine.rect(paper,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out};paperproto.ellipse=function(){var paper=this,args=(0,_raphael.getArrayCopy)(arguments),group=lastArgIfGroup(args,true),attrs=serializeArgs(args,"x",0,"y",0,"rx",0,"ry",0,"fill",NONE,"stroke",BLACK),out=R._engine.ellipse(this,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out};paperproto.path=function(){var paper=this,args=(0,_raphael.getArrayCopy)(arguments),group=lastArgIfGroup(args,true),paperConfig=paper.config,capStyle=paperConfig&&paperConfig["stroke-linecap"]||"butt",attrs=serializeArgs(args,"path",E,"fill",NONE,"stroke",BLACK,"stroke-linecap",capStyle),out=R._engine.path(paper,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out};paperproto.image=function(){var paper=this,args=(0,_raphael.getArrayCopy)(arguments),group=lastArgIfGroup(args,true),attrs=serializeArgs(args,"x",0,"y",0,"width",0,"height",0),out=R._engine.image(paper,attrs,group);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out};paperproto.text=function(){var paper=this,args=(0,_raphael.getArrayCopy)(arguments),group=lastArgIfGroup(args,true),attrs=serializeArgs(args,"x",0,"y",0,"text",E,"stroke",NONE,"fill",BLACK,"text-anchor","middle","vertical-align","middle"),out=R._engine.text(paper,attrs,group,args[1]);return paper.__set__&&paper.__set__.push(out),paper._elementsById[out.id]=out};paperproto.setConfig=function(key,value){var paper=this;if(key!==undefined&&value!==undefined){paper.config=paper.config||{};paper.config[key]=value}return paper.config};paperproto._createDOMNodes=function(parentElem,elementObj,returnObj){var paper=this,ele,i,len,attr={},attrKey,createNode=R._createNode,tagName=elementObj.tagName,children=elementObj.children||[];!returnObj&&(returnObj={});for(attrKey in elementObj){if(attrKey!=="tagName"&&attrKey!=="children"){attr[attrKey]=elementObj[attrKey]}}!attr.id&&(attr.id=R.getElementID(R.createUUID()));if(!paper.canvas.getElementById(attr.id)&&tagName){ele=parentElem.appendChild(createNode(tagName,attr));returnObj.element=ele;returnObj.id=attr.id;len=children.length;len>0&&(returnObj.children=[]);for(i=0;i<len;i++){returnObj.children[i]={};paper._createDOMNodes(ele,children[i],returnObj.children[i])}}return returnObj};paperproto.addDefs=function(elemObj){if(!R.svg){return}var paper=this,key,returnObj={},defs=paper.defs;for(key in elemObj){returnObj[key]={};paper._createDOMNodes(defs,elemObj[key],returnObj[key])}return returnObj};paperproto.setSize=function(width,height){return R._engine.setSize.call(this,width,height)};paperproto.setDimension=function(paramsObj,height){var paper=this,width;if((typeof paramsObj==="undefined"?"undefined":_typeof(paramsObj))===OBJECT){width=paramsObj.width;height=paramsObj.height;paper.setSize(paramsObj.width,paramsObj.height)}else{width=paramsObj;paper.setSize(width,height)}};paperproto.attr=function(name){var element=this;if(name==null){return{width:element.width,height:element.height}}if(R.is(name,STRING)){return element[name]}element.setDimension(name);return element};paperproto.status=function(anim,value){return elproto.status.call(this,anim,value)};paperproto.animateWith=function(el,anim,params,ms,easing,callback,configObject){return elproto.animateWith.call(this,el,anim,params,ms,easing,callback,configObject)};paperproto.animate=function(params,ms,easing,callback){return elproto.animate.call(this,params,ms,easing,callback)};paperproto.setViewBox=function(x,y,w,h,fit){return R._engine.setViewBox.call(this,x,y,w,h,fit)};paperproto.getById=function(id){return this._elementsById[id]||null};paperproto.top=paperproto.bottom=null;paperproto.raphael=R;function x_y(){return this.x+S+this.y}function x_y_w_h(){return this.x+S+this.y+S+this.width+" Ã "+this.height}elproto.getBBox=function(isWithoutTransform){if(this.removed){return{}}var _=this._;if(isWithoutTransform){if(_.dirty||!_.bboxwt){this.realPath=getPath[this.type](this);_.bboxwt=pathDimensions(this.realPath);_.bboxwt.toString=x_y_w_h;_.dirty=0}return _.bboxwt}if(_.dirty||_.dirtyT||!_.bbox){if(_.dirty||!this.realPath){_.bboxwt=0;this.realPath=getPath[this.type](this)}_.bbox=pathDimensions(mapPath(this.realPath,this.matrix));_.bbox.toString=x_y_w_h;_.dirty=_.dirtyT=0}return _.bbox};elproto.clone=function(attrObj,group){if(this.removed){return null}var o=this,attr=o.attr(),key,out;if(!attrObj){out=o.paper[o.type]().attr(attr)}else{for(key in attrObj){attr[key]=attrObj[key]}out=o.paper[o.type](attr,group)}o.__set__&&o.__set__.push(out);return out};var curveslengths={},getPointAtSegmentLength=function getPointAtSegmentLength(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,length){if(length==null){return bezlen(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y)}else{return R.findDotsAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,getTatLen(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,length))}},getLengthFactory=function getLengthFactory(istotal,subpath){return function(path,length,onlystart){path=path2curve(path);var x,y,p,l,sp=E,subpaths={},point,len=0;for(var i=0,ii=path.length;i<ii;i++){p=path[i];if(p[0]===strM){x=+p[1];y=+p[2]}else{l=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6]);if(len+l>length){if(subpath&&!subpaths.start){point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6],length-len);sp+=["C"+point.start.x,point.start.y,point.m.x,point.m.y,point.x,point.y];if(onlystart){return sp}subpaths.start=sp;sp=[strM+point.x,point.y+"C"+point.n.x,point.n.y,point.end.x,point.end.y,p[5],p[6]].join();len+=l;x=+p[5];y=+p[6];continue}if(!istotal&&!subpath){point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6],length-len);return{x:point.x,y:point.y,alpha:point.alpha}}}len+=l;x=+p[5];y=+p[6]}sp+=p.shift()+p}subpaths.end=sp;point=istotal?len:subpath?subpaths:R.findDotsAtSegment(x,y,p[0],p[1],p[2],p[3],p[4],p[5],1);point.alpha&&(point={x:point.x,y:point.y,alpha:point.alpha});return point}},getTotalLength=getLengthFactory(1),getPointAtLength=getLengthFactory(),getSubpathsAtLength=getLengthFactory(0,1);R.getTotalLength=getTotalLength;R.getPointAtLength=getPointAtLength;elproto.getTotalLength=function(){if(this.type!="path"){return}if(this.node.getTotalLength){return this.node.getTotalLength()}return getTotalLength(this.attrs.path)};elproto.getPointAtLength=function(length){if(this.type!="path"){return}return getPointAtLength(this.attrs.path,length)};var ef=R.easing_formulas={linear:function linear(n){return n},"<":function _(n){return pow(n,1.7)},">":function _(n){return pow(n,.48)},"<>":function _(n){var q=.48-n/1.04,Q=mathSqrt(.1734+q*q),x=Q-q,X=pow(abs(x),1/3)*(x<0?-1:1),y=-Q-q,Y=pow(abs(y),1/3)*(y<0?-1:1),t=X+Y+.5;return(1-t)*3*t*t+t*t*t},backIn:function backIn(n){var s=1.70158;return n*n*((s+1)*n-s)},backOut:function backOut(n){n=n-1;var s=1.70158;return n*n*((s+1)*n+s)+1},elastic:function elastic(n){if(n===!!n){return n}return pow(2,-10*n)*mathSin((n-.075)*(2*PI)/.3)+1},bounce:function bounce(n){var s=7.5625,p=2.75,l;if(n<1/p){l=s*n*n}else{if(n<2/p){n-=1.5/p;l=s*n*n+.75}else{if(n<2.5/p){n-=2.25/p;l=s*n*n+.9375}else{n-=2.625/p;l=s*n*n+.984375}}}return l},oneBounceOut:function oneBounceOut(n){var top=120;if(n<=.9){return ef.easeIn(n)*1.33}return 1.2-n/5},elasticOnce:function elasticOnce(n){var p=.9;if(n===!!n){return n}return Math.pow(2,-10*n)*Math.sin((n-p/4)*(2*Math.PI)/p)+1},easeInQuad:function easeInQuad(t){return t*t},easeOutQuad:function easeOutQuad(t){return t*(2-t)},easeInOutQuad:function easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function easeInCubic(t){return t*t*t},easeOutCubic:function easeOutCubic(t){return--t*t*t+1},easeInOutCubic:function easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function easeInQuart(t){return t*t*t*t},easeOutQuart:function easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart:function easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function easeInQuint(t){return t*t*t*t*t},easeOutQuint:function easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint:function easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};ef.easeIn=ef["ease-in"]=ef["<"];ef.easeOut=ef["ease-out"]=ef[">"];ef.easeInOut=ef["ease-in-out"]=ef["<>"];ef["back-in"]=ef.backIn;ef["back-out"]=ef.backOut;var animationElements=[],requestAnimFrame,animation=function animation(){var Now=+new Date,l=0,deqArr=[],i=0,ll=0,tmpOpacity,radial,animFrameFn;for(;l<animationElements.length;l++){var e=animationElements[l];if(e.el.removed||e.paused||e.parentEl&&e.parentEl.e&&e.parentEl.e.paused){continue}var time=Now-e.start,ms=e.ms,easing=e.easing,from=e.from,diff=e.diff,to=e.to,t=e.t,that=e.el,set={},now,origms,init={},executeEvent=!R.stopPartialEventPropagation,key,i=0,peekVal=e.el&&e.el.animElements&&e.el.animElements.peek();while(peekVal&&peekVal.pos<=time/ms){deqArr.push(e.el.animElements.deq());peekVal=e.el.animElements.peek()}if(e.initstatus){time=(e.initstatus*e.anim.top-e.prev)/(e.percent-e.prev)*ms;e.status=e.initstatus;delete e.initstatus;if(e.stop){delete e.el;animationElements.splice(l--,1)}}else{e.status=(e.prev+(e.percent-e.prev)*(time/ms))/e.anim.top}origms=ms;if(e.parentEl&&e.parentEl.animElements){ms=e.delayend-e.delaystart;time=e.parentEl.cPos-e.delaystart}else if(e.el.animElements){e.el.cPos=time/ms}if(time<0){continue}if(time<ms){var pos=easing(time/ms);ms=origms;for(var attr in from){if(from[HAS](attr)){switch(availableAnimAttrs[attr]){case"number":now=+from[attr]+pos*ms*diff[attr];break;case"colour":if(!diff[attr].length){tmpOpacity=from[attr].opacity+pos*ms*diff[attr].opacity;if(isNaN(tmpOpacity)){tmpOpacity=1}now="rgba("+[upto255(round(from[attr].r+pos*ms*diff[attr].r)),upto255(round(from[attr].g+pos*ms*diff[attr].g)),upto255(round(from[attr].b+pos*ms*diff[attr].b)),tmpOpacity].join(COMMA)+")"}else{now=[];for(i=0,ii=from[attr].length;i<ii;++i){if(i===0){if(from[attr].isRadial||diff[attr].isRadial){radial="xr(";radial+=from[attr][0].f1*(1-pos)+diff[attr][0].f1*pos||E;radial+=",";radial+=from[attr][0].f2*(1-pos)+diff[attr][0].f2*pos||E;radial+=",";radial+=(from[attr][0].f3*(1-pos)+diff[attr][0].f3*pos)*100||E;radial+="%,";radial+=from[attr][0].f4*(1-pos)+diff[attr][0].f4*pos||E;radial+=",";radial+=from[attr][0].f5*(1-pos)+diff[attr][0].f5*pos;radial+=",";radial+=from[attr][0].f6;radial+=")";now.push(radial)}else{now.push(from[attr][i]*(1-pos)+pos*diff[attr][i]);if(now[0]<=0){now[0]+=360}}}else{now.push("rgba("+[upto255(round(from[attr][i].r+pos*ms*diff[attr][i].r)),upto255(round(from[attr][i].g+pos*ms*diff[attr][i].g)),upto255(round(from[attr][i].b+pos*ms*diff[attr][i].b)),from[attr][i].opacity+pos*ms*diff[attr][i].opacity].join(COMMA)+"):"+from[attr][i].position)}}now=now.join("-");if(from[attr].isRadial||diff[attr].isRadial){now=now.replace("-",E)}}break;case"path":now=[];for(var i=0,ii=from[attr].length;i<ii;i++){now[i]=[from[attr][i][0]];var jj;jj=from[attr][i]?from[attr][i].length:0;for(var j=1;j<jj;j++){now[i][j]=(+from[attr][i][j]+pos*ms*diff[attr][i][j]).toFixed(4)}now[i]=now[i].join(S)}now=now.join(S);break;case"transform":if(diff[attr].real){now=[];for(i=0,ii=from[attr].length;i<ii;i++){now[i]=[from[attr][i][0]];for(j=1,jj=from[attr][i].length;j<jj;j++){now[i][j]=from[attr][i][j]+pos*ms*diff[attr][i][j]}}}else{var get=function get(i){return+from[attr][i]+pos*ms*diff[attr][i]};now=[[mStr,get(0),get(1),get(2),get(3),get(4),get(5)]]}break;case"csv":if(attr==="clip-rect"){now=[];i=4;while(i--){now[i]=+from[attr][i]+pos*ms*diff[attr][i]}}break;case"text-bound":now=[][CONCAT](from[attr]);break;default:var from2=[][CONCAT](from[attr]);now=[];i=that.ca[attr].length;while(i--){now[i]=+from2[i]+pos*ms*diff[attr][i]}break}set[attr]=now}}that.attr(set);if(executeEvent){(function(id,that,anim){setTimeout(function(){(0,_eve3["default"])("raphael.anim.frame."+id,that,anim)})})(that.id,that,e.anim)}}else{(function(f,el,a){setTimeout(function(){executeEvent&&(0,_eve3["default"])("raphael.anim.frame."+el.id,el,a);executeEvent&&(0,_eve3["default"])("raphael.anim.finish."+el.id,el,a);R.is(f,FUNCTION)&&f.call(el)})})(e.callback,that,e.anim);that.attr(to);delete e.el;animationElements.splice(l--,1);if(e.repeat>1&&!e.next){for(key in to){if(to[HAS](key)){init[key]=e.totalOrigin[key]}}e.el.attr(init);runAnimation(e.anim,e.el,e.anim.percents[0],null,e.totalOrigin,e.repeat-1)}if(e.next&&!e.stop){runAnimation(e.anim,e.el,e.next,null,e.totalOrigin,e.repeat)}}}R.svg&&that&&that.paper&&that.paper.safari();for(l=0,ll=deqArr.length;l<ll;++l){animFrameFn=R.getInstantAnimFrameFn();animFrameFn(function(l){return function(){runAnimation.apply(null,deqArr[l].params)}}(l))}animationElements.length&&(requestAnimFrame||R.getAnimFrameFn())(animation)},upto255=function upto255(color){return color>255?255:color<0?0:color},checkPercentage=function checkPercentage(num){num>1&&(num=1);num<0&&(num=0);return num};R.getAnimFrameFn=function(){return requestAnimFrame=R.requestAnimFrame||_win.webkitRequestAnimationFrame||_win.mozRequestAnimationFrame||_win.oRequestAnimationFrame||_win.msRequestAnimationFrame||function(callback){setTimeout(callback,16)}};R.getInstantAnimFrameFn=function(){return R.instantRequestAnimFrame||_win.webkitRequestAnimationFrame||_win.mozRequestAnimationFrame||_win.oRequestAnimationFrame||_win.msRequestAnimationFrame||function(callback){setTimeout(callback,16)}};elproto.animateWith=function(el,anim,params,ms,easing,callback,configObject){var element=this,refOb={},key;configObject=configObject||{};for(key in configObject){if(configObject.hasOwnProperty(key)){refOb[key]=configObject[key]}}configObject=refOb;if(element.removed){callback&&callback.call(element);return element}if(ms===0){if(R.is(callback,FUNCTION)){setTimeout(function(){callback.call(element)},0)}return element.attr(params)}var a=params instanceof Animation?params:R.animation(params,ms,easing,callback),x,y;configObject.start=checkPercentage(configObject.start||0);configObject.end=checkPercentage(configObject.end||1);if(configObject.start>=configObject.end){configObject.start=configObject.end}if(!configObject.from&&configObject.start>.01){el.animElements=el.animElements||new PriorityQueue(function comparator(a,b){return b.pos-a.pos});el.animElements.enq({pos:configObject.start,attr:configObject.start===configObject.end,params:[a,element,a.percents[0],null,element.attr(),undefined,el,{start:configObject.start,end:configObject.end,smartMorph:configObject.smartMorph,hookFn:configObject.hookFn},params],executeOb:{el:this,attrs:params,callback:callback,hookFn:configObject.hookFn}})}else{runAnimation(a,element,a.percents[0],null,element.attr(),undefined,el,configObject)}for(var i=0,ii=animationElements.length;i<ii;i++){if(animationElements[i].anim===anim&&animationElements[i].el===el){animationElements[ii-1].start=animationElements[i].start;break}}return element};function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,duration){var cx=3*p1x,bx=3*(p2x-p1x)-cx,ax=1-cx-bx,cy=3*p1y,by=3*(p2y-p1y)-cy,ay=1-cy-by;function sampleCurveX(t){return((ax*t+bx)*t+cx)*t}function solve(x,epsilon){var t=solveCurveX(x,epsilon);return((ay*t+by)*t+cy)*t}function solveCurveX(x,epsilon){var t0,t1,t2,x2,d2,i;for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(abs(x2)<epsilon){return t2}d2=(3*ax*t2+2*bx)*t2+cx;if(abs(d2)<1e-6){break}t2=t2-x2/d2}t0=0;t1=1;t2=x;if(t2<t0){return t0}if(t2>t1){return t1}while(t0<t1){x2=sampleCurveX(t2);if(abs(x2-x)<epsilon){return t2}if(x>x2){t0=t2}else{t1=t2}t2=(t1-t0)/2+t0}return t2}return solve(t,1/(200*duration))}elproto.onAnimation=function(f){f?_eve3["default"].on("raphael.anim.frame."+this.id,f):_eve3["default"].unbind("raphael.anim.frame."+this.id);return this};function Animation(anim,ms){var percents=[],newAnim={};this.ms=ms;this.times=1;if(anim){for(var attr in anim){if(anim[HAS](attr)){newAnim[toFloat(attr)]=anim[attr];percents.push(toFloat(attr))}}percents.sort(sortByNumber)}this.anim=newAnim;this.top=percents[percents.length-1];this.percents=percents}Animation.prototype.delay=function(delay){var a=new Animation(this.anim,this.ms);a.times=this.times;a.del=+delay||0;return a};Animation.prototype.repeat=function(times){var a=new Animation(this.anim,this.ms);a.del=this.del;a.times=math.floor(mmax(times,0))||1;return a};function colorNormalizer(c1,c2,getRGB){"use strict";var colorAr1,colorAr2,i=0,ii=0,j=0,newColArr=[],newColArr2=[],temp={},pos=0,uniqArr=[];c1=c1.constructor===Array?c1[0]:c1;c2=c2.constructor===Array?c2[0]:c2;colorAr1=c1.split("-");colorAr2=c2.split("-");if(colorAr1.length===1&&colorAr2.length===1){return[c1,c2]}colorAr1=allToLinear(colorAr1);colorAr2=allToLinear(colorAr2);if(!colorAr1.defaultAngleSet&&colorAr2.defaultAngleSet){colorAr2[0]=colorAr1[0]}if(!colorAr2.defaultAngleSet&&colorAr1.defaultAngleSet){colorAr1[0]=colorAr2[0]}converToRadialIfOneRadial(colorAr1,colorAr2);for(i=1,ii=colorAr1.length;i<ii;++i){pos=colorAr1[i].position;uniqArr.push(pos)}for(i=1,ii=colorAr2.length;i<ii;++i){pos=colorAr2[i].position;if(uniqArr.indexOf(pos)===-1){uniqArr.push(pos)}}uniqArr.push(0);uniqArr.sort(function(a,b){return a-b});newColArr=[colorAr1[0]];for(i=1,ii=uniqArr.length;i<ii;++i){pos=uniqArr[i];temp=colorAr1.getColorAtPosition(pos);newColArr.push(temp)}newColArr2=[colorAr2[0]];for(i=1,ii=uniqArr.length;i<ii;++i){pos=uniqArr[i];temp=colorAr2.getColorAtPosition(pos);newColArr2.push(temp)}newColArr.isRadial=colorAr1.isRadial;newColArr2.isRadial=colorAr2.isRadial;return[newColArr,newColArr2];function converToRadialIfOneRadial(a,b,end){var angle=0;if(a.isRadial&&!b.isRadial){angle+=+b[0];b[0]={f1:0,f2:0,f3:0,f4:0,f5:0,f6:E};b.isRadial=true}if(!end){converToRadialIfOneRadial(b,a,true)}}function allToLinear(arr){var i=0,ii=0,j=0,item={},temp=[],temp2={},key,prevVal=0,lastVal=0,counter=0,rPos=0,openBrPos=0,closedBrPos=0,radial={f1:.5,f2:.5};if(arr.length===1){if(arr[0]===NONE){arr[0]="rgba(0,0,0,0)"}arr.unshift(0);arr.defaultAngleSet=true}if(isNaN(arr[0])){if(~"rx".indexOf(arr[0].charAt(0))){arr.isRadial=true;rPos=1;if(arr[0].indexOf(")")!==-1){rPos=arr[0].indexOf(")");openBrPos=arr[0].indexOf("(")+1;closedBrPos=rPos;temp=arr[0].substr(openBrPos,closedBrPos-openBrPos).split(",");radial.f1=parseFloat(temp[0])||0;radial.f2=parseFloat(temp[1])||0;if(~temp[2].indexOf("%")){temp[2]=parseFloat(temp[2])/100}radial.f3=parseFloat(temp[2])||0;radial.f4=parseFloat(temp[3])||0;radial.f5=parseFloat(temp[4])||0;radial.f6=temp[5]}arr[0]=arr[0].substr(closedBrPos+1);arr.unshift(radial)}else{arr[0]=0}}else{arr[0]=+arr[0]}for(i=1,ii=arr.length;i<ii;++i){temp=arr[i].split(":");temp2=getRGB(temp[0]);arr[i]={};arr[i].r=temp2.r;arr[i].g=temp2.g;arr[i].b=temp2.b;arr[i].opacity=temp2.opacity;arr[i].opacity=+arr[i].opacity;if(isNaN(arr[i].opacity)){arr[i].opacity=1}arr[i].position=+temp[1]}arr.sort(function(a,b){if(typeof a==="number"||a.f1){return-1}if(typeof b==="number"||a.f2){return 1}if(isNaN(a.position)&&isNaN(b.position)){return 0}if(isNaN(a.position)){return-1}if(isNaN(b.position)){return 1}return a.position-b.position});if(+arr[1].position!==0){if(isNaN(arr[1].position)){arr[1].position=0}else{temp2={};for(key in arr[1]){temp2[key]=arr[1][key]}temp2.position=0;arr.push({});for(i=arr.length-1;i!==1;--i){arr[i]=arr[i-1]}arr[1]=temp2}}ii=arr.length-1;if(arr[ii].position!==100){if(isNaN(arr[ii].position)){arr[ii].position=100}else{temp2={};for(key in arr[ii]){temp2[key]=arr[ii][key]}temp2.position=100;arr.push(temp2)}}for(i=2,ii=arr.length;i<ii;++i){if(!arr[i].position){prevVal=arr[i-1].position;counter=1;for(j=i+1;j<ii;++j){++counter;if(!isNaN(arr[j].position)){lastVal=+arr[j].position;break}}arr[i].position=prevVal+(lastVal-prevVal)/counter}}arr.getColorAtPosition=function(pos){var prevPos=-1,nextPos=this.length,i=1,ii=this.length,item={},colPrev,colNext,ratio=0,key=E,col={r:0,g:0,b:0};for(;i<ii-1;++i){if(this[i].position<=pos){prevPos=i;nextPos=i+1}if(!(this[i].position<pos)&&this[i].position>=pos){nextPos=i;break}}ratio=(pos-this[prevPos].position)/(this[nextPos].position-this[prevPos].position);if(isNaN(ratio)){ratio=0}for(key in col){col[key]=upto255((1-ratio)*this[prevPos][key]+ratio*this[nextPos][key])}col.position=pos;col.opacity=(1-ratio)*this[prevPos]["opacity"]+ratio*this[nextPos]["opacity"];return col};return arr}}function pathNormalizer(p1,p2){"use strict";var finalp1=[],finalp2=[],pathArr1=toSvgPath(p1),pathArr2=toSvgPath(p2),i=0,ii=0,temp,createElementNS=document.createElementNS&&document.createElementNS.bind(document),dPath=createElementNS&&createElementNS("http://www.w3.org/2000/svg","path");if(!pathArr1||!pathArr2||!dPath){return[p1,p2]}if(canFallback(p1,p2)){return[p1,p2]}if(!p1||!p2){return[p1,p2]}if(!document.createElementNS){return[p1,p2]}pathArr1=toSvgPath(p1);pathArr2=toSvgPath(p2);if(pathArr1.join().indexOf("undefined")!==-1){return[p1,p2]}if(pathArr2.join().indexOf("undefined")!==-1){return[p1,p2]}if(!dPath.getTotalLength||!dPath.getPointAtLength){return[p1,p2]}function canFallback(path1,path2){var str1=E,str2=E,testLen,testPoint;dPath.setAttribute("d","M300 10 L300 300 C50 310,50 640,350 650"+"C600 640,600 310,400 300 L400 10 L295 10");testLen=dPath.getTotalLength();testPoint=dPath.getPointAtLength(10);if(testLen<1829.1||testLen>1829.2){return true}if(Math.round(testPoint.x)!==300||Math.round(testPoint.y)!==20){return true}function trimPathArray(arr){var i=arr.length;while(i---1){if(arr[i].join(E)===arr[i-1].join(E)){arr.pop()}else{break}}}function getPathFromArray(arr){var str=E,i=0,ii=arr.length;for(;i<ii;++i){str+=arr[i].join(S)}return str}trimPathArray(path1);trimPathArray(path2);str1=getPathFromArray(path1);str2=getPathFromArray(path2);if(str1.split(/[Mm]/).length>2||str2.split(/[Mm]/).length>2){return false}if(path1.length===path2.length){return true}return false}function toSvgPath(arr){var str=[],i=0,ii=arr.length,item=[];if((typeof arr==="undefined"?"undefined":_typeof(arr))===STRING){return arr}for(i=0;i<ii;++i){if(!arr[i].join){return}else{if(!i||!arr[i+1]||arr[i+1][0]!=="M"||arr[i][0]!=="M"){str.push(arr[i].join(S))}}}str=str.join(E);str=str.split(/[Mm]/).slice(1);for(i=0,ii=str.length;i<ii;++i){str[i]="M"+str[i]}return str}ii=Math.max(pathArr1.length,pathArr2.length);for(i=0;i<ii;++i){temp=_pathNormalizer(pathArr1[i],pathArr2[i]);pathArr1[i]=temp[0];pathArr2[i]=temp[1]}function linetopath(arr){var i=0,ii=0,str=[];arr=arr||[];ii=arr.length;for(i=0;i<ii;++i){if(arr[i].length-1){str.push(arr[i].join(S))}}return str.join(E)}function removeBlanks(arr,pos){var i=arr.length,j=0,path;while(i---1){if(arr[i].slice(1).toString()===arr[i-1].slice(1).toString()){arr.pop()}else{break}}if(arr.length===1&&pos){arr.length=0}}function _divide(arr,times){var resArr=[],locArr=[],arrLen=arr.length,i=0,ii=0,x=0,prevPos=0,y=0,diffTimes=times-arrLen;while(diffTimes>=0){i=arr.length-1;arr.push(arr.slice(i)[0]);--diffTimes}arrLen=arr.length;for(i=0;i<=times;++i){locArr.push(Math.round(i/times*arrLen))}for(i=0,ii=locArr.length-1;i<ii;++i){resArr.push(arr.slice(locArr[i],locArr[i+1]));if(resArr[i][0][0]!=="M"&&resArr[i][0][0]!==mStr){prevPos=resArr[i-1].length-1;x=resArr[i-1][prevPos][1];y=resArr[i-1][prevPos][2];resArr[i].unshift(["M",x,y])}}return resArr}function divideArray(diff){var arrToDivide=[],countArr=[],transArr=[],i=0,ii=0,isArr1=true;if(diff===0){return}else if(diff>0){arrToDivide=pathArr2;isArr1=false}else{diff=-diff;arrToDivide=pathArr1}for(i=0,ii=arrToDivide.length;i<ii;++i){countArr.push(1)}while(diff--){--i;if(i<0){i=ii-1}countArr[i]++}for(i=0;i<ii;++i){if(countArr[i]===1){transArr.push(arrToDivide[i])}else{transArr.push.apply(transArr,_divide(arrToDivide[i],countArr[i]))}}if(isArr1){pathArr1=transArr}else{pathArr2=transArr}}for(i=pathArr1.length;i--;){removeBlanks(pathArr1[i],i);pathArr1[i].length||pathArr1.pop()}for(i=pathArr2.length;i--;){removeBlanks(pathArr2[i],i);pathArr2[i].length||pathArr2.pop()}divideArray(pathArr1.length-pathArr2.length);ii=Math.max(pathArr1.length,pathArr2.length);for(i=0;i<ii;++i){temp=_pathNormalizer(linetopath(pathArr1[i]),linetopath(pathArr2[i]));pathArr1[i]=temp[0];pathArr2[i]=temp[1]}for(i=0,ii=pathArr1.length;i<ii;++i){finalp1=finalp1.concat(pathArr1[i])}for(i=0,ii=pathArr2.length;i<ii;++i){finalp2=finalp2.concat(pathArr2[i])}return[finalp1,finalp2]}function commonPathCalculator(p1,p2){"use strict";var i=0,j=0,ii=0,jj=0,k=0,kk=0,uncommon1=0,uncommon2=0,lim1=0,lim2=0,nearestPoint1,nearestPoint2,map1={},map2={},groupedPath1=[],groupedPath2=[],gpIndex1=-1,gpIndex2=-1,isSame=true;function splitter(path){var i=0,ii=0;path=path.split(/[MCLmcl]/).slice(1);for(i=0,ii=path.length;i<ii;++i){path[i]=path[i].split(S).slice(1);i||path[i].unshift("M");if(i){path[i].length===2&&path[i].unshift(strL)||path[i].unshift("C")}}return path}function mapper(arr,ob){var i=0,ii=arr.length,val,item;for(i=0,ii=arr.length;i<ii;++i){val=arr[i].join(S);item=arr[i];if(item[0]==="C"&&item[3]===item[5]&&item[4]===item[6]){arr[i].stringValue=[strL,item[3],item[4]].join(S)}else item.stringValue=val;ob[item.stringValue]&&ob[item.stringValue].push(i);ob[item.stringValue]||(ob[item.stringValue]=[i])}}function getNearestExistingPoint(arr,map,start,ii,lim){var i=start,k=0,kk=0,item;for(;i<ii;++i){item=map[arr[i].stringValue];if(item){for(k=0,kk=item.length;k<kk;++k){if(item[k]>=lim){return{index:i,mapValue:item[k],diff:i-start}}}}}return-1}function getCoordinateAsMove(arr){var last=arr.length-1;return["M",arr[last-1],arr[last]].join(S)}function pathToString(arr){return arr.join(E)}p1=splitter(p1);p2=splitter(p2);mapper(p1,map1);mapper(p2,map2);ii=p1.length;jj=p2.length;i=0;j=0;while(i<ii&&j<jj){++gpIndex1;++gpIndex2;groupedPath1[gpIndex1]=[];groupedPath2[gpIndex2]=[];isSame=p1[i].stringValue===p2[j].stringValue;if(i){groupedPath1[gpIndex1].push(getCoordinateAsMove(p1[i-1]));groupedPath2[gpIndex2].push(getCoordinateAsMove(p2[j-1]))}if(isSame){while(i<ii&&j<jj&&p1[i].stringValue===p2[j].stringValue){groupedPath1[gpIndex1].push(p1[i].stringValue);groupedPath2[gpIndex2].push(p2[j].stringValue);++i;++j}}else{nearestPoint1=getNearestExistingPoint(p1,map2,i,ii,j);nearestPoint2=getNearestExistingPoint(p2,map1,j,jj,i);lim1=nearestPoint1.index;lim2=nearestPoint1.mapValue;if(!~nearestPoint1||nearestPoint1.diff>nearestPoint2.diff){lim1=nearestPoint2.mapValue;lim2=nearestPoint2.index}if(!~nearestPoint1&&!~nearestPoint2){lim1=ii-1;lim2=jj-1}while(i<=lim1){groupedPath1[gpIndex1].push(p1[i].stringValue);++i}while(j<=lim2){groupedPath2[gpIndex2].push(p2[j].stringValue);++j}}groupedPath1[gpIndex1]=pathToString(groupedPath1[gpIndex1]);groupedPath2[gpIndex2]=pathToString(groupedPath2[gpIndex2])}if(i<ii){++gpIndex1;groupedPath1[gpIndex1]=[];groupedPath1[gpIndex1].push(getCoordinateAsMove(p1[i-1]));++gpIndex2;groupedPath2[gpIndex2]=[];groupedPath2[gpIndex2].push(getCoordinateAsMove(p2[j-1]));while(i<ii){groupedPath1[gpIndex1].push(p1[i].stringValue);++i}groupedPath1[gpIndex1]=pathToString(groupedPath1[gpIndex1])}if(j<jj){++gpIndex1;groupedPath1[gpIndex1]=[];groupedPath1[gpIndex1].push(getCoordinateAsMove(p1[i-1]));++gpIndex2;groupedPath2[gpIndex2]=[];groupedPath2[gpIndex2].push(getCoordinateAsMove(p2[j-1]));while(j<jj){groupedPath2[gpIndex2].push(p2[j].stringValue);++j}groupedPath2[gpIndex2]=pathToString(groupedPath2[gpIndex2])}return[groupedPath1,groupedPath2]}function _pathNormalizer(p1,p2){"use strict";var i=0,j=0,ii=0,jj=0,item={},fPath1=[],fPath2=[],divisions=0,commonPath,tmp;function normalizeUncommonPaths(p1,p2){var dPath1,dPath2,i=0,j=0,item={},pathLen1=0,pathLen2=0,fPath1=[],fPath2=[],divisions=0,round=Math.round;dPath1=document.createElementNS("http://www.w3.org/2000/svg","path");dPath1.setAttribute("d",p1);dPath2=document.createElementNS("http://www.w3.org/2000/svg","path");dPath2.setAttribute("d",p2);pathLen1=dPath1.getTotalLength();pathLen2=dPath2.getTotalLength();divisions=.15*Math.max(pathLen1,pathLen2);divisions=Math.ceil(divisions);if(!divisions||!isFinite(divisions)||divisions<10){divisions=10}for(i=0;i<=divisions;++i){item=dPath1.getPointAtLength(i/divisions*pathLen1);fPath1.push([i?strL:strM,round(item.x),round(item.y)]);item=dPath2.getPointAtLength(i/divisions*pathLen2);fPath2.push([i?strL:strM,round(item.x),round(item.y)])}return[fPath1,fPath2]}if(!p1||p1==="M  "){p1=p2.split(S).slice(0,3).join(S).replace(/[LC]/,E)}if(!p2||p2==="M  "){p2=p1.split(S).slice(0,3).join(S).replace(/[LC]/,E)}commonPath=commonPathCalculator(p1,p2);for(i=0,ii=commonPath[0].length;i<ii;++i){tmp=normalizeUncommonPaths(commonPath[0][i],commonPath[1][i]);if(i){fPath1=fPath1.concat(tmp[0].slice(1));fPath2=fPath2.concat(tmp[1].slice(1))}else{fPath1=fPath1.concat(tmp[0]);fPath2=fPath2.concat(tmp[1])}}return[fPath1,fPath2]}function runAnimation(anim,element,percent,status,totalOrigin,times,parentEl,configObject){percent=toFloat(percent);var params,isInAnim,isInAnimSet,percents=[],next,prev,temp,timestamp,tempDiff,change,ms=anim.ms,from={},to={},diff={};if(element.type===null){return}configObject=configObject||{};configObject.hookFn&&configObject.hookFn.call(element);configObject.from=configObject.from||{};if(status){for(i=0,ii=animationElements.length;i<ii;i++){var e=animationElements[i];if(e.el.id===element.id&&e.anim===anim){if(e.percent!=percent){delete e.el.e;delete e.el;animationElements.splice(i,1);isInAnimSet=1}else{isInAnim=e}element.attr(e.totalOrigin);break}}}else{status=+to}for(var i=0,ii=anim.percents.length;i<ii;i++){if(anim.percents[i]===percent||anim.percents[i]>status*anim.top){percent=anim.percents[i];prev=anim.percents[i-1]||0;ms=ms/anim.top*(percent-prev);next=anim.percents[i+1];params=anim.anim[percent];break}else if(status){element.attr(anim.anim[anim.percents[i]])}}if(!params){return}if(!isInAnim){for(var attr in params){if(params[HAS](attr)){if(availableAnimAttrs[HAS](attr)||element.ca[attr]){from[attr]=configObject.from[attr]||element.attr(attr);from[attr]==null&&(from[attr]=availableAttrs[attr]);to[attr]=params[attr];change=false;switch(availableAnimAttrs[attr]){case"number":tempDiff=to[attr]-from[attr];(tempDiff||isNaN(tempDiff))&&(change=true);diff[attr]=tempDiff/ms;break;case"colour":if(from[attr]===to[attr]){break}else{change=true}var colorsNormalized=colorNormalizer(from[attr],to[attr],R.getRGB);from[attr]=colorsNormalized[0];var toColour=colorsNormalized[1];if((typeof toColour==="undefined"?"undefined":_typeof(toColour))===STRING){if(from[attr].toLowerCase()!==NONE){from[attr]=R.getRGB(from[attr]);if(!from[attr].opacity){from[attr].opacity=1}}else{from[attr]={r:0,g:0,b:0,opacity:0}}if(to[attr].toLowerCase()!==NONE){toColour=R.getRGB(to[attr]);if(!toColour.opacity){toColour.opacity=1}}else{toColour={r:0,g:0,b:0,opacity:0}}diff[attr]={r:(toColour.r-from[attr].r)/ms,g:(toColour.g-from[attr].g)/ms,b:(toColour.b-from[attr].b)/ms,opacity:(toColour.opacity-from[attr].opacity)/ms}}else{diff[attr]=[];for(i=0,ii=from[attr].length;i<ii;++i){if(i===0){diff[attr].push(toColour[0])}else{diff[attr].push({r:(toColour[i].r-from[attr][i].r)/ms,g:(toColour[i].g-from[attr][i].g)/ms,b:(toColour[i].b-from[attr][i].b)/ms,opacity:(toColour[i].opacity-from[attr][i].opacity)/ms})}}}break;case"path":var toPath,pathes=path2curve(from[attr],to[attr]);if(configObject.smartMorph){pathes=pathNormalizer(pathes[0],pathes[1],configObject)}toPath=pathes[1];from[attr]=pathes[0];diff[attr]=[];for(i=0,ii=from[attr].length;i<ii;i++){diff[attr][i]=[0];var jj;jj=from[attr][i]?from[attr][i].length:0;for(var j=1;j<jj;j++){diff[attr][i][j]=(toPath[i][j]-from[attr][i][j])/ms;!change&&diff[attr][i][j]&&(change=true)}}break;case"transform":var _=element._,eq=equaliseTransform(_[attr],to[attr]);change=true;if(eq){from[attr]=eq.from;to[attr]=eq.to;diff[attr]=[];diff[attr].real=true;for(i=0,ii=from[attr].length;i<ii;i++){diff[attr][i]=[from[attr][i][0]];for(j=1,jj=from[attr][i].length;j<jj;j++){diff[attr][i][j]=(to[attr][i][j]-from[attr][i][j])/ms}}}else{var m=element.matrix||new Matrix,to2={_:{transform:_.transform},getBBox:function getBBox(){return element.getBBox(1)}};from[attr]=[m.a,m.b,m.c,m.d,m.e,m.f];extractTransform(to2,to[attr]);to[attr]=to2._.transform;diff[attr]=[(to2.matrix.a-m.a)/ms,(to2.matrix.b-m.b)/ms,(to2.matrix.c-m.c)/ms,(to2.matrix.d-m.d)/ms,(to2.matrix.e-m.e)/ms,(to2.matrix.f-m.f)/ms]}break;case"csv":var values=Str(params[attr])[SPLIT](separator),from2=Str(from[attr])[SPLIT](separator);if(attr==="clip-rect"){from[attr]=from2;diff[attr]=[];i=from2.length;while(i--){tempDiff=values[i]-from[attr][i];(tempDiff||isNaN(tempDiff))&&(change=true);diff[attr][i]=tempDiff/ms}}to[attr]=values;break;default:values=[][CONCAT](params[attr]);from2=[][CONCAT](from[attr]);diff[attr]=[];i=element.ca[attr].length;while(i--){tempDiff=(values[i]||0)-(from2[i]||0);(tempDiff||isNaN(tempDiff))&&(change=true);diff[attr][i]=tempDiff/ms}break}if(!change){delete from[attr];delete to[attr];delete params[attr];delete diff[attr]}}else if(R._availableAttrs[HAS](attr)||attr==="text"||element.ca[attr]){element.attr(attr,params[attr]);delete params[attr]}}}var easing=params.easing,easyeasy=R.easing_formulas[easing];if(!easyeasy){easyeasy=Str(easing).match(bezierrg);if(easyeasy&&easyeasy.length===5){var curve=easyeasy;easyeasy=function easyeasy(t){return CubicBezierAtTime(t,+curve[1],+curve[2],+curve[3],+curve[4],ms)}}else{easyeasy=pipe}}timestamp=params.start||anim.start||+new Date;element.e=e={anim:anim,percent:percent,timestamp:timestamp,start:timestamp+(anim.del||0),status:0,initstatus:status||0,stop:false,ms:ms,easing:easyeasy,from:from,diff:diff,to:to,el:element,callback:params.callback,prev:prev,next:next,repeat:times||anim.times,origin:element.attr(),totalOrigin:totalOrigin,parentEl:parentEl,delayend:configObject&&configObject.end,delaystart:configObject&&configObject.start};animationElements.push(e);if(status&&!isInAnim&&!isInAnimSet){e.stop=true;e.start=new Date-ms*status;if(animationElements.length===1){return animation()}}if(isInAnimSet){e.start=new Date-e.ms*status}animationElements.length===1&&(requestAnimFrame||R.getAnimFrameFn())(animation)}else{isInAnim.initstatus=status;isInAnim.start=new Date-isInAnim.ms*status}(0,_eve3["default"])("raphael.anim.start."+element.id,element,anim)}R.animation=function(params,ms,easing,callback,stopPartialEventPropagation){if(params instanceof Animation){return params}if(R.is(easing,FUNCTION)||!easing){callback=callback||easing||null;easing=null}!R.stopPartialEventPropagation&&(R.stopPartialEventPropagation=stopPartialEventPropagation);params=Object(params);ms=+ms||0;var p={},json,attr;for(attr in params){if(params[HAS](attr)&&toFloat(attr)!=attr&&toFloat(attr)+"%"!=attr){json=true;p[attr]=params[attr]}}callback&&(json=true);if(!json){return new Animation(params,ms)}else{easing&&(p.easing=easing);callback&&(p.callback=callback);return new Animation({100:p},ms)}};elproto.animate=function(params,ms,easing,callback){var element=this;if(element.removed){callback&&callback.call(element);return element}var anim=params instanceof Animation?params:R.animation(params,ms,easing,callback);runAnimation(anim,element,anim.percents[0],null,element.attr());return element};elproto.status=function(anim,value){var out=[],i=0,len,e;if(value!=null){runAnimation(anim,this,-1,mmin(value,1));return this}else{len=animationElements.length;for(;i<len;i++){e=animationElements[i];if(e.el.id===this.id&&(!anim||e.anim===anim)){if(anim){return e.status}out.push({anim:e.anim,status:e.status})}}if(anim){return 0}return out}};elproto.pause=function(anim,pauseChildAnimation){var now=+new Date,e,i;for(i=0;i<animationElements.length;i++){e=animationElements[i];if((e.el.id===this.id||pauseChildAnimation&&e.parentEl&&e.parentEl.e.el&&e.parentEl.e.el.id===this.id)&&(!anim||e.anim===anim)){if((0,_eve3["default"])("raphael.anim.pause."+this.id,this,e.anim)!==false){e.paused=true;e.pauseStart=now}}}return this};elproto.resume=function(anim,resumeChildAnimation){var now=+new Date,e,i;for(i=0;i<animationElements.length;i++){e=animationElements[i];if((e.el.id===this.id||resumeChildAnimation&&e.parentEl&&e.parentEl.e.el&&e.parentEl.e.el.id===this.id)&&(!anim||e.anim===anim)){if((0,_eve3["default"])("raphael.anim.resume."+this.id,this,e.anim)!==false){delete e.paused;e.el.status(e.anim,e.status);e.pauseEnd=now;e.start+=(e.parentEl&&e.parentEl.e.pauseEnd||e.pauseEnd)-(e.parentEl&&e.parentEl.e.pauseStart||e.pauseStart)||0}}}return this};elproto.stop=function(anim,stopChildAnimation,jumpToEnd){var e,i,ele;if(stopChildAnimation){for(i=animationElements.length-1;i>=0;i--){e=animationElements[i];if((e.el.id===this.id||e.parentEl&&e.parentEl.id===this.id)&&(!anim||animationElements[i].anim===anim)){ele=e.el;jumpToEnd&&ele.attr(e.to);e.callback&&e.callback.call(ele);delete ele.e;delete e.el;animationElements.splice(i,1)}}}else{for(var i=0;i<animationElements.length;i++){e=animationElements[i];if(e.el.id===this.id&&(!anim||e.anim===anim)){if((0,_eve3["default"])("raphael.anim.stop."+this.id,this,e.anim)!==false){animationElements.splice(i--,1)}}}}if(this.animElements){executeAnimQueue(this.animElements)}return this};function executeAnimQueue(queue){var ob;while(ob=queue.deq()){ob=ob.executeOb;ob.hookFn&&ob.hookFn.call(ob.el);ob.el.attr(ob.attrs);ob.callback&&ob.callback.call(ob.el)}}function stopAnimation(paper){for(var i=0;i<animationElements.length;i++){if(animationElements[i].el.paper===paper){animationElements.splice(i--,1)}}}_eve3["default"].on("raphael.remove",stopAnimation);_eve3["default"].on("raphael.clear",stopAnimation);elproto.toString=function(){return"RaphaÃ«lâs object"};elproto.toFront=function(){if(this.removed){return this}var o=this,thisNode=R._engine.getNode(o),parent=o.parent,followers=o.followers,follower,i,ii;if(R._tofront(o,parent)){parent.canvas.appendChild(thisNode)}for(i=0,ii=followers.length;i<ii;i++){(follower=followers[i]).stalk&&follower.el[follower.stalk](o)}return o};elproto.toBack=function(){if(this.removed){return this}var o=this,thisNode=R._engine.getNode(o),parent=o.parent,followers=o.followers,follower,i,ii;if(R._toback(o,parent)){parent.canvas.insertBefore(thisNode,parent.canvas.firstChild)}for(i=0,ii=followers.length;i<ii;i++){(follower=followers[i]).stalk&&follower.el[follower.stalk](o)}return o};elproto.insertAfter=function(element){if(this.removed){return this}var o=this,thisNode=R._engine.getNode(o),thatNode=R._engine.getLastNode(element),parentNode=element.parent.canvas,followers=o.followers,follower,i,ii;if(thatNode.nextSibling){parentNode.insertBefore(thisNode,thatNode.nextSibling)}else{parentNode.appendChild(thisNode)}R._insertafter(o,element,o.parent,element.parent);for(i=0,ii=followers.length;i<ii;i++){(follower=followers[i]).stalk&&follower.el[follower.stalk](element)}return o};elproto.insertBefore=function(element){if(this.removed){return this}var o=this,thisNode=R._engine.getNode(o),thatNode=R._engine.getNode(element),followers=o.followers,follower,i,ii;element.parent.canvas.insertBefore(thisNode,thatNode);R._insertbefore(o,element,o.parent,element.parent);o.parent=element.parent;for(i=0,ii=followers.length;i<ii;i++){(follower=followers[i]).stalk&&follower.el[follower.stalk](element)}return this};elproto.appendChild=function(element){if(this.removed||this.type!=="group"){return this}var group=this,followers=group.followers,follower,thatNode,i,ii;if(element.parent===group){element.toFront();return group}thatNode=R._engine.getNode(element);R._tear(element,element.parent);group.canvas.appendChild(thatNode);element.parent=group;!group.bottom&&(group.bottom=element);element.prev=group.top;element.next=null;group.top&&(group.top.next=element);group.top=element;for(i=0,ii=followers.length;i<ii;i++){(follower=followers[i]).stalk&&follower.el[follower.stalk](element)}return group};elproto.appendTo=function(group){return group.appendChild(this)};elproto.removeChild=function(element){if(this.removed||this.type!=="group"||element.parent!==this){return this}var o=this,thatNode=R._engine.getNode(element),paper=o.paper;R._tear(element,o);paper.canvas.appendChild(thatNode);o.parent=paper;!paper.bottom&&(paper.bottom=o);o.prev=paper.top;paper.top&&(paper.top.next=o);paper.top=o;o.next=null;return o};R.format=function(token,params){var arg=(0,_raphael.getArrayCopy)(arguments),args=R.is(params,ARRAY)?[0][CONCAT](params):arg;token&&R.is(token,STRING)&&args.length-1&&(token=token.replace(formatrg,function(str,i){return args[++i]==null?E:args[i]}));return token||E};var crispFixer=R.vml&&.5||0;R.crispBound=(0,_raphael.cacher)(function(x,y,w,h,s){var at={},normalizer;x=x||0;y=y||0;w=w||0;h=h||0;s=s||0;normalizer=s%2/2+crispFixer;at.x=round(x+normalizer)-normalizer;at.y=round(y+normalizer)-normalizer;at.width=round(x+w+normalizer)-normalizer-at.x;at.height=round(y+h+normalizer)-normalizer-at.y;at["stroke-width"]=s;at.width===0&&w!==0&&(at.width=1);at.height===0&&h!==0&&(at.height=1);return at},R);elproto.crisp=function(){var o=this,attrs=o.attrs,key,attr={},values=o.attr();values=R.crispBound(values.x,values.y,values.width,values.height,values["stroke-width"]);for(key in values){if(attrs[key]===values[key]){delete values[key]}}return o.attr(values)};R.define=function(name,init,ca,fn,e,data){var i,ii;if(R.is(name,ARRAY)){for(i=0,ii=name.length;i<ii;i++){R.define(name[i])}return}else if(R.is(name,OBJECT)){R.define(name.name,name[name.name],name.ca,name.fn,name.e,name.data);return}else if(!name||R.fn[name]){return}R.fn[name]=function(){var args=(0,_raphael.getArrayCopy)(arguments),element=init.apply(this,args),key;if(fn&&R.is(fn,OBJECT)){for(key in fn){element[key]=fn[key]}}if(e&&R.is(e,OBJECT)){for(key in e){element[key]&&element[key](e[key])}}if(ca){if(R.is(ca,FUNCTION)){element.ca[name]=ca}else{for(key in ca){element.ca[key]=ca[key]}}if(element.ca[name]){R._lastArgIfGroup(args,true);if(args.length){args[0][name]?element.attr.apply(element,args):element.attr(name,args[0])}}}return element};if(ca){R.fn[name].ca=ca}if(fn){R.fn[name].fn=fn}if(e){R.fn[name].e=e}if(data){R.fn[name].data=data}return R.fn[name]};(function(doc,loaded,_f){if(doc.readyState==null&&doc.addEventListener){doc.addEventListener(loaded,_f=function f(){doc.removeEventListener(loaded,_f,false);doc.readyState="complete"},false);doc.readyState="loading"}function isLoaded(){/in/.test(doc.readyState)?setTimeout(isLoaded,9):R.eve("raphael.DOMload")}isLoaded()})(doc,"DOMContentLoaded");_eve3["default"].on("raphael.DOMload",function(){loaded=true});R._preload=function(src,f){var doc=g.doc,img=doc.createElement("img");img.style.cssText="position:absolute;left:-9999em;top:-9999em";img.onload=function(){f.call(this);this.onload=null;doc.body.removeChild(this)};img.onerror=function(){doc.body.removeChild(this)};doc.body.appendChild(img);img.src=src};exports["default"]=R}).call(this,__webpack_require__(111))},function(module,exports,__webpack_require__){"use strict";(function(global){exports.__esModule=true;var _raphael=__webpack_require__(121);exports["default"]=function(glob){var version="0.5.3",has="hasOwnProperty",separator=/[\.\/]/,comaseparator=/\s*,\s*/,wildcard="*",fun=function fun(){},numsort=function numsort(a,b){return a-b},current_event,stop,events={n:{}},firstDefined=function firstDefined(){for(var i=0,ii=this.length;i<ii;i++){if(typeof this[i]!="undefined"){return this[i]}}},lastDefined=function lastDefined(){var i=this.length;while(--i){if(typeof this[i]!="undefined"){return this[i]}}},objtos=Object.prototype.toString,Str=String,isArray=Array.isArray||function(ar){return ar instanceof Array||objtos.call(ar)=="[object Array]"},eve=function eve(name,scope){var e=events,oldstop=stop,arg=(0,_raphael.getArrayCopy)(arguments),args=Array.prototype.slice.call(arg,2),listeners=eve.listeners(name),z=0,f=false,l,indexed=[],queue={},out=[],ce=current_event,errors=[];out.firstDefined=firstDefined;out.lastDefined=lastDefined;current_event=name;stop=0;for(var i=0,ii=listeners.length;i<ii;i++){if("zIndex"in listeners[i]){indexed.push(listeners[i].zIndex);if(listeners[i].zIndex<0){queue[listeners[i].zIndex]=listeners[i]}}}indexed.sort(numsort);while(indexed[z]<0){l=queue[indexed[z++]];out.push(l.apply(scope,args));if(stop){stop=oldstop;return out}}for(i=0;i<ii;i++){l=listeners[i];if("zIndex"in l){if(l.zIndex==indexed[z]){out.push(l.apply(scope,args));if(stop){break}do{z++;l=queue[indexed[z]];l&&out.push(l.apply(scope,args));if(stop){break}}while(l)}else{queue[l.zIndex]=l}}else{out.push(l.apply(scope,args));if(stop){break}}}stop=oldstop;current_event=ce;return out};eve._events=events;eve.listeners=function(name){var names=isArray(name)?name:name.split(separator),e=events,item,items,k,i,ii,j,jj,nes,es=[e],out=[];for(i=0,ii=names.length;i<ii;i++){nes=[];for(j=0,jj=es.length;j<jj;j++){e=es[j].n;items=[e[names[i]],e[wildcard]];k=2;while(k--){item=items[k];if(item){nes.push(item);out=out.concat(item.f||[])}}}es=nes}return out};eve.separator=function(sep){if(sep){sep=Str(sep).replace(/(?=[\.\^\]\[\-])/g,"\\");sep="["+sep+"]";separator=new RegExp(sep)}else{separator=/[\.\/]/}};eve.on=function(name,f){if(typeof f!="function"){return function(){}}var names=isArray(name)?isArray(name[0])?name:[name]:Str(name).split(comaseparator);for(var i=0,ii=names.length;i<ii;i++){(function(name){var names=isArray(name)?name:Str(name).split(separator),e=events,exist;for(var i=0,ii=names.length;i<ii;i++){e=e.n;e=e.hasOwnProperty(names[i])&&e[names[i]]||(e[names[i]]={n:{}})}e.f=e.f||[];for(i=0,ii=e.f.length;i<ii;i++){if(e.f[i]==f){exist=true;break}}!exist&&e.f.push(f)})(names[i])}return function(zIndex){if(+zIndex==+zIndex){f.zIndex=+zIndex}}};eve.f=function(event){var args=(0,_raphael.getArrayCopy)(arguments),attrs=[].slice.call(args,1);return function(){eve.apply(null,[event,null].concat(attrs).concat([].slice.call(args,0)))}};eve.stop=function(){stop=1};eve.nt=function(subname){var cur=isArray(current_event)?current_event.join("."):current_event;if(subname){return new RegExp("(?:\\.|\\/|^)"+subname+"(?:\\.|\\/|$)").test(cur)}return cur};eve.nts=function(){return isArray(current_event)?current_event:current_event.split(separator)};eve.off=eve.unbind=function(name,f){if(!name){eve._events=events={n:{}};return}var names=isArray(name)?isArray(name[0])?name:[name]:Str(name).split(comaseparator);if(names.length>1){for(var i=0,ii=names.length;i<ii;i++){eve.off(names[i],f)}return}names=isArray(name)?name:Str(name).split(separator);var e,key,splice,i,ii,j,jj,cur=[events],inodes=[];for(i=0,ii=names.length;i<ii;i++){for(j=0;j<cur.length;j+=splice.length-2){splice=[j,1];e=cur[j].n;if(names[i]!=wildcard){if(e[names[i]]){splice.push(e[names[i]]);inodes.unshift({n:e,name:names[i]})}}else{for(key in e){if(e[has](key)){splice.push(e[key]);inodes.unshift({n:e,name:key})}}}cur.splice.apply(cur,splice)}}for(i=0,ii=cur.length;i<ii;i++){e=cur[i];while(e.n){if(f){if(e.f){for(j=0,jj=e.f.length;j<jj;j++){if(e.f[j]==f){e.f.splice(j,1);break}}!e.f.length&&delete e.f}for(key in e.n){if(e.n[has](key)&&e.n[key].f){var funcs=e.n[key].f;for(j=0,jj=funcs.length;j<jj;j++){if(funcs[j]==f){funcs.splice(j,1);break}}!funcs.length&&delete e.n[key].f}}}else{delete e.f;for(key in e.n){if(e.n[has](key)&&e.n[key].f){delete e.n[key].f}}}e=e.n}}prune:for(i=0,ii=inodes.length;i<ii;i++){e=inodes[i];for(key in e.n[e.name].f){continue prune}for(key in e.n[e.name].n){continue prune}delete e.n[e.name]}};eve.once=function(name,f){var f2=function f2(){eve.off(name,f2);return f.apply(this,arguments)};return eve.on(name,f2)};eve.version=version;eve.toString=function(){return"You are running Eve "+version};glob.eve=eve;return eve}(typeof window!=="undefined"?window:typeof global!=="undefined"?global:null)}).call(this,__webpack_require__(111))},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _raphael=__webpack_require__(142);var _raphael2=_interopRequireDefault(_raphael);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={extension:function extension(FusionCharts){(0,_raphael2["default"])(FusionCharts.getDep("redraphael","plugin"))},name:"redraphaelSvg",type:"plugin",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports["default"]=function(R){if(R.svg){var has="hasOwnProperty",tSpanStr="tspan",vAignStr="vertical-align",lineHeightStr="line-height",fontSizeStr="font-size",imageStr="image",noneStr="none",notToTuneStr="_do-not-tune",textStr="text",rtlStr="rtl",arrayStr="array",middleStr="middle",pxStr="px",initialStr="initial",fnStr="function",brStr="<br>",hiddenStr="hidden",visibleStr="visible",objectStr="object",fillStr="fill",transformStr="transform",visibilityStr="visibility",IESplTspanAttr={visibility:hiddenStr,"font-size":"0px"},Str=String,toFloat=parseFloat,toInt=parseInt,vAlignMultiplier={top:0,bottom:-1,middle:-.5},isIE=/* @cc_on!@ */false||!!document.documentMode,math=Math,mmax=math.max,abs=math.abs,pow=math.pow,sqrt=math.sqrt,xlinkRegx=/^xlink:/,separator=/[, ]+/,textBreakRegx=/\n|<br\s*?\/?>/i,ltgtbrRegex=/&lt|&gt|<br/i,arrayShift=Array.prototype.shift,zeroStrokeFix=!!(/AppleWebKit/.test(R._g.win.navigator.userAgent)&&(!/Chrome/.test(R._g.win.navigator.userAgent)||R._g.win.navigator.appVersion.match(/Chrome\/(\d+)\./)[1]<29)),eve=R.eve,E="",S=" ",xlink="http://www.w3.org/1999/xlink",svgNSStr="http://www.w3.org/2000/svg",isIpad=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),typeStringSTR="string",markers={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},shapeRenderingAttrs={speed:"optimizeSpeed",crisp:"crispEdges",precision:"geometricPrecision"},nav=R._g.win.navigator.userAgent.toLowerCase(),isIE9=function(){var verIE=nav.indexOf("msie")!=-1?parseInt(nav.split("msie")[1]):false;if(verIE&&verIE===9){return true}else{return false}}(),markerCounter={},preLoad=function preLoad(elem,ig,isURL,paper){R._preload(isURL[1],function(){var w=this.offsetWidth,h=this.offsetHeight;$(elem,{width:w,height:h});$(ig,{width:w,height:h});paper.safari()})},quickExtend=function quickExtend(obj1,obj2){if(obj2){for(var key in obj2){obj1[key]=obj2[key]}}};R.cachedFontHeight={};R.toString=function(){return"Your browser supports SVG.\nYou are running RaphaÃ«l "+this.version};R._url=E;var updateGradientReference=function updateGradientReference(element,newGradient){var gradient=element.gradient;if(gradient){if(gradient===newGradient){return}gradient.refCount--;if(!gradient.refCount){gradient.parentNode.removeChild(gradient)}delete element.gradient}if(newGradient){element.gradient=newGradient;newGradient.refCount++}};var $=R._createNode=function(el,attr){if((typeof el==="undefined"?"undefined":_typeof(el))===typeStringSTR){el=R._g.doc.createElementNS(svgNSStr,el)}if(attr){var key,value;for(key in attr){value=isIE9?Str(attr[key]):attr[key];if(xlinkRegx.test(key)){el.setAttributeNS(xlink,key.replace(xlinkRegx,E),value)}else{el.setAttribute(key,value)}}}return el},gradientUnitNames={userSpaceOnUse:"userSpaceOnUse",objectBoundingBox:"objectBoundingBox"},gradientSpreadNames={pad:"pad",redlect:"reflect",repeat:"repeat"},addGradientFill=function addGradientFill(element,gradient){if(!element.paper||!element.paper.defs){return 0}var type="linear",SVG=element.paper,id=R.getElementID((SVG.id+"-"+gradient).replace(/[()\s%:,\xb0#]/g,"_")),fx=.5,fy=.5,r,cx,cy,units,spread,o=element.node,s=o.style,el=R._g.doc.getElementById(id),vector;if(!el){gradient=Str(gradient).replace(R._radial_gradient,function(all,opts){type="radial";opts=opts?opts.split(","):[];units=opts[5];spread=opts[6];var _fx=opts[0],_fy=opts[1],_r=opts[2],_cx=opts[3],_cy=opts[4],shifted=_fx&&_fy,dir,sqx;if(_r){r=/%/.test(_r)?_r:toFloat(_r)}if(units===gradientUnitNames.userSpaceOnUse){if(shifted){fx=_fx;fy=_fy}if(_cx&&_cy){cx=_cx;cy=_cy;if(!shifted){fx=cx;fy=cy}}return E}if(shifted){fx=toFloat(_fx);fy=toFloat(_fy);dir=(fy>.5)*2-1;(sqx=pow(fx-.5,2))+pow(fy-.5,2)>.25&&sqx<.25&&(fy=sqrt(.25-sqx)*dir+.5)&&fy!==.5&&(fy=fy.toFixed(5)-1e-5*dir)}if(_cx&&_cy){cx=toFloat(_cx);cy=toFloat(_cy);dir=(cy>.5)*2-1;(sqx=pow(cx-.5,2))+pow(cy-.5,2)>.25&&sqx<.25&&(cy=sqrt(.25-sqx)*dir+.5)&&cy!==.5&&(cy=cy.toFixed(5)-1e-5*dir);if(!shifted){fx=cx;fy=cy}}return E});gradient=gradient.split(/\s*-\s*/);if(type==="linear"){var angle=gradient.shift(),specs=angle.match(/\((.*)\)/),max;specs=specs&&specs[1]&&specs[1].split(/\s*,\s*/);angle=-toFloat(angle);if(isNaN(angle)){return null}if(specs&&specs.length){if(specs[0]in gradientUnitNames){units=specs.shift();specs[0]in gradientSpreadNames&&(spread=specs.shift())}else{specs[4]&&(units=specs[4]);specs[5]&&(spread=specs[5])}vector=[specs[0]||"0%",specs[1]||"0%",specs[2]||"100%",specs[3]||"0%"]}else{vector=[0,0,math.cos(R.rad(angle)),math.sin(R.rad(angle))];max=1/(mmax(abs(vector[2]),abs(vector[3]))||1);vector[2]*=max;vector[3]*=max;if(vector[2]<0){vector[0]=-vector[2];vector[2]=0}if(vector[3]<0){vector[1]=-vector[3];vector[3]=0}}}var dots=R._parseDots(gradient);if(!dots){return null}el=$(type+"Gradient",{id:id});el.refCount=0;units in gradientUnitNames&&el.setAttribute("gradientUnits",Str(units));spread in gradientSpreadNames&&el.setAttribute("spreadMethod",Str(spread));if(type==="radial"){r!==undefined&&el.setAttribute("r",Str(r));if(cx!==undefined&&cy!==undefined){el.setAttribute("cx",Str(cx));el.setAttribute("cy",Str(cy))}el.setAttribute("fx",Str(fx));el.setAttribute("fy",Str(fy))}else{$(el,{x1:vector[0],y1:vector[1],x2:vector[2],y2:vector[3]})}for(var i=0,ii=dots.length;i<ii;i++){el.appendChild($("stop",{offset:dots[i].offset?dots[i].offset:i?"100%":"0%","stop-color":dots[i].color||"#fff","stop-opacity":dots[i].opacity===undefined?1:dots[i].opacity}))}SVG.defs.appendChild(el)}updateGradientReference(element,el);$(o,{fill:"url('"+R._url+"#"+id+"')","fill-opacity":1});s.fill=E;return 1},updatePosition=function updatePosition(o){var bbox=o.getBBox(1);$(o.pattern,{patternTransform:o.matrix.invert()+" translate("+bbox.x+","+bbox.y+")"})},addArrow=function addArrow(o,value,isEnd){if(o.type=="path"){var values=Str(value).toLowerCase().split("-"),p=o.paper,se=isEnd?"end":"start",node=o.node,attrs=o.attrs,stroke=attrs["stroke-width"],i=values.length,type="classic",from,to,dx,refX,attr,w=3,h=3,t=5;while(i--){switch(values[i]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":type=values[i];break;case"wide":h=5;break;case"narrow":h=2;break;case"long":w=5;break;case"short":w=2;break}}if(type=="open"){w+=2;h+=2;t+=2;dx=1;refX=isEnd?4:1;attr={fill:"none",stroke:attrs.stroke}}else{refX=dx=w/2;attr={fill:attrs.stroke,stroke:"none"}}if(o._.arrows){if(isEnd){o._.arrows.endPath&&markerCounter[o._.arrows.endPath]--;o._.arrows.endMarker&&markerCounter[o._.arrows.endMarker]--}else{o._.arrows.startPath&&markerCounter[o._.arrows.startPath]--;o._.arrows.startMarker&&markerCounter[o._.arrows.startMarker]--}}else{o._.arrows={}}if(type!="none"){var pathId="raphael-marker-"+type,markerId="raphael-marker-"+se+type+w+h+"-obj"+o.id;if(!R._g.doc.getElementById(pathId)){p.defs.appendChild($($("path"),{"stroke-linecap":"round",d:markers[type],id:pathId}));markerCounter[pathId]=1}else{markerCounter[pathId]++}var marker=R._g.doc.getElementById(markerId),use;if(!marker){marker=$($("marker"),{id:markerId,markerHeight:h,markerWidth:w,orient:"auto",refX:refX,refY:h/2});use=$($("use"),{"xlink:href":"#"+pathId,transform:(isEnd?"rotate(180 "+w/2+" "+h/2+") ":E)+"scale("+w/t+","+h/t+")","stroke-width":(1/((w/t+h/t)/2)).toFixed(4)});marker.appendChild(use);p.defs.appendChild(marker);markerCounter[markerId]=1}else{markerCounter[markerId]++;use=marker.getElementsByTagName("use")[0]}$(use,attr);var delta=dx*(type!="diamond"&&type!="oval");if(isEnd){from=o._.arrows.startdx*stroke||0;to=R.getTotalLength(attrs.path)-delta*stroke}else{from=delta*stroke;to=R.getTotalLength(attrs.path)-(o._.arrows.enddx*stroke||0)}attr={};attr["marker-"+se]="url('"+R._url+"#"+markerId+"')";if(to||from){attr.d=R.getSubpath(attrs.path,from,to)}$(node,attr);o._.arrows[se+"Path"]=pathId;o._.arrows[se+"Marker"]=markerId;o._.arrows[se+"dx"]=delta;o._.arrows[se+"Type"]=type;o._.arrows[se+"String"]=value}else{if(isEnd){from=o._.arrows.startdx*stroke||0;to=R.getTotalLength(attrs.path)-from}else{from=0;to=R.getTotalLength(attrs.path)-(o._.arrows.enddx*stroke||0)}o._.arrows[se+"Path"]&&$(node,{d:R.getSubpath(attrs.path,from,to)});delete o._.arrows[se+"Path"];delete o._.arrows[se+"Marker"];delete o._.arrows[se+"dx"];delete o._.arrows[se+"Type"];delete o._.arrows[se+"String"]}for(attr in markerCounter){if(markerCounter[has](attr)&&!markerCounter[attr]){var item=R._g.doc.getElementById(attr);item&&item.parentNode.removeChild(item)}}}},dasharray={"":[noneStr],none:[noneStr],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},addDashes=function addDashes(o,value,params){if(value!==undefined){var predefValue=dasharray[value.toLowerCase&&value.toLowerCase()],calculatedValues,width,butt,i,widthFactor;value=predefValue||[].concat(value);if(R.is(value,arrayStr)){width=params["stroke-width"]||o.attrs["stroke-width"]||1;butt={round:width,square:width,butt:0}[params["stroke-linecap"]||o.attrs["stroke-linecap"]]||0;i=value.length;widthFactor=predefValue?width:1;if(value[0]===noneStr){calculatedValues=value}else{calculatedValues=[];while(i--){calculatedValues[i]=value[i]*widthFactor+(i%2?1:-1)*butt;calculatedValues[i]<=0&&(calculatedValues[i]=.01+(width<=1?butt:0));if(isNaN(calculatedValues[i])){calculatedValues[i]=0}}}return{"stroke-dasharray":calculatedValues.join(",")}}}},setFillAndStroke=R._setFillAndStroke=function(o,params){if(!o.paper.canvas){return}var node=o.node,attrs=o.attrs,paper=o.paper,el,att,finalAttr={},finalS={},value,pathClip,urlArr,rect;if(o.type===imageStr){(0,_raphael.loadRefImage)(o,params)}for(att in params){if(att in R._availableAttrs){value=params[att];if(value===E&&att in attrs){delete attrs[att];node.removeAttribute(att==="src"?"href":att)}else{attrs[att]=value;switch(att){case"blur":o.blur(value);break;case"href":case"title":case"target":var pn=node.parentNode;if(pn.tagName.toLowerCase()!=="a"){if(value===E){break}var hl=$("a");hl.raphael=true;hl.raphaelid=node.raphaelid;pn.insertBefore(hl,node);hl.appendChild(node);pn=hl}if(att==="target"){pn.setAttributeNS(xlink,"show",value==="blank"?"new":value)}else{pn.setAttributeNS(xlink,att,value)}node.titleNode=pn;break;case"cursor":finalS.cursor=value;break;case"transform":o.transform(value);break;case"rotation":if(R.is(value,arrayStr)){o.rotate.apply(o,value)}else{o.rotate(value)}break;case"arrow-start":addArrow(o,value);break;case"arrow-end":addArrow(o,value,1);break;case"clip-path":pathClip=true;case"clip-rect":rect=!pathClip&&Str(value).split(separator);o._.clipispath=!!pathClip;if(pathClip||rect.length===4){o.clip&&o.clip.parentNode.parentNode.removeChild(o.clip.parentNode);var rc=$(pathClip?"path":"rect");el=$("clipPath");el.id=R.getElementID(R.createUUID());$(rc,pathClip?{d:value?attrs["clip-path"]=R._pathToAbsolute(value):R._availableAttrs.path,fill:noneStr}:{x:rect[0],y:rect[1],width:rect[2],height:rect[3],transform:o.matrix.invert()});el.appendChild(rc);paper.defs.appendChild(el);finalAttr["clip-path"]="url('"+R._url+"#"+el.id+"')";o.clip=rc}if(!value){var path=node.getAttribute("clip-path");if(path){var clip=R._g.doc.getElementById(path.replace(/(^url\(#|\)$)/g,E));clip&&clip.parentNode.removeChild(clip);finalAttr["clip-path"]=E;document.documentMode===11&&node.removeAttribute("clip-path");delete o.clip}}break;case"path":if(o.type==="path"){finalAttr.d=value?attrs.path=R._stopabsolutePath?R.sanitizePath(value):R._pathToAbsolute(value):R._availableAttrs.path;o._.dirty=1;if(o._.arrows){"startString"in o._.arrows&&addArrow(o,o._.arrows.startString);"endString"in o._.arrows&&addArrow(o,o._.arrows.endString,1)}}break;case"width":finalAttr[att]=value;o._.dirty=1;if(attrs.fx){att="x";value=attrs.x}else{break}case"x":if(attrs.fx){value=-attrs.x-(attrs.width||0)}case"rx":if(att==="rx"&&o.type==="rect"){break}case"cx":finalAttr[att]=value;o.pattern&&updatePosition(o);o._.dirty=1;break;case"height":finalAttr[att]=value;o._.dirty=1;if(attrs.fy){att="y";value=attrs.y}else{break}case"y":if(o.type===textStr){break}if(attrs.fy){value=-attrs.y-(attrs.height||0)}case"ry":if(att==="ry"&&o.type==="rect"){break}case"cy":finalAttr[att]=value;o.pattern&&updatePosition(o);o._.dirty=1;break;case"r":if(o.type==="rect"){finalAttr.rx=finalAttr.ry=value}else{finalAttr[att]=value}o._.dirty=1;break;case"src":if(o.type===imageStr){node.setAttributeNS(xlink,"href",value)}break;case"stroke-width":if(o._.sx!==1||o._.sy!==1){value/=mmax(abs(o._.sx),abs(o._.sy))||1}if(paper._vbSize){value*=paper._vbSize}if(zeroStrokeFix&&value===0){value=1e-6}finalAttr[att]=value;if(!params["stroke-dasharray"]&&attrs["stroke-dasharray"]){quickExtend(finalAttr,addDashes(o,attrs["stroke-dasharray"],params))}if(o._.arrows){"startString"in o._.arrows&&R.addArrow&&R.addArrow(o,o._.arrows.startString);"endString"in o._.arrows&&R.addArrow&&R.addArrow(o,o._.arrows.endString,1)}break;case"stroke-dasharray":quickExtend(finalAttr,addDashes(o,value,params));break;case"fill":var isURL=R._ISURL.test(value);if(isURL){urlArr=value.split(R._ISURL);el=$("pattern");var ig=$(imageStr);el.id=R.getElementID(R.createUUID());$(el,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});$(ig,{x:0,y:0,"xlink:href":urlArr[1]});el.appendChild(ig);preLoad(el,ig,urlArr,paper);paper.defs.appendChild(el);finalAttr.fill="url('"+R._url+urlArr[1]+"')";o.pattern=el;o.pattern&&updatePosition(o);break}var clr=R.getRGB(value);if(!clr.error){delete params.gradient;delete attrs.gradient;!R.is(attrs["fill-opacity"],"undefined")&&R.is(params["fill-opacity"],"undefined")&&(finalAttr["fill-opacity"]=attrs["fill-opacity"]);o.gradient&&updateGradientReference(o)}else if((o.type==="circle"||o.type==="ellipse"||Str(value).charAt()!=="r")&&addGradientFill(o,value)){attrs.gradient=value;break}if(clr[has]("opacity")){finalAttr["fill-opacity"]=clr.opacity>1?clr.opacity/100:clr.opacity;o._.fillOpacityDirty=true}else if(o._.fillOpacityDirty&&R.is(attrs["fill-opacity"],"undefined")&&R.is(params["fill-opacity"],"undefined")){node.removeAttribute("fill-opacity");delete o._.fillOpacityDirty}case"stroke":clr=R.getRGB(value);finalAttr[att]=clr.hex;if(att==="stroke"){if(clr[has]("opacity")){finalAttr["stroke-opacity"]=clr.opacity>1?clr.opacity/100:clr.opacity;o._.strokeOpacityDirty=true}else if(o._.strokeOpacityDirty&&R.is(attrs["stroke-opacity"],"undefined")&&R.is(params["stroke-opacity"],"undefined")){node.removeAttribute("stroke-opacity");delete o._.strokeOpacityDirty}if(o._.arrows){"startString"in o._.arrows&&addArrow(o,o._.arrows.startString);"endString"in o._.arrows&&addArrow(o,o._.arrows.endString,1)}}break;case"gradient":(o.type==="circle"||o.type==="ellipse"||Str(value).charAt()!=="r")&&addGradientFill(o,value);break;case"visibility":value===hiddenStr?o.hide():o.show();break;case"opacity":value=value>1?value/100:value;finalAttr.opacity=value;break;case"fill-opacity":value=value>1?value/100:value;finalAttr["fill-opacity"]=value;break;case"shape-rendering":o.attrs[att]=value=shapeRenderingAttrs[value]||value||"auto";finalAttr[att]=value;node.style.shapeRendering=value;break;case"line-height":case"vertical-align":break;default:att===fontSizeStr&&(value=toInt(value,10)+"px");o._.dirty=1;finalAttr[att]=value;if(_raphael.dashedAttr2CSSMap[att]){finalS[_raphael.dashedAttr2CSSMap[att]]=value}break}}}}for(att in finalS){node.style[att]=finalS[att]}for(att in finalAttr){node.setAttribute(att,finalAttr[att])}o.type===textStr&&!params[notToTuneStr]&&tuneText(o,params)},updateFollowers=R._updateFollowers=function(){var i,ii,followerElem,args=(0,_raphael.getArrayCopy)(arguments),o=arrayShift.call(args),fnName=arrayShift.call(args);for(i=0,ii=o.followers.length;i<ii;i++){followerElem=o.followers[i].el;followerElem[fnName].apply(followerElem,args)}},leading=1.2,tuneText=function tuneText(el,params){if(el.type!==textStr||!(params[has](textStr)||params[has]("font")||params[has](fontSizeStr)||params[has]("x")||params[has]("y")||params[has](lineHeightStr)||params[has](vAignStr))){return}var a=el.attrs,group=el.parent,node=el.node,fontSize,oldAttr=el._oldAttr=el._oldAttr||{baseLineDiff:8,valign:-.5},lineHeight=toFloat(params[lineHeightStr]||a[lineHeightStr]),direction=params.direction||a.direction||group&&group.attrs&&group.attrs.direction||oldAttr.direction||initialStr,valign,updateNode=false,tspanAttr,updateTspan=false,i,l,ii,j=!isIE&&direction===rtlStr?2:1,texts,tempIESpan,tspan,updateAlignment=false,tspans,text,textChanged=false,removeAllChild=!!(!isIE&&oldAttr.direction&&direction!==oldAttr.direction);oldAttr.direction=direction;if(!lineHeight){fontSize=params.fontSize||params[fontSizeStr]||a[fontSizeStr]||group&&group.attrs&&group.attrs.fontSize;fontSize=fontSize?fontSize.toString().replace(pxStr,E):10;lineHeight=fontSize*leading}if(params[has](textStr)){text=R.is(params.text,arrayStr)?params.text.join(brStr):params.text;if(text!==oldAttr.text){textChanged=true;if(text&&ltgtbrRegex.test(text)){text=text.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&<br\/>lt;|&l<br\/>t;|&lt<br\/>;/g,"<<br/>").replace(/&<br\/>gt;|&g<br\/>t;|&gt<br\/>;/g,"><br/>")}oldAttr.text=a.text=text;if(textBreakRegx.test(text)){if(oldAttr.noTSpan){oldAttr.noTSpan=!(removeAllChild=true)}texts=Str(text).split(textBreakRegx);l=texts.length}else{removeAllChild=true;oldAttr.noTSpan=true;l=1}if(oldAttr.lineCount!==l){oldAttr.lineCount=l;updateAlignment=true}}}if(lineHeight!==oldAttr.lineHeight){oldAttr.lineHeight=lineHeight;oldAttr.baseLineDiff=lineHeight*.75;updateAlignment=true}if(removeAllChild){while(node.firstChild){node.removeChild(node.firstChild)}}if(oldAttr.lineCount>1){tspanAttr={};if(!oldAttr.tspanAttr){oldAttr.tspanAttr={};oldAttr.tspan0Attr={}}if(oldAttr.tspanAttr.dy!==oldAttr.lineHeight){oldAttr.tspanAttr.dy=tspanAttr.dy=oldAttr.lineHeight;updateTspan=true}if(params[has]("x")&&oldAttr.tspanAttr.x!==params.x){oldAttr.tspan0Attr.x=oldAttr.tspanAttr.x=tspanAttr.x=a.x;updateTspan=true}if(textChanged){tspans=node.getElementsByTagName(tSpanStr);for(i=0;i<l;i++){tspan=tspans[i*j];if(tspan){tspan.innerHTML=E;if(isIE){while(tspan.firstChild){tspan.removeChild(tspan.firstChild)}}if(updateTspan){$(tspan,i?tspanAttr:oldAttr.tspan0Attr)}}else{tspan=$(tSpanStr,i?oldAttr.tspanAttr:oldAttr.tspan0Attr);node.appendChild(tspan);if(!isIE&&direction===rtlStr){tempIESpan=$(tSpanStr,IESplTspanAttr);tempIESpan.appendChild(R._g.doc.createTextNode("i"));node.appendChild(tempIESpan)}}if(!texts[i]){tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve");texts[i]=S}tspan.appendChild(R._g.doc.createTextNode(texts[i]))}ii=l*j;if(tspans.length>ii){for(i=tspans.length-1;i>=ii;i-=1){node.removeChild(tspans[i])}}}else if(updateTspan){tspans=node.getElementsByTagName(tSpanStr);ii=tspans.length;for(i=0;i<ii;i+=j){$(tspans[i],i?tspanAttr:oldAttr.tspan0Attr)}}}else if(textChanged){node.appendChild(R._g.doc.createTextNode(text))}if(params[vAignStr]){valign=vAlignMultiplier[a[vAignStr]]||0;if(valign!==oldAttr.valign){oldAttr.valign=valign;updateAlignment=true}}if(updateAlignment){oldAttr.shift=oldAttr.baseLineDiff+oldAttr.lineCount*oldAttr.lineHeight*oldAttr.valign;updateNode=true}if((params.y||params.y===0)&&oldAttr.y!==params.y){oldAttr.y=a.y;updateNode=true}if(updateNode){$(node,{y:Math.round(oldAttr.y+oldAttr.shift)})}},Element=function Element(node,svg,group){var o=this,parent=group||svg;
/*! dontAppend && */parent.canvas&&parent.canvas.appendChild(node);o.node=o[0]=node;node.raphael=true;node.raphaelid=o.id=R._oid++;o.matrix=R.matrix();o.realPath=null;o.attrs=o.attrs||{};o.followers=o.followers||[];o.paper=svg;o.ca=o.customAttributes=o.customAttributes||new svg._CustomAttributes;o._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};o.parent=parent;!parent.bottom&&(parent.bottom=o);o.prev=parent.top;parent.top&&(parent.top.next=o);parent.top=o;o.next=null},elproto=R.el;Element.prototype=elproto;elproto.constructor=Element;R._engine.getNode=function(el){var node=el.node||el[0].node;return node.titleNode||node};R._engine.getLastNode=function(el){var node=el.node||el[el.length-1].node;return node.titleNode||node};elproto.rotate=function(deg,cx,cy){var o=this,bbox;if(o.removed){return o}updateFollowers(o,"rotate",deg,cx,cy);deg=Str(deg).split(separator);if(deg.length-1){cx=toFloat(deg[1]);cy=toFloat(deg[2])}deg=toFloat(deg[0]);cy==null&&(cx=cy);if(cx==null||cy==null){bbox=o.getBBox(1);cx=bbox.x+bbox.width/2;cy=bbox.y+bbox.height/2}o.transform(o._.transform.concat([["r",deg,cx,cy]]));return o};elproto.scale=function(sx,sy,cx,cy){var o=this,bbox;if(o.removed){return o}updateFollowers(o,"scale",sx,sy,cx,cy);sx=Str(sx).split(separator);if(sx.length-1){sy=toFloat(sx[1]);cx=toFloat(sx[2]);cy=toFloat(sx[3])}sx=toFloat(sx[0]);sy==null&&(sy=sx);cy==null&&(cx=cy);if(cx==null||cy==null){bbox=o.getBBox(1)}cx=cx==null?bbox.x+bbox.width/2:cx;cy=cy==null?bbox.y+bbox.height/2:cy;o.transform(o._.transform.concat([["s",sx,sy,cx,cy]]));return o};elproto.translate=function(dx,dy){var o=this;if(o.removed){return o}updateFollowers(o,"translate",dx,dy);dx=Str(dx).split(separator);if(dx.length-1){dy=toFloat(dx[1])}dx=toFloat(dx[0])||0;dy=+dy||0;o.transform(o._.transform.concat([["t",dx,dy]]));return o};elproto.transform=function(tstr){var o=this,_=o._,sw;if(tstr==null){return _.transform}R._extractTransform(o,tstr);o.clip&&!_.clipispath&&$(o.clip,{transform:o.matrix.invert()});o.pattern&&updatePosition(o);o.node&&$(o.node,{transform:o.matrix});if(_.sx!==1||_.sy!==1){sw=o.attrs["stroke-width"];sw&&o.attr({"stroke-width":sw})}return o};elproto.hide=function(){var o=this;updateFollowers(o,"hide");!o.removed&&o.paper.safari(o.node.style.display=noneStr);return o};elproto.show=function(){var o=this;updateFollowers(o,"show");!o.removed&&o.paper.safari(o.node.style.display=E);return o};elproto.remove=function(){if(this.removed||!this.parent.canvas){return}var o=this,node=R._engine.getNode(o),paper=o.paper,defs=paper.defs,i;paper.__set__&&paper.__set__.exclude(o);eve.unbind("raphael.*.*."+o.id);if(o.gradient&&defs){updateGradientReference(o)}while(i=o.followers.pop()){i.el.remove()}while(i=o.bottom){i.remove()}if(o._drag){o.undrag()}if(o.events){while(i=o.events.pop()){i.unbind()}}o.parent.canvas.contains(node)&&o.parent.canvas.removeChild(node);o.removeData();delete paper._elementsById[o.id];R._tear(o,o.parent);for(i in o){o[i]=_typeof(o[i])===fnStr?R._removedFactory(i):null}o.removed=true};elproto._getBBox=function(){var fn,o=this,node=o.node,bbox={},a=o.attrs,align,hide,isText=o.type===textStr;if(isIE&&isText){fn=(0,_raphael.showRecursively)(o)}else{if(node.style.display===noneStr){o.show();hide=true}}try{bbox=node.getBBox();if(isText){if(bbox.x===undefined){bbox.isCalculated=true;align=a["text-anchor"];bbox.x=(a.x||0)-bbox.width*(align==="start"?0:align===middleStr?.5:1)}if(bbox.y===undefined){bbox.isCalculated=true;align=a[vAignStr];bbox.y=(a.y||0)-bbox.height*(align==="bottom"?1:align===middleStr?.5:0)}}}catch(e){}finally{bbox=bbox||{}}isIE&&isText?fn&&fn():hide&&o.hide();return bbox};elproto.attr=function(name,value){if(this.removed){return this}var elem=this,attrs=this.attrs,key,finalParam={},i,ii,params,subkey,par,follower,invokedCa=elem._invokedCa||(elem._invokedCa={}),ca,caObj=this.ca;if(name==null){var res={};for(key in attrs){if(attrs[has](key)){res[key]=attrs[key]}}res.gradient&&res.fill===noneStr&&(res.fill=res.gradient)&&delete res.gradient;res.transform=this._.transform;res.visibility=this.node.style.display===noneStr?hiddenStr:visibleStr;return res}else{if(value==null){if(R.is(name,objectStr)){params=name}else if(R.is(name,typeStringSTR)){if(name===fillStr&&attrs.fill===noneStr&&attrs.gradient){return attrs.gradient}if(name===transformStr){return this._.transform}if(name===visibilityStr){return this.node.style.display===noneStr?hiddenStr:visibleStr}if(name in attrs){return attrs[name]}else if(R.is(caObj[name],fnStr)){return caObj[name].def}return R._availableAttrs[name]}}else{params={};params[name]=value}if(!R.stopPartialEventPropagation){for(key in params){eve("raphael.attr."+key+"."+this.id,this,params[key],key)}}for(key in params){ca=caObj[key];if(ca&&!invokedCa[key]&&R.is(ca,fnStr)){invokedCa[key]=true;par=ca.apply(this,[].concat(params[key]));invokedCa[key]=false;for(subkey in par){finalParam[subkey]=par[subkey]}attrs[key]=params[key]}else{finalParam[key]=params[key]}}setFillAndStroke(this,finalParam);for(i=0,ii=this.followers.length;i<ii;i++){follower=this.followers[i];follower.cb&&!follower.cb.call(follower.el,finalParam,this)||follower.el.attr(finalParam)}return this}};elproto.on=function(eventType,handler,doNotModifyEvent){var elem=this,node,fn,oldEventType;if(this.removed){return this}if(eventType==="dragstart"){this.drag(null,handler);return this}else if(eventType==="dragmove"){this.drag(handler);return this}else if(eventType==="dragend"){this.drag(null,null,handler);return this}fn=handler;oldEventType=eventType;if(R.supportsTouch&&!doNotModifyEvent){eventType=R._touchMap[eventType]||eventType==="click"&&"touchend"||eventType;if(eventType!==oldEventType){if(!elem._tempTouchListeners){elem._tempTouchListeners={}}if(!elem._tempTouchListeners[oldEventType]){elem._tempTouchListeners[oldEventType]=[]}fn=function fn(e){e.preventDefault();handler(e)};elem._tempTouchListeners[oldEventType].push({oldFn:handler,newFn:fn,newEvt:eventType});!isIpad&&elem.on(oldEventType,handler,true)}}if(this._&&this._.RefImg&&(eventType==="load"||eventType==="error")){node=this._.RefImg;fn=function fn(e){!elem.removed&&handler.call(elem,e)}}else{node=this.node}if(node.addEventListener){node.addEventListener(eventType,fn)}else{node["on"+eventType]=fn}return this};elproto.off=function(eventType,handler,doNotCheckModifiedEvents){var elem=this,fn,i,l,node,oldEventType;if(this.removed){return this}if(eventType==="dragstart"){elem.undragstart(handler);return this}else if(eventType==="dragmove"){this.undragmove(handler);return this}else if(eventType==="dragend"){this.undragend(handler);return this}fn=handler;oldEventType=eventType;if(!doNotCheckModifiedEvents&&R.supportsTouch&&elem._tempTouchListeners&&elem._tempTouchListeners[oldEventType]){l=elem._tempTouchListeners[oldEventType].length;for(i=0;i<l&&oldEventType===eventType;i+=1){if(elem._tempTouchListeners[oldEventType][i]&&elem._tempTouchListeners[oldEventType][i].oldFn===fn){eventType=elem._tempTouchListeners[oldEventType][i].newEvt;fn=elem._tempTouchListeners[oldEventType][i].newFn;elem._tempTouchListeners[oldEventType].splice(i,1)}}!isIpad&&elem.off(oldEventType,handler,true)}if(this._&&this._.RefImg){node=this._.RefImg}else{node=this.node}if(node.removeEventListener){node.removeEventListener(eventType,fn)}else{node["on"+eventType]=null}return this};R._engine.path=function(svg,attrs,group){var el=$("path"),res=new Element(el,svg,group);res.type="path";attrs&&res.attr(attrs);return res};R._engine.group=function(svg,id,group){var el=$("g"),res=new Element(el,svg,group);res.type="group";res.canvas=res.node;res.top=res.bottom=null;res._id=id||E;id&&el.setAttribute("class","raphael-group-"+res.id+"-"+id);return res};R._engine.circle=function(svg,attrs,group){var el=$("circle"),res=new Element(el,svg,group);res.type="circle";attrs&&res.attr(attrs);return res};R._engine.rect=function(svg,attrs,group){var el=$("rect"),res=new Element(el,svg,group);res.type="rect";attrs.rx=attrs.ry=attrs.r;attrs&&res.attr(attrs);return res};R._engine.ellipse=function(svg,attrs,group){var el=$("ellipse"),res=new Element(el,svg,group);res.type="ellipse";attrs&&res.attr(attrs);return res};R._engine.image=function(svg,attrs,group){var el=$(imageStr),res=new Element(el,svg,group,true);res._.group=group||svg;res.type=imageStr;el.setAttribute("preserveAspectRatio",noneStr);attrs&&res.attr(attrs);return res};R._engine.text=function(svg,attrs,group,css){var el=$(textStr),res=new Element(el,svg,group);res.type=textStr;css&&res.css&&res.css(css,undefined,true);attrs&&res.attr(attrs);return res};R._engine.setSize=function(width,height){this.width=width||this.width;this.height=height||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);if(this._viewBox){this.setViewBox.apply(this,this._viewBox)}return this};R._engine.create=function(){var con=R._getContainer.apply(0,arguments),container=con&&con.container,x=con.x,y=con.y,width=con.width,height=con.height,paper;if(!container){throw new Error("SVG container not found.")}var cnvs=$("svg"),css="overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);"+"-webkit-user-select:none;-moz-user-select:-moz-none;-khtml-user-select:none;"+"-ms-user-select:none;user-select:none;-o-user-select:none;cursor:default;"+"vertical-align:middle;",isFloating;x=x||0;y=y||0;width=width||512;height=height||342;$(cnvs,{height:height,version:1.1,width:width,xmlns:svgNSStr});if(container===1){cnvs.style.cssText=css+"position:absolute;left:"+x+"px;top:"+y+pxStr;container=R._g.doc.body;container.appendChild(cnvs);isFloating=1}else{cnvs.style.cssText=css+"position:relative";if(container.firstChild){container.insertBefore(cnvs,container.firstChild)}else{container.appendChild(cnvs)}}paper=new R._Paper;paper.width=width;paper.height=height;paper.canvas=cnvs;paper.container=container;$(cnvs,{id:"raphael-paper-"+paper.id});paper.clear();paper._left=paper._top=0;isFloating&&(paper.renderfix=function(){});paper.renderfix();return paper};R._engine.setViewBox=function(x,y,w,h,fit){eve("raphael.setViewBox",this,this._viewBox,[x,y,w,h,fit]);var size=mmax(w/this.width,h/this.height),top=this.top,aspectRatio=fit?"meet":"xMinYMin",vb,sw;if(x==null){if(this._vbSize){size=1}delete this._vbSize;vb="0 0 "+this.width+S+this.height}else{this._vbSize=size;vb=x+S+y+S+w+S+h}$(this.canvas,{viewBox:vb,preserveAspectRatio:aspectRatio});if(size){while(top){sw="stroke-width"in top.attrs?top.attrs["stroke-width"]:1;top.attr({"stroke-width":sw});top._.dirty=1;top._.dirtyT=1;top=top.prev}}this._viewBox=[x,y,w,h,!!fit];return this};R.prototype.detachPaper=function(){if(this._detached!==false){this.container.removeChild(this.canvas);this._detached=true}};R.prototype.attachPaper=function(){if(this._detached){this.container.appendChild(this.canvas);this._detached=false}};R.prototype.renderfix=function(){var cnvs=this.canvas,s=cnvs.style,pos;try{pos=cnvs.getScreenCTM()||cnvs.createSVGMatrix()}catch(e){pos=cnvs.createSVGMatrix()}var left=-pos.e%1,top=-pos.f%1;if(left||top){if(left){this._left=(this._left+left)%1;s.left=this._left+pxStr}if(top){this._top=(this._top+top)%1;s.top=this._top+pxStr}}};R.prototype._desc=function(txt){var desc=this.desc;if(!desc){this.desc=desc=$("desc");this.canvas.appendChild(desc)}else{while(desc.firstChild){desc.removeChild(desc.firstChild)}}desc.appendChild(R._g.doc.createTextNode(R.is(txt,typeStringSTR)?txt:"Created with Red RaphaÃ«l "+R.version))};R.prototype.clear=function(){var c;eve("raphael.clear",this);while(c=this.bottom){c.remove()}c=this.canvas;while(c.firstChild){c.removeChild(c.firstChild)}this.bottom=this.top=null;c.appendChild(this.desc=$("desc"));c.appendChild(this.defs=$("defs"))};R.prototype.remove=function(){var i;eve("raphael.remove",this);while(i=this.bottom){i.remove()}this.defs&&this.defs.parentNode.removeChild(this.defs);this.desc&&this.desc.parentNode.removeChild(this.desc);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(i in this){this[i]=_typeof(this[i])===fnStr?R._removedFactory(i):null}this.removed=true};R.prototype.setHTMLClassName=function(){}}};var _raphael=__webpack_require__(121)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function json2json(input){var out={data:{}};if(!input){return out}if(typeof input==="string"){try{out.data=JSON.parse(input)}catch(err){out.error=err}}else{out.data=input}return out}function getJSONData(){return this.getChartData("json")}function setJSONData(data){this.setChartData(data,"json")}function wrapper(FusionCharts){FusionCharts&&(FusionCharts.prototype.setJSONData=setJSONData);FusionCharts&&(FusionCharts.prototype.getJSONData=getJSONData);return{format:"json",toJSON:json2json,fromJSON:json2json}}exports["default"]={extension:wrapper,name:"JSON",type:"transcoder",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _schedular=__webpack_require__(129);var _schedular2=_interopRequireDefault(_schedular);var _redraphaelCss=__webpack_require__(145);var _redraphaelCss2=_interopRequireDefault(_redraphaelCss);var _redraphael=__webpack_require__(146);var _redraphael2=_interopRequireDefault(_redraphael);var _redraphael3=__webpack_require__(147);var _redraphael4=_interopRequireDefault(_redraphael3);var _redraphael5=__webpack_require__(148);var _redraphael6=_interopRequireDefault(_redraphael5);var _redraphaelHtml=__webpack_require__(149);var _redraphaelHtml2=_interopRequireDefault(_redraphaelHtml);var _redraphael7=__webpack_require__(150);var _redraphael8=_interopRequireDefault(_redraphael7);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var OneInaframeOption={oneInAFrame:true};exports["default"]={extension:function extension(FusionCharts){var Raphael=FusionCharts.getDep("redraphael","plugin"),blankObject={};Raphael.fn._elementFromEvent=function(event){if(!event||this.removed){return null}var element=event.srcElement||event.target||(event=event.originalEvent)&&(event.srcElement||event.target)||blankObject;element.nodeName==="tspan"&&(element=element.parentNode);return this.getById(element.raphaelid)};Raphael.requestAnimFrame=_schedular2["default"].addJob&&function(callback){_schedular2["default"].addJob(callback,_schedular.priorityList.animation,OneInaframeOption)};Raphael.instantRequestAnimFrame=_schedular2["default"].addJob&&function(callback){_schedular2["default"].addJob(callback,_schedular.priorityList.instant)};(0,_redraphael8["default"])(Raphael);(0,_redraphaelCss2["default"])(Raphael);(0,_redraphael2["default"])(Raphael);(0,_redraphael4["default"])(Raphael);(0,_redraphael6["default"])(Raphael);(0,_redraphaelHtml2["default"])(Raphael)},name:"redraphaelExt",type:"plugin",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports["default"]=function(R){var UNDEF,eve=R.eve,g=R._g,paperproto=R.fn,elproto=R.el,separator=/[, ]+/,E="",S=" ",cssStyleRegEx=/\B([A-Z]{1})/g,TITLE_STR="fusioncharts-raphael-stylesheet",StyleSheet,sheetproto;StyleSheet=function StyleSheet(ns){this.styleSheet=E;this.rules={};this.ns=ns||E};sheetproto=StyleSheet.prototype;sheetproto.getSheet=function(){var node=this.node;this.styleSheet=sheetproto.getStyleSheet(TITLE_STR);if(!this.styleSheet){node=this.node=g.doc.createElement("style");node.setAttribute("id",R.format("raphael-stylesheet-{0}",R._oid++));node.setAttribute("type","text/css");node.setAttribute("title",TITLE_STR);(g.doc.head||g.doc.getElementsByTagName("head")[0]).appendChild(this.node);this.styleSheet=sheetproto.getStyleSheet(TITLE_STR)}return this.styleSheet};sheetproto.getStyleSheet=function(title){var styleSheets=g.doc.styleSheets,len=styleSheets.length,sheet;while(len--){sheet=styleSheets[len];if(sheet.title===title){return sheet}}};sheetproto.applyCSSRule=function(selector,rule){var styleSheet=this.styleSheet,rules,len;if(!styleSheet){if(selector&&rule){styleSheet=this.getSheet()}else{return}}rules=styleSheet.rules||styleSheet.cssRules||{};len=rules.length||0;if(styleSheet.insertRule){styleSheet.insertRule(selector+"{"+rule+"}",len)}else if(styleSheet.addRule){styleSheet.addRule(selector,rule,len)}};sheetproto.removeCSS=function(selector){var styleSheet=this.styleSheet,rules=styleSheet.rules||styleSheet.cssRules||{},len=rules.length||0,rule;selector=selector||this.ns;while(len--){rule=rules[len];if(new RegExp(selector).test(rule.selectorText)){if(styleSheet.removeRule){styleSheet.removeRule(len)}else{styleSheet.deleteRule(len)}}}};sheetproto.destroy=function(){this.removeCSS();delete this.node;delete this.styleSheet;delete this.ns;delete this.rules};sheetproto.clear=function(){this.removeCSS();this.rules={}};sheetproto.add=function(selector,styles,compressed){var prop,css=E,s=this.rules[selector]||(this.rules[selector]={}),indent=compressed?E:"\t",keyseparator=compressed?":":": ";for(prop in styles){(s[prop]=styles[prop])&&(css+=indent+prop.replace(cssStyleRegEx,"-$1").toLowerCase()+keyseparator+s[prop]+";")}this.applyCSSRule(selector,css)};sheetproto.render=function(){this.setCssText()};sheetproto.setCssText=function(compressed){var indent=compressed?E:"\t",keyseparator=compressed?":":": ",css=E,selector=E,rule,prop;for(rule in this.rules){css=E;selector=rule.replace(/(^|\,)/g,"$1"+this.ns+S);rule=this.rules[rule];for(prop in rule){rule[prop]&&(css+=indent+prop.replace(cssStyleRegEx,"-$1").toLowerCase()+keyseparator+rule[prop]+";")}this.applyCSSRule(selector,css)}};eve.on("raphael.new",function(){this._stylesheet=this._stylesheet||new StyleSheet;this.cssNamespace(E)});eve.on("raphael.remove",function(){this._stylesheet&&this._stylesheet.destroy();delete this._stylesheet});paperproto.cssNamespace=function(ns){if(arguments.length){this._stylesheet.ns=R.format("{0}#raphael-paper-{1}",ns&&ns+S||E,this.id)}return this._stylesheet.ns};paperproto.cssAddRule=function(selector,styles){if(arguments.length===1&&(typeof selector==="undefined"?"undefined":_typeof(selector))==="object"){for(var prop in selector){this.cssAddRule(prop,selector[prop])}return this}return this._stylesheet.add(selector,styles),this};paperproto.cssRender=function(){return R.svg&&this._stylesheet.render(),this};paperproto.cssClear=function(){return this._stylesheet.clear(),this};R.ca["class"]=function(value){var o=this,node=o.node,paper=o.paper,selector="."+value,className,universalClassName="fusioncharts-div",styleRules=paper._stylesheet&&paper._stylesheet.rules,target=o.parent,attrs=o.attrs,cssObj={},rule,targetClass,i;if(R.svg){value=value||E;node.setAttribute("class",o.type==="group"&&o._id?"raphael-group-"+o.id+"-"+o._id+S+value:value)}else if(R.vml){className=node.className=o.type==="group"?value&&o._id+S+value||o._id:"rvml "+value;node.className=className?className+" "+universalClassName:universalClassName;if(selector&&styleRules){rule=styleRules[selector];for(i in rule){i==="color"&&o.type==="text"&&(i="fill");!attrs[i]&&(cssObj[i]=rule[i])}while(target&&target.attr){if(targetClass=target.attr("class")){selector="."+targetClass+S+selector;rule=styleRules[selector];for(i in rule){i==="color"&&o.type==="text"&&(i="fill");!attrs[i]&&!cssObj[i]&&(cssObj[i]=rule[i])}}target=target.parent}o.css(cssObj)}}};elproto.css=function(name,value,doNotTune){var names,params,out,otherkey,doattrs,i,ii;if(this.removed){return this}if(!this.styles){this.styles={}}if(value===UNDEF&&R.is(name,"string")){names=name.split(separator);out={};for(i=0,ii=names.length;i<ii;i++){name=names[i];if(name in this.styles){out[name]=this.styles[name]}}return ii-1?out:out[names[0]]}if(value===UNDEF&&R.is(name,"array")){out={};for(i=0,ii=name.length;i<ii;i++){out[name[i]]=this.styles(name[i])}return out}if(value!==UNDEF){params={};params[name]=value}else if(name&&R.is(name,"object")){params=name}doattrs={};for(i in params){otherkey=i.replace(/\B([A-Z]{1})/g,"-$1").toLowerCase();if(R._availableAttrs.hasOwnProperty(otherkey)||otherkey==="color"){otherkey==="color"&&this.type==="text"&&(otherkey="fill");doattrs[otherkey]=params[i];doattrs.dirty=true;continue}eve("raphael.css."+otherkey+"."+this.id,this,params[i],otherkey);this.node.style[otherkey]=params[i];this.styles[otherkey]=params[i]}for(i=0,ii=this.followers.length;i<ii;i++){this.followers[i].el.attr(params)}if(doattrs.hasOwnProperty("dirty")){delete doattrs.dirty;doNotTune&&(doattrs["_do-not-tune"]=true);this.attr(doattrs)}return this};elproto.removeCSS=function(params){var element=this,param,i,len;!params&&(params=_lib.appliedCSS);if(this.removed){return this}if(R.is(params,"string")){params=params.split(",")}if(R.is(params,"array")){len=params.length;for(i=0;i<len;i++){param=params[i].replace(/\B([A-Z]{1})/g,"-$1").toLowerCase();element.node.removeAttribute(param);element.node.style[param]=""}}return this}};var _lib=__webpack_require__(118)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports["default"]=function(R){var win=window,UNDEF,math=Math,mathSqrt=math.sqrt,toFloat=win.parseFloat,toInt=win.parseInt,EMP="",SPC=" ",NONE="none",ROUND="round",STROKE_WIDTH="stroke-width",DROP_SHADOW="drop-shadow",BLACK="rgba(0,0,0,1)",hasSVGFilters=win.SVGFilterElement||win.SVGFEColorMatrixElement&&win.SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE===2,forbiddenAttrs={"drop-shadow":"drop-shadow",stroke:"stroke",fill:"fill","stroke-width":"stroke-width","stroke-opacity":"stroke-opacity","stroke-linecap":"stroke-linecap","stroke-linejoin":"stroke-linejoin","shape-rendering":"shape-rendering",opacity:"opacity","fill-opacity":"fill-opacity"},supervisor;if(R.svg){if(hasSVGFilters){R.filterShadow=function(dependencyObj,hasGroup){var dx=dependencyObj.dx||1,dy=dependencyObj.dy||1,spread=dependencyObj.spread||3,color=dependencyObj.color||"rgb(64,64,64)",filterDefs,children,paper=dependencyObj.paper,cache=paper.cacheShadows||(paper.cacheShadows={}),hash=dependencyObj.id||DROP_SHADOW+"-"+(hasGroup?"layered":"non-layered")+"-"+[dx,dy,spread,color].join(SPC),id=dependencyObj.id||R.getElementID(hash.replace(/[\(\)\s%:,\xb0#]/g,"_")),hasShadowDef=!!(dependencyObj.id?R._g.doc.getElementById(id):cache[hash]),opacity,shadow;if(paper&&!hasShadowDef){color=R.color(color);if(color.error){color=R.color(BLACK)}opacity=(0,_lib.pluck)(color.opacity,1);opacity=dependencyObj.opacity||opacity;filterDefs=paper.addDefs({filter:{tagName:"filter",id:id,width:"200%",height:"200%",children:[{tagName:"feOffset",result:"offOut","in":"SourceGraphic",dx:toFloat(dx),dy:toFloat(dy)},{tagName:"feColorMatrix",result:"matrixOut","in":"offOut",type:"matrix",values:"0 0 0 0 0"+" 0 0 0 0 0"+" 0 0 0 0 0"+" 0 0 0 "+opacity+" 0"},{tagName:"feGaussianBlur",result:"blurOut","in":"matrixOut",stdDeviation:hasGroup?1:mathSqrt(toFloat(spread))},{tagName:"feComposite","in":"SourceGraphic",in2:"blurOut",operator:"over"}]}});children=filterDefs.filter.children;shadow=cache[hash]={use:1,hash:hash,id:id,filter:filterDefs.filter.element,offset:children[0].element,matrix:children[1].element,blur:children[2].element,blend:children[3].element}}else{shadow=cache[hash];shadow.use+=1}return shadow};R.el.dropshadow=function(dx,dy,spread,color,opacity,group){var o=this,elem,node,shadow=o._.shadowFilter,paper=o.paper,cache=paper.cacheShadows||(paper.cacheShadows={}),hash=DROP_SHADOW+[dx,dy,spread,color].join(SPC),prop,tempOpacity,strokeOpacity,shadowCreated,i,el;strokeOpacity=tempOpacity=opacity*.05;for(i=1;i<=3;i++){strokeOpacity+=tempOpacity*i*(opacity-strokeOpacity)}elem=group?o.shadowElem||o.clone({fill:NONE,stroke:"rgb(51, 51, 51)","stroke-width":o.attr("stroke-width")||1,opacity:strokeOpacity},group).translate(dx,dy).follow(o,supervisor,!group&&"before"):o;node=elem.shadowElem&&elem.shadowElem.node||elem.node;if(dx===NONE){if(shadow){shadow.use-=1;node.removeAttribute("filter");o.shadowElem&&o.shadowElem.attr("opacity",0);if(!shadow.use){hash=shadow.hash;for(prop in shadow){el=shadow[prop];if(el.parentNode){el.parentNode.removeChild(el)}delete shadow[prop]}el=null;delete cache[hash]}shadow=null;delete o._.shadowFilter}}else{group&&!o.shadowElem&&(shadowCreated=true);group&&(o.shadowElem=elem);if(!(shadow&&cache[hash])){shadow=o._.shadowFilter=R.filterShadow({paper:paper,dx:dx,dy:dy,spread:spread,color:color,opacity:!group&&strokeOpacity},!!group)}else{shadow=cache[hash]}!shadowCreated&&o.shadowElem&&o.shadowElem.attr("opacity",strokeOpacity);node.setAttribute("filter",'url("'+R._url+"#"+shadow.id+'")')}return this}}supervisor=function supervisor(params,leader){var o=this,del={},matrix,key;for(key in params){if(forbiddenAttrs[key]){del[key]=params[key];delete params[key]}switch(key){case"transform":matrix=leader.matrix.clone();matrix.translate(o.__shadowx,o.__shadowy);o.transform(matrix.toTransformString());break;case STROKE_WIDTH:params[key]=del[key]||1;break}}o.attr(params);for(key in del){params[key]=del[key]}};R.ca[DROP_SHADOW]=function(offX,offY,spread,color,scale,group){var o=this,shadows=o._.shadows||(o._.shadows=[]),opacity,shadow,offset,matrix,tScale,strScale,i;if(o.__shadowblocked){return false}else if(offX===NONE){while(shadow=shadows.pop()){shadow.remove()}}else{color=R.color(color);if(color.error){color=R.color(BLACK)}if(scale instanceof Array){tScale=scale[0];strScale=scale[1]}else{tScale=strScale=scale}tScale=1/(0,_lib.pluck)(tScale,1);strScale=1/(0,_lib.pluck)(strScale,1);offX=(0,_lib.pluck)(offX,1)*tScale;offY=(0,_lib.pluck)(offY,1)*tScale;opacity=(0,_lib.pluck)(color.opacity,1)*.05;offset=toInt(o.attr(STROKE_WIDTH)||1,10)+6;matrix=o.matrix.clone();matrix.translate(offX,offY);for(i=1;i<=3;i++){shadow=(shadows[i-1]||o.clone().follow(o,supervisor,!group&&"before")).attr({stroke:color.hex,"stroke-opacity":opacity*i,opacity:"1","stroke-width":(offset-2*i)*strScale,transform:matrix.toTransformString(),"stroke-linecap":ROUND,"stroke-linejoin":ROUND,fill:NONE});shadow.__shadowlevel=i;shadow.__shadowscale=strScale;shadow.__shadowx=offX;shadow.__shadowy=offY;group&&group.appendChild(shadow);shadows.push(shadow)}}return false};R.el.shadow=function(apply,opacity,scale,group){var useFilter;if(scale&&scale.constructor===R.el.constructor){group=scale;scale=undefined}if((typeof apply==="undefined"?"undefined":_typeof(apply))==="object"){opacity&&opacity.constructor===R.el.constructor&&(group=opacity);opacity=apply.opacity;scale=apply.scalefactor;useFilter=apply.useFilter!==undefined?!!apply.useFilter:!_lib.isIE9;apply=apply.apply===undefined?!!opacity:apply.apply}opacity===undefined&&(opacity=1);if(this.dropshadow){if(useFilter&&!this.ca.hasOwnProperty("drop-shadow")){apply&&this.dropshadow(1,1,3,"rgb(64,64,64)",opacity,group)||this.dropshadow(NONE);return this}else if(this._.shadowFilter){this.dropshadow(NONE)}}return this.attr(DROP_SHADOW,apply?[1,1,3,"rgba(64,64,64,"+opacity+")",scale,group]:NONE)}}else if(R.vml){R.ca["drop-shadow"]=function(offX,offY,spread,color,scale,group){var o=this,shadow=o._.shadow,style,filter,tScale,opacity;if(o.isShadow){return false}if(offX===NONE){shadow&&(shadow=o._.shadow=shadow.remove())}else{if(!shadow){shadow=o._.shadow=o.clone();group&&group.appendChild(shadow.follow(o))||shadow.follow(o,UNDEF,"before");shadow.attr({fill:"none","fill-opacity":.5,"stroke-opacity":1}).isShadow=true;if(shadow.attr(STROKE_WIDTH)<=0){shadow.attr(STROKE_WIDTH,1)}}style=shadow.node.runtimeStyle;filter=style.filter.replace(/ progid:\S+Blur\([^\)]+\)/g,EMP);color=R.color(color);if(color.error){color=R.color(BLACK)}opacity=(0,_lib.pluck)(color.opacity,1)/5;if(scale instanceof Array){tScale=scale[0]}else{tScale=scale}tScale=1/(0,_lib.pluck)(scale,1);offX=(0,_lib.pluck)(offX,1)*tScale;offY=(0,_lib.pluck)(offY,1)*tScale;shadow.translate(offX,offY);style.filter=filter+" progid:DXImageTransform.Microsoft.Blur(pixelRadius="+toFloat(spread*.4)+" makeShadow=True Color="+color.hex+' shadowOpacity="'+opacity+'");'}return false};R.el.shadow=function(apply,opacity,scale,group){var o=this;if(scale&&scale.constructor===R.el.constructor){group=scale;scale=UNDEF}if((typeof apply==="undefined"?"undefined":_typeof(apply))==="object"){opacity&&opacity.type==="group"&&(group=opacity);opacity=apply.opacity;scale=apply.scalefactor;apply=apply.apply===UNDEF?!!opacity:apply.apply}opacity===UNDEF&&(opacity=1);return o.attr(DROP_SHADOW,apply||!opacity?[1,1,5,"rgba(64,64,64,"+opacity+")",scale,group]:NONE)}}else if(R.canvas){R.el.shadow=function(){return this}}};var _lib=__webpack_require__(118)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports["default"]=function(R){var zeroAlphaCheck=/rgba\([\d]+\,[\d]+\,[\d]+\,0\)$/;var win=window,userAgent=win.navigator.userAgent,UNDEF,hasTouch="createTouch"in win.document,isIE=/msie/i.test(userAgent)&&!win.opera,math=Math,mathCos=math.cos,mathSin=math.sin,mathAbs=math.abs,mathMin=math.min,mathPI=math.PI,toInt=win.parseInt,toFloat=win.parseFloat,toStr=String,arraySlice=Array.prototype.slice,HAS="hasOwnProperty",OBJECT="object",BLANK="",COMMA=",",NONE="none",CRISP="crisp",FILL="fill",WIDTH="width",HEIGHT="height",M="M",L="L",A="A",Z="Z",RStr="r",POLYPATH="polypath",TEXTBOUND="text-bound",FLAT="flat",TRANSPARENT="transparent",HORIZONTAL="horizontal",VERTICAL="vertical",SCROLL_RATIO="scroll-ratio",SCROLL_POSITION="scroll-position",SCROLL_ORIENTATION="scroll-orientation",SCROLL_REPAINT="scroll-repaint",SCROLL_DISPLAY_STYLE="scroll-display-style",SCROLL_DISPLAY_BUTTONS="scroll-display-buttons",EVE_SCROLLSTART="raphael.scroll.start.",EVE_SCROLLCHANGE="raphael.scroll.change.",EVE_SCROLLEND="raphael.scroll.end.",TRACKER_FILL="rgba(192,192,192,"+(isIE?.002:1e-6)+")",eve=R.eve,commaseparator=/\s*\,\s*/g;if(R&&R._availableAnimAttrs&&R._availableAnimAttrs.cx){R._availableAnimAttrs["scroll-position"]=R._availableAnimAttrs.cx}R.define&&R.define([{name:"polypath",polypath:function polypath(){return this.path(UNDEF,R._lastArgIfGroup(arguments))},ca:{polypath:function polypath(sides,cx,cy,r,startAngle,dip){var path,inangle,i,angle,h;path=[];sides=toInt(sides,10)||0;cx=toFloat(cx)||0;cy=toFloat(cy)||0;r=toFloat(r)||0;startAngle=startAngle===null||isNaN(startAngle)?mathPI*.5:R.rad(startAngle);dip=dip===null||isNaN(dip)?0:toFloat(dip);angle=startAngle;if(sides>2){inangle=2*mathPI/sides;switch(dip){case 0:for(i=0;i<sides;i++){path.push(L,cx+r*mathCos(-angle),cy+r*mathSin(-angle));angle+=inangle}path[0]=M;path.push(Z);break;case 1:for(i=0;i<sides;i++){path.push(M,cx,cy,L,cx+r*mathCos(-angle),cy+r*mathSin(-angle));angle+=inangle}break;default:inangle*=.5;h=r*mathCos(inangle)*(1-dip);for(i=0;i<sides;i++){path.push(L,cx+r*mathCos(-angle),cy+r*mathSin(-angle));angle+=inangle;path.push(L,cx+h*mathCos(-angle),cy+h*mathSin(-angle));angle+=inangle}path[0]=M;path.push(Z);break}}else{if(r===0){path.push(M,cx,cy,L,cx,cy,Z)}else{path.push(M,cx-r,cy,A,r,r,0,0,0,cx+r,cy,A,r,r,0,0,0,cx-r,cy,Z)}}return{path:path}},r:function r(value){var o=this,attr=o.attrs.polypath;attr[3]=value;o.attr(POLYPATH,attr);return false}}},{name:"scroller",scroller:function scroller(x,y,w,h,horiz,options,parent){if((typeof x==="undefined"?"undefined":_typeof(x))==="object"&&x.scroller){var _x$scroller=x.scroller;x=_x$scroller[0];y=_x$scroller[1];w=_x$scroller[2];h=_x$scroller[3];horiz=_x$scroller[4];options=_x$scroller[5];parent=_x$scroller[6]}var paper=this,o=paper.group("scroller",parent),attrs=o.attrs,scroller=o._.scroller={},orientation,_trackAnim,_anchorAnimAttr={},_dragstart,_dragaxis,a;orientation=horiz&&HORIZONTAL||VERTICAL;scroller.track=paper.rect(o).mousedown(function(evt){var orientation=attrs[SCROLL_ORIENTATION],pos=attrs[SCROLL_POSITION],dx,nodeDimension=(0,_lib.extend2)({},scroller.anchor.node.getBoundingClientRect()),clientDiff;nodeDimension.y=nodeDimension.y||nodeDimension.top;nodeDimension.x=nodeDimension.x||nodeDimension.left;nodeDimension.height=nodeDimension.height||nodeDimension.bottom-nodeDimension.top;nodeDimension.width=nodeDimension.width||nodeDimension.right-nodeDimension.left;if(orientation!==HORIZONTAL){clientDiff=evt.y-(nodeDimension.y+nodeDimension.height/2)}else{clientDiff=evt.x-(nodeDimension.x+nodeDimension.width/2)}dx=clientDiff/scroller.trackLength;dx=pos+dx;if(dx>1){dx=1}else if(dx<0||isNaN(dx)){dx=0}_trackAnim=R.animation({"scroll-position":dx},2e3*mathAbs(pos-dx),"easeIn");o.animate(_trackAnim);eve(EVE_SCROLLSTART+o.id,o,pos)}).mouseup(scroller._mouseupTrack=function(){this.stop(_trackAnim);eve(EVE_SCROLLEND+this.id,this,attrs[SCROLL_POSITION])},o,true);scroller.anchor=paper.rect(o).drag(function(event){_anchorAnimAttr[SCROLL_POSITION]=_dragstart+event.data[_dragaxis]/scroller.trackLength;if(_anchorAnimAttr[SCROLL_POSITION]>=1){_anchorAnimAttr[SCROLL_POSITION]=1}else if(_anchorAnimAttr[SCROLL_POSITION]<=0||isNaN(_anchorAnimAttr[SCROLL_POSITION])){_anchorAnimAttr[SCROLL_POSITION]=0}o.attr(_anchorAnimAttr)},function(event){_dragaxis=attrs[SCROLL_ORIENTATION]===HORIZONTAL?0:1;eve(EVE_SCROLLSTART+o.id,o,_dragstart=attrs[SCROLL_POSITION]);typeof scroller.scrollStart==="function"&&scroller.scrollStart.call(o,_dragstart);event.stopPropagation()},function(){eve(EVE_SCROLLEND+o.id,o,_dragstart=attrs[SCROLL_POSITION]);typeof scroller.scrollEnd==="function"&&scroller.scrollEnd.call(o,_dragstart)});for(a in R.fn.scroller.fn){o[a]=R.fn.scroller.fn[a]}for(a in R.fn.scroller.ca){o.ca[a]=R.fn.scroller.ca[a]}attrs[SCROLL_ORIENTATION]=orientation;attrs["stroke-width"]=1;o.ca[SCROLL_REPAINT]=o.ca["scroll-repaint-"+orientation];!R.is(options,OBJECT)&&(options={});return o.attr({"scroll-display-buttons":options.showButtons&&"arrow"||NONE,"scroll-display-style":options.displayStyleFlat&&FLAT||"3d","scroll-ratio":toFloat(options.scrollRatio)||1,"scroll-position":toFloat(options.scrollPosition)||0,"scroll-repaint":[x,y,w,h]})},fn:{scroll:function scroll(evt){var o=this,scroller=o._.scroller;scroller.callback=evt.scroll;scroller.scrollStart=evt.scrollStart;scroller.scrollEnd=evt.scrollEnd;return o},remove:function remove(){var o=this,scroller=o._.scroller,key;o.attr("scroll-display-buttons",NONE);scroller.track.unmouseup(scroller._mouseupTrack);for(key in scroller){scroller[key]&&scroller[key].remove&&scroller[key].remove();scroller[key]=null}delete o._.scroller;R.el.remove.apply(o,arguments)}},ca:{"stroke-width":function strokeWidth(attr){var o=this,scroller=o._.scroller,strokeWidth=(0,_lib.pluckNumber)(attr["stroke-width"],1);scroller.anchor.attr({"stroke-width":strokeWidth});scroller.track.attr({"stroke-width":strokeWidth});return false},"drop-shadow":function dropShadow(ox,oy,spread,color,s,g){this._.scroller.track.attr("drop-shadow",[ox,oy,spread,color,s,g]);return false},"scroll-display-style":function scrollDisplayStyle(value){var o=this,attrs=o.attrs,currentStyle=attrs[SCROLL_DISPLAY_STYLE],fill=attrs.fill;value={flat:FLAT,"3d":"3d",transparent:TRANSPARENT}[value]||currentStyle;if(fill&&value!==currentStyle){attrs[SCROLL_DISPLAY_STYLE]=value;o.attr(FILL,fill)}return{"scroll-display-style":value}},"scroll-display-buttons":function scrollDisplayButtons(value){var o=this,paper=o.paper,scroller=o._.scroller,attrs=o.attrs,currentDisplayButtons=attrs[SCROLL_DISPLAY_BUTTONS],repaint=attrs[SCROLL_REPAINT],_anim0,_anim1;currentDisplayButtons===UNDEF&&(currentDisplayButtons=NONE);value={none:NONE,arrow:"arrow"}[value]||currentDisplayButtons;if(value!==currentDisplayButtons){attrs[SCROLL_DISPLAY_BUTTONS]=value;if(value===NONE&&scroller.start){scroller.arrowstart.remove();delete scroller.arrowstart;scroller.arrowend.remove();delete scroller.arrowend;scroller.start.unmouseup(scroller._mouseupStart);scroller.start.remove();delete scroller.start;scroller.end.unmouseup(scroller._mouseupEnd);scroller.end.remove();delete scroller.end}else{scroller.arrowstart=paper.polypath(o);scroller.arrowend=paper.polypath(o);scroller.start=paper.rect(o).mousedown(function(){var pos,finalTriggered,initialTriggered,initialScrollEndFn=function initialScrollEndFn(){initialTriggered=true;finalTriggered&&scroller.scrollEnd&&scroller.scrollEnd.call(o,o.attrs[SCROLL_POSITION])},finalScrollEndFn=function finalScrollEndFn(){finalTriggered=true;initialTriggered&&scroller.scrollEnd&&scroller.scrollEnd.call(o,o.attrs[SCROLL_POSITION])};if((pos=attrs[SCROLL_POSITION])===0){return}scroller.scrollStart&&scroller.scrollStart.call(o,o.attrs[SCROLL_POSITION]);o.animate({"scroll-position":pos-.1},100,UNDEF,initialScrollEndFn).animate(_anim0=R.animation({"scroll-position":0},4500*pos,"easeIn",finalScrollEndFn));eve(EVE_SCROLLSTART+o.id,o,pos)}).mouseup(scroller._mouseupStart=function(){o.stop(_anim0,true);eve(EVE_SCROLLEND+o.id,o,attrs[SCROLL_POSITION])},o,true);scroller.end=paper.rect(o).mousedown(function(){var pos,finalTriggered,initialTriggered,initialScrollEndFn=function initialScrollEndFn(){initialTriggered=true;finalTriggered&&scroller.scrollEnd&&scroller.scrollEnd.call(o,o.attrs[SCROLL_POSITION])},finalScrollEndFn=function finalScrollEndFn(){finalTriggered=true;initialTriggered&&scroller.scrollEnd&&scroller.scrollEnd.call(o,o.attrs[SCROLL_POSITION])};if((pos=attrs[SCROLL_POSITION])===1){return}scroller.scrollStart&&scroller.scrollStart.call(o,o.attrs[SCROLL_POSITION]);o.animate({"scroll-position":pos+.1},100,UNDEF,initialScrollEndFn).animate(_anim1=R.animation({"scroll-position":1},4500*(1-pos),"easeIn",finalScrollEndFn));eve(EVE_SCROLLSTART+o.id,o,pos)}).mouseup(scroller._mouseupEnd=function(){o.stop(_anim1,true);eve(EVE_SCROLLEND+o.id,o,attrs[SCROLL_POSITION])},o,true);if(attrs.fill){o.attr(FILL,attrs.fill)}}if(repaint){o.attr(SCROLL_REPAINT,repaint)}}return{"scroll-display-buttons":value}},"scroll-orientation":function scrollOrientation(value){var o=this,attrs=o.attrs,repaint=attrs[SCROLL_REPAINT],currentOrientation=attrs[SCROLL_ORIENTATION];value={horizontal:HORIZONTAL,vertical:VERTICAL}[value]||currentOrientation;if(currentOrientation!==value){o.ca[SCROLL_REPAINT]=o.ca["scroll-repaint-"+value];if(repaint){repaint[2]=repaint[2]+repaint[3];repaint[3]=repaint[2]-repaint[3];repaint[2]=repaint[2]-repaint[3];o.attr(SCROLL_REPAINT,repaint)}if(attrs.fill){o.attr(FILL,attrs.fill)}}return{"scroll-orientation":value}},"scroll-ratio":function scrollRatio(value){var o=this,attrs=o.attrs,currentRatio=attrs[SCROLL_RATIO],repaint=attrs[SCROLL_REPAINT];value=value>1?1:value<.01?.01:toFloat(value);if(repaint&&value!==currentRatio){attrs[SCROLL_RATIO]=value;o.attr(SCROLL_REPAINT,repaint)}return{"scroll-ratio":value}},"scroll-position":function scrollPosition(value,_force){var o=this,attrs=o.attrs,horiz=attrs[SCROLL_ORIENTATION]===HORIZONTAL,repaint=attrs[SCROLL_REPAINT],currentPosition=attrs[SCROLL_POSITION],scroller=o._.scroller,anchor=scroller.anchor,button;value=value>1?1:value<0?0:toFloat(value);isNaN(value)&&(value=currentPosition);if(repaint&&(currentPosition!==value||_force)){button=scroller.start&&scroller.start.attr(horiz&&WIDTH||HEIGHT)||0;horiz&&anchor.attr("x",repaint[0]+button+(repaint[2]-2*button-anchor.attr(WIDTH))*value+.5)||anchor.attr("y",repaint[1]+button+(repaint[3]-2*button-anchor.attr(HEIGHT))*value+.5);if(!_force&&attrs[SCROLL_RATIO]<1){eve(EVE_SCROLLCHANGE+o.id,o,value);scroller.callback&&scroller.callback.call(o,value)}}return{"scroll-position":value}},r:function r(value){var o=this,scroller=o._.scroller;scroller.track.attr("r",value);scroller.anchor.attr("r",o.attrs[SCROLL_DISPLAY_BUTTONS]===NONE&&value||0);return false},"scroll-repaint-horizontal":function scrollRepaintHorizontal(x,y,w,h){var o=this,attrs=o.attrs,scroller=o._.scroller,ratio=attrs[SCROLL_RATIO],position=attrs[SCROLL_POSITION],button=0,track=w*ratio,nobutton=attrs[SCROLL_DISPLAY_BUTTONS]===NONE;w&&(w-=1);x&&(x+=.5);h&&(h-=1);y&&(y+=.5);scroller.track.attr({width:w,height:h,y:y,x:x}).crisp();if(!nobutton){button=mathMin(h,w*.5);track-=button*2*ratio;scroller.start.attr({width:button,height:h,x:x,y:y});scroller.arrowstart.attr(POLYPATH,[3,x+button*.5,y+h*.5,button*.25,180]);scroller.end.attr({width:button,height:h,x:x+w-button,y:y});scroller.arrowend.attr(POLYPATH,[3,x+w-button*.5,y+button*.5,button*.25,0])}scroller.trackLength=w-2*button-track;scroller.trackOffset=x+button+.5;scroller.anchorOffset=scroller.trackOffset+(track-1)*.5;scroller.anchor.attr({height:h<1?1:h,width:track-1<1?1:track-1,y:y,x:scroller.trackOffset+scroller.trackLength*position}).crisp()},"scroll-repaint-vertical":function scrollRepaintVertical(x,y,w,h){var o=this,attrs=o.attrs,scroller=o._.scroller,ratio=attrs[SCROLL_RATIO],position=attrs[SCROLL_POSITION],button=0,track=h*ratio,nobutton=attrs[SCROLL_DISPLAY_BUTTONS]===NONE;w&&(w-=1);x&&(x+=.5);h&&(h-=1);y&&(y+=.5);scroller.track.attr({width:w,height:h,y:y,x:x}).crisp();if(!nobutton){button=mathMin(w,h*.5);track-=button*2*ratio;scroller.start.attr({width:w,height:button,x:x,y:y});scroller.arrowstart.attr(POLYPATH,[3,x+w*.5,y+button*.5,button*.25,90]);scroller.end.attr({width:w,height:button,x:x,y:y+h-button});scroller.arrowend.attr(POLYPATH,[3,x+w*.5,y+h-button*.5,button*.25,-90])}scroller.trackLength=h-2*button-track;scroller.trackOffset=y+button+.5;scroller.anchorOffset=scroller.trackOffset+(track-1)*.5;scroller.anchor.attr({height:track-1<1?1:track-1,width:w<1?1:w,y:scroller.trackOffset+scroller.trackLength*position,x:x}).crisp()},fill:function fill(color){var o=this,attrs=o.attrs,scroller=o._.scroller,repaint=attrs[SCROLL_REPAINT],flat=attrs[SCROLL_DISPLAY_STYLE]===FLAT,horiz=attrs[SCROLL_ORIENTATION]===HORIZONTAL,setter={stroke:NONE},strokeCompensation;if(hasTouch&&repaint&&(strokeCompensation=16-repaint[horiz&&3||2])>3){setter.stroke=TRACKER_FILL;setter["stroke-width"]=strokeCompensation<0?0:strokeCompensation}color=R.color(color);color.error&&(color=R.color("#000000"));color="opacity"in color?"rgba("+[color.r,color.g,color.b,color.opacity]+")":"rgb("+[color.r,color.g,color.b]+")";setter.fill=flat&&color||[90*horiz,R.tintshade(color,.15).rgba,color].join("-");setter.stroke=R.tintshade(color,-.75).rgba;scroller.track.attr(setter);setter.fill=flat&&R.tintshade(color,-.6).rgba||[270*horiz,R.tintshade(color,.3).rgba+":40",R.tintshade(color,-.7).rgba].join("-");setter.stroke=R.tintshade(color,-.6).rgba;scroller.anchor.attr(setter);setter.stroke=NONE;if(attrs[SCROLL_DISPLAY_BUTTONS]!==NONE){setter.fill=TRACKER_FILL;scroller.start.attr(setter);scroller.end.attr(setter);setter.fill=R.tintshade(color,-.4).rgba;scroller.arrowstart.attr(setter);scroller.arrowend.attr(setter)}return false}}}]);R.ca[TEXTBOUND]=function(fill,stroke,strokeWidth,padding,cornerRadius,dasharray,opacity){var o=this,paper=o.paper,bound=o._.textbound;this._origOpacity=opacity!==UNDEF?opacity:1;if(this.type!=="text"){return}if((!stroke||stroke===NONE||zeroAlphaCheck.test(stroke))&&(!fill||fill===NONE||zeroAlphaCheck.test(fill))){o._.textbound=bound&&bound.unfollow(o).remove();return false}o.attrs[TEXTBOUND]=arguments;(!strokeWidth||!R.is(strokeWidth,"finite"))&&(strokeWidth=0);(!cornerRadius||!R.is(cornerRadius,"finite"))&&(cornerRadius=0);!bound&&(bound=o._.textbound=paper.rect(0,0,0,0,o.group).follow(o,R.ca[TEXTBOUND].reposition,"before"));bound.attr({stroke:stroke||NONE,"stroke-width":strokeWidth,fill:fill||NONE,"shape-rendering":strokeWidth===1&&CRISP||BLANK,r:cornerRadius});opacity!==UNDEF&&bound.attr("opacity",opacity);dasharray&&bound.attr("stroke-dasharray",dasharray);R.ca[TEXTBOUND].reposition.call(bound,o.attr(),o);return false};R.ca[TEXTBOUND].reposition=function(params,leader){var o=this,updates={},attr,textBoundAttr,padding,padX,padY,bbox,opacity,w,h;if(params[HAS]("visibility")){o.attr("visibility",params.visibility)}if(!(params[HAS](TEXTBOUND)||params[HAS]("x")||params[HAS]("y")||params[HAS]("text")||params[HAS]("text-anchor")||params[HAS]("text-align")||params[HAS]("font-size")||params[HAS]("line-height")||params[HAS]("vertical-align")||params[HAS]("transform")||params[HAS]("rotation")||params[HAS]("opacity"))){return}attr=leader.attrs;textBoundAttr=attr[TEXTBOUND];padding=toStr(textBoundAttr&&textBoundAttr[3]||"0").split(commaseparator);padX=toFloat(padding[0])||0;padY=(0,_lib.pluck)(toFloat(padding[1]),padX);bbox=leader.getBBox();w=bbox.width;h=bbox.height;o._origOpacity===UNDEF&&(o._origOpacity=1);opacity=toFloat(params.opacity||attr.opacity);updates.opacity=isNaN(opacity)?o._origOpacity:o._origOpacity*opacity;if(!isNaN(w)){updates.x=bbox.x-padX;updates.y=bbox.y-padY;updates.width=Math.max(w+padX*2,0);updates.height=Math.max(h+padY*2,0)}o.attr(updates)};R.fn.symbol=function(){var paper=this,args=arguments,lastArg=args.length-1,group=args[lastArg],o;group&&group.constructor===R.el.constructor?args[lastArg]=UNDEF:group=UNDEF;o=paper.path(UNDEF,group);o.ca.symbol=R.fn.symbol.ca.symbol;return args.length===!!group+0?o:o.attr("symbol",args)};R.fn.getSuggestiveRotation=function(){var arg,angle,x,y;arg=arguments[0];if(arguments.length===1){angle=arg.angle;x=arg.x;y=arg.y}else{angle=arg;x=arguments[1];y=arguments[2]}angle=angle||0;return RStr+angle+COMMA+x+COMMA+y};R.fn.symbol.cache={"":R._cacher(function(x,y,r,h){return arguments.length>3?["M",x,y,"h",r,"v",h,"h",-r,"v",-h,"z"]:["M",x-r,y-r,"h",r*=2,"v",r,"h",-r,"v",-r,"z"]})};R.fn.symbol.ca={symbol:function symbol(name){var o=this,args=R.is(name,OBJECT)&&arguments.length===1&&!R.is(name,"function")?name:arguments,symbolFn,symbolData;args===name&&(name=args[0]);symbolFn=R.is(name,"function")&&name||R.fn.symbol.cache[name]||R.fn.symbol.cache[""];symbolData=symbolFn&&symbolFn.apply(R,arraySlice.call(args,1));R.is(symbolData,"array")||R.is(symbolData,"string")?o.attr("path",symbolData):symbolData&&o.attr(symbolData)}};R.addSymbol=function(name,fn){var items,cache=R.fn.symbol.cache,alias=[],i;items=R.is(fn,"function")&&(items={},items[name]=fn,items)||name;for(i in items){fn=items[i];cache[i]=R.is(fn,"function")&&R._cacher(fn,R)||(alias.push(i),fn)}i=alias.pop();while(i){cache[i]=cache[cache[i]];i=alias.pop()}}};var _lib=__webpack_require__(118)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports["default"]=function(R){var UNDEF=void 0,TILE="tile",FILL="fill",FIT="fit",POSITION_TOP="top",POSITION_MIDDLE="middle",POSITION_BOTTOM="bottom",POSITION_LEFT="left",POSITION_RIGHT="right",onError=function onError(o){return function(){o.hide();for(var i=0,len=o._.gridElem&&o._.gridElem.length;i<len;i++){o._.gridElem[i].remove()}o._.gridElem=[];o._attr({src:o._._src});setTimeout(function(){o.show()},100)}},gridDraw=function gridDraw(o,image,applySrc){return function(){var imageAttr=getImageAttr(o._.imageGridAttr,image),xRepeatCount=1,yRepeatCount=1,yCount=1,gridElem=void 0,counter=void 0,imgY=void 0;if(imageAttr.tileInfo){xRepeatCount=imageAttr.tileInfo.xCount;yRepeatCount=yCount=imageAttr.tileInfo.yCount;imgY=imageAttr.y;delete imageAttr.tileInfo}if(o._.gridElem){for(counter=0;counter<o._.gridElem.length;counter++){o._.gridElem[counter].remove()}o._.gridElem.length=0}counter=0;while(xRepeatCount&&imageAttr.width&&imageAttr.height){yCount--;if(counter===0){o.attr(applySrc?Object.assign(imageAttr,{applysrc:o._._src}):imageAttr)}else{gridElem=o.clone().attr({x:imageAttr.x,y:imageAttr.y});o._.gridElem.push(gridElem.follow(o,UNDEF,"after"))}imageAttr.y+=imageAttr.height;if(yCount===0){yCount=yRepeatCount;xRepeatCount--;imageAttr.x+=imageAttr.width;imageAttr.y=imgY}counter++}}},getImageAttr=function getImageAttr(attrs,refImage){var alignImage=void 0;if(attrs){var displayMode=attrs.displayMode,vAlign=attrs.vAlign,hAlign=attrs.hAlign,scale=attrs.scale,canvasBorderWidth=attrs.canvasBorderWidth,canvasWidth=attrs.canvasWidth,canvasHeight=attrs.canvasHeight,imageWidth=refImage.width*(scale/100),imageHeight=refImage.height*(scale/100),cWidth=canvasWidth-canvasBorderWidth*2,cHeight=canvasHeight-canvasBorderWidth*2;alignImage=(0,_imageAlignment.getAlignImage)(vAlign,hAlign,displayMode,imageWidth,imageHeight,canvasWidth,canvasHeight,canvasBorderWidth,cWidth,cHeight)}return alignImage||{x:0,y:0,width:refImage.width,height:refImage.height}};R.define&&R.define([{name:"imagegrid",imagegrid:function imagegrid(){var paper=this,image=void 0,o=void 0,args=arguments,lastArg=args.length-1,group=args[lastArg];group&&group.constructor===R.el.constructor?args[lastArg]=UNDEF:group=UNDEF;image=new Image;o=paper.image(group);o._.gridElem=[];o._.refImage=image;o._attr=o.attr;o.attr=function(name,value){var isArray=Array.isArray(name),isObject=!isArray&&(typeof name==="undefined"?"undefined":_typeof(name))==="object",isString=typeof name==="string";if(isArray){name=name[0];isObject=(typeof name==="undefined"?"undefined":_typeof(name))==="object"}if(isObject){var attrs=Object.assign({},name),src=attrs&&attrs.src,applySrc=attrs&&attrs.applysrc;delete attrs.src;delete attrs.applysrc;src&&delete o._._src;o._attr(attrs);src&&o._attr({_src:src});applySrc&&o._attr({src:applySrc})}else if(name===UNDEF&&value===UNDEF){return this.attrs}else if(value===UNDEF){return this.attrs[name]}else if(isString&&value){if(name==="src"){o._attr({_src:value})}else if(name==="applysrc"){o._attr({src:value})}else{o._attr({name:value})}}return this};image.onload=gridDraw(o,image,true);image.onerror=onError(o);return o},ca:{imagegrid:function imagegrid(displayMode,vAlign,hAlign){var scale=arguments.length>3&&arguments[3]!==undefined?arguments[3]:100;var canvasBorderWidth=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var canvasWidth=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var canvasHeight=arguments.length>6&&arguments[6]!==undefined?arguments[6]:0;var o=this;if(displayMode===TILE||displayMode===FILL||displayMode===FIT){if(vAlign!==POSITION_TOP&&vAlign!==POSITION_MIDDLE&&vAlign!==POSITION_BOTTOM){vAlign=POSITION_MIDDLE}if(hAlign!==POSITION_LEFT&&hAlign!==POSITION_MIDDLE&&hAlign!==POSITION_RIGHT){hAlign=POSITION_MIDDLE}}else{if(vAlign!==POSITION_TOP&&vAlign!==POSITION_MIDDLE&&vAlign!==POSITION_BOTTOM){vAlign=POSITION_TOP}if(hAlign!==POSITION_LEFT&&hAlign!==POSITION_MIDDLE&&hAlign!==POSITION_RIGHT){hAlign=POSITION_LEFT}}o._.imageGridAttr={displayMode:displayMode,vAlign:vAlign,hAlign:hAlign,scale:scale,canvasBorderWidth:canvasBorderWidth,canvasWidth:canvasWidth,canvasHeight:canvasHeight};this._._src&&gridDraw(o,o._.refImage)()},_src:function _src(value){this._.refImage.src=value;this._._src=value;return{_src:value}}}}])};var _imageAlignment=__webpack_require__(123)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports["default"]=function(R){var UNDEF,win=window,doc=win.document,isIE=/msie/i.test(win.navigator.userAgent)&&!win.opera,isVML=R.type==="VML",NONE="none",ABSOLUTE="absolute",BLANK="",PX="px",proto,styleAttrMap={cursor:"cursor"},styleAttrNumericMap={x:"left",y:"top",strokeWidth:"borderThickness","stroke-width":"borderThickness",width:"width",height:"height"},styleAttrColorMap={fill:"backgroundColor",stroke:"borderColor",color:"color"},defaultElementStyle={left:0,top:0,padding:0,border:NONE,margin:0,outline:NONE,"-webkit-apperance":NONE,position:ABSOLUTE,zIndex:20},hashify=function hashify(color){return color&&color.replace(/^#?([a-f0-9]+)/gi,"#$1")||NONE},garbageBin,createElement=function createElement(tagName,attributes,css,parentElement){var elem=doc.createElement(tagName),x;for(x in attributes){if(styleAttrNumericMap[x]){elem.style[x]=attributes[x]}else{elem.setAttribute(x,attributes[x])}}for(x in css){elem.style[x]=css[x]}parentElement&&parentElement.appendChild&&parentElement.appendChild(elem);return elem},discardElement=function discardElement(element){if(!garbageBin){garbageBin=createElement("div")}if(element){garbageBin.appendChild(element)}garbageBin.innerHTML=""},_attr=function _attr(elem,prop,value){var key,ret;if(typeof prop==="string"){if(value!==UNDEF&&value!==null){elem.setAttribute(prop,value)}else if(elem&&elem.getAttribute){ret=elem.getAttribute(prop)}}else if(prop!==UNDEF&&prop!==null&&(typeof prop==="undefined"?"undefined":_typeof(prop))==="object"){for(key in prop){elem.setAttribute(key,prop[key])}}return ret},_HTMLElement;_HTMLElement=function HTMLElement(node,group,attrs){var wrapper=this;if(group&&group instanceof _HTMLElement){group=group.element}wrapper.element=createElement(node,attrs,defaultElementStyle,group);wrapper.nodeName=node.toLowerCase();wrapper.added=Boolean(group);wrapper.attrs={}};proto=_HTMLElement.prototype={attr:function attr(hash){var wrapper=this,element=wrapper.element,restore={},key,val,value,skipAttr,state,optionArr,optionString,i,len,ele;if((typeof hash==="undefined"?"undefined":_typeof(hash))!=="object"){return wrapper[hash]!==UNDEF?wrapper[hash]:_attr(element,hash)}for(key in hash){value=hash[key];if(styleAttrMap[key]){switch(key){case"cursor":if(value==="pointer"&&isVML){value="hand"}break}element.style[styleAttrMap[key]]=value;skipAttr=true}else if(styleAttrNumericMap[key]){element.style[styleAttrNumericMap[key]]=value+PX;skipAttr=true}else if(styleAttrColorMap[key]){element.style[styleAttrColorMap[key]]=hashify(value);skipAttr=true}else if(/^visibility$/i.test(key)){state=value==="hidden";element.style.display=state?"none":"";wrapper.hidden=state;skipAttr=true}else if(/^opacity$/i.test(key)){element.style.opacity=value;if(isIE){val=Number(value)*100;element.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+val+")"}skipAttr=true}else if(/^innerhtml$/i.test(key)){if(isVML&&element.nodeName.toLowerCase()=="select"){optionArr=value.match(/<option\s?[\s\S]*?(\/>|><\/option>|>[\s\S]*?<\/option>)/gi);while(element.firstChild){element.removeChild(element.firstChild)}for(i=0,len=optionArr.length;i<len;i+=1){optionString=optionArr[i];ele=doc.createElement("option");if(/<option\s([\s\S]*[\'\"])\s*?(\/>|>[\s\S]*<\/option>)/gi.test(optionString)){ele.value=optionString.replace(/<option\s([\s\S]*[\'\"])\s*?(\/>|>[\s\S]*<\/option>)/gi,"$1").replace(/[\s\S]*value\s*\=\s*[\'\"]([\s\S]*)[\'\"]/,"$1")}ele.text=optionString.replace(/<option\s*[\s\S]*[\'\"]?\s*?[\/>|\>]([\s\S]*)<\/option>/gi,"$1 ");element.options.add(ele)}}else{element.nodeName.toLowerCase()!=="input"&&value!==UNDEF&&(element.innerHTML=value||BLANK)}skipAttr=true}else if(/^text$/i.test(key)){if(element.nodeName.toLowerCase()!=="input"){element.innerHTML="";value!==UNDEF&&element.appendChild(doc.createTextNode(value))}skipAttr=true}else if(/^type$/i.test(key)&&isIE&&wrapper.added){skipAttr=true}if(skipAttr){restore[key]=value;delete hash[key];skipAttr=false}}for(key in hash){element.setAttribute(key,hash[key])}for(key in restore){wrapper[key]=wrapper.attrs[key]=hash[key]=restore[key];delete restore[key]}return this},val:function val(set){var wrapper=this,element=wrapper.element,getter=set===UNDEF;if(wrapper.nodeName==="input"&&element.getAttribute("type")==="checkbox"){return getter?wrapper.checked()?1:0:wrapper.checked(set)}else if(wrapper.nodeName==="select"){var childNodes=element.childNodes,selectedIndex=element.selectedIndex,len=childNodes.length;if(set===""){return}if(!getter){for(var i=0;i<len;i++){if(childNodes[i].value===set){element.selectedIndex=i;return childNodes[i].value}}}_lib.isIE9&&(selectedIndex=0);return getter?childNodes[selectedIndex].value:(childNodes[len-1].value=set,element.selectedIndex=len-1,wrapper)}return getter?element.value:(element.value=set,wrapper)},checked:function checked(set){var wrapper=this,element=wrapper.element;return set===UNDEF?element.checked:(set?element.setAttribute("checked","checked"):element.removeAttribute("checked"),wrapper)},css:function css(hash,val){var wrapper=this,element=wrapper.element,styleObj=element.style,key;if((typeof hash==="undefined"?"undefined":_typeof(hash))==="object"){for(key in hash){styleObj[key]=hash[key]}}else if(key){if(val!==UNDEF){styleObj[key]=val}}return wrapper},translate:function translate(x,y){var wrapper=this,element=wrapper.element;if(x!==UNDEF){element.style.left=x+PX}if(y!==UNDEF){element.style.top=y+PX}return wrapper},add:function add(group,prepend){var wrapper=this,element=this.element,parent=group.element;if(prepend){parent.insertBefore(element,parent.firstChild)}else{parent.appendChild(element)}wrapper.added=true;return wrapper},hide:function hide(){this.element.style.display="none";return this},show:function show(){this.element.style.display="";return this},isVisible:function isVisible(){return this.element.style.display!=="none"},focus:function focus(){if(typeof this.element.focus==="function"){this.element.focus()}else{_domEvent2["default"].fire(this.element,"focus")}},destroy:function destroy(){var wrapper=this,element=wrapper.element||{};element.onclick=element.onmouseout=element.onmouseover=element.onmousemove=element.onblur=element.onfocus=null;element=discardElement(element);delete wrapper.element;return null},on:isVML?function(eventType,handler){var wrapper=this;wrapper.element["on"+eventType]=function(){var evt=win.event;evt.target=evt.srcElement;handler(evt)};return wrapper}:function(eventType,handler){var fn=handler,wrapper=this;if(_lib.hasTouch&&eventType==="click"){eventType="touchstart";fn=function fn(e){e.preventDefault();handler()}}wrapper.element["on"+eventType]=fn;return wrapper},bind:function bind(event,handler,data){_domEvent2["default"].listen(this.element,event,handler,data);return this},unbind:function unbind(event,handler){_domEvent2["default"].unlisten(this.element,event,handler);return this},trigger:function trigger(event,eventObj){_domEvent2["default"].fire(this.element,event,eventObj);return this}};proto.remove=proto.destroy;proto.constructor=_HTMLElement;R.fn.html=function(node,attrs,css,group){var rootAttr={},wrapper,prop;if(attrs&&"type"in attrs){rootAttr.type=attrs.type;delete attrs.type}wrapper=new _HTMLElement(node,group,rootAttr).css(css).attr(attrs);for(prop in rootAttr){attrs[prop]=rootAttr[prop]}wrapper.ca=function(){return false};wrapper.appendTo=function(container){if(container&&container instanceof _HTMLElement){container=container.element}container.appendChild(this.element)};wrapper.animateWith=R.el.animateWith;return wrapper}};var _domEvent=__webpack_require__(120);var _domEvent2=_interopRequireDefault(_domEvent);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(R){var BLANK="",regStore=[{reg:/xmlns\=\"http\:\/\/www.w3.org\/2000\/svg\"/gi,repStr:""},{reg:/^.*<svg /,repStr:'<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" '},{reg:/\/svg>.*$/,repStr:"/svg>"},{reg:/<desc\>[^<]*<\/desc\>/,repStr:BLANK},{reg:/zIndex="[^"]+"/g,repStr:BLANK},{reg:/url\((\\?[\'\"])[^#]+#/g,repStr:"url($1#"},{reg:/ href=/g,repStr:" xlink:href="},{reg:/(id|class|width|height)=([^" >]+)/g,repStr:'$1="$2"'},{reg:/:(path|rect)/g,repStr:"$1"},{reg:/<ima?ge? ([^\>]+?[^\/])\>/gi,repStr:"<image $1 />"},{reg:/<\/ima?ge?\>/g,repStr:BLANK},{reg:/style="([^"]+)"/g,repStr:function repStr(s){return s.toLowerCase()}}],getStyleString=function getStyleString(obj){var styleString=JSON.stringify(obj);styleString=styleString.replace(/([a-z]+)([A-Z]+)([a-z]+)/g,function(match,p1,p2,p3){return p1+"-"+p2.toLowerCase()+p3});styleString=styleString.replace(/\"\,\"/g,'";"');styleString=styleString.replace(/\"/g," ");styleString=styleString=styleString.replace(/\{|\}/g,"");return styleString},injectStyleToSvg=function injectStyleToSvg(svg,rules){var data,classSplit,classes,styleString,clsName,cls,replceClassReg,replaceSvgStyles=function replaceSvgStyles(match){if(match.match(/style\s*=/)){match=match.replace(/(style\s*=")([^"]+)/g,function(match,p1,p2){return p1+styleString+p2})}else{match=match.replace(/class\s*="[^"]*"/i,function(match){return match+' style="'+styleString+'" '})}return match};for(data in rules){if(rules.hasOwnProperty(data)){classSplit=/\s+/;classes=data.split(classSplit);styleString=getStyleString(rules[data]);for(cls in classes){if(classes.hasOwnProperty(cls)){clsName=classes[cls].trim().replace(".","");replceClassReg=new RegExp("<[^>]+("+clsName+")[^>]+","g");svg=svg.replace(replceClassReg,replaceSvgStyles)}}}}return svg};if(R.svg){R.fn.toSVG=function(keepImages){var paper=this,svg=BLANK,regObj,i=0,ln=regStore.length;if(paper.canvas&&paper.canvas.parentNode){svg=paper.canvas.parentNode.innerHTML;for(;i<ln;i+=1){regObj=regStore[i];svg=svg.replace(regObj.reg,regObj.repStr)}if(paper._stylesheet&&paper._stylesheet.rules){svg=injectStyleToSvg(svg,paper._stylesheet.rules)}}if(!keepImages){svg=svg.replace(/<image[^\>]*\>/gi,function(str){if(str.match(/href=\"data\:image/i)){return str}return BLANK})}return svg}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports._mouseEvtHandler=undefined;var _lib=__webpack_require__(118);var _eventApi=__webpack_require__(124);var _chartmessage=__webpack_require__(152);var _chartmessage2=_interopRequireDefault(_chartmessage);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _animationManager=__webpack_require__(153);var _animationManager2=_interopRequireDefault(_animationManager);var _dependencyManager=__webpack_require__(125);var _eimethodList=__webpack_require__(154);var _eimethodList2=_interopRequireDefault(_eimethodList);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var MOUSEOUT="mouseout",DEFAULT_CREDITLABEL=_lib.creditLabel,addEiMethods=function addEiMethods(chartInstance,eiMethods){var methodName=void 0;for(methodName in eiMethods){if(eiMethods.hasOwnProperty(methodName)){chartInstance[methodName]=eiMethods[methodName]}}},getEIList=function getEIList(type){var specific=_eimethodList2["default"][type]||[];return specific.concat(_eimethodList2["default"]["*"])},_mouseEvtHandler2=function _mouseEvtHandler2(iapi,e,data){var mouseTracker=data.mouseTracker,oriEvent=e.originalEvent,chartConfig=iapi.config,datasets=chartConfig.datasetOrder||iapi.getDatasets(),coordinate,chartX,chartY,dataset,hoveredInfo,pointFound=false,i=datasets.length,j,l,derivedEvensInfo,_lastDatasetIndex=mouseTracker._lastDatasetIndex,_lastPointIndex=mouseTracker._lastPointIndex;coordinate=(0,_lib.getMouseCoordinate)(iapi.getFromEnv("chart-container"),oriEvent,iapi);chartX=coordinate.chartX;chartY=coordinate.chartY;while(i--&&!pointFound){dataset=datasets[i];if(dataset&&dataset.getState("visible")){hoveredInfo=dataset._getHoveredPlot&&dataset._getHoveredPlot(chartX,chartY);if(hoveredInfo&&hoveredInfo.hovered){pointFound=true;hoveredInfo.datasetIndex=i;derivedEvensInfo=mouseTracker.getMouseEvents(e,hoveredInfo.datasetIndex,hoveredInfo.pointIndex)}}}if((!pointFound||derivedEvensInfo&&derivedEvensInfo.fireOut)&&typeof _lastDatasetIndex!=="undefined"){if(datasets[_lastDatasetIndex]&&datasets[_lastDatasetIndex]._firePlotEvent){if(derivedEvensInfo&&!derivedEvensInfo.events.length){mouseTracker.mouseoutTimer=setTimeout(function(){iapi.mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex)},20)}else{iapi.mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex)}}}if(pointFound){l=derivedEvensInfo.events&&derivedEvensInfo.events.length;if(l){mouseTracker._lastDatasetIndex=hoveredInfo.datasetIndex;_lastPointIndex=mouseTracker._lastPointIndex=hoveredInfo.pointIndex}for(j=0;j<l;j+=1){if(dataset&&dataset._firePlotEvent){dataset&&dataset._firePlotEvent&&dataset._firePlotEvent(derivedEvensInfo.events[j],_lastPointIndex,e,hoveredInfo.datasetIndex)}}}};var BaseChart=function(_ComponentInterface){_inherits(BaseChart,_ComponentInterface);function BaseChart(){_classCallCheck(this,BaseChart);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}BaseChart.getName=function getName(){return"base"};BaseChart.prototype.setDummyEImethods=function setDummyEImethods(type){var iapi=this,config=iapi.config,_eiStore=config._eiStore||(config._eiStore={}),methods=getEIList(type),chartInstance=iapi.getFromEnv("chartInstance"),fnGenerator=function fnGenerator(fn){return function(){!_eiStore[fn]&&(_eiStore[fn]=[]);_eiStore[fn].push(arguments)}};methods.forEach(function(method){!chartInstance[method]&&(chartInstance[method]=fnGenerator(method))});chartInstance.addEventListener("renderComplete",function(){var _loop=function _loop(fn){_eiStore[fn].forEach(function(fnCalls){chartInstance[fn].apply(chartInstance,fnCalls)})};for(var fn in _eiStore){_loop(fn)}config._eiStore={}})};BaseChart.getType=function getType(){return"chartAPI"};BaseChart.prototype.mouseoutHandler=function mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex){var chart=this,datasets=chart.config.datasetOrder||chart.getDatasets(),mouseTracker=chart.getChildren("mouseTracker")[0];datasets[_lastDatasetIndex]._firePlotEvent(MOUSEOUT,_lastPointIndex,e);delete mouseTracker._lastDatasetIndex;delete mouseTracker._lastPointIndex};BaseChart.prototype.getName=function getName(){return"base"};BaseChart.prototype.getType=function getType(){return"chartAPI"};BaseChart.prototype._mouseEvtHandler=function _mouseEvtHandler(e,data){_mouseEvtHandler2(this,e,data)};BaseChart.prototype.getComponents=function getComponents(parentComp,type){var comp=parentComp||this,datasets=[];comp.iterateComponents(function(component){if(component.getType()===type){datasets.push(component)}});return datasets};BaseChart.prototype.getDatasets=function getDatasets(parentComp){var comp=parentComp||this,datasets=[];comp.iterateComponents(function(component){if(component.getType()==="dataset"){datasets.push(component)}});return datasets};BaseChart.prototype.preConfigure=function preConfigure(dataObj){_ComponentInterface.prototype.preConfigure.call(this,dataObj);addEiMethods(this.getFromEnv("chartInstance"),this.eiMethods)};BaseChart.prototype.configureAttributes=function configureAttributes(dataObj){_ComponentInterface.prototype.configureAttributes.call(this,dataObj);this.createBaseComponent()};BaseChart.prototype.createBaseComponent=function createBaseComponent(){var iapi=this,animationManager=void 0;if(animationManager=iapi.getFromEnv("animationManager")){animationManager.configure()}else{animationManager=new _animationManager2["default"];iapi.addToEnv("animationManager",animationManager);animationManager.addToEnv("chart",iapi);animationManager.addToEnv("animationManager",animationManager);animationManager.configure();iapi.addExtEventListener("animationComplete",function(e,o){if(o.currAnimState==="initial"||o.currAnimState==="update"){iapi.fireChartInstanceEvent("internal.animationComplete")}},animationManager)}};BaseChart.prototype.setChartMessage=function setChartMessage(message,chartObj,container){var iapi=this,paper,Raphael,chartMessage;(0,_lib.componentFactory)(this,_chartmessage2["default"],"chartMessage");chartMessage=iapi.getChildren("chartMessage")[0];if(container){iapi.addToEnv("chart-container",container)}else{container=iapi.getFromEnv("chart-container")}paper=iapi.getFromEnv("paper");if(!paper){Raphael=(0,_dependencyManager.getDep)("redraphael","plugin");paper=new Raphael(container,iapi.getFromEnv("chartWidth"),iapi.getFromEnv("chartHeight"));paper.setHTMLClassName("fusioncharts-div");iapi.addToEnv("paper",paper)}paper.setConfig("stroke-linecap",_lib.ROUND);!iapi.getChildContainer("messageGroup")&&iapi.addChildContainer("messageGroup",paper.group("messageGroup"));iapi.config.hasChartMessage=true;chartMessage.setChartMessage(message,chartObj)};BaseChart.prototype.drawChartMessage=function drawChartMessage(){var iapi=this;iapi.config.hasChartMessage=true;iapi.getChildren("chartMessage")[0].drawChartMessage();iapi._drawCreditLabel()};BaseChart.prototype._dispose=function _dispose(){this._clearTimers&&this._clearTimers();var paper=this.getFromEnv("paper");paper&&paper.remove&&paper.remove();_ComponentInterface.prototype._dispose.call(this)};BaseChart.prototype.fireChartInstanceEvent=function fireChartInstanceEvent(name,data,originalEvent,defaultFn,cancelledFn){var chartInstance=this.getFromEnv("chartInstance");(0,_eventApi.triggerEvent)(name,chartInstance,data,originalEvent,defaultFn,cancelledFn)};BaseChart.prototype._hideChartMessage=function _hideChartMessage(){var iapi=this,chartMessage=iapi.getChildren("chartMessage");iapi.config.hasChartMessage=false;chartMessage&&chartMessage[0]._hideChartMessage();iapi.getGraphicalElement("messageText")&&iapi.getGraphicalElement("messageText").hide();iapi.getGraphicalElement("messageVeil")&&iapi.getGraphicalElement("messageVeil").hide()};BaseChart.prototype._removeWaitingJobs=function _removeWaitingJobs(){this.iterateComponents(function(comp){return comp.removeAllJobs()})};BaseChart.prototype._drawCreditLabel=function _drawCreditLabel(){var iapi=this,coreOptions=iapi.getFromEnv("core-options"),paper=iapi.getFromEnv("paper"),globalCreditLabel=coreOptions.creditLabel,chartCreditLabel=iapi.getFromEnv("chartInstance").args.creditLabel,hasCreditLabel,chartHeight=+iapi.getFromEnv("chartHeight"),creditLabelElemCheck=iapi.getGraphicalElement("creditLabel"),creditLabelElem,creditGroup,parentGroup=iapi.getContainer("parentgroup"),attr,css,credits={href:_lib.CREDIT_HREF,text:_lib.CREDIT_STRING};hasCreditLabel=(0,_lib.pluck)(chartCreditLabel,globalCreditLabel,DEFAULT_CREDITLABEL);if(hasCreditLabel){creditGroup=iapi.getContainer("creditgroup")||iapi.addContainer("creditgroup",paper.group("creditgroup"));parentGroup&&creditGroup.insertAfter(parentGroup);attr={text:credits.text,x:6,y:chartHeight-4,"vertical-align":_lib.POSITION_BOTTOM,"text-anchor":_lib.POSITION_START,fill:"rgba(0,0,0,0.5)",title:credits.title||_lib.BLANK};css={fontSize:9,fontFamily:"Verdana,sans",cursor:_lib.POINTER,_cursor:_lib.HAND};if(!creditLabelElemCheck){creditLabelElem=paper.text(attr,css,creditGroup);iapi.addGraphicalElement("creditLabel",creditLabelElem);creditLabelElem.click(function(){try{open(credits.href)}catch(err){(top||window).location.href=credits.href}})}else{creditLabelElemCheck.attr(attr).css(css)}}else if(creditLabelElem&&creditLabelElem.remove){iapi.removeGraphicalElement("creditLabel")}};BaseChart.prototype._hideModal=function _hideModal(){this.getChildContainer("messageGroup").hide()};BaseChart.prototype.remove=function remove(config){var animationManager=this.getFromEnv("animationManager");_ComponentInterface.prototype.remove.call(this,config);animationManager&&animationManager.remove(config)};return BaseChart}(_componentInterface2["default"]);BaseChart.stringConstants={BACKGROUNDLOADED:"BackgroundLoaded",BACKGROUNDLOADERROR:"BackgroundLoadError",clipRectStr:"clip-rect"};exports._mouseEvtHandler=_mouseEvtHandler2;exports["default"]=BaseChart},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var BACKGROUNDLOADERROR="backgroundloaderror",BACKGROUNDLOADED="backgroundloaded",UNDEF=void 0,POINTER="pointer",NONE=_lib.preDefStr.noneStr,attachLink=function attachLink(element,link){element.click(function(){try{open(link)}catch(err){(top||window).location.href=link}});element.css({cursor:POINTER,_cursor:POINTER})};var ChartMessage=function(_ComponentInterface){_inherits(ChartMessage,_ComponentInterface);function ChartMessage(){_classCallCheck(this,ChartMessage);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}ChartMessage.prototype.getName=function getName(){return"chartMessage"};ChartMessage.prototype._drawBackground=function _drawBackground(imageString){var imageAttr=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var chartMessage=this,config=chartMessage.config,paper=chartMessage.getFromEnv("paper"),chart=chartMessage.getFromEnv("chart"),backgroundElement=chartMessage.getGraphicalElement("backgroundElement"),backgroundImage,attrObj,chartConfig,bgImageAttr,prevBackGroundImg=chartMessage.getGraphicalElement("backgroundImage"),chartWidth=chartMessage.getFromEnv("chartWidth"),chartHeight=chartMessage.getFromEnv("chartHeight"),backgroundGroup=chartMessage.getLinkedParent().getChildContainer("messageGroup").show(),bgSWFAlpha=(0,_lib.pluckNumber)(imageAttr.imageAlpha,100),imgClipRect=0+_lib.COMMA+0+_lib.COMMA+chartWidth+_lib.COMMA+chartHeight,bgImageVAlign=(0,_lib.getValidValue)(imageAttr.imageVAlign,_lib.BLANKSTRING).toLowerCase(),bgImageHAlign=(0,_lib.pluck)(imageAttr.imageHAlign,_lib.BLANKSTRING).toLowerCase(),bgImageScale=(0,_lib.pluckNumber)(imageAttr.imageScale,100),chartInstance=chartMessage.getFromEnv("chartInstance"),link=config.messageURL,containerBackgroundColor=(0,_lib.getContainerBackgroundColor)(chartInstance);paper.canvas.style.backgroundColor=containerBackgroundColor;if(bgImageVAlign!==_lib.POSITION_TOP&&bgImageVAlign!==_lib.POSITION_MIDDLE&&bgImageVAlign!==_lib.POSITION_BOTTOM){bgImageVAlign=_lib.POSITION_TOP}if(bgImageHAlign!==_lib.POSITION_LEFT&&bgImageHAlign!==_lib.POSITION_MIDDLE&&bgImageHAlign!==_lib.POSITION_RIGHT){bgImageHAlign=_lib.POSITION_LEFT}attrObj={x:0,y:0,width:chartWidth,height:chartHeight,stroke:NONE};if(!backgroundElement){backgroundElement=paper.rect(backgroundGroup);chartMessage.addGraphicalElement("backgroundElement",backgroundElement)}backgroundElement.attr(attrObj);if(backgroundElement&&link){attachLink(backgroundElement,link)}config.bgImageVAlign=bgImageVAlign;config.bgImageHAlign=bgImageHAlign;config.bgImageScale=bgImageScale;config.bgSWFAlpha=bgSWFAlpha;config.imgClipRect=imgClipRect;if(imageString){if(!(backgroundImage=prevBackGroundImg)){backgroundImage=chartMessage.getFromEnv("paper").image(backgroundGroup);chartMessage.addGraphicalElement("backgroundImage",backgroundImage);backgroundImage.attr({src:imageString});backgroundImage.on("load",function(){if(!backgroundImage||backgroundImage&&backgroundImage.removed){return}var referenceImage=backgroundImage._.RefImg;chartConfig=chartMessage.getFromEnv("chartConfig");if(!config.isImage||chartConfig!==UNDEF&&!chartConfig.hasChartMessage){return}bgImageAttr=(0,_lib.setImageDisplayMode)(NONE,config.bgImageVAlign,config.bgImageHAlign,config.bgImageScale,0,chartMessage.getFromEnv("chartWidth"),chartMessage.getFromEnv("chartHeight"),referenceImage);(0,_lib.extend2)(bgImageAttr,{opacity:config.bgSWFAlpha*.01,visibility:"visible","clip-rect":config.imgClipRect});backgroundImage.attr(bgImageAttr).show();if(backgroundImage&&link){attachLink(backgroundImage,link)}chart.fireChartInstanceEvent(BACKGROUNDLOADED,{url:imageString,bgImageAlpha:config.bgSWFAlpha*100,bgImageDisplayMode:NONE,bgImageVAlign:config.bgImageVAlign,bgImageHAlign:config.bgImageHAlign,bgImageScale:config.bgImageScale,imageWidth:referenceImage.width,imageHeight:referenceImage.height})});backgroundImage.on("error",function(e){if(backgroundImage.removed){return}chart.fireChartInstanceEvent(BACKGROUNDLOADERROR,{url:imageString,bgImageAlpha:config.bgSWFAlpha*100,error:e,bgImageDisplayMode:NONE,bgImageVAlign:config.bgImageVAlign,bgImageHAlign:config.bgImageHAlign,bgImageScale:config.bgImageScale},chartInstance)})}else{backgroundImage.attr({src:imageString})}}};ChartMessage.prototype.setChartMessage=function setChartMessage(message,chartObj){var chartMessage=this,chartInstance=chartMessage.getFromEnv("chartInstance"),options=chartInstance.options,args=chartInstance.args,config=chartMessage.config,height,width,attr,smartText,style,smartLabel=chartMessage.getFromEnv("smartLabel"),strObj=(0,_lib.getImageURL)(typeof message!=="undefined"?message:options.dataEmptyMessage),chartWidth=chartMessage.getFromEnv("chartWidth"),chartHeight=chartMessage.getFromEnv("chartHeight");width=config.width=Number(chartWidth);height=config.height=Number(chartHeight);if(strObj.image){attr=strObj.string;if(!chartObj){style={imageHAlign:(0,_lib.pluck)(args.dataEmptyMessageImageHAlign,options.baseChartMessageImageHAlign).toLowerCase(),imageVAlign:(0,_lib.pluck)(args.dataEmptyMessageImageVAlign,options.baseChartMessageImageVAlign).toLowerCase(),imageAlpha:(0,_lib.pluckNumber)(args.dataEmptyMessageImageAlpha,options.baseChartMessageImageAlpha),imageScale:(0,_lib.pluckNumber)(args.dataEmptyMessageImageScale,options.baseChartMessageImageScale)}}else{style={imageHAlign:(0,_lib.pluck)(chartObj._chartMessageImageStyle.imageHAlign,options.baseChartMessageImageHAlign).toLowerCase(),imageVAlign:(0,_lib.pluck)(chartObj._chartMessageImageStyle.imageVAlign,options.baseChartMessageImageVAlign).toLowerCase(),imageAlpha:(0,_lib.pluckNumber)(chartObj._chartMessageImageStyle.imageAlpha,options.baseChartMessageImageAlpha),imageScale:(0,_lib.pluckNumber)(chartObj._chartMessageImageStyle.imageScale,options.baseChartMessageImageScale)}}config.chartMessageType="image"}else{if(!chartObj){style={"font-family":args.dataEmptyMessageFont||options.baseChartMessageFont,"font-size":args.dataEmptyMessageFontSize||options.baseChartMessageFontSize,fill:args.dataEmptyMessageColor||options.baseChartMessageColor}}else{style={"font-family":chartObj._chartMessageStyle.fontFamily||options.baseChartMessageFont,"font-size":chartObj._chartMessageStyle.fontSize||options.baseChartMessageFontSize,fill:chartObj._chartMessageStyle.color||options.baseChartMessageColor}}smartLabel.setStyle(style);smartText=smartLabel.getSmartText((0,_lib.parseUnsafeString)(strObj.string),width,height);attr={text:smartText.text,x:width/2,y:height/2};config.chartMessageType="text"}config.messageURL=options.messageURL;config.chartMessageAttr=attr;config.chartMessageStyle=style};ChartMessage.prototype.drawChartMessage=function drawChartMessage(){var chartMessage=this,config=chartMessage.config,paper=chartMessage.getFromEnv("paper"),message,messageGroup,graphics,isImage=config.isImage=config.chartMessageType==="image",link=config.messageURL,attr=isImage?config.chartMessageAttr:(0,_lib.extend2)(config.chartMessageAttr,config.chartMessageStyle);message=chartMessage.getGraphicalElement("messageText");graphics=chartMessage._graphics;messageGroup=chartMessage.getLinkedParent().getChildContainer("messageGroup").show();if(isImage){chartMessage._drawBackground(config.chartMessageAttr,config.chartMessageStyle)}else if(!message&&config.chartMessageType==="text"){message=chartMessage.addGraphicalElement("messageText",paper.text(attr,messageGroup))}else{graphics.message=message.attr(attr);message.show()}if((message||graphics.message)&&link){attachLink(message||graphics.message,link)}chartMessage._hideOtherMessage(isImage)};ChartMessage.prototype._hideOtherMessage=function _hideOtherMessage(isImage){var chartMessage=this,backgroundImage,message,backgroundElement;if(isImage){message=chartMessage.getGraphicalElement("messageText");message&&message.hide()}else{backgroundImage=chartMessage.getGraphicalElement("backgroundImage");backgroundElement=chartMessage.getGraphicalElement("backgroundElement");backgroundImage&&backgroundImage.hide();backgroundElement&&backgroundElement.hide()}};ChartMessage.prototype._hideChartMessage=function _hideChartMessage(){this._hideOtherMessage(true);this._hideOtherMessage()};ChartMessage.prototype.getType=function getType(){return"chartMessage"};return ChartMessage}(_componentInterface2["default"]);exports["default"]=ChartMessage},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _lib=__webpack_require__(118);var _schedular=__webpack_require__(129);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _dependencyManager=__webpack_require__(125);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,isIE8=!_lib.hasSVG,OBJECT="object",CHART="chart",GROUP="group",HTML="html",TEXT="text",PAPER="paper",DISAPPEARING="disappearing",APPEARING="appearing",STRING="string",UPDATING="updating",FUNCTION="function",LINEAR="linear",CHARTSPECIFIC="chartSpecific",GLOBAL="global",DEFAULT="default",STARSTRING="*",durationList={initial:1,update:0,realTimeUpdate:0,resize:0,dispose:0,legendInteraction:0,scroll:0,mouseOut:0,mouseOver:0,"default":0,slicing:.25},rulePriorityList=[DEFAULT,GLOBAL,CHARTSPECIFIC],animMap={fadeIn:{opacity:{start:0,end:1}},fadeOut:{opacity:{start:1,end:0}}},callbackMap={fadeIn:function fadeIn(){this&&this.show()},fadeOut:function fadeOut(){this&&this.hide()}},isNull=function isNull(v){return v===null},getRegisteredThemes=function getRegisteredThemes(addedThemes){var themes={},theme=void 0;for(var key in addedThemes){if(addedThemes.hasOwnProperty(key)){theme=addedThemes[key];themes[theme.name]=theme}}return themes},fetchRulesFromTheme=function fetchRulesFromTheme(themes){var themeList=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var themeArr=themeList.split(","),rules=[];themeArr.forEach(function(v){if(themes[v]&&themes[v].animation){rules.push(themes[v].animation)}});return rules},shiftAnimTime=function shiftAnimTime(paramsConfig,duration,shiftTime){var config=Object.assign({},paramsConfig),shiftRatio=shiftTime/duration,MAX_SHIFT=.2,diff;if(shiftRatio>MAX_SHIFT){shiftRatio=MAX_SHIFT}diff=config.end-config.start;config.start*=1-shiftRatio;config.start+=shiftRatio;config.end=config.start+(1-shiftRatio)*diff;config.start=Math.round(config.start*100)/100;config.end=Math.round(config.end*100)/100;return config},_applyAnim=function _applyAnim(ob,type,applyCallback){var attrs=animMap[type],key="",origCallback,origAttr={};if(!attrs||!ob||!ob.el||!ob.el[0]){return}for(key in attrs){origAttr[key]=ob.el.attrs[key];if(origAttr[key]===UNDEF){origAttr[key]=null}ob.attrs[key]=attrs[key].end;ob.el.attr(key,attrs[key].start)}origCallback=ob.callback;ob.callback=function callback(){applyCallback&&callbackMap[type]&&callbackMap[type].call(this);origCallback&&origCallback.call&&origCallback.call(this);this.attr(origAttr)}},applyType=function applyType(ob,type){var i,delimeter="-",applyCallback=true;if(!type){return}ob.attrs=ob.attrs||{};type=type.split(delimeter);if(~type.indexOf("nc")){applyCallback=false}for(i=type.length;i--;){_applyAnim(ob,type[i],applyCallback)}return ob},animateEl=function animateEl(el,attrs,callback,animConfig,dummyObj,animObj,animationDuration,effect){el.animateWith(dummyObj,animObj,attrs,animationDuration,effect,callback,animConfig)},execPreAnimFns=function execPreAnimFns(arr){var i=0,ii=arr.length;for(i=0;i<ii;++i){arr[i].fn&&arr[i].fn.call(arr[i].el)}},ruleReducer=function ruleReducer(animations){var ob={};for(var definition in animations){if(animations.hasOwnProperty(definition)&&definition!=="__esModule"){var animDef=animations[definition];merge(ob,animDef)}}return ob},merge=function merge(source,sink){for(var def in sink){if(sink.hasOwnProperty(def)){!source[def]&&(source[def]=[]);source[def].push(sink[def])}}},isFunction=function isFunction(arg){return(typeof arg==="undefined"?"undefined":_typeof(arg))===FUNCTION};animMap.fadein=animMap.fadeIn;animMap.fadeout=animMap.fadeOut;var AnimationManager=function(_ComponentInterface){_inherits(AnimationManager,_ComponentInterface);AnimationManager.prototype.getType=function getType(){return"animationManager"};function AnimationManager(){_classCallCheck(this,AnimationManager);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));var animationManager=_this;animationManager._removedGraphics=[];animationManager._animCallBack=function(){if(!animationManager.getState("removed")&&!this.removed){var currAnimState=animationManager.getAnimationState();animationManager._removeElems();animationManager.reset();animationManager.fireEvent("animationComplete",{currAnimState:currAnimState})}};animationManager.startAnimation=function(){animationManager.kickStart();animationManager.animate("draw")};return _this}AnimationManager.prototype.getName=function getName(){return"animationManager"};AnimationManager.prototype.stopAnimation=function stopAnimation(){if(!this.getState("chartAnimating")){return}var animationManager=this,dummyObj,config=animationManager.config,animationObj=config.animationObj,duration=animationObj&&animationObj.duration;if(duration){dummyObj=animationManager.getGraphicalElement().dummyObj;dummyObj&&dummyObj.stop(UNDEF,true,true)}else if(duration===0){animationManager.removeJob("anim-callBack");animationManager._animCallBack()}};AnimationManager.prototype.kickStart=function kickStart(){var animationManager=this,config=animationManager.config,graphics=animationManager.getGraphicalElement(),paper=animationManager.getFromEnv(PAPER),animation=config.animationObj,dummyObj=void 0,animationDuration=void 0,animObj=void 0,animType=config.animationeffect;animationDuration=animation.duration;animation.animObj=animObj=(0,_dependencyManager.getDep)("redraphael","plugin").animation({x:0},animationDuration,animType,animationManager._animCallBack,true);animation.animType=animType;if(!(dummyObj=graphics.dummyObj)){dummyObj=paper.rect({x:100,y:0,width:10,height:30});animationManager.addGraphicalElement("dummyObj",dummyObj);dummyObj.hide()}else{dummyObj.attr({x:100})}animation.dummyObj=graphics.dummyObj;dummyObj.stop(UNDEF,true,true);animationManager.fireEvent("animationStart");animationManager.setState("chartAnimating",true);dummyObj.animate(animObj)};AnimationManager.prototype.setAnimationState=function setAnimationState(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:UNDEF;if(state){this.stopAnimation()}this.config.__state=state;this._setAnimDuration(state)};AnimationManager.prototype.getAnimationState=function getAnimationState(){return this.config&&this.config.__state};AnimationManager.prototype._setAnimDuration=function _setAnimDuration(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:DEFAULT;var animationManager=this,config=animationManager.config,animationObj=config.animationObj||(config.animationObj={}),animationDuration=config.animationDuration||(config.animationDuration={}),chartAttrs=animationManager.getFromEnv(CHART).getFromEnv("chart-attrib")||{},currStateAnimDurationAttr=state+"AnimDuration",killSwitch=config.killSwitch,currStateAnimDuration=killSwitch?0:(animationDuration[currStateAnimDurationAttr]||chartAttrs[currStateAnimDurationAttr.toLowerCase()]||AnimationManager.getFallbackAnimDuration(state))*1e3;if(animationObj){animationObj[currStateAnimDurationAttr]=currStateAnimDuration;animationObj.duration=+currStateAnimDuration}};AnimationManager.prototype.configureAttributes=function configureAttributes(){var animationManager=this,chart=animationManager.getFromEnv(CHART),chartConfig=chart.config,animationManagerConfig=animationManager.config,chartAttrs=chart.getFromEnv("chart-attrib")||{};animationManagerConfig.killSwitch=!(0,_lib.pluckNumber)(chartAttrs.animation,chartConfig.animation,1);animationManagerConfig.animationeffect=chartConfig.animationeffect||"linear";animationManager.invokeAnimationRules();!animationManagerConfig.workingRules&&(animationManagerConfig.workingRules={});!animationManagerConfig.animateArr&&(animationManagerConfig.animateArr=[]);!animationManagerConfig.animationName&&(animationManagerConfig.animationName=[])};AnimationManager.prototype.invokeAnimationRules=function invokeAnimationRules(){var animationManager=this,chart=animationManager.getFromEnv(CHART),chartAttrs=chart.getFromEnv("chart-attrib")||{},chartConfig=chart.config||{},config=animationManager.config,chartInstance=chart.getFromEnv("chartInstance"),chartAnimRule=chartInstance.args.animation,globalTheme=chart.getFromEnv("core-options").defaultTheme,themes=getRegisteredThemes((0,_dependencyManager.getDepsByType)("theme")),global=(chart.getFromEnv("core-options")._globalAnimationRule||[]).concat(fetchRulesFromTheme(themes,globalTheme)),chartSpecific=(chartAnimRule&&[chartAnimRule]||[]).concat(fetchRulesFromTheme(themes,chartConfig.theme)),animationDuration=void 0;config.animationRules={global:ruleReducer(global.map(function(v){return v&&v.rule}).filter(function(v){return v})),chartSpecific:ruleReducer(chartSpecific.map(function(v){return v&&v.rule}).filter(function(v){return v})),"default":ruleReducer((0,_dependencyManager.getDepsByType)("animationRule"))};config.animationDuration=animationDuration={};global.map(function(v){return Object.assign(animationDuration,v.duration)});chartSpecific.map(function(v){return Object.assign(animationDuration,v.duration)});animationDuration.initialAnimDuration=(0,_lib.pluckNumber)(animationDuration.initialAnimDuration,chartAttrs.initialanimduration,chartAttrs.animationduration);animationManager.config.slots=AnimationManager.getFallbackAnimTimeSlots().concat([].concat.apply([],global.map(function(v){return v.slots})).filter(function(v){return v})).concat([].concat.apply([],chartSpecific.map(function(v){return v.slots})).filter(function(v){return v}))};AnimationManager.prototype.reInitialize=function reInitialize(){var animationManager=this,config=animationManager.config,animationObj=config.animationObj,duration=animationObj.duration;animationManager.setState("initialized",true);if(duration){animationManager.addJob("start-animation",animationManager.startAnimation,_schedular.priorityList.animation)}else{animationManager.fireEvent("animationStart");animationManager.setState("chartAnimating",true);animationManager.addJob("anim-callBack",animationManager._animCallBack,_schedular.priorityList.animation)}};AnimationManager.prototype.reset=function reset(){var animationManager=this;animationManager.setState("initialized",false);animationManager.config&&animationManager.config.animateArr&&(animationManager.config.animateArr.length=0);animationManager.setState("chartAnimating",false);animationManager.setAnimationState()};AnimationManager.prototype.registerAnimObj=function registerAnimObj(ob){var key;for(key in ob){this.registerAnimation(ob[key],key)}};AnimationManager.prototype.getFinalSlots=function getFinalSlots(){var animationManager=this,animationManagerConfig=animationManager.config,appliedRules=animationManagerConfig.slots,workingRules=animationManagerConfig.workingRules={},animationName=animationManagerConfig.animationName,_hasAnimation,buildDynamicRules,buildStaticRules,buildWorkingRule;_hasAnimation=function hasAnimation(arr){var retBool=false,objBool,animObj,i,ii,j,jj;if(!arr){return false}for(i=0,ii=arr.length;i<ii;i+=1){animObj=arr[i];if(!Array.isArray(animObj)){objBool=false;if(animationName.indexOf(animObj.name)!==-1){objBool=true}else if(animObj.child){objBool=animObj.hasAnimation=_hasAnimation(animObj.child)}retBool=retBool||objBool;animObj.hasAnimation=objBool}else{for(j=0,jj=arr[i].length;j<jj;j+=1){animObj=arr[i][j];objBool=false;if(animationName.indexOf(animObj.name)!==-1){objBool=true}else if(animObj.child){objBool=animObj.hasAnimation=_hasAnimation(animObj.child)}retBool=retBool||objBool;animObj.hasAnimation=objBool}}}return retBool};buildDynamicRules=function buildDynamicRules(arr,start,end){var animObj,addTime,addTimeCounter,diff,i,ii=arr.length,s=0,durationSum=0,e=start;addTime=0;addTimeCounter=0;for(i=0;i<ii;i+=1){animObj=arr[i];if(!animObj.hasAnimation&&animObj.collapsible!==false){addTime+=animObj.duration}else{addTimeCounter+=1}durationSum+=animObj.duration}addTime/=addTimeCounter;for(i=0;i<ii;i+=1){animObj=arr[i];if(!animObj.hasAnimation){continue}s=e;diff=end-start;e=s+(animObj.duration/durationSum+addTime)*diff;workingRules[animObj.name]={start:s,end:e,effect:animObj.effect,transition:animObj.transition};animObj.child&&buildWorkingRule(animObj.child,s,e)}};buildStaticRules=function buildStaticRules(obj,start,end){var diff,s,e;s=obj.start;e=obj.end;diff=end-start;s=start+s*diff;e=start+e*diff;workingRules[obj.name]={start:s,end:e,effect:obj.effect,transition:obj.transition};obj.child&&buildWorkingRule(obj.child,s,e)};buildWorkingRule=function buildWorkingRule(arr,start,end){var len=arr.length,i,arrItem;for(i=0;i<len;i++){arrItem=arr[i];Array.isArray(arrItem)?buildDynamicRules(arrItem,start,end):buildStaticRules(arrItem,start,end)}};_hasAnimation(appliedRules);buildWorkingRule(appliedRules,0,1);workingRules["default"]={start:0,end:1};return workingRules};AnimationManager.prototype.registerOne=function registerOne(ob,key){this.registerAnimation([{data:[ob]}],key)};AnimationManager.prototype.registerAnimation=function registerAnimation(){var attrObj=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var component=arguments[1];var i,hasData=false,attrObjItem,ln;for(i=0,ln=attrObj.length;i<ln;i+=1){attrObjItem=attrObj[i];if(attrObjItem.data&&attrObjItem.data.length){this.config.animateArr.push((attrObjItem.component=component,attrObjItem));hasData=true}}hasData&&this.config.animationName.push(component);!this.getState("initialized")&&this.reInitialize()};AnimationManager.prototype.onAnimationComplete=function onAnimationComplete(callback){var animationManager=this;animationManager.addEventListener("animationComplete",function(e){callback();e.detachHandler()})};AnimationManager.removeOpacityFromGroup=function removeOpacityFromGroup(el,attr){if(attr&&isIE8&&(el===GROUP||el.type===GROUP)){delete attr.opacity}};AnimationManager.prototype.setAnimation=function setAnimation(){var inputJSON=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var animationManager=this,config=animationManager.config,animationObj=config.animationObj,element=inputJSON.el,componentFinalAttr=inputJSON.attr||{},finalAttr,actualFinalAttr={},actualInitialAttr={},initialAttr,currAttr,attr,callBackFn=function callBackFn(attr,isLastSlot,animatableAttrs,container){return function(){animatableAttrs.callback&&animatableAttrs.callback.call(this);attr&&this.attr(attr);isLastSlot&&inputJSON.callback&&inputJSON.callback.call(this);container&&this.appendTo(container)}},hookFn=function hookFn(attr,animatableAttrs,container){return function(){animatableAttrs.hookFn&&animatableAttrs.hookFn.call(this);attr&&this.attr(attr);container&&this.appendTo(container)}},data=[],datum,applyAnimation=animationObj.duration,i,changedAttr,length,allAnimatableAttrs,createInitalAttr,elemOwnAttr,isLastSlot,animatableAttrs,slotGroupChange,groupChangeReq=(typeof element==="undefined"?"undefined":_typeof(element))===OBJECT&&inputJSON.container&&element.parent!==inputJSON.container;if(applyAnimation&&(allAnimatableAttrs=animationManager.getAnimAttributes(inputJSON))){length=allAnimatableAttrs.length;slotGroupChange=false;createInitalAttr=inputJSON.state===APPEARING||(typeof element==="undefined"?"undefined":_typeof(element))===STRING;elemOwnAttr=!createInitalAttr&&element.attrs;changedAttr={};for(i=0;i<length;i++){isLastSlot=i===length-1;datum=data[i]={};animatableAttrs=allAnimatableAttrs[i];finalAttr=animatableAttrs.finalAttr;initialAttr=animatableAttrs.initialAttr;AnimationManager.removeOpacityFromGroup(inputJSON.el,initialAttr);AnimationManager.removeOpacityFromGroup(inputJSON.el,finalAttr);for(attr in initialAttr){changedAttr[attr]=initialAttr[attr];if(actualInitialAttr[attr]===UNDEF){actualInitialAttr[attr]=initialAttr[attr]}}for(attr in finalAttr){changedAttr[attr]=finalAttr[attr];if(createInitalAttr&&actualInitialAttr[attr]===UNDEF){actualInitialAttr[attr]=finalAttr[attr]}}datum.attrs=finalAttr;datum.transition=animatableAttrs.transition;datum.effect=animatableAttrs.effect;datum.animConfig=[animatableAttrs.startEnd];animatableAttrs.callback&&(datum.callback=animatableAttrs.callback);if(slotGroupChange=groupChangeReq&&animatableAttrs.changeGroup){groupChangeReq=false}if(isLastSlot){if(createInitalAttr){for(attr in componentFinalAttr){if(actualInitialAttr[attr]===UNDEF){actualInitialAttr[attr]=componentFinalAttr[attr]}}}for(attr in componentFinalAttr){currAttr=componentFinalAttr[attr];if((changedAttr[attr]||!createInitalAttr)&&changedAttr[attr]!==currAttr){if(finalAttr&&finalAttr[attr]===UNDEF){finalAttr[attr]=currAttr}else{actualFinalAttr[attr]=currAttr}}}for(attr in changedAttr){if(actualFinalAttr[attr]===UNDEF){currAttr=componentFinalAttr[attr]||elemOwnAttr[attr]||"";if(changedAttr[attr]!==currAttr){if(finalAttr&&finalAttr[attr]===UNDEF&&currAttr!==UNDEF){finalAttr[attr]=currAttr}else{actualFinalAttr[attr]=currAttr}}}}if(!finalAttr){datum.attrs=actualFinalAttr}datum.callback=callBackFn((finalAttr||initialAttr)&&actualFinalAttr,isLastSlot,animatableAttrs,groupChangeReq&&inputJSON.container);element=animationManager.setAttributes(element,{attr:actualInitialAttr,inputJSON:inputJSON})}if(initialAttr||animatableAttrs.hookFn||slotGroupChange){datum.animConfig[0].hookFn=hookFn((!createInitalAttr||i)&&initialAttr,animatableAttrs,slotGroupChange&&inputJSON.container)}}for(i=0;i<length;i++){data[i].el=element.el;animationManager.registerAnimation([{data:[data[i]]}],allAnimatableAttrs[i].slot)}}else{animationManager.registerAnimation();element=animationManager.setAttributes(element,{attr:componentFinalAttr,inputJSON:inputJSON,groupChangeReq:groupChangeReq,immediate:true})}return element.removed?null:element.el};AnimationManager.prototype._removeElems=function _removeElems(){if(!this.getFromEnv(PAPER)||this.getFromEnv(PAPER).removed){return}var component=this;component._removedGraphics.forEach(function(v){return v.remove&&v.remove()});component._removedGraphics.length=0};AnimationManager.prototype.removeElement=function removeElement(el,immediate){var animationManager=this;if(immediate){el.remove()}else{animationManager._removedGraphics.push(el)}return null};AnimationManager._ruleSelectorQueryBuilder=function _ruleSelectorQueryBuilder(info){var isForState=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var label=info.label,state=info.state,component=info.component,componentType=component.getType(),componentName=component.getName();if(isForState){var dummy=["*","*.*","*.*.*"],wildchar=["*.*."+componentName,"*."+componentType+".*","*."+componentType+"."+componentName];if(state==="*"){return dummy.concat(wildchar)}return dummy.concat(wildchar,[state+".*",state+".*.*",state+".*."+componentName,state+"."+componentType+".*",state+"."+componentType+"."+componentName])}else{return[label+"."+state,label+".*","*."+state,"*.*","*"]}};AnimationManager.prototype._getRulesByState=function _getRulesByState(info){var animationManager=this,component=info.component,selectedRule=void 0,stateSpecRule=void 0,rules=void 0,animRulesForComp=void 0,state=animationManager.getAnimationState()||STARSTRING,ruleSelectors=AnimationManager._ruleSelectorQueryBuilder(Object.assign(info,{state:state}));animRulesForComp=component.getState("animRules")||{};if(!(selectedRule=animRulesForComp[state])){stateSpecRule=animRulesForComp[state]={};rules=animationManager.config.animationRules;rulePriorityList.forEach(function(ruleType){var rule=rules[ruleType];rule&&ruleSelectors.forEach(function(v){if(rule[v]){if(Array.isArray(rule[v])){rule[v].forEach(function(prop){stateSpecRule=animRulesForComp[state]=isNull(prop)?null:Object.assign(stateSpecRule||{},isFunction(prop)?prop.call(component):prop)})}else{stateSpecRule=animRulesForComp[state]=isNull(rule[v])?null:Object.assign(stateSpecRule||{},isFunction(rule[v])?rule[v].call(component):rule[v])}}})});component.setState("animRules",animRulesForComp);!component.getState("ruleFlushAttached")&&component.addExtEventListener("beforedraw",function(){component.setState("animRules",UNDEF);component.setState("ruleFlushAttached",true)},component.getFromEnv(CHART));return stateSpecRule}return selectedRule};AnimationManager._getRulesByElement=function _getRulesByElement(rules,info){var selectedRule=void 0,ruleSelectors=AnimationManager._ruleSelectorQueryBuilder(info,false);ruleSelectors.forEach(function(v){if(!selectedRule){selectedRule=rules[v]}});return selectedRule};AnimationManager.prototype.getAnimAttributes=function getAnimAttributes(inputJSON){var animationManager=this,component=inputJSON.component||animationManager.getFromEnv(CHART),label=inputJSON.label||(_typeof(inputJSON.el)==="object"?inputJSON.el.type:inputJSON.el),state=inputJSON.state,componentRules=animationManager._getRulesByState({label:label,component:component}),rules=void 0,currentRule=void 0,returnObj=[],currentReturnObj=void 0,i=void 0,len=void 0;if(isNull(componentRules)){return}!state&&(state=_typeof(inputJSON.el)===STRING?APPEARING:inputJSON.attr?UPDATING:DISAPPEARING);rules=AnimationManager._getRulesByElement(componentRules,{component:component,state:state,label:label});if(isNull(rules)){return}if(!rules){return AnimationManager.getFallbackAnimRule(inputJSON)}if(isFunction(rules)){rules=rules.call(component,inputJSON)}len=rules.length;for(i=0;i<len;i++){currentRule=rules[i];currentReturnObj={};currentRule.initialAttr&&(currentReturnObj.initialAttr=isFunction(currentRule.initialAttr)?currentRule.initialAttr.call(component,inputJSON):Object.assign({},currentRule.initialAttr));currentRule.finalAttr&&(currentReturnObj.finalAttr=isFunction(currentRule.finalAttr)?currentRule.finalAttr.call(component,inputJSON):Object.assign({},currentRule.finalAttr));currentReturnObj.startEnd=isFunction(currentRule.startEnd)?currentRule.startEnd.call(component,inputJSON):currentRule.startEnd?Object.assign({},currentRule.startEnd):{start:0,end:1};currentReturnObj.slot=currentRule.slot||"default";currentReturnObj.callback=currentRule.callback;currentReturnObj.hookFn=currentRule.hookFn;currentReturnObj.transition=currentRule.transition;currentReturnObj.effect=currentRule.effect||"linear";currentRule.groupChange&&(currentReturnObj.groupChange=true);returnObj.push(currentReturnObj)}return returnObj};AnimationManager.getFallbackAnimRule=function getFallbackAnimRule(inputJSON){if(inputJSON.state===APPEARING||_typeof(inputJSON.el)===STRING){if(inputJSON.el!==GROUP){return[{initialAttr:{opacity:0},finalAttr:{opacity:inputJSON.attr&&inputJSON.attr.opacity||1},startEnd:{start:0,end:1}}]}}else{if(inputJSON.state===UPDATING||inputJSON.attr){return[{startEnd:{start:0,end:1}}]}else{if(inputJSON.el.type!==GROUP){return[{initialAttr:{opacity:1},finalAttr:{opacity:0},startEnd:{start:0,end:1}}]}}}};AnimationManager.getFallbackAnimDuration=function getFallbackAnimDuration(state){return durationList[state]||0};AnimationManager.getFallbackAnimTimeSlots=function getFallbackAnimTimeSlots(){return[{name:"_default",start:0,end:1,child:[[{name:"initial",duration:.125},{name:"middle",duration:.75,child:[[{name:"axis",duration:.25},{name:"plot",duration:.75}]]},{name:"final",duration:.125}]]}]};AnimationManager.prototype.createElement=function createElement(element){var attr=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var inputJSON=arguments[2];var animationManager=this,paper=animationManager.getFromEnv(PAPER);if(!paper){paper=animationManager.getFromEnv(CHART).getFromEnv(PAPER);animationManager.addToEnv(PAPER,paper)}if(element===GROUP){element=paper.group(inputJSON.attr&&inputJSON.attr.name||"",inputJSON.container);element.attr(attr)}else if(element===HTML){element=paper.html(inputJSON.attr.type,attr,inputJSON.css,inputJSON.container)}else{if(element===TEXT&&inputJSON.css){return paper[inputJSON.el](attr,inputJSON.css,inputJSON.container)}element=paper[inputJSON.el](attr,inputJSON.container)}return element};AnimationManager.prototype.setAttributes=function setAttributes(element,props){var animationManager=this,attr=props.attr,inputJSON=props.inputJSON||{},removeEl;if(typeof element==="string"){element=animationManager.createElement(element,attr,inputJSON)}else if(Object.keys(attr).length!==0){element.attr(attr)}else if(!inputJSON.attr||inputJSON.state===DISAPPEARING){removeEl=!inputJSON.doNotRemove}if(!removeEl){inputJSON.css&&element.css(inputJSON.css);props.groupChangeReq&&element.appendTo(inputJSON.container);props.immediate&&inputJSON.callback&&inputJSON.callback.call(element)}else{animationManager.removeElement(element,props.immediate)}return{el:element,removed:removeEl}};AnimationManager.prototype.prepareAnimateArr=function prepareAnimateArr(){var animateArr=this.config.animateArr,thisAnimateObj,rules,component,i,ln,j,jj,transition,animEl,preAnimArr=this.config.preAnimArr=[];rules=this.getFinalSlots();function manageStartEnd(obj,component){var refComponent,diff,retObj={start:0,end:1},key;for(key in obj){if(obj.hasOwnProperty(key)){if(obj[key].syncWith&&!rules[obj[key].syncWith]){continue}refComponent=obj[key].syncWith;retObj.start=obj[key].start===UNDEF?0:obj[key].start;retObj.end=obj[key].end===UNDEF?1:obj[key].end;retObj.hookFn=obj[key].hookFn||obj.hookFn;retObj.smartMorph=obj[key].smartMorph||obj.smartMorph;break}}refComponent=refComponent&&rules[refComponent]?refComponent:component&&rules[component]?component:"default";diff=rules[refComponent].end-rules[refComponent].start;retObj.start=rules[refComponent].start+retObj.start*diff;retObj.end=rules[refComponent].start+retObj.end*diff;return retObj}for(i=0,ln=animateArr.length;i<ln;i+=1){thisAnimateObj=animateArr[i];component=thisAnimateObj.component;for(j=0,jj=thisAnimateObj.data.length;j<jj;j+=1){animEl=thisAnimateObj.data[j];transition=animEl.transition||rules[component]&&rules[component].transition;if(transition){applyType(animEl,transition)}if(animEl.preAnimFn){preAnimArr.push({el:animEl.el,fn:animEl.preAnimFn})}animEl.animConfig&&(animEl.animConfig=manageStartEnd(animEl.animConfig,component))}thisAnimateObj.effect||rules[component]&&(thisAnimateObj.effect=rules[component].effect);thisAnimateObj.animConfig||(thisAnimateObj.animConfig=[{}]);thisAnimateObj.animConfig=manageStartEnd(thisAnimateObj.animConfig,component)}};AnimationManager.prototype.animate=function animate(){var animationManager=this,config=animationManager.config,animateArr=animationManager.config.animateArr,animationObj=config.animationObj,animObj=animationObj.animObj,dummyObj=animationObj.dummyObj,animationDuration=animationObj.duration,effect,shiftTime=180,thisAnimateObj,animConfig,callback,i,ln,j,jj;animationManager.prepareAnimateArr();execPreAnimFns(animationManager.config.preAnimArr);for(i=0,ln=animateArr.length;i<ln;i+=1){thisAnimateObj=animateArr[i];for(j=0,jj=thisAnimateObj.data.length-1;j<=jj;j+=1){animConfig=thisAnimateObj.data[j].animConfig||thisAnimateObj.animConfig;animConfig=shiftAnimTime(animConfig,animationDuration,shiftTime);effect=thisAnimateObj.data[j].effect||thisAnimateObj.effect||LINEAR;callback=i===ln?thisAnimateObj.callback||thisAnimateObj.data[j].callback:thisAnimateObj.data[j].callback;thisAnimateObj.data[j].preAttrs&&thisAnimateObj.data[j].el.attr(thisAnimateObj.data[j].preAttrs);thisAnimateObj.data[j].el&&animateEl(thisAnimateObj.data[j].el,thisAnimateObj.data[j].attrs,callback||null,animConfig,dummyObj,animObj,animationDuration,effect)}}};AnimationManager.prototype.remove=function remove(option){this.removeAllJobs();if(option.instant){this.getGraphicalElement("dummyObj")&&this.getGraphicalElement("dummyObj").remove()}_ComponentInterface.prototype.remove.call(this,option)};return AnimationManager}(_componentInterface2["default"]);exports["default"]=AnimationManager},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var list={pie2d:["isPlotItemSliced","addData","removeData","updateData","slicePlotItem","startingAngle"],dragcolumn2d:["getDataWithId","getData","setUpperLimit","setLowerLimit","getLowerLimit","getUpperLimit"],realtimecolumn:["feedData","setData","stopUpdate","restartUpdate","isUpdateActive","clearChart","getData","getDataForId","setDataForId","getDataJSON","showLog","hideLog","clearLog"],scrollcolumn2d:["scrollTo"],doughnut:["centerLabel"],zoomline:["zoomOut","zoomTo","resetChart","setZoomMode","getViewStartIndex","getViewEndIndex","scrollTo"],maps:["getMapName","getEntityList","getMapAttribute","exportMap","addMarker","updateMarker","removeMarker"],"*":["exportChart","getXML","getChartAttribute","getCSVData","getChartData","getDataAsCSV","getJSONData","getSVGString","getXMLData"]};list.pie3d=list.pie2d;list.doughnut2d=list.doughnut3d=list.doughnut.concat(list.pie2d);list.dragarea=list.dragline=list.dragnode=list.dragcolumn2d;list.realtimearea=list.realtimeline=list.realtimelinedy=list.realtimestackedarea=list.realtimestackedcolumn=list.bulb=list.angulargauge=list.hlineargauge=list.hled=list.vled=list.vbullet=list.hbullet=list.thermometer=list.cylinder=list.realtimecolumn;list.scrollarea2d=list.scrollline2d=list.scrollcombidy2d=list.scrollcombi2d=list.scrollstackedcolumn2d=list.scrollcolumn2d;list.zoomlinedy=list.zoomline;exports["default"]=list},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var SkeletonTooltipController=function(){function SkeletonTooltipController(){_classCallCheck(this,SkeletonTooltipController)}SkeletonTooltipController.prototype.draw=function draw(){};SkeletonTooltipController.prototype.drawAt=function drawAt(){};SkeletonTooltipController.prototype.hide=function hide(){};SkeletonTooltipController.prototype.hideAll=function hideAll(){};SkeletonTooltipController.prototype.enableToolTip=function enableToolTip(){};SkeletonTooltipController.prototype.disableToolTip=function disableToolTip(){};SkeletonTooltipController.prototype.setStyle=function setStyle(){};return SkeletonTooltipController}();exports["default"]={extension:SkeletonTooltipController,name:"ToolTipController",type:"plugin"}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.MultiCanvasCrossLine=exports.CrossLine=exports.CenterLabel=exports.ajax=exports.debug=exports.supportOldThemes=exports.LogoExtension=exports.BatchExportLinker=exports.exportModule=exports.LegendEventManagerLinker=exports.inputAdapter=exports.RegressionExtension=exports.Annotation=exports.DataSkipping=exports.AlertManager=exports.ConsolidatedToolTip=exports.ToolTipController=exports.PlotHighlighter=exports.DefaultTheme=exports.ThemeEngine=exports.IgnoreCaseExt=exports.XMLUrlTranscoder=exports.JSONUrlTranscoder=exports.CSVTranscoder=exports.XMLTranscoder=exports.linkedChartsExtension=exports.MessageLogger=undefined;var _messagelogger=__webpack_require__(157);var _messagelogger2=_interopRequireDefault(_messagelogger);var _linkedcharts=__webpack_require__(160);var _linkedcharts2=_interopRequireDefault(_linkedcharts);var _xmlTranscoder=__webpack_require__(162);var _xmlTranscoder2=_interopRequireDefault(_xmlTranscoder);var _csvTranscoder=__webpack_require__(163);var _csvTranscoder2=_interopRequireDefault(_csvTranscoder);var _jsonUrlTranscoder=__webpack_require__(164);var _jsonUrlTranscoder2=_interopRequireDefault(_jsonUrlTranscoder);var _xmlUrlTranscoder=__webpack_require__(167);var _xmlUrlTranscoder2=_interopRequireDefault(_xmlUrlTranscoder);var _ignoreCaseExt=__webpack_require__(168);var _ignoreCaseExt2=_interopRequireDefault(_ignoreCaseExt);var _themeEngine=__webpack_require__(169);var _themeEngine2=_interopRequireDefault(_themeEngine);var _defaultTheme=__webpack_require__(170);var _defaultTheme2=_interopRequireDefault(_defaultTheme);var _highlighter=__webpack_require__(171);var _highlighter2=_interopRequireDefault(_highlighter);var _tooltipController=__webpack_require__(173);var _tooltipController2=_interopRequireDefault(_tooltipController);var _consolidatedTooltip=__webpack_require__(175);var _consolidatedTooltip2=_interopRequireDefault(_consolidatedTooltip);var _alertmanager=__webpack_require__(176);var _alertmanager2=_interopRequireDefault(_alertmanager);var _dataSkipping=__webpack_require__(178);var _dataSkipping2=_interopRequireDefault(_dataSkipping);var _annotationExt=__webpack_require__(182);var _annotationExt2=_interopRequireDefault(_annotationExt);var _regressionExtension=__webpack_require__(213);var _regressionExtension2=_interopRequireDefault(_regressionExtension);var _inputExt=__webpack_require__(219);var _inputExt2=_interopRequireDefault(_inputExt);var _legendEventManagerLinker=__webpack_require__(232);var _legendEventManagerLinker2=_interopRequireDefault(_legendEventManagerLinker);var _exportModule=__webpack_require__(233);var _exportModule2=_interopRequireDefault(_exportModule);var _batchexport=__webpack_require__(239);var _batchexport2=_interopRequireDefault(_batchexport);var _logo=__webpack_require__(240);var _logo2=_interopRequireDefault(_logo);var _supportOldThemesExt=__webpack_require__(242);var _supportOldThemesExt2=_interopRequireDefault(_supportOldThemesExt);var _debugger=__webpack_require__(243);var _debugger2=_interopRequireDefault(_debugger);var _ajax=__webpack_require__(244);var _ajax2=_interopRequireDefault(_ajax);var _centerLabelExtension=__webpack_require__(245);var _centerLabelExtension2=_interopRequireDefault(_centerLabelExtension);var _crosslineAdapter=__webpack_require__(248);var _crosslineAdapter2=_interopRequireDefault(_crosslineAdapter);var _multicanvasCrosslineManager=__webpack_require__(252);var _multicanvasCrosslineManager2=_interopRequireDefault(_multicanvasCrosslineManager);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.MessageLogger=_messagelogger2["default"];exports.linkedChartsExtension=_linkedcharts2["default"];exports.XMLTranscoder=_xmlTranscoder2["default"];exports.CSVTranscoder=_csvTranscoder2["default"];exports.JSONUrlTranscoder=_jsonUrlTranscoder2["default"];exports.XMLUrlTranscoder=_xmlUrlTranscoder2["default"];exports.IgnoreCaseExt=_ignoreCaseExt2["default"];exports.ThemeEngine=_themeEngine2["default"];exports.DefaultTheme=_defaultTheme2["default"];exports.PlotHighlighter=_highlighter2["default"];exports.ToolTipController=_tooltipController2["default"];exports.ConsolidatedToolTip=_consolidatedTooltip2["default"];exports.AlertManager=_alertmanager2["default"];exports.DataSkipping=_dataSkipping2["default"];exports.Annotation=_annotationExt2["default"];exports.RegressionExtension=_regressionExtension2["default"];exports.inputAdapter=_inputExt2["default"];exports.LegendEventManagerLinker=_legendEventManagerLinker2["default"];exports.exportModule=_exportModule2["default"];exports.BatchExportLinker=_batchexport2["default"];exports.LogoExtension=_logo2["default"];exports.supportOldThemes=_supportOldThemesExt2["default"];exports.debug=_debugger2["default"];exports.ajax=_ajax2["default"];exports.CenterLabel=_centerLabelExtension2["default"];exports.CrossLine=_crosslineAdapter2["default"];exports.MultiCanvasCrossLine=_multicanvasCrosslineManager2["default"];exports["default"]={name:"features",type:"package",requiresFusionCharts:true,extension:function extension(FusionCharts){FusionCharts.addDep(_linkedcharts2["default"]);FusionCharts.addDep(_xmlTranscoder2["default"]);FusionCharts.addDep(_csvTranscoder2["default"]);FusionCharts.addDep(_jsonUrlTranscoder2["default"]);FusionCharts.addDep(_xmlUrlTranscoder2["default"]);FusionCharts.addDep(_ignoreCaseExt2["default"]);FusionCharts.addDep(_themeEngine2["default"]);FusionCharts.addDep(_highlighter2["default"]);FusionCharts.addDep(_defaultTheme2["default"]);FusionCharts.addDep(_tooltipController2["default"]);FusionCharts.addDep(_consolidatedTooltip2["default"]);FusionCharts.addDep(_alertmanager2["default"]);FusionCharts.addDep(_messagelogger2["default"]);FusionCharts.addDep(_dataSkipping2["default"]);FusionCharts.addDep(_annotationExt2["default"]);FusionCharts.addDep(_exportModule2["default"]);FusionCharts.addDep(_regressionExtension2["default"]);FusionCharts.addDep(_inputExt2["default"]);FusionCharts.addDep(_legendEventManagerLinker2["default"]);FusionCharts.addDep(_batchexport2["default"]);FusionCharts.addDep(_logo2["default"]);FusionCharts.addDep(_supportOldThemesExt2["default"]);FusionCharts.addDep(_debugger2["default"]);FusionCharts.addDep(_ajax2["default"]);FusionCharts.addDep(_centerLabelExtension2["default"]);FusionCharts.addDep(_crosslineAdapter2["default"]);FusionCharts.addDep(_multicanvasCrosslineManager2["default"])}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _msglogger=__webpack_require__(158);var _msglogger2=_interopRequireDefault(_msglogger);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function messageLoggerLinker(FC){FC.addEventListener("instantiated",function(event){if(event.sender.getType()==="chartAPI"){event.sender.registerFactory("messageLogger",function(component){if(component.getChildren("messageLogger")){component.getChildren("messageLogger")[0].configure(component);return}var chartConatiner=component.getFromEnv("chart-container"),msgLoggerObj=new _msglogger2["default"];msgLoggerObj.configure(component);msgLoggerObj.addToEnv("chart-container",chartConatiner);component.attachChild(msgLoggerObj,"messageLogger");component.getFromEnv("chartInstance").showLog=function(){return msgLoggerObj&&msgLoggerObj.show&&msgLoggerObj.show()};component.getFromEnv("chartInstance").hideLog=function(){return msgLoggerObj&&msgLoggerObj.hide&&msgLoggerObj.hide()};component.getFromEnv("chartInstance").clearLog=function(){return msgLoggerObj&&msgLoggerObj.clearLog&&msgLoggerObj.clearLog()};event.sender.addEventListener("realtimeDataUpdate",function(event){if(event.sender.getChildren("messageLogger")){event.sender.getChildren("messageLogger")[0].addLog(event.data)}})})}})}exports["default"]={extension:messageLoggerLinker,name:"messageLoggerLinker",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _message=__webpack_require__(159);var _message2=_interopRequireDefault(_message);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var mathMin=Math.min;var defAnimEffect="normal",PX="px";var UNDEF;var MessageLogger=function(_ComponentInterface){_inherits(MessageLogger,_ComponentInterface);function MessageLogger(){_classCallCheck(this,MessageLogger);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this.pIndex=1;_this.linkedItems=_this.linkedItems||(_this.linkedItems={});_this.components=_this.components||{};_this.components.messages=_this.components.messages||[];_this.graphics=_this.graphics||{};_this.config=_this.config||(_this.config={});return _this}MessageLogger.prototype.getType=function getType(){return"extension"};MessageLogger.prototype.getName=function getName(){return"MessageLogger"};MessageLogger.prototype.configure=function configure(chart){this.linkedItems.chart=chart;var chartAttr=chart.getFromEnv("chart-attrib")||{},usemessagelog=this.config.usemessagelog=chart.getFromEnv("chartConfig").usemessagelog;this.config.messageLogWPercent=mathMin((0,_lib.pluckNumber)(chartAttr.messagelogwpercent,80),100);this.config.messageLogHPercent=mathMin((0,_lib.pluckNumber)(chartAttr.messageloghpercent,70),100);this.config.messageLogShowTitle=(0,_lib.pluckNumber)(chartAttr.messagelogshowtitle,1);this.config.messageLogTitle=(0,_lib.pluck)(chartAttr.messagelogtitle,"Message Log");this.config.messageLogColor=(0,_lib.pluck)(chartAttr.messagelogcolor,"#fbfbfb").replace(/^#?([a-f0-9]+)/gi,"$1");this.config.messageLogColorRgb=(0,_libGraphics.HEXtoRGB)(this.config.messageLogColor);this.config.messageGoesToJS=(0,_lib.pluckNumber)(chartAttr.messagegoestojs,0);this.config.messageGoesToLog=(0,_lib.pluckNumber)(chartAttr.messagegoestolog,1);this.config.messageJSHandler=(0,_lib.pluck)(chartAttr.messagejshandler,"");this.config.messagePassAllToJS=(0,_lib.pluckNumber)(chartAttr.messagepassalltojs,0);this.config.messagePassAsObject=(0,_lib.pluckNumber)(chartAttr.messagepassasobject,0);this.config.messageLogIsCancelable=(0,_lib.pluckNumber)(chartAttr.messagelogiscancelable,1);this.config.alwaysShowMessageLogMenu=(0,_lib.pluckNumber)(chartAttr.alwaysshowmessagelogmenu,usemessagelog);chart.config.useShowLogMenu=usemessagelog&&this.config.messageGoesToLog;this.config.dynamicScrolling=false;this.config.scrollToBottom=true};MessageLogger.prototype._createMessage=function _createMessage(messageObj){var msLogger=this,messageObject=new _message2["default"](messageObj,msLogger);if(this.graphics.container){messageObject.draw()}return messageObject};MessageLogger.prototype.addLog=function addLog(messageObj){var messages=this.components.messages,msgGoesToLog=(0,_lib.pluckNumber)(messageObj.msgGoesToLog,this.config.messageGoesToLog),msgGoesToJS=(0,_lib.pluckNumber)(messageObj.msgGoesToJS,this.config.messageGoesToJS),globalJSFunc=window[this.config.messageJSHandler],msgId=(0,_lib.pluck)(messageObj.msgId,""),title=(0,_lib.pluck)(messageObj.msgTitle,""),msg=(0,_lib.pluck)(messageObj.msgText,""),msgType=(0,_lib.pluck)(messageObj.msgType,"literal"),message=void 0;if(this.config.usemessagelog==0){return}if(msgGoesToJS&&globalJSFunc&&typeof globalJSFunc==="function"){this.config.messagePassAllToJS?this.config.messagePassAsObject?globalJSFunc(messageObj):globalJSFunc(msgId,title,msg,msgType):globalJSFunc(msg)}if(messageObj.clearLog==="1"){this.clearLog()}if(msgGoesToLog&&(messageObj.msgTitle||messageObj.msgText)){message=this._createMessage(messageObj);messages.push(message);if(messages.length===1&&!this.config.visible){this.show()}}};MessageLogger.prototype.show=function show(){if(!this.config.visible&&this.config.usemessagelog==1){this.config.visible=true;this.draw();if(!this.graphics.container){this.draw()}this.graphics.container&&this.graphics.container.show()}};MessageLogger.prototype.hide=function hide(){this.config.visible=false;this.graphics.container&&this.graphics.container.hide()};MessageLogger.prototype.clearLog=function clearLog(){var messages=this.components.messages,i=void 0,l=messages.length;for(i=0;i<l;i+=1){messages[i]&&messages[i].dispose&&messages[i].dispose()}messages.splice(0,l)};MessageLogger.prototype.isDrawn=function isDrawn(){return!!this.graphics.container};MessageLogger.prototype.draw=function draw(){var messages=this.components.messages,i=void 0,l=void 0;if(this.config.usemessagelog===0){if(this.isDrawn()){this.clearLog();this.hide()}}else{this._createHTMLDialogue();if(!this.config.visible){this.hide()}l=messages.length;for(i=0;i<l;i+=1){messages[i]&&messages[i].draw&&messages[i].draw()}}};MessageLogger.prototype._createHTMLDialogue=function _createHTMLDialogue(){var msLogger=this,config=this.config,graphics=this.graphics,iapi=this.linkedItems.chart,paper=this.getFromEnv("paper"),chartContainer=this.getFromEnv("chart-container"),chartConfig=iapi.config,chartWidth=chartConfig.width,chartHeight=chartConfig.height,styles=chartConfig.style,inCanvasStyle=styles&&styles.inCanvasStyle,messageLogWPercent=this.config.messageLogWPercent,messageLogHPercent=this.config.messageLogHPercent,messageLogShowTitle=this.config.messageLogShowTitle,messageLogIsCancelable=this.config.messageLogIsCancelable,messageLogColor=this.config.messageLogColor,messageLogTitle=this.config.messageLogTitle,closeBtnRadius=6,closeBtnContainerW=closeBtnRadius*3,closeBtnContainerH=closeBtnRadius*3,closeBtnYPos=closeBtnContainerH/2,hPadding=5+closeBtnRadius,vPadding=5+closeBtnRadius,dialogWidth=chartWidth*(messageLogWPercent/100),dialogHeight=chartHeight*(messageLogHPercent/100),dialogXPos=(chartWidth-dialogWidth)/2,dialogYPos=(chartHeight-dialogHeight)/2,textAreaWidth=dialogWidth-closeBtnContainerW-hPadding*2,textAreaHeight=dialogHeight-closeBtnContainerH-vPadding*2,veilBgColor="000000",dialogBgColor="ffffff",dialogStrokeColor=messageLogColor,logBGColor=messageLogColor,container=graphics.container,transposeAnimDuration=this.isDrawn()&&chartConfig.animation&&chartConfig.animation.transposeAnimDuration,tempAttrObj,dialogAttr,logBgAttr,logWrapperAttr;if(!container){container=graphics.container=paper.html("div",{fill:"transparent"},{fontSize:10+PX,lineHeight:15+PX},chartContainer);graphics.veil=paper.html("div",{id:"veil",fill:veilBgColor,opacity:.1},UNDEF,container).on("click",function(){messageLogIsCancelable&&msLogger.hide()});if(messageLogTitle&&messageLogShowTitle){graphics.title=paper.html("p",{id:"Title",innerHTML:messageLogTitle,x:5,y:5},{"font-weight":"bold"},container)}graphics.dialog=paper.html("div",{id:"dialog",strokeWidth:1},{borderRadius:5+PX,boxShadow:"1px 1px 3px #000000","-webkit-border-radius":5+PX,"-webkit-box-shadow":"1px 1px 3px #000000",filter:'progid:DXImageTransform.Microsoft.Shadow(Strength=4, Direction=135, Color="#000000")'},container);graphics.logBackground=paper.html("div",{id:"dialogBackground",x:0,y:0},UNDEF,graphics.dialog);if(messageLogIsCancelable){graphics.closeButton=paper.html("div",{id:"closeButton",x:dialogWidth-vPadding-3,y:closeBtnYPos-7,innerHTML:"<b>x</b>"},{cursor:"pointer",_cursor:"hand"},graphics.dialog).on("click",function(){messageLogIsCancelable&&msLogger.hide()})}graphics.logWrapper=paper.html("div",{id:"logWrapper"},{overflow:"auto"},graphics.dialog).on("scroll",function(){var wrapper=this,scrollTop=wrapper&&wrapper.scrollTop,scrollHeight=wrapper&&wrapper.scrollHeight,wrapperHeight=wrapper&&wrapper.offsetHeight;if(config.dynamicScrolling){config.dynamicScrolling=false;return}config.scrollToBottom=scrollHeight-scrollTop===wrapperHeight});graphics.log=paper.html("div",{id:"log",x:0,y:0},{},graphics.logWrapper)}container.css({fontFamily:inCanvasStyle.fontFamily});graphics.dialog.attr({fill:dialogBgColor,stroke:dialogStrokeColor});graphics.logBackground.attr({fill:logBGColor});tempAttrObj={width:chartWidth,height:chartHeight};dialogAttr={x:dialogXPos,y:dialogYPos,width:dialogWidth,height:dialogHeight};logBgAttr={width:dialogWidth,height:dialogHeight};logWrapperAttr={x:(dialogWidth-textAreaWidth)/2,y:(dialogHeight-textAreaHeight)/2,width:textAreaWidth,height:textAreaHeight};if(transposeAnimDuration){container.animate(tempAttrObj,transposeAnimDuration,defAnimEffect);graphics.veil.animate(tempAttrObj,transposeAnimDuration,defAnimEffect);graphics.dialog.animate(dialogAttr,transposeAnimDuration,defAnimEffect);graphics.logBackground.animate(logBgAttr,transposeAnimDuration,defAnimEffect);graphics.logWrapper.animate(logWrapperAttr,transposeAnimDuration,defAnimEffect)}else{container.attr(tempAttrObj);graphics.veil.attr(tempAttrObj);graphics.dialog.attr(dialogAttr);graphics.logBackground.attr(logBgAttr);graphics.logWrapper.attr(logWrapperAttr)}};return MessageLogger}(_componentInterface2["default"]);exports["default"]=MessageLogger},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var docmode8=window.document.documentMode===8,TITLE_HASH_STRING="$titleVal$",MSG_HASH_STRING="$msgVal$",LINK_HASH_STRING="$msgLinkVal$",msgTemplate={},CONTAINER_SPAN_STYLE={display:"block",paddingLeft:"10px",paddingRight:"10px","font-family":"Arial","font-size":"11px"};msgTemplate.literal=msgTemplate.info={title:'<span style="color: #005900">'+TITLE_HASH_STRING+"</span>",body:'<span">'+MSG_HASH_STRING+"</span>"};msgTemplate.link={title:msgTemplate.info.title,body:'<a href="'+LINK_HASH_STRING+'">'+MSG_HASH_STRING+"</a>"};msgTemplate.error={title:'<span style="color: #CC0000">'+TITLE_HASH_STRING+"</span>",body:'<span style="color: #CC0000">'+MSG_HASH_STRING+"</span>"};var Message=function(){function Message(messageObj,msgLogger){_classCallCheck(this,Message);this.config={};this.messageType=(messageObj.msgType&&messageObj.msgType.replace(/^[\r\n]+|\.|[\r\n]+$/g,"")||"").toLowerCase();this.msgTitle=messageObj.msgTitle;this.msgText=messageObj.msgText;this.msgLink=messageObj.msgLink;this.graphics={};this.linkedItems={msgLogger:msgLogger};this.msgObj=msgTemplate[this.messageType]||msgTemplate.literal;this.configureMsgTextAndMsgTitle()}Message.prototype.configureMsgTextAndMsgTitle=function configureMsgTextAndMsgTitle(){this.config.totalHTML="";if(this.msgTitle){this.config.titleHTML=this.msgObj.title.replace(TITLE_HASH_STRING,this.msgTitle);this.config.totalHTML+=this.config.titleHTML}if(this.msgText){this.config.msgHTML=this.msgObj.body.replace(MSG_HASH_STRING,this.msgText);this.config.msgHTML=this.config.msgHTML.replace(LINK_HASH_STRING,this.msgText);this.config.totalHTML+=this.config.msgHTML}};Message.prototype.draw=function draw(){var prop,element=this.graphics.element,msgLogger=this.linkedItems.msgLogger,loggerGraphics=msgLogger.graphics,groupDOMelem=loggerGraphics&&loggerGraphics.log&&loggerGraphics.log.element,logWrapperElem=loggerGraphics.logWrapper&&loggerGraphics.logWrapper.element,temp,loggerConfig=msgLogger.config,scrollHeight;if(!element){element=this.graphics.element=window.document.createElement("span");for(prop in CONTAINER_SPAN_STYLE){element.style[prop]=CONTAINER_SPAN_STYLE[prop]}groupDOMelem.appendChild&&groupDOMelem.appendChild(element)}this.graphics.element.innerHTML=this.config.totalHTML;if(_lib.isIE&&docmode8){temp=groupDOMelem.innerHTML;groupDOMelem.innerHTML=temp}if(loggerConfig.scrollToBottom){loggerConfig.dynamicScrolling=true;scrollHeight=logWrapperElem.scrollHeight;logWrapperElem.scrollTop=scrollHeight}};Message.prototype.dispose=function dispose(){var msgLogger=this.linkedItems.msgLogger;msgLogger&&msgLogger.graphics&&msgLogger.graphics.log&&msgLogger.graphics.log.element&&msgLogger.graphics.log.element.removeChild&&msgLogger.graphics.log.element.removeChild(this.graphics.element);delete this.graphics.element;_lib.componentDispose.call(this)};return Message}();exports["default"]=Message},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _linkInformation=__webpack_require__(161);var _linkInformation2=_interopRequireDefault(_linkInformation);var _eventApi=__webpack_require__(124);var _lib=__webpack_require__(118);var _domEvent=__webpack_require__(120);var _domEvent2=_interopRequireDefault(_domEvent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var DROP_HASH_RE=_lib.regex.dropHash;function checkObjectRenderLocationOverride(obj,parent){return(obj.options.containerElement===parent.options.containerElement||obj.options.containerElementId===parent.options.containerElementId)&&obj.options.insertMode===_lib.domInsertModes.REPLACE}function linkInitialize(event){var arr;if(!(event.sender.link instanceof _linkInformation2["default"])||event.sender.link.root.disposed){event.sender.link=new _linkInformation2["default"](event.sender)}else{if(event.sender.link.parent instanceof this){arr=event.sender.link.parent.link.items;!arr[event.sender.id]&&(arr[event.sender.id]=event.sender)}}}function addlinkedCharts(FusionCharts){FusionCharts.prototype.configureLink=function(param,level){var i;if(param instanceof Array){for(i=0;i<param.length;i+=1){if(_typeof(_linkInformation.store[this.link.root.id][i])!=="object"){_linkInformation.store[this.link.root.id][i]={}}(0,_lib.extend2)(_linkInformation.store[this.link.root.id][i],param[i],false,true)}_linkInformation.store[this.link.root.id].splice(param.length)}else if((typeof param==="undefined"?"undefined":_typeof(param))==="object"){if(typeof level!=="number"){level=this.link.level}if(typeof _linkInformation.store[this.link.root.id][level]==="undefined"){_linkInformation.store[this.link.root.id][level]={}}(0,_lib.extend2)(_linkInformation.store[this.link.root.id][level],param,false,true)}else{(0,_eventApi.raiseError)(this,"25081731","param","~configureLink()","Unable to update link configuration from set parameters")}};FusionCharts.prototype.drawOverlayButton=function(args){var vars=this.jsVars,backBtn=vars.overlayButton,cssObj,item,text;if(args&&args.show){if(!backBtn){backBtn=vars.overlayButton=document.createElement("span");_domEvent2["default"].listen(backBtn,"click",function(){(0,_eventApi.triggerEvent)("OverlayButtonClick",vars.fcObj,args)})}text=args.message?args.message:"Back";while(backBtn.firstChild){backBtn.removeChild(backBtn.firstChild)}backBtn.appendChild(document.createTextNode(text));vars.overlayButtonMessage=text;cssObj={border:"1px solid "+(args.borderColor?args.borderColor.replace(DROP_HASH_RE,_lib.HASHSTRING):"#7f8975"),backgroundColor:args.bgColor?args.bgColor.replace(DROP_HASH_RE,_lib.HASHSTRING):"#edefec",fontFamily:args.font?args.font:"Verdana,sans",color:true?args.fontColor:undefined,fontSize:(args.fontSize?args.fontSize:"10")+_lib.PXSTRING,padding:(args.padding?args.padding:"3")+_lib.PXSTRING,fontWeight:parseInt(args.bold,10)===0?_lib.NORMAL:_lib.BOLD,position:"absolute",top:"0",right:"0",cursor:_lib.POINTER};for(item in cssObj){backBtn.style[item]=cssObj[item]}vars.hcObj.container.appendChild(backBtn);vars.overlayButtonActive=true}else if(backBtn){vars.overlayButton=backBtn.parentNode.removeChild(backBtn);vars.overlayButtonActive=false;delete vars.overlayButtonMessage}};FusionCharts.addEventListener("beforeRender",linkInitialize);FusionCharts.addEventListener("beforeInitialize",linkInitialize);FusionCharts.addEventListener("linkedChartInvoked",function(event,args){var obj=event.sender,param=obj.clone({dataSource:args.data,dataFormat:args.linkType,link:new _linkInformation2["default"](obj.link.root,obj,obj instanceof FusionCharts),clickedEntity:args.clickedEntity,clickedEntityBox:args.clickedEntityBox},true),alias=args.alias,childObj;if(alias){if(!param.typeSource&&param.swfUrl){param.typeSource=param.swfUrl.replace(/(.*?)?[^\/]*\.swf.*?/gi,"$1")}param.type=alias}if(obj.args&&parseInt(obj.args.animate,10)!==0){delete param.animate}(0,_lib.extend2)(param,obj.link.configuration(),false,true);(0,_eventApi.triggerEvent)("beforeLinkedItemOpen",obj.link.root,{level:obj.link.level},void 0,function(){if(FusionCharts.items[param.id]instanceof FusionCharts){FusionCharts.items[param.id].dispose()}childObj=new FusionCharts(param);if(!checkObjectRenderLocationOverride(childObj,obj)&&!(obj.options.overlayButton&&obj.options.overlayButton.message)){if(_typeof(obj.options.overlayButton)!=="object"){obj.options.overlayButton={}}obj.options.overlayButton.message="Close"}childObj.render();(0,_eventApi.triggerEvent)("linkedItemOpened",obj.link.root,{level:obj.link.level,item:childObj})})});FusionCharts.addEventListener("overlayButtonClick",function(event,args){var sender,level,parent,root;if(args.id!=="LinkManager"){return}sender=event.sender;level=sender.link.level-1;parent=sender.link.parent;root=sender.link.root;(0,_eventApi.triggerEvent)("beforeLinkedItemClose",root,{level:level,item:sender},void 0,function(){setTimeout(function(){if(FusionCharts.items[sender.id]){sender.dispose()}(0,_eventApi.triggerEvent)("linkedItemClosed",root,{level:level})},0);if(!parent.disposed&&!parent.isActive()&&checkObjectRenderLocationOverride(sender,parent)){parent.render()}})});FusionCharts.addEventListener("DrawComplete",function(event){var obj=event.sender,config;if(!obj||typeof obj.link==="undefined"){return}if(obj.link.root===obj||!(obj.link.parent instanceof FusionCharts)){return}if(!(obj.ref&&typeof obj.drawOverlayButton==="function")){(0,_eventApi.raiseWarning)(obj,"04091602","run","::LinkManager^Loaded","Unable to draw overlay button on object. -"+obj.id);return}config=(0,_lib.extend2)({show:true,id:"LinkManager"},obj.link.parent.options.overlayButton,false,true);(0,_lib.extend2)(config,obj.link.parent.link.configuration().overlayButton||{},false,true);obj.drawOverlayButton(config)});FusionCharts.addEventListener("beforeDispose",function(e){var obj=e.sender;if(!(obj&&obj.link instanceof _linkInformation2["default"])){return}if(obj&&obj.link&&obj.link.parent instanceof FusionCharts){if(obj.link.parent.link&&obj.link.parent.link.items){delete obj.link.parent.link.items[e.sender.id]}}delete _linkInformation.store[obj.id]})}exports["default"]={type:"extension",name:"LinkedChart",extension:addlinkedCharts,requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var store={};var LinkInformation=function(){function LinkInformation(root,parent,isFusionCharts){_classCallCheck(this,LinkInformation);this.items={};this.root=root;this.parent=parent;if(isFusionCharts){this.level=this.parent.link.level+1}else{store[root.id]=[{}];this.level=0}}LinkInformation.prototype.configuration=function configuration(){var param=store[this.root.id][this.level]||(store[this.root.id][this.level]={});return param};return LinkInformation}();exports.store=store;exports["default"]=LinkInformation},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _lib=__webpack_require__(118);var format="xml",FCGlobal,UNDEF;var COMPACTDATAMODE="compactdatamode",STRING="string",FUNCTION="function",OBJECT="object";function replaceSp(str){return str.replace(/</g,"&lt;").replace(/>/g,"&gt;")}var toJSON=function(){var XML_CHILDNODE=1,XML_TEXTNODE=3,rules={arr:{set:true,trendlines:true,vtrendlines:true,line:{trendlines:true,vtrendlines:true},data:true,dataset:true,lineset:true,categories:true,category:true,tasks:true,linkeddata:true,application:true,definition:true,axis:true,connectors:true,connector:{connectors:true},trendset:true,row:{rows:true},column:{columns:true},label:{labels:true},color:{colorrange:true},dial:{dials:true},pointer:{pointers:true},point:{trendpoints:true},process:{processes:true},task:{tasks:true},milestone:{milestones:true},datacolumn:{datatable:true},text:{datacolumn:true},item:{legend:true},alert:{alerts:true},groups:{annotations:true},items:{groups:true,data:true},shapes:true,shape:{shapes:true},entitydef:true,entity:{entitydef:true}},tag:{chart:"linkedchart",map:"linkedmap",set:"data",vline:{chart:"data",graph:"data",dataset:"data",categories:"category",linkedchart:"data"},apply:{application:"application"},style:{definition:"definition"},marker:{application:"application",definition:"definition",data:"items"},entity:{entitydef:"entitydef",data:"data"},shape:{shapes:"shapes"},connector:{connectors:{chart:"connector",linkedchart:"connector",map:"connectors",linkedmap:"connectors"}},annotationgroup:{annotations:"groups"},annotation:{groups:"items"}},attr:{vline:{vline:"true"}},ins:{chart:true,map:true,graph:true},dsv:{dataset:"data",categories:"category"},text:{target:"target",value:"value"},group:{styles:{definition:true,application:true},chart:{value:true,target:true},graph:{value:true,target:true},linkedchart:{value:true,target:true},markers:{definition:true,application:true,shapes:true,connectors:true,data:true},map:{entitydef:true,data:true},linkedmap:{entitydef:true,data:true}}},parse,_parser,src;parse={append:function append(childObj,obj,nodeName,parentNodeName){if(rules.arr[nodeName]&&(rules.arr[nodeName]===true||rules.arr[nodeName][parentNodeName]===true)){if(!(obj[nodeName]instanceof Array)){obj[nodeName]=[]}obj[nodeName].push(childObj)}else{obj[nodeName]=childObj}},child:function child(obj,children,parentNodeName,baseObj){var i,nodeName,childNode,childObj,temp,rule;for(i=0;i<children.length;i+=1){childNode=children[i];nodeName=childNode.nodeName.toLowerCase();switch(childNode.nodeType){case XML_CHILDNODE:childObj=parse.attr(childNode.attributes);rule=rules.ins[nodeName];if(rule===true){temp=childObj;childObj={};childObj[nodeName]=temp;temp=UNDEF}rule=rules.attr[nodeName];if((typeof rule==="undefined"?"undefined":_typeof(rule))===OBJECT){(0,_lib.extend2)(childObj,rule,false,true)}rule=rules.tag[nodeName];if(rule){if((typeof rule==="undefined"?"undefined":_typeof(rule))===OBJECT&&_typeof(rule[parentNodeName])===OBJECT){temp=UNDEF;for(temp in rule[parentNodeName]){if(baseObj[temp]){nodeName=rule[parentNodeName][temp];break}}}else if((typeof rule==="undefined"?"undefined":_typeof(rule))===OBJECT&&_typeof(rule[parentNodeName])===STRING){nodeName=rule[parentNodeName]}else if((typeof rule==="undefined"?"undefined":_typeof(rule))===STRING){nodeName=rule}}if(childNode.childNodes.length){rule=rules.group[parentNodeName];if(rule&&rule[nodeName]){parse.child(obj,childNode.childNodes,nodeName,baseObj)}else{parse.child(childObj,childNode.childNodes,nodeName,baseObj)}}rule=rules.group[parentNodeName];if(!(rule&&rule[nodeName])){parse.append(childObj,obj,nodeName,parentNodeName)}break;case XML_TEXTNODE:rule=rules.text[parentNodeName];if(rule){nodeName=rule;childObj=childNode.data;parse.append(childObj,obj,nodeName,parentNodeName)}rule=rules.dsv[parentNodeName];if((typeof rule==="undefined"?"undefined":_typeof(rule))===STRING&&baseObj.chart&&parseInt(baseObj.chart[COMPACTDATAMODE],10)){nodeName=rule;childObj=childNode.data;obj[nodeName]=obj[nodeName]?obj[nodeName]+childObj:childObj}break}}},attr:function attr(attrObj){var i,obj={};if(!attrObj||!attrObj.length){return obj}for(i=0;i<attrObj.length;i+=1){if(src==="xml"){if(attrObj[i].value){attrObj[i].value=replaceSp(attrObj[i].value)}else if(attrObj[i].nodeValue){attrObj[i].nodeValue=replaceSp(attrObj[i].nodeValue)}}obj[attrObj[i].nodeName.toLowerCase()]=attrObj[i].value||attrObj[i].nodeValue}return obj}};_parser=function parser(xml){var jsonObj={},xmlDoc,xmlElem,root,rootName,newNode,nodeEle,rootAttrs,childNodes,i;if((typeof xml==="undefined"?"undefined":_typeof(xml))!==OBJECT&&xml&&_typeof(xml.toString)!==FUNCTION){_parser.errorObject=new TypeError("xml2json.parse()");return jsonObj}xml=xml.toString().replace(/<\!--[\s\S]*?-->/g,"").replace(/<\?xml[\s\S]*?\?>/gi,"").replace(/&(?!([^;\n\r]+?;))/g,"&amp;$1");xml=(0,_lib.fastTrim)(xml);if(!xml){return jsonObj}try{if(window.DOMParser){xmlDoc=(new window.DOMParser).parseFromString(xml,"text/xml")}else{if(document.body&&FCGlobal.options.allowIESafeXMLParsing){xmlElem=document.createElement("xml");xmlElem.innerHTML=xml;document.body.appendChild(xmlElem);xmlDoc=xmlElem.XMLDocument;document.body.removeChild(xmlElem);xmlElem=null}else{xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xml)}}if(!(xmlDoc&&xmlDoc.childNodes&&xmlDoc.childNodes.length===1&&(root=xmlDoc.childNodes[0])&&root.nodeName&&(rootName=root.nodeName.toLowerCase())&&(rootName==="chart"||rootName==="map"||rootName==="graph"))){_parser.errorObject=new TypeError("xml2json.parse()");return jsonObj}else if(rootName==="graph"){newNode=xmlDoc.createElement("chart");rootAttrs=root.attributes;i=rootAttrs&&rootAttrs.length||0;while(i--){newNode.setAttribute(rootAttrs[i].name,rootAttrs[i].value);rootAttrs.removeNamedItem(rootAttrs[i].name)}childNodes=root.childNodes;i=childNodes&&childNodes.length||0;if(i){i-=1;nodeEle=root.removeChild(childNodes[i]);newNode.appendChild(nodeEle)}while(i--){nodeEle=root.removeChild(childNodes[i]);newNode.insertBefore(nodeEle,newNode.firstChild)}xmlDoc.replaceChild(newNode,root);root=newNode}}catch(e){_parser.errorObject=e}if(root){if(root.attributes){jsonObj[rootName]=parse.attr(root.attributes)}if(root.childNodes){parse.child(jsonObj,root.childNodes,rootName,jsonObj)}delete _parser.errorObject}else{_parser.errorObject=new TypeError("xml2json.parse()")}return jsonObj};return function(xml){delete _parser.errorObject;src=arguments[arguments.length-1];var jsonData=_parser(xml);return{data:jsonData,error:_parser.errorObject}}}(),fromJSON=function(){var rules,_parser2;rules={items:{explode:{data:"set",groups:{annotations:"annotationgroup"},items:{groups:"annotation"}},text:{chart:{target:"target",value:"value"},graph:{target:"target",value:"value"}},dsv:{dataset:{data:"dataset"},categories:{category:"categories"}},attr:{chart:{chart:"chart"},graph:{graph:"graph"},map:{map:"map"},linkedmap:{map:"map"},linkedchart:{chart:"chart"}},group:{styles:{definition:"style",application:"apply"},map:{data:"entity",entitydef:"entity"},markers:{definition:"marker",application:"marker",shapes:"shape",connectors:"connector",items:"marker"}},tag:{markers:{items:"data"}}},qualify:function qualify(rule,item,namespace){return _typeof(this.items[rule][namespace])===OBJECT?this.items[rule][namespace][item]:this.items[rule][namespace]}};_parser2=function parser(obj,namespace,namespaceparent,flags){var attrString="",innerXML="",outerXML="",trailXML="",tagName,item,lowerItem,qualifier;if(namespace&&typeof namespace.toLowerCase==="function"){namespace=namespace.toLowerCase()}if(namespaceparent===UNDEF&&obj[namespace]){for(item in obj[namespace]){lowerItem=item.toLowerCase();if(lowerItem===COMPACTDATAMODE){flags.applyDSV=obj[namespace][item]===1}}}if(obj instanceof Array){for(item=0;item<obj.length;item+=1){if(_typeof(obj[item])===STRING){outerXML+=(0,_lib.xssEncode)(obj[item])}else{outerXML+=_parser2(obj[item],namespace,namespaceparent,flags)}}}else{for(item in obj){lowerItem=item.toLowerCase().replace(/[`~!@#$%^&*()|+\=?;:'", <>\{\}\[\]\\\/]/gi,"");if(obj[item]instanceof Array&&(qualifier=rules.qualify("group",lowerItem,namespace))){tagName=rules.qualify("tag",lowerItem,namespace)||lowerItem;innerXML+="<"+tagName+">"+_parser2(obj[item],qualifier,namespace,flags)+"</"+tagName+">"}else if(_typeof(obj[item])===OBJECT){if(qualifier=rules.qualify("attr",lowerItem,namespace)){trailXML=_parser2(obj[item],qualifier,namespace,flags).replace(/\s*\/\>/gi,"");namespace=lowerItem}else{innerXML+=_parser2(obj[item],lowerItem,namespace,flags)}}else{if(flags.applyDSV&&(qualifier=rules.qualify("dsv",lowerItem,namespace))){innerXML+=obj[item]}else if(qualifier=rules.qualify("text",lowerItem,namespace)){tagName=rules.qualify("tag",lowerItem,namespace)||qualifier;innerXML+="<"+tagName+">"+obj[item]+"</"+tagName+">"}else if(lowerItem==="vline"&&Boolean(obj[item])){namespace="vline"}else{attrString+=" "+lowerItem+'="'+(0,_lib.xssEncode)(obj[item]).toString().replace(/\"/gi,"&quot;")+'"'}}}if(qualifier=rules.qualify("explode",namespaceparent,namespace)){namespace=qualifier}tagName=namespace;outerXML=(trailXML!==""?trailXML:"<"+tagName)+attrString+(innerXML!==""?">"+innerXML+"</"+tagName+">":" />")}return outerXML};return function(jsonData){delete _parser2.errorObject;if(jsonData&&(typeof jsonData==="undefined"?"undefined":_typeof(jsonData))===STRING){try{jsonData=JSON.parse(jsonData)}catch(e){_parser2.errorObject=e}}var rootNS=jsonData&&jsonData.graph?"graph":jsonData&&jsonData.map?"map":"chart",xmlData=_parser2(jsonData,rootNS,UNDEF,{});return{data:xmlData,error:_parser2.errorObject}}}(),getXMLData=function getXMLData(){return this.getChartData("xml")},setXMLData=function setXMLData(data){this.setChartData(data,"xml")},wrapper=function wrapper(FusionCharts){if(FusionCharts){FCGlobal=FusionCharts;FusionCharts.prototype.getXMLData=getXMLData;FusionCharts.prototype.setXMLData=setXMLData}return{format:format,toJSON:toJSON,fromJSON:fromJSON}};exports["default"]={extension:wrapper,name:"XML",type:"transcoder",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _eventApi=__webpack_require__(124);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var win=window,FCGlobal,UNDEF,COMMA=",",QUOTE='"',APOS="'",TAB="\t",CRLF="\r\n",LIT_QUOT="{quot}",LIT_TAB="{tab}",LIT_APOS="{apos}",toInt=win.parseInt,toFloat=win.parseFloat,returnFirstArgument=function returnFirstArgument(x){return x},jsonToCsv,csvToJson,multilevelPieCsv,_recursiveCategoryCall,multiPieData,multiPieLineCount,headerLen,counter;var DSV=function(){function DSV(config){_classCallCheck(this,DSV);this.data=[];this.rowCount=0;this.columnCount=0;this.configure(config)}DSV.prototype.set=function set(row,col,value){var i;if(this.rowCount<=row){for(i=this.rowCount;i<=row;i+=1){this.data[i]=[]}this.rowCount=row+1}if(this.columnCount<=col){this.columnCount=col+1}this.data[row][col]=value};DSV.prototype.setRow=function setRow(row,value){var i;if(this.rowCount<=row){for(i=this.rowCount;i<=row;i+=1){this.data[i]=[]}this.rowCount=row+1}if(this.columnCount<value.length){this.columnCount=value.length}this.data[row]=value};DSV.prototype.get=function get(row,col){var data=this.data;return data[row]&&data[row][col]};DSV.prototype.configure=function configure(config){var decodeLiterals=DSV.decodeLiterals;this.delimiter=decodeLiterals(config.delimiter,COMMA);this.qualifier=decodeLiterals(config.qualifier,QUOTE);this.eolCharacter=decodeLiterals(config.eolCharacter,CRLF);this.numberFormatted=!!toInt(config.numberFormatted,0)};DSV.prototype.clear=function clear(){this.data=[];this.rowCount=0;this.columnCount=0};DSV.prototype.toString=function toString(){var row,col,str="";for(row=0;row<this.rowCount;row+=1){col=this.qualifier+this.data[row].join(this.qualifier+this.delimiter+this.qualifier)+this.qualifier;str+=col==='""'?this.eolCharacter:col+this.eolCharacter}if(this.rowCount>0){str=str.slice(0,str.length-2)}return str};return DSV}();DSV.decodeLiterals=function(str,defaultValue){if(str===UNDEF||str===null||!str.toString){return defaultValue}return str.replace(LIT_TAB,TAB).replace(LIT_QUOT,QUOTE).replace(LIT_APOS,APOS)};_recursiveCategoryCall=function recursiveCategoryCall(catObj,csv){var label=catObj.label||"",i=void 0;multiPieData.push(label);counter++;headerLen=Math.max(headerLen,counter);if(catObj.category!==UNDEF){for(i=0;i<catObj.category.length;++i){_recursiveCategoryCall(catObj.category[i],csv)}multiPieData.pop();counter--}else{csv.setRow(multiPieLineCount++,multiPieData.slice());multiPieData.pop();counter--}};multilevelPieCsv=function multilevelPieCsv(data){var jsonData=data,chartAttrs=jsonData.chart,category=jsonData&&jsonData.category||[],categoryLen=category.length,i,header=[],catObj,csv;multiPieLineCount=1;headerLen=0;counter=0;csv=new DSV({separator:chartAttrs.exportdataseparator,qualifier:chartAttrs.exportdataqualifier,numberFormatted:chartAttrs.exportdataformattedval});for(i=0;i<categoryLen;++i){catObj=category[i];multiPieData=[];_recursiveCategoryCall(catObj,csv)}for(i=0;i<headerLen;++i){header.push("category")}csv.setRow(0,header);return{data:csv.toString(),error:UNDEF,predictedFormat:{multilevel:true}}};jsonToCsv=function jsonToCsv(data,fusionCharts){var jsondata=data,jsVars=fusionCharts&&fusionCharts.jsVars,args=fusionCharts&&fusionCharts.args,type=args&&args.type,iApi=jsVars&&jsVars.instanceAPI,csv,row,column,g,i,j,k,l,chartAttrs=jsondata.chart||jsondata.map||jsondata.graph||{},forceErrorColumns=Boolean(chartAttrs.exporterrorcolumns||0),categories=jsondata.categories&&jsondata.categories[0]&&jsondata.categories[0].category||[],isGeoPlot=jsondata.map&&!jsondata.chart||jsVars&&jsVars.instanceAPI&&jsVars.instanceAPI.defaultSeriesType==="geo",isXYPlot=false,isErrorPlot=false,isMapPlot=false,isOHLC=false,hasSum=false,doFormat=returnFirstArgument,predictedFormat={},datasets,lineset,axisset,dataCollectionLength,categoryLength,datasetLength,categoryItem,dataCollection,datasetItem,dataLength,dataItem,dataValue,errorValue,bumpColumnCount,summation=0,datasetArr,mapRows,mapColumns,entities,entityId,entity,options,dataset,dIndex=-1,dataStore,value,parentYAxis;if(type==="multilevelpie"){return multilevelPieCsv(data)}csv=new DSV({separator:chartAttrs.exportdataseparator,qualifier:chartAttrs.exportdataqualifier,numberFormatted:chartAttrs.exportdataformattedval});if(FCGlobal.formatNumber&&csv.numberFormatted){doFormat=function doFormat(x,axisIndex){return FCGlobal.formatNumber(x,chartAttrs,axisIndex)}}if(isGeoPlot){predictedFormat.geo=true;datasets=jsVars.instanceAPI.getDatasets();entities=datasets&&datasets[0]&&datasets[0].components.data||[];csv.setRow(0,["Id"," Short Name","Long Name","Value","Formatted Value"]);i=0;for(entityId in entities){entity=entities[entityId];options=entity.config;value=options.cleanValue;if(entity.hidden===true){continue}csv.setRow(++i,[entityId,options.shortLabel,options.label,value===null?"":value,options.formattedValue])}}else if((datasets=jsondata.dials&&jsondata.dials.dial||jsondata.pointers&&jsondata.pointers.pointer||jsondata.value)!==UNDEF){predictedFormat.gauge=true;if(typeof datasets==="string"){csv.set(0,0,doFormat(datasets));predictedFormat.singlevalue=true;if(typeof jsondata.target==="string"){csv.set(0,1,doFormat(jsondata.target));predictedFormat.bullet=true}}else{csv.setRow(0,["Id","Value"]);predictedFormat.multivalue=true;for(i=0,k=1,j=datasets.length;i<j;i+=1,k+=1){csv.setRow(k,[k,doFormat(datasets[i].value)])}}}else if(datasets=jsondata.dataset||!(jsondata.data instanceof Array)&&[]){predictedFormat.multiseries=true;column=1;lineset=jsondata.lineset;if(lineset){datasets=datasets.concat(lineset);predictedFormat.lineset=true}axisset=jsondata.axis;if(axisset){datasets=datasets.concat(axisset);predictedFormat.multiaxis=true}datasetLength=datasets.length;categoryLength=categories.length;if(!(datasetLength=datasets.length)){for(i=0;i<categoryLength;i+=1){categoryItem=categories[i];csv.set(i+1,0,categoryItem.label||categoryItem.name)}predictedFormat.multilevel=true}for(i=0;i<datasetLength;i+=1){dataCollection=datasets;if(dataCollection[i].dataset){dataCollection=dataCollection[i].dataset;g=0;dataCollectionLength=dataCollection.length}else{dataCollection=datasets;g=i;dataCollectionLength=g+1}for(;g<dataCollectionLength&&!isXYPlot&&!isMapPlot;g+=1){datasetItem=dataCollection[g];dIndex++;if(iApi&&(datasetArr=iApi.getDatasets())&&datasetArr[dIndex]&&datasetArr[dIndex].visible===false){continue}dataset=iApi&&datasetArr&&datasetArr[dIndex];parentYAxis=dataset&&dataset.config&&dataset.config.parentYAxis;csv.set(0,column,datasetItem.seriesname);if(typeof datasetItem.data==="string"){predictedFormat.compactdata=true;datasetItem.data=datasetItem.data.split(chartAttrs.dataseparator||"|")}for(j=0,k=0,dataLength=datasetItem.data&&datasetItem.data.length||0;j<dataLength||j<categoryLength;j+=1){categoryItem=categories[j];row=k+1;dataItem=datasetItem.data&&datasetItem.data[k]||{};if(dataItem.x!==UNDEF&&dataItem.y!==UNDEF){isXYPlot=predictedFormat.xy=true;break}if(dataItem.open!==UNDEF||dataItem.high!==UNDEF||dataItem.close!==UNDEF||dataItem.low!==UNDEF){isOHLC=predictedFormat.ohlc=true;break}if(dataItem.rowid!==UNDEF&&dataItem.columnid!==UNDEF){isMapPlot=predictedFormat.heatmap=true;break}if(j<categoryLength&&!categoryItem.vline){csv.set(row,0,categoryItem.label||categoryItem.name);dataValue=toFloat(dataItem?dataItem.value:"");dataValue=isNaN(dataValue)?"":doFormat(dataValue,parentYAxis);csv.set(row,column,dataValue);if(isErrorPlot||forceErrorColumns||dataItem.errorvalue){if(!isErrorPlot){csv.set(0,column+1,"Error")}bumpColumnCount=1;csv.set(row,column+1,doFormat(dataItem.errorvalue))}k+=1}}if(bumpColumnCount){column+=bumpColumnCount;bumpColumnCount=0}column+=1}}if(lineset){datasets=datasets.slice(0,-lineset.length)}if(axisset){datasets=datasets.slice(0,-axisset.length)}}else if(datasets=jsondata.data){csv.set(0,1,chartAttrs.yaxisname||"Value");predictedFormat.singleseries=true;hasSum=chartAttrs.showsumatend=="1";for(i=0,categoryLength=datasets.length;i<categoryLength;i+=1){dataItem=datasets[i];if(!dataItem.vline){dataValue=toFloat(dataItem.value?dataItem.value:"");csv.setRow(i+1,[dataItem.label||dataItem.name,isNaN(dataValue)?"":(summation+=dataValue,doFormat(dataValue))])}}if(hasSum){predictedFormat.summation=true;csv.setRow(i+1,[chartAttrs.sumlabel||"Total",doFormat(summation)])}}if(isOHLC){csv.clear();csv.setRow(0,["Open","Close","High","Low"]);for(i=0,row=1,datasets=jsondata.dataset,dataCollectionLength=datasets.length;i<dataCollectionLength;i+=1){for(j=0,datasetItem=datasets[i]&&datasets[i].data||[],datasetLength=datasetItem.length;j<datasetLength;j+=1,row+=1){dataItem=datasetItem[j]||{};csv.setRow(j+1,[doFormat(dataItem.open),doFormat(dataItem.close),doFormat(dataItem.high),doFormat(dataItem.low)])}}}else if(isXYPlot){csv.clear();isErrorPlot=false;bumpColumnCount=0;csv.setRow(0,["Series","x","y"]);for(i=0,row=1,datasets=jsondata.dataset,dataCollectionLength=datasets.length;i<dataCollectionLength;i+=1){if(iApi&&(datasetArr=iApi.getDatasets())&&datasetArr[i]&&datasetArr[i].visible===false){continue}for(j=0,datasetItem=datasets[i]&&datasets[i].data||[],datasetLength=datasetItem.length;j<datasetLength;j+=1,row+=1){dataItem=datasetItem[j]||{};dataValue=[datasets[i].seriesname,doFormat(dataItem.x),doFormat(dataItem.y)];if(dataItem.z!==UNDEF){dataValue.push(doFormat(dataItem.z));if(!bumpColumnCount){csv.set(0,3,"z");bumpColumnCount=1}}if(isErrorPlot||forceErrorColumns||dataItem.errorvalue!==UNDEF||dataItem.horizontalerrorvalue!==UNDEF||dataItem.verticalerrorvalue!==UNDEF){errorValue=doFormat(dataItem.errorvalue);dataValue.push(dataItem.errorvalue,dataItem.horizontalerrorvalue===UNDEF?errorValue:doFormat(dataItem.horizontalerrorvalue),dataItem.verticalerrorvalue===UNDEF?errorValue:doFormat(dataItem.verticalerrorvalue));if(!isErrorPlot){csv.set(0,bumpColumnCount+3,"Error");csv.set(0,bumpColumnCount+4,"Horizontal Error");csv.set(0,bumpColumnCount+5,"Vertical Error")}isErrorPlot=predictedFormat.error=true}csv.setRow(row,dataValue)}}}else if(isMapPlot){csv.clear();mapRows={};mapColumns={};for(i=0,j=1,categories=jsondata.rows&&jsondata.rows.row||[],l=categories.length;i<l;i+=1,j+=1){categoryItem=categories[i];if(categoryItem.id){mapRows[categoryItem.id.toLowerCase()]=j;csv.set(j,0,categoryItem.label||categoryItem.id)}}for(i=0,j=1,categories=jsondata.columns&&jsondata.columns.column||[],l=categories.length;i<l;i+=1,j+=1){categoryItem=categories[i];if(categoryItem.id){mapColumns[categoryItem.id.toLowerCase()]=j;csv.set(0,j,categoryItem.label||categoryItem.id)}}datasetItem=jsondata.dataset&&jsondata.dataset[0]&&jsondata.dataset[0].data||[];dataStore=iApi&&(datasetArr=iApi.getDatasets())&&datasetArr[0]&&datasetArr[0].components&&datasetArr[0].components.data||[];for(i=0,l=datasetItem.length;i<l;i+=1){dataItem=datasetItem[i];row=dataItem.rowid.toLowerCase();column=dataItem.columnid.toLowerCase();if(dataStore[i]&&dataStore[i].visible===false){continue}if(!mapRows[row]){mapRows[row]=csv.rowCount;csv.set(csv.rowCount,0,dataItem.rowid)}if(!mapColumns[column]){mapColumns[column]=csv.columnCount;csv.set(0,csv.columnCount,dataItem.columnid)}csv.set(mapRows[row],mapColumns[column],doFormat(dataItem.value))}}axisset=null;lineset=null;categories=null;datasets=null;if(csv.rowCount>0&&csv.get(0,0)===UNDEF){csv.set(0,0,chartAttrs.xaxisname||"Label")}return{data:csv.toString(),error:UNDEF,predictedFormat:predictedFormat}};csvToJson=function csvToJson(data,fusionCharts){(0,_eventApi.raiseError)(fusionCharts,"0604111215","run","csvToJson()","fusionCharts CSV data-handler only supports encoding of data.");return data};function getCSVData(){return this.getChartData("csv")}function getDataAsCSV(){return this.getCSVData()}function wrapper(FusionCharts){if(FusionCharts){FCGlobal=FusionCharts;FusionCharts.prototype.getDataAsCSV=getDataAsCSV;FusionCharts.prototype.getCSVData=getCSVData}return{format:"csv",toJSON:csvToJson,fromJSON:jsonToCsv}}exports["default"]={extension:wrapper,name:"csv",type:"transcoder",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _eventApi=__webpack_require__(124);var _urlTranscoderUtils=__webpack_require__(165);var BASE_FORMAT="json";var UNDEF=void 0;function fetchJSON(url,config,callback,silent,chartInstance){(0,_eventApi.triggerEvent)("dataLoadRequested",chartInstance,{source:_urlTranscoderUtils.sourceName,url:url,dataFormat:BASE_FORMAT,silent:!!silent,config:config,successcallback:callback},UNDEF,_urlTranscoderUtils.onDataLoadRequest,_urlTranscoderUtils.onDataLoadRequestCancel)}function setJSONUrl(url){this.setChartDataUrl(url,"jsonurl")}function wrapper(FusionCharts){FusionCharts&&(FusionCharts.prototype.setJSONUrl=setJSONUrl);return{format:"jsonurl",toJSON:fetchJSON}}exports["default"]={extension:wrapper,name:"JSONUrl",type:"transcoder",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.onDataLoadRequestCancel=exports.onDataLoadRequest=exports.sourceName=undefined;var _ajax=__webpack_require__(166);var _ajax2=_interopRequireDefault(_ajax);var _eventApi=__webpack_require__(124);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var SOURCE_NAME="XmlHttpRequest";var UNDEF=void 0;function onDataLoadComplete(event,args){event.sender.jsVars.stallLoad=false;event.sender.setChartData(args.dataSource,args.dataFormat,args.config,args.successcallback,args.silent)}function onDataLoadCancel(event,args){(0,_eventApi.triggerEvent)("dataLoadCancelled",event.sender,args);args.xmlHttpRequestObject.abort()}function xmlhttpSuccess(responseText,wrapper,data,url){var obj=data.obj,args=data.args;args.dataSource=responseText;args.xmlHttpRequestObject=wrapper;args.source=SOURCE_NAME;args.url=url;(0,_eventApi.triggerEvent)("dataLoadRequestCompleted",obj,args,UNDEF,onDataLoadComplete,onDataLoadCancel)}function xmlhttpFailure(resp,wrapper,data){var obj=data.obj,args=data.args;args.error=resp;args.httpStatus=wrapper.xhr&&wrapper.xhr.status?wrapper.xhr.status:-1;args.xmlHttpRequestObject=wrapper;(0,_eventApi.triggerEvent)("dataLoadError",obj,args)}function onDataLoadRequest(event,args){var chart=event.sender,state=chart.__state,url=args.url;chart.options.dataSource=args.url;if(!state.dhmXhrObj){state.dhmXhrObj=new _ajax2["default"](xmlhttpSuccess,xmlhttpFailure)}state.dhmXhrObj.get(typeof window.decodeURIComponent==="function"?window.decodeURIComponent(url):window.unescape(url),{obj:chart,args:args})}function onDataLoadRequestCancel(event,args){var chart=event.sender,state=chart.__state;(0,_eventApi.triggerEvent)("dataLoadRequestCancelled",chart,args);if(state&&state.dhmXhrObj){state.dhmXhrObj.abort()}}exports.sourceName=SOURCE_NAME;exports.onDataLoadRequest=onDataLoadRequest;exports.onDataLoadRequestCancel=onDataLoadRequestCancel},function(module,exports,__webpack_require__){"use strict";(function(global){exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _eventApi=__webpack_require__(124);var _lib=__webpack_require__(118);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var UNDEF,MSXMLHTTP="Microsoft.XMLHTTP",MSXMLHTTP2="Msxml2.XMLHTTP",FUNCTION="function",GET="GET",POST="POST",XHREQERROR="XmlHttprequest Error",RUN="run",ERRNO="1110111515A",win=window,version=parseFloat(win.navigator.appVersion.split("MSIE")[1]),ielt8=!!(version>=5.5&&version<=7),fileProtocol=win.location.protocol==="file:",AXObject=win.ActiveXObject,XHRNative=(!AXObject||!fileProtocol)&&win.XMLHttpRequest,counters={objects:0,xhr:0,requests:0,success:0,failure:0,idle:0},_newXmlHttpRequest=function newXmlHttpRequest(){var xmlhttp;if(XHRNative){_newXmlHttpRequest=function newXmlHttpRequest(){counters.xhr++;return new XHRNative};return _newXmlHttpRequest()}try{xmlhttp=new AXObject(MSXMLHTTP2);_newXmlHttpRequest=function newXmlHttpRequest(){counters.xhr++;return new AXObject(MSXMLHTTP2)}}catch(e){try{xmlhttp=new AXObject(MSXMLHTTP);_newXmlHttpRequest=function newXmlHttpRequest(){counters.xhr++;return new AXObject(MSXMLHTTP)}}catch(err){xmlhttp=false}}return xmlhttp};var Ajax=function(){function Ajax(success,error){_classCallCheck(this,Ajax);this.onSuccess=success;this.onError=error;this.open=false;counters.objects++;counters.idle++}Ajax.stats=function stats(type){return type?counters[type]:(0,_lib.extend2)({},counters)};Ajax.prototype.transact=function transact(method,url,data,callbackArgs){var wrapper=this,xmlhttp=wrapper.xmlhttp,headers=Ajax.headers,errorCallback=wrapper.onError,successCallback=wrapper.onSuccess,isPost=method===POST,postData,xRequestedBy="X-Requested-By",hasOwn=Object.prototype.hasOwnProperty,i;if(url.search(/^(http:\/\/|https:\/\/)/)!==-1&&win.location.hostname!==/(http:\/\/|https:\/\/)([^\/\:]*)/.exec(url)[2]){delete headers[xRequestedBy]}else{!hasOwn.call(headers,xRequestedBy)&&(headers[xRequestedBy]="FusionCharts")}if(!xmlhttp||ielt8||_lib.isFirefox){xmlhttp=_newXmlHttpRequest();wrapper.xmlhttp=xmlhttp}xmlhttp.onreadystatechange=function(){try{if(xmlhttp.readyState===4){if(!xmlhttp.status&&fileProtocol||xmlhttp.status>=200&&xmlhttp.status<300||xmlhttp.status===304||xmlhttp.status===1223||xmlhttp.status===0){successCallback&&successCallback(xmlhttp.responseText,wrapper,callbackArgs,url);counters.success++}else if(errorCallback){errorCallback(new Error(XHREQERROR),wrapper,callbackArgs,url);counters.failure++}counters.idle--;wrapper.open=false}}catch(error){if(errorCallback){errorCallback(error,wrapper,callbackArgs,url)}if(win.FC_DEV_ENVIRONMENT){setTimeout(function(){throw error},0)}counters.failure++}};try{xmlhttp.open(isPost?POST:GET,url,true);if(xmlhttp.overrideMimeType){xmlhttp.overrideMimeType("text/plain")}if(isPost){if(typeof data==="string"){postData=data}else{postData=[];for(i in data){postData.push(i+"="+(data[i]+"").replace(/\=/g,"%3D").replace(/\&/g,"%26"))}postData=postData.join("&")}}else{postData=null}for(i in headers){xmlhttp.setRequestHeader(i,headers[i])}xmlhttp.send(postData);counters.requests++;counters.idle++;wrapper.open=true}catch(e){(0,_eventApi.raiseError)(global.core,ERRNO,RUN,XHREQERROR,e.message)}return xmlhttp};Ajax.prototype.get=function get(url,callbackArgs){return this.transact(GET,url,UNDEF,callbackArgs)};Ajax.prototype.post=function post(url,data,callbackArgs){return this.transact(POST,url,data,callbackArgs)};Ajax.prototype.abort=function abort(){var instance=this,xmlhttp=instance.xmlhttp;instance.open=false;return xmlhttp&&_typeof(xmlhttp.abort)===FUNCTION&&xmlhttp.readyState&&xmlhttp.readyState!==0&&xmlhttp.abort()};Ajax.prototype.dispose=function dispose(){var instance=this;instance.open&&instance.abort();delete instance.onError;delete instance.onSuccess;delete instance.xmlhttp;delete instance.open;counters.objects--;return instance=null};return Ajax}();Ajax.headers={"If-Modified-Since":"Sat, 29 Oct 1994 19:43:31 GMT","X-Requested-With":"XMLHttpRequest","X-Requested-By":"FusionCharts",Accept:"text/plain, */*","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"};exports["default"]=Ajax}).call(this,__webpack_require__(111))},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _eventApi=__webpack_require__(124);var _urlTranscoderUtils=__webpack_require__(165);var BASE_FORMAT="xml";var UNDEF=void 0;function fetchXML(){var url=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var config=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var callback=arguments[2];var silent=arguments[3];var chartInstance=arguments[4];(0,_eventApi.triggerEvent)("dataLoadRequested",chartInstance,{source:_urlTranscoderUtils.sourceName,url:url,dataFormat:BASE_FORMAT,silent:!!silent,config:config,successcallback:callback},UNDEF,_urlTranscoderUtils.onDataLoadRequest,_urlTranscoderUtils.onDataLoadRequestCancel)}function setXMLUrl(url){this.setChartDataUrl(url,"xmlurl")}function setDataURL(){(0,_eventApi.raiseWarning)(this,"11171116293","run","JavaScriptRenderer~setDataURL()",'Use of deprecated "setDataURL()". Replace with "setXMLUrl()".');this.setXMLUrl.apply(this,arguments)}function wrapper(FusionCharts){FusionCharts&&(FusionCharts.prototype.setXMLUrl=setXMLUrl);FusionCharts&&(FusionCharts.prototype.setDataURL=setDataURL);return{format:"xmlurl",toJSON:fetchXML}}exports["default"]={extension:wrapper,name:"XMLUrl",type:"transcoder",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var QUOT='"',QUOTCOLON='":';function ignoreCaseExt(FusionCharts){FusionCharts.addEventListener("beforedataupdate",function(event,args){var dataSource=JSON.stringify(args.data);if(dataSource){args.data=JSON.parse(dataSource.replace(/"([^"]+)"[\s]*:/g,function(){return QUOT+arguments[1].toLowerCase()+QUOTCOLON}))}})}exports["default"]={extension:ignoreCaseExt,name:"IgnoreCaseExt",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _dependencyManager=__webpack_require__(125);var _eventApi=__webpack_require__(124);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,BLANK="",OBJECTSTRING="object",arrayToStr="[object Array]",objectToStr="[object Object]",themer=void 0,isImportantRegEx=/\s+!important$/,importantStrRegEx=/\\!important$/,getValueFromObjProperty=function getValueFromObjProperty(obj,prop){var val,key;prop=(prop+"").toLowerCase();for(key in obj){if(obj.hasOwnProperty(key)&&prop===(key+"").toLowerCase()){val=obj[key];break}}return val},trimString=function trimString(str){str=str.replace(/^\s\s*/,"");var ws=/\s/,i=str.length;while(ws.test(str.charAt(i-=1))){}return str.slice(0,i+1)},getRegisteredThemes=function getRegisteredThemes(addedThemes){var themes={},theme=void 0;for(var key in addedThemes){if(addedThemes.hasOwnProperty(key)){theme=addedThemes[key];themes[theme.name]=theme}}return themes},checkCyclicRef=function checkCyclicRef(obj,parentArr){var i=parentArr.length,bIndex=-1;while(i--){if(obj===parentArr[i]){bIndex=i;return bIndex}}return bIndex},merge=function merge(obj1,obj2,skipUndef,tgtArr,srcArr){var item,srcVal,tgtVal,str,cRef;if(!srcArr){tgtArr=[obj1];srcArr=[obj2]}else{tgtArr.push(obj1);srcArr.push(obj2)}if(obj2 instanceof Array){for(item=0;item<obj2.length;item+=1){try{srcVal=obj1[item];tgtVal=obj2[item]}catch(e){continue}if((typeof tgtVal==="undefined"?"undefined":_typeof(tgtVal))!==OBJECTSTRING){if(!(skipUndef&&tgtVal===UNDEF)){obj1[item]=tgtVal}}else{if(srcVal===null||(typeof srcVal==="undefined"?"undefined":_typeof(srcVal))!==OBJECTSTRING){srcVal=obj1[item]=tgtVal instanceof Array?[]:{}}cRef=checkCyclicRef(tgtVal,srcArr);if(cRef!==-1){srcVal=obj1[item]=tgtArr[cRef]}else{merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr)}}}}else{for(item in obj2){try{srcVal=obj1[item];tgtVal=obj2[item]}catch(e){continue}if(tgtVal!==null&&(typeof tgtVal==="undefined"?"undefined":_typeof(tgtVal))===OBJECTSTRING){str=Object.prototype.toString.call(tgtVal);if(str===objectToStr){if(srcVal===null||(typeof srcVal==="undefined"?"undefined":_typeof(srcVal))!==OBJECTSTRING){srcVal=obj1[item]={}}cRef=checkCyclicRef(tgtVal,srcArr);if(cRef!==-1){srcVal=obj1[item]=tgtArr[cRef]}else{merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr)}}else if(str===arrayToStr){if(srcVal===null||!(srcVal instanceof Array)){srcVal=obj1[item]=[]}cRef=checkCyclicRef(tgtVal,srcArr);if(cRef!==-1){srcVal=obj1[item]=tgtArr[cRef]}else{merge(srcVal,tgtVal,skipUndef,tgtArr,srcArr)}}else{obj1[item]=tgtVal}}else{obj1[item]=tgtVal}}}return obj1},extend2=function extend2(obj1,obj2,skipUndef){if((typeof obj1==="undefined"?"undefined":_typeof(obj1))!==OBJECTSTRING&&(typeof obj2==="undefined"?"undefined":_typeof(obj2))!==OBJECTSTRING){return null}if((typeof obj2==="undefined"?"undefined":_typeof(obj2))!==OBJECTSTRING||obj2===null){return obj1}if((typeof obj1==="undefined"?"undefined":_typeof(obj1))!==OBJECTSTRING){obj1=obj2 instanceof Array?[]:{}}merge(obj1,obj2,skipUndef);return obj1},checkImportance=function checkImportance(value){var returnObj={important:false,str:BLANK};if(!value){return returnObj}value=value.toString();if(isImportantRegEx.test(value)){value=value.replace(isImportantRegEx,BLANK);returnObj.important=true}else{value=value.replace(importantStrRegEx,"!imporant");returnObj.important=false}returnObj.str=value;return returnObj},mergeThemeWithData=function mergeThemeWithData(dataJSON,themeComponent){var items=themeComponent.getAll(),key,valStr,imp;for(key in items){valStr=items[key].toString();imp=checkImportance(valStr);if(imp.important){dataJSON[key.toLowerCase()]=imp.str}else if(dataJSON[key.toLowerCase()]===UNDEF){dataJSON[key.toLowerCase()]=imp.str}}},onChartTypeChange=function onChartTypeChange(eventObj,args){var chartObj=eventObj.sender,dataObj=chartObj.getChartData(),chartTheme;if(!dataObj.error){chartTheme=dataObj&&(dataObj.chart&&dataObj.chart.theme||dataObj.map&&dataObj.map.theme);if(chartTheme){if(dataObj.map){dataObj.chart=dataObj.map;delete dataObj.map}themer.themify(chartTheme,chartObj,chartObj.chartType(),dataObj,args.defaultSeriesType==="geo"&&"geo")}else{chartObj.jsVars&&chartObj.jsVars.themeObject&&chartObj.jsVars.themeObject.dispose()}}},recursiveApply=function recursiveApply(dataObj,themeObject){var key,dataItem,themeComponent,item,i,ii,vLineIndex=0,catIndex=0;for(key in dataObj){dataItem=dataObj[key];if(dataItem instanceof Array){ii=dataItem.length;for(i=0;i<ii;i+=1){item=dataItem[i];if((typeof item==="undefined"?"undefined":_typeof(item))==="object"){if(key==="category"){if(item.vline==="true"){themeComponent=themeObject.component("vline",vLineIndex,item);if(themeComponent){mergeThemeWithData(item,themeComponent);vLineIndex+=1}}else{themeComponent=themeObject.component("category",catIndex,item,ii);if(themeComponent){mergeThemeWithData(item,themeComponent);catIndex+=1}}}else{themeComponent=themeObject.component(key,i,item,ii);if(themeComponent){mergeThemeWithData(item,themeComponent);recursiveApply(item,themeComponent)}}}}}else if((typeof dataItem==="undefined"?"undefined":_typeof(dataItem))==="object"){themeComponent=themeObject.component(key,null,dataItem);if(themeComponent){mergeThemeWithData(dataItem,themeComponent);recursiveApply(dataItem,themeComponent)}}}};var ThemeManager=function(_ComponentInterface){_inherits(ThemeManager,_ComponentInterface);function ThemeManager(){_classCallCheck(this,ThemeManager);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}ThemeManager.prototype.configure=function configure(){!this.config.themeStore&&(this.config.themeStore={})};ThemeManager.prototype.add=function add(themeJSON){var tm=this,i=0,ii=themeJSON.length,themeName;for(;i<ii;i+=1){themeName=themeJSON[i].name;if(themeName){tm.config.themeStore[themeName]=themeJSON[i]}}};ThemeManager.prototype.themify=function themify(themeName,chartInstance,chartType,chartDefinition,additionalBase){var tm=this,jsVars=chartInstance.jsVars,themes=themeName.split(","),themeArr=[],ii=themes.length,themeJSON,i;tm.config.themeStore=getRegisteredThemes((0,_dependencyManager.getDepsByType)("theme"));if(ii){for(i=0;i<ii;i+=1){themeJSON=tm.config.themeStore[trimString(themes[i])];themeJSON&&themeArr.push(ThemeManager.evaluateThemeJSON(themeJSON.theme,chartInstance,chartType,additionalBase))}if(themeArr.length){jsVars.themeObject=new ThemeInstance(themeArr,chartInstance,false,chartDefinition);ThemeManager.applyTheme(chartInstance);if(!tm._attachedListeners){chartInstance.addEventListener("chartTypeChanged",onChartTypeChange);tm._attachedListeners=true}}else{(0,_eventApi.raiseWarning)(chartInstance,"14051100501","run","api.themes~themify()",'The theme "'+themeName+'" requested has not been registered.')}}};ThemeManager.evaluateThemeJSON=function evaluateThemeJSON(themeObject,chartInstance,chartType,additionalBase){var evaledTheme={},jsVars=chartInstance.jsVars,additionalBaseObj,chartAttribObj,evaluator=function evaluator(tblock){var key,item;for(key in tblock){item=tblock[key];if(item instanceof Array){evaledTheme[key]=extend2(evaledTheme[key]||[],item)}else if((typeof item==="undefined"?"undefined":_typeof(item))==="object"){evaledTheme[key]=extend2(evaledTheme[key]||{},item)}else{evaledTheme[key]=item}}};chartType=chartType||chartInstance.chartType();if(jsVars.themeObject&&themeObject!==jsVars.themeObject){jsVars.themeObject.dispose();delete jsVars.themeObject}evaluator(getValueFromObjProperty(themeObject,"base"));additionalBase&&(additionalBaseObj=getValueFromObjProperty(themeObject,additionalBase));additionalBaseObj&&evaluator(additionalBaseObj);chartType&&(chartAttribObj=getValueFromObjProperty(themeObject,chartType));chartAttribObj&&evaluator(chartAttribObj);return evaledTheme};ThemeManager.applyTheme=function applyTheme(chartInstance){var themeObj=chartInstance.jsVars.themeObject,themedData=themeObj.getThemedJSONData().data;if(themedData){recursiveApply(themedData,themeObj)}};return ThemeManager}(_componentInterface2["default"]);var ThemeInstance=function(_ComponentInterface2){_inherits(ThemeInstance,_ComponentInterface2);function ThemeInstance(themeJSONArr,parent,isChildInstance,chartDefinition){_classCallCheck(this,ThemeInstance);var _this2=_possibleConstructorReturn(this,_ComponentInterface2.call(this));var i=0,ii;_this2.themeArray=themeJSONArr;_this2.themeComponents={};_this2.base={};_this2.chartInstance=parent;_this2.isChildInstance=Boolean(isChildInstance);_this2.themedData=isChildInstance?null:extend2({},chartDefinition);_this2.length=themeJSONArr.length;ii=themeJSONArr.length;for(;i<ii;i+=1){_this2.parse(themeJSONArr[i])}return _this2}ThemeInstance.prototype.pushTheme=function pushTheme(themeJSON){if(themeJSON){this.themeArray.push(themeJSON);this.parse(themeJSON);this.length+=1}};ThemeInstance.prototype.parse=function parse(themeJSON){var ti=this,components=ti.themeComponents,parent=ti.chartInstance,base=ti.base,componentArr,key,imp1,imp2,block;block=themeJSON;for(key in block){if(typeof block[key]==="string"||typeof block[key]==="number"){if(base[key]){imp1=checkImportance(block[key]);imp2=checkImportance(base[key]);if(imp1.important||!imp2.important){base[key]=block[key]}}else{base[key]=block[key]}}else{if(!components[key]){components[key]=[]}componentArr=components[key];if(block[key]instanceof Array){componentArr.push(extend2([],block[key]))}else if(_typeof(block[key])==="object"){componentArr.push(new ThemeInstance([block[key]],parent,true))}else if(typeof block[key]==="function"){componentArr.push(block[key])}}}};ThemeInstance.prototype.merge=function merge(instance){var ti=this,thisBase=ti.base,thatBase=instance.base,thisComponents=ti.themeComponents,thatComponents=instance.themeComponents,imp1,imp2,key;for(key in thatBase){imp1=checkImportance(thisBase[key]);imp2=checkImportance(thatBase[key]);if(!imp1.important||imp2.important){thisBase[key]=thatBase[key]}}for(key in thatComponents){if(thisComponents[key]){thisComponents[key]=thisComponents[key].concat(thatComponents[key])}else{thisComponents[key]=[].concat(thatComponents[key])}}ti.length+=instance.length};ThemeInstance.prototype.get=function get(key){return this.base[key]};ThemeInstance.prototype.getAll=function getAll(){return extend2({},this.base)};ThemeInstance.prototype.component=function component(key,index,dataJSON,length){var ti=this,components=ti.themeComponents,parent=ti.chartInstance,returnInstance=new ThemeInstance([],parent,true),item,i,ii,len,componentArr,each;componentArr=components[key];if(!componentArr){return null}for(i=0,ii=componentArr.length;i<ii;i+=1){each=componentArr[i];if(typeof each==="function"){index=index||0;returnInstance.pushTheme(each.call(parent,index,dataJSON,length))}else{if(each instanceof Array){index=index||0;len=each.length;index=index%len;item=each[index];if(item instanceof ThemeInstance){returnInstance.merge(item)}else{if(typeof item==="function"){returnInstance.pushTheme(item.call(parent,index,dataJSON,length))}else{returnInstance.pushTheme(item)}}}else{if(each instanceof ThemeInstance){returnInstance.merge(each)}else{returnInstance.pushTheme(each)}}}}return returnInstance};ThemeInstance.prototype.getThemedJSONData=function getThemedJSONData(){return{data:this.themedData}};ThemeInstance.prototype.dispose=function dispose(){var ti=this,components=ti.themeComponents,chartObj=ti.chartInstance,key,i;for(key in components){i=components[key].length;if(i){while(i--){components[key][i].dispose&&components[key][i].dispose()}delete components[key]}}if(!ti.isChildInstance){chartObj.removeEventListener("chartTypeChanged",onChartTypeChange)}ti.themeComponents=null;ti.chartInstance=null;ti.base=null;ti.themeArray=null;ti.isChildInstance=null;ti.dataWithoutTheme=null};return ThemeInstance}(_componentInterface2["default"]);themer=new ThemeManager;themer.configure();function FCPlugger(FusionCharts){FusionCharts.addEventListener("internal.drawStart",function(eventObj,args){var chartObj=eventObj.sender,type,themeStore=getRegisteredThemes((0,_dependencyManager.getDepsByType)("theme")),i,dataObj=chartObj.getChartData(),globalThemeName=FusionCharts.options.defaultTheme,chartThemeName=dataObj&&(dataObj.chart&&dataObj.chart.theme||dataObj.map&&dataObj.map.theme),themeName=(globalThemeName||chartThemeName)&&(globalThemeName||"")+","+(chartThemeName||""),themeArray=themeName&&themeName.split(","),themeArrayLen=themeArray&&themeArray.length,hasValidTheme=false,theme;for(i=0;i<themeArrayLen;i++){theme=trimString(themeArray[i]);if(themeStore&&theme!==""&&themeStore.hasOwnProperty(theme)){hasValidTheme=true}}if(hasValidTheme){type=chartObj.chartType();if(dataObj.map){dataObj.chart=dataObj.map;delete dataObj.map}themer.themify(themeName,chartObj,type,dataObj,args.defaultSeriesType==="geo"&&"geo")}else if(chartObj.jsVars&&chartObj.jsVars.themeObject){chartObj.jsVars&&chartObj.jsVars.themeObject.dispose();chartObj.jsVars&&delete chartObj.jsVars.themeObject}})}exports["default"]={extension:FCPlugger,name:"ThemeEngine",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;
/** !
 * @license FusionCharts JavaScript Library
 * Copyright FusionCharts Technologies LLP
 * License Information at <http://www.fusioncharts.com/license>
 */var themeObject={name:"default",theme:{base:{chart:{labelDisplay:"stagger !important",caption:"Theme Caption \\!important",canvasBgColor:"#56EF22",borderThickness:"5 !important",borderColor:"#E60539",baseFontColor:"#781129"},categories:[{fontColor:"#0F4F40",fontSize:15,category:function category(index){return{showLabel:index%2?0:1}},vline:{color:"#000000",thickness:2}}],dataset:[{color:"#8C3146",data:function data(index,dataObj){if(index==8){dataObj.value=""}return{color:Number(dataObj.value)<32e3?"#8C3146":"#FF0000",alpha:"100"}}}],trendlines:[{line:function line(index){if(index){return{color:"#ff0000",thickness:3}}else{return{color:"#ffff00",thickness:3}}}}]},pie2d:{chart:{bgColor:"#FF0000"}},msline:{chart:{canvasBgColor:"#ff0000"}},geo:{chart:{canvasBgColor:"#0000ff"}},world:{chart:{canvasBgColor:"#00ff00"}}}};exports["default"]={extension:themeObject,name:"DefaultTheme",type:"theme"}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _pointColor=__webpack_require__(172);var _pointColor2=_interopRequireDefault(_pointColor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var UNDEF=void 0,hm=void 0,hexcode=/^#?[0-9a-f]{6}/i,BLANKSTRING="",COLOR_BLACK="000000",whiteHex=/FFFFFF/i,whiteRgb=/255,255,255/,rgbaToHex=function rgbaToHex(rgb){rgb=rgb.replace("rgba(","").split(",");return"#"+(COLOR_BLACK+(rgb[0]<<16|rgb[1]<<8|rgb[2]).toString(16)).slice(-6)},reduceAlpha=function reduceAlpha(alpha,userAlpha){var i,alphaArr,result=[];if(typeof alpha==="number"){return userAlpha}else{alphaArr=alpha.split&&alpha.split(",");for(i=0;i<alphaArr.length;i++){result.push(userAlpha)}return result.join()}},getAlpha=function getAlpha(color){var rgb;if(/rgb/.test(color)){rgb=color.match(/[\d\.]+\)/g);return parseFloat(rgb&&rgb[0])}else if(color.FCcolor){return(0,_libGraphics.getFirstAlpha)(color.FCcolor.alpha)}},removeHighlightStateCosmetics=function removeHighlightStateCosmetics(legendItems){legendItems.forEach(function(item){item.removeStateCosmetics("highlight")})},setDataLabelAttrs=function setDataLabelAttrs(animationManager,label,confObj,defaultAttr,hover){var color,valueFontColor,alpha,valueFontAlpha,valueBgAlpha,valueBgColor,valueBorderColor,valueBorderAlpha,backgroundColor,borderColor;color=rgbaToHex(defaultAttr.color);alpha=getAlpha(defaultAttr.color)*100;valueFontColor=hover?(0,_lib.pluck)(confObj.valuefontcolor,color):color;valueFontAlpha=hover?(0,_lib.pluck)(confObj.valuefontalpha,confObj.alpha,alpha):alpha;color=defaultAttr.backgroundColor===BLANKSTRING?BLANKSTRING:rgbaToHex(defaultAttr.backgroundColor);alpha=defaultAttr.backgroundColor===BLANKSTRING?0:getAlpha(defaultAttr.backgroundColor)*100;if(isNaN(alpha)){alpha=0}valueBgColor=hover?(0,_lib.pluck)(confObj.valuebgcolor,color):color;valueBgAlpha=hover?(0,_lib.pluck)(confObj.valuebgalpha,confObj.alpha,alpha):alpha;backgroundColor=(0,_lib.toRaphaelColor)({color:valueBgColor,alpha:valueBgAlpha});color=defaultAttr.borderColor===BLANKSTRING?BLANKSTRING:rgbaToHex(defaultAttr.borderColor);alpha=defaultAttr.borderColor===BLANKSTRING?BLANKSTRING:getAlpha(defaultAttr.borderColor)*100;if(isNaN(alpha)){alpha=0}valueBorderColor=hover?(0,_lib.pluck)(confObj.valuebordercolor,color):color;valueBorderAlpha=hover?(0,_lib.pluck)(confObj.valueborderalpha,confObj.alpha,alpha):alpha;borderColor=(0,_lib.toRaphaelColor)({color:valueBorderColor,alpha:valueBorderAlpha});label&&animationManager.setAnimation({el:label,label:"highlightedDataLabel",attr:{fill:(0,_lib.toRaphaelColor)({color:valueFontColor,alpha:valueFontAlpha}),"text-bound":[backgroundColor,borderColor,defaultAttr.borderThickness,defaultAttr.borderPadding,defaultAttr.borderRadius,defaultAttr.borderDash]}})},parseConfStr=function parseConfStr(confStr){var str=confStr.split(","),index,len,arr,obj={},name,value;for(index=0,len=str.length;index<len;index++){arr=str[index].split("=");name=arr[0];value=arr[1];obj[name]=value}return obj},getColor=function getColor(color,confObj){var attr,colorObj={},colorString;for(attr in color){if(attr==="alpha"){colorObj[attr]=confObj.alpha?reduceAlpha(color[attr],confObj.alpha):color[attr]}else if(attr==="color"){if(color[attr].indexOf(",")!==-1&&confObj.color){colorString=confObj.color+","+color[attr].substring(color[attr].indexOf(",")+1)}colorObj[attr]=(0,_lib.pluck)(colorString||confObj.color,color[attr])}else{colorObj[attr]=color[attr]}}return colorObj},parseColor=function parseColor(color,confObj,hover){var hAlpha,hColor,confColor=confObj.color;if(/rgb/.test(color)){hAlpha=(0,_lib.pluck)(confObj.alpha,getAlpha(color)*100);if(/rgb/.test(confColor)){confColor=rgbaToHex(confColor)}hColor=hover?(0,_lib.toRaphaelColor)({color:(0,_lib.pluck)(confColor,rgbaToHex(color)),alpha:hAlpha}):color}else if(color.FCcolor){hColor=hover?(0,_lib.toRaphaelColor)(getColor(color.FCcolor,confObj)):(0,_lib.toRaphaelColor)(color.FCcolor)}else if(hexcode.test(color.color||color)){hColor=hover?(0,_lib.toRaphaelColor)({color:(0,_lib.pluck)(confObj.color,color.color,color),alpha:(0,_lib.pluck)(confObj.alpha,color.alpha)}):(0,_lib.toRaphaelColor)({color:color.color||color,alpha:color.alpha})}return hColor},setBoxAndWhiskerAttrs=function setBoxAndWhiskerAttrs(animationManager,plotItem,plotData,confObj,hover,isRoundEdges){var lowerboxColor={},upperboxColor={},upperboxDefColor,lowerboxDefColor,medianColor,upperBoxBorderColor,lowerBoxBorderColor,lowerQuartileColor,upperQuartileColor,elem;if(hover){upperboxDefColor=(0,_libGraphics.getColumnColor)(confObj.color||plotData.upperColorArr[0].FCcolor.color,confObj.alpha.toString(),plotData.upperColorArr[0].FCcolor.ratio,plotData.upperColorArr[0].FCcolor.angle,isRoundEdges,confObj.bordercolor||rgbaToHex(plotData.upperBoxBorder.color),confObj.borderalpha&&confObj.borderalpha.toString()||(getAlpha(plotData.lowerBoxBorder.color)*100).toString());upperboxColor=(0,_lib.toRaphaelColor)(upperboxDefColor[0]);lowerboxDefColor=(0,_libGraphics.getColumnColor)(confObj.color||plotData.lowerColorArr[0].FCcolor.color,confObj.alpha.toString(),plotData.lowerColorArr[0].FCcolor.ratio,plotData.lowerColorArr[0].FCcolor.angle,isRoundEdges,confObj.bordercolor||rgbaToHex(plotData.lowerBoxBorder.color),confObj.borderalpha&&confObj.borderalpha.toString()||(getAlpha(plotData.lowerBoxBorder.color)*100).toString());lowerboxColor=(0,_lib.toRaphaelColor)(lowerboxDefColor[0]);medianColor=parseColor(plotData.median.color,confObj,hover);lowerQuartileColor=parseColor(plotData.lowerQuartile.color,confObj,hover);upperQuartileColor=parseColor(plotData.upperQuartile.color,confObj,hover)}else{upperboxColor=(0,_lib.toRaphaelColor)(plotData.upperColorArr[0]);lowerboxColor=(0,_lib.toRaphaelColor)(plotData.lowerColorArr[0]);medianColor=plotData.median.color;upperBoxBorderColor=plotData.upperBoxBorder.color;lowerBoxBorderColor=plotData.lowerBoxBorder.color;upperQuartileColor=plotData.upperQuartile.color;lowerQuartileColor=plotData.lowerQuartile.color}elem=plotItem.upperBoxElem;animationManager.setAnimation({el:elem,label:"highlightedBoxAnsWhiskerPlot",attr:{fill:upperboxColor,"drop-shadow":elem.attrs["drop-shadow"]&&elem.attrs["drop-shadow"]!=="none"?[1,1,3,"rgba(64,64,64,"+getAlpha(upperboxColor)+")",elem.attrs[4],elem.attrs["drop-shadow"][5]]:"none"}});elem=plotItem.lowerBoxElem;animationManager.setAnimation({el:elem,label:"highlightedBoxAnsWhiskerPlot",attr:{fill:lowerboxColor,"drop-shadow":elem.attrs["drop-shadow"]&&elem.attrs["drop-shadow"]!=="none"?[1,1,3,"rgba(64,64,64,"+getAlpha(lowerboxColor)+")",elem.attrs[4],elem.attrs["drop-shadow"][5]]:"none"}});elem=plotItem.lowerBoxBorderEle;animationManager.setAnimation({el:elem,label:"highlightedBoxAnsWhiskerPlot",attr:{stroke:lowerBoxBorderColor}});plotItem.upperBoxBorderEle&&animationManager.setAnimation({el:plotItem.upperBoxBorderEle,label:"highlightedBoxAnsWhiskerPlot",attr:{stroke:upperBoxBorderColor}});plotItem.lowerQuartileEle&&animationManager.setAnimation({el:plotItem.lowerQuartileEle,label:"highlightedBoxAnsWhiskerPlot",attr:{stroke:lowerQuartileColor}});plotItem.upperQuartileEl&&animationManager.setAnimation({el:plotItem.upperQuartileEl,label:"highlightedBoxAnsWhiskerPlot",attr:{stroke:upperQuartileColor}});plotItem.midLineElem&&animationManager.setAnimation({el:plotItem.midLineElem,label:"highlightedBoxAnsWhiskerPlot",attr:{stroke:medianColor}})},setDataObjectAttrs=function setDataObjectAttrs(dataset,confObj,hover){var chart=dataset.getFromEnv("chart"),animationManager=dataset.getFromEnv("animationManager"),config=chart.config,dataLabelStyle=chart.config.dataLabelStyle,dataStore=dataset.components.data,j,len,dataGraphics,anchorProps,anchorPropObj,elemType,dataObj,element,type,anchorEnabled;for(j=0,len=dataStore.length;j<len;j++){dataObj=dataStore[j];if(!dataObj){continue}dataGraphics=dataObj.graphics;config=dataObj.config;anchorProps=config.anchorProps;anchorEnabled=anchorProps.enabled;anchorPropObj={fillColor:{FCcolor:{alpha:hover&&anchorEnabled?(0,_lib.pluck)(confObj.anchorbgalpha,confObj.alpha,anchorProps.bgAlpha):anchorProps.bgAlpha,color:hover&&anchorEnabled?(0,_lib.pluck)(confObj.anchorbgcolor,confObj.color,anchorProps.bgColor):anchorProps.bgColor}},borderColor:{FCcolor:{alpha:hover&&anchorEnabled?(0,_lib.pluck)(confObj.borderalpha,confObj.alpha,anchorProps.borderAlpha):anchorProps.borderAlpha,color:hover&&anchorEnabled?(0,_lib.pluck)(confObj.anchorbordercolor,confObj.color,anchorProps.borderColor):anchorProps.borderColor}},imageAlpha:hover?confObj.alpha:anchorProps.imageAlpha,imageScale:anchorProps.imageScale};for(elemType in dataGraphics){element=!elemType.match(/error/gi)&&dataGraphics[elemType];type=element&&element.type;switch(type){case"path":animationManager.setAnimation({el:element,label:"highlightedAnchorPlot",attr:{fill:(0,_lib.toRaphaelColor)(anchorPropObj.fillColor),stroke:(0,_lib.toRaphaelColor)(anchorPropObj.borderColor)}});break;case"image":animationManager.setAnimation({el:element,label:"highlightedAnchorImagePlot",attr:{opacity:anchorPropObj.imageAlpha/100}});break;case"text":setDataLabelAttrs(animationManager,element,confObj,dataLabelStyle,hover);break}}}},setLegendAttrs=function setLegendAttrs(legendItem,legendElements,legendProps,confObj,hover){var symbolAttr=legendItem.getStateCosmetics("default").symbol||{},symbolfillColor=symbolAttr.fill,symbolstrokeColor=symbolAttr.stroke,textColor=hover?(0,_lib.pluck)(confObj.color,rgbaToHex(legendProps.text.fill)):rgbaToHex(legendProps.text.fill),legendItemLine=legendElements.legendItemLine,itemLineColor=legendProps.symbol.stroke,lineColor,animationManager=legendItem.getFromEnv("animationManager");if(legendItemLine){if(itemLineColor){if(hexcode.test(itemLineColor)){animationManager.setAnimation({el:legendItemLine,label:"highlightedLegendItem",attr:{stroke:hover?(0,_lib.toRaphaelColor)({color:(0,_lib.pluck)(confObj.color,itemLineColor),alpha:confObj.alpha}):itemLineColor}})}else{lineColor=parseColor(itemLineColor,confObj,hover);animationManager.setAnimation({el:legendItemLine,label:"highlightedLegendItem",attr:{stroke:lineColor}})}}}if(symbolfillColor){if(symbolfillColor.match(hexcode)){symbolfillColor=hover&&!whiteHex.test(symbolfillColor)?(0,_lib.toRaphaelColor)({color:confObj.color||symbolfillColor,alpha:confObj.alpha}):symbolfillColor}else{symbolfillColor=!whiteRgb.test(symbolfillColor)?parseColor(symbolfillColor,confObj,hover):symbolfillColor}}if(symbolstrokeColor){if(hexcode.test(symbolstrokeColor)){symbolstrokeColor=hover&&!whiteHex.test(symbolstrokeColor)?(0,_lib.toRaphaelColor)({color:confObj.color||symbolstrokeColor,alpha:confObj.alpha}):symbolstrokeColor}else{symbolstrokeColor=hover&&!whiteRgb.test(symbolstrokeColor)?confObj.color?(0,_lib.toRaphaelColor)({color:confObj.color,alpha:confObj.alpha}):symbolstrokeColor:symbolstrokeColor}}legendItem.setStateCosmetics("highlight",{symbol:{fill:symbolfillColor||"none",stroke:symbolstrokeColor||"none",opacity:(hover?confObj.alpha:100)/100},text:{fill:(0,_lib.toRaphaelColor)({color:textColor,alpha:hover?confObj.alpha:100})}});if(!legendItem.hasState("hidden")){legendItem.setLegendState("highlight",true)}},getLegendGraphics=function getLegendGraphics(chart,legendItemId){var legend=chart.getFromEnv("legend"),legendItem=legend.getItem(legendItemId);return legendItem&&legendItem.getGraphicalElement()},fadeout={area:function area(confStr,hover,isActive){var dataset=this,chart=dataset.getFromEnv("chart"),animationManager=dataset.getFromEnv("animationManager"),config=chart.config,legend=chart.getFromEnv("legend"),legendItems=legend.getChildren("legendItem")||[],legendItem,i,legendItemId=arguments[4],len=legendItems.length,plotGradientColor,confObj=parseConfStr(confStr),legendGraphics=getLegendGraphics(chart,legendItemId),dataLabelStyle=config.dataLabelStyle,dataLabelContainer=dataset.getContainer("labelGroup"),conf=dataset.config,plotBorderColor,areaFillColor,areaFillAlpha,areaBorderColor,areaBorderAlpha,plotBorderAlpha,highlightColor,revertColor,lineElement,areaFillAngle,plotFillAlpha,shadow=conf.shadow||{},hasShadow=shadow.opacity>0,shadowOpacity;if(!isActive&&dataset.getState("visible")){confObj.alpha=confObj.alpha||30;for(i=0;i<len;i++){legendItem=legendItems[i]||{};if(legendItem.getId()===legendItemId){break}}if(dataLabelContainer){animationManager.setAnimation({el:dataLabelContainer,label:"highlightedGroup",attr:{opacity:hover?confObj.alpha/100:getAlpha(dataLabelStyle.color)}})}plotBorderColor=conf.plotbordercolor;plotBorderAlpha=conf.plotborderalpha;plotFillAlpha=conf.plotfillalpha;plotGradientColor=conf.plotgradientcolor;lineElement=dataset.getGraphicalElement("lineElement")||dataset.getGraphicalElement("splineElement");areaBorderColor=hover?(0,_lib.pluck)(confObj.bordercolor,confObj.color,plotBorderColor):plotBorderColor;if(confObj.color){highlightColor=confObj.color+(plotGradientColor?","+plotGradientColor:BLANKSTRING)}revertColor=conf.fillColor.color;areaFillColor=hover?(0,_lib.pluck)(highlightColor,revertColor):revertColor;areaFillAngle=conf.plotfillangle;areaFillAlpha=hover?confObj.alpha:plotFillAlpha;areaBorderAlpha=hover?(0,_lib.pluck)(confObj.borderalpha,confObj.alpha):plotBorderAlpha;shadowOpacity=hasShadow?hover?confObj.alpha/100:areaFillAlpha/100:false;animationManager.setAnimation({el:lineElement,label:"highlightedAreaPlot",attr:{fill:(0,_lib.toRaphaelColor)({color:areaFillColor,alpha:areaFillAlpha,angle:areaFillAngle}),stroke:(0,_lib.toRaphaelColor)({color:areaBorderColor,alpha:areaBorderAlpha})}});lineElement.shadow(shadowOpacity);if(legendGraphics){setLegendAttrs(legendItem,legendGraphics,legendItem.parseLegendCosmetics(),confObj,hover)}setDataObjectAttrs(dataset,confObj,hover)}},bubble:function bubble(confStr,hover,isActive){var dataset=this,chart=dataset.getFromEnv("chart"),animationManager=dataset.getFromEnv("animationManager"),chartConfig=chart.config,legend=chart.getFromEnv("legend"),legendItems=legend.getChildren("legendItem")||[],legendItem,len=legendItems.length,legendItemId=arguments[4],dataLabelStyle=chartConfig.dataLabelStyle,legendGraphics=getLegendGraphics(chart,legendItemId),dataLabelContainer=dataset.getContainer("labelGroup"),i,dataStore,dataObj,config,colorObj,element,is3D,alpha,color,dataGraphics,label,confObj=parseConfStr(confStr);if(isActive===false&&dataset.getState("visible")){if(!confObj.alpha){confObj.alpha=30}dataStore=dataset.components.data||[];for(i=0;i<len;i++){legendItem=legendItems[i]||{};if(legendItem.getId()===legendItemId){break}}setLegendAttrs(legendItem,legendGraphics,legendItem.parseLegendCosmetics(),confObj,hover);if(dataLabelContainer){animationManager.setAnimation({el:dataLabelContainer,label:"highlightedGroup",attr:{opacity:hover?confObj.alpha/100:getAlpha(dataLabelStyle.color)}})}for(i=0,len=dataStore.length;i<len;i++){dataObj=dataStore[i];if(!dataObj){continue}dataGraphics=dataObj.graphics;config=dataObj.config;colorObj=config.colorObj;is3D=config.is3D;element=dataGraphics.element;label=dataGraphics.label;if(is3D){color=hover?(0,_libGraphics.getPointColor)((0,_lib.pluck)(confObj.color,colorObj.FCcolor.color),(0,_lib.pluck)(confObj.alpha,(0,_libGraphics.getFirstAlpha)(colorObj.alpha))):colorObj;color=(0,_lib.toRaphaelColor)(color)}else{color=hover?(0,_lib.pluck)(confObj.color,colorObj.color):colorObj.color;alpha=hover?confObj.alpha:colorObj.alpha;color=(0,_lib.toRaphaelColor)({color:color,alpha:alpha})}element&&animationManager.setAnimation({el:element,label:"highlightedBubblePlot",attr:{fill:color}});if(label){setDataLabelAttrs(animationManager,label,confObj,dataLabelStyle,hover)}}}},pie:function pie(confStr,hover,isActive,dataset){var dataObj=this,chart=dataset.getFromEnv("chart"),animationManager=dataset.getFromEnv("animationManager"),legend=chart.getFromEnv("legend"),dataLabelStyle,plotItem=this,slice,config,radius3D,color,centerX,centerY,center,radius,is3D,configObj={},label,connector,len,legendItemId=arguments[4],i,legendGraphics,id,item,alpha,items=legend.getChildren("legendItem")||[],confObj=parseConfStr(confStr);if(isActive===false){if(!confObj.alpha){confObj.alpha=30}slice=dataObj.graphics.element;config=dataObj.config;for(i=0,len=items.length;i<len;i++){item=items[i];id=item.getId();if(id===legendItemId){break}}legendGraphics=getLegendGraphics(chart,legendItemId);setLegendAttrs(item,legendGraphics,item.parseLegendCosmetics(),confObj,hover);color=config.color.color;plotItem=slice.data("plotItem");chart=plotItem.chart;dataLabelStyle=plotItem.style;radius3D=90;is3D=chart.config.is3D;center=plotItem.center;if(center){centerX=center[0];centerY=center[1];radius=plotItem.radius;configObj={cx:centerX,cy:centerY,r:radius}}color=hover?(0,_pointColor2["default"])((0,_lib.pluck)(confObj.color,color),confObj.alpha,radius3D):config.color;alpha=hover?confObj.alpha:color.alpha;color=(0,_lib.extend2)(color,configObj);if(is3D){slice&&animationManager.setAnimation({el:slice,label:"highlightedPiePlot",attr:{color:color.color.split(",")[0],alpha:alpha}})}else{slice&&animationManager.setAnimation({el:slice,label:"highlightedPiePlot",attr:{fill:(0,_lib.toRaphaelColor)(color)}})}label=dataObj.graphics.label;connector=dataObj.graphics.connector;if(label){setDataLabelAttrs(animationManager,label,confObj,dataLabelStyle,hover)}connector&&animationManager.setAnimation({el:connector,label:"highlightedPieConnectorPlot",attr:{opacity:hover?confObj.alpha/100:getAlpha(dataLabelStyle.color)}})}},line:function line(confStr,hover,isActive){var dataset=this,chart=dataset.getFromEnv("chart"),animationManager=dataset.getFromEnv("animationManager"),config=chart.config,legend=chart.getFromEnv("legend"),legendItems=legend.getChildren("legendItem")||[],len=legendItems.length,legendItem,legendItemId=arguments[4],dataLabelStyle=config.dataLabelStyle,confObj=parseConfStr(confStr),legendGraphics=getLegendGraphics(chart,legendItemId),dataLabelContainer=dataset.getContainer("labelGroup"),errorGroupContainer=dataset.getContainer("errorPlotGroup"),conf=dataset.config,errorBarAlpha,errorAlpha,lineElement,i,lineColor=conf.linecolor,lineAlpha=conf.alpha||conf.lineAlpha,shadow=conf.shadow||{},hasShadow=shadow.opacity>0,shadowOpacity,lineOb=dataset.config.lineOb,key="",el;if(!isActive&&dataset.getState("visible")){if(!confObj.alpha){confObj.alpha=30}for(i=0;i<len;i++){legendItem=legendItems[i]||{};if(legendItem.getId()===legendItemId){break}}if(errorGroupContainer){errorBarAlpha=conf.errorBarColor&&getAlpha(conf.errorBarColor);errorAlpha=hover?(0,_lib.pluck)(confObj.alpha/100,errorBarAlpha):errorBarAlpha;animationManager.setAnimation({el:errorGroupContainer,label:"highlightedGroup",attr:{opacity:errorAlpha}})}if(dataLabelContainer){animationManager.setAnimation({el:dataLabelContainer,label:"highlightedGroup",attr:{opacity:hover?confObj.alpha/100:getAlpha(dataLabelStyle.color)}})}lineElement=dataset.getGraphicalElement("lineElement");lineColor=hover?(0,_lib.pluck)(confObj.color,lineColor):lineColor;lineAlpha=hover?(0,_lib.pluck)(confObj.alpha,lineAlpha):lineAlpha;shadowOpacity=hasShadow?hover?confObj.alpha/100:lineAlpha/100:false;lineElement&&animationManager.setAnimation({el:lineElement,label:"highlightedLinePlot",attr:{stroke:(0,_lib.toRaphaelColor)({color:lineColor,alpha:lineAlpha})}});lineElement&&lineElement.shadow(shadowOpacity);if((typeof lineOb==="undefined"?"undefined":_typeof(lineOb))==="object"&&lineOb){for(key in lineOb){el=lineOb[key]&&lineOb[key].el;el&&animationManager.setAnimation({el:el,label:"highlightedLinePlot",attr:{stroke:hover?lineColor:lineOb[key].attr.stroke,"stroke-opacity":lineAlpha/100}});el&&el.shadow(shadowOpacity)}}if(legendGraphics){setLegendAttrs(legendItem,legendGraphics,legendItem.parseLegendCosmetics(),confObj,hover)}setDataObjectAttrs(dataset,confObj,hover)}},boxandwhisker2d:function boxandwhisker2d(confStr,hover,isActive){var dataset=this,conf=dataset.config,chart=dataset.getFromEnv("chart"),animationManager=dataset.getFromEnv("animationManager"),isRoundEdges=conf.isRoundEdges,legendItemId=arguments[4],legendGraphics=getLegendGraphics(chart,legendItemId),lowerWhiskerContainer=dataset.getContainer("lowerWhiskerGroup"),upperWhiskerContainer=dataset.getContainer("upperWhiskerGroup"),dataLabelContainer=dataset.getContainer("labelGroup"),i,legend=chart.getFromEnv("legend"),legendItems=legend.getChildren("legendItem")||[],len=legendItems.length,legendItem,graphics,dataObj,config,dataStore,confObj=parseConfStr(confStr);if(isActive===false&&dataset.getState("visible")){if(!confObj.alpha){confObj.alpha=30}for(i=0;i<len;i++){legendItem=legendItems[i]||{};if(legendItem.getId()===legendItemId){break}}setLegendAttrs(legendItem,legendGraphics,legendItem.parseLegendCosmetics(),confObj,hover);if(lowerWhiskerContainer){animationManager.setAnimation({el:lowerWhiskerContainer,label:"highlightedGroup",attr:{opacity:hover?confObj.alpha/100:1}})}if(upperWhiskerContainer){animationManager.setAnimation({el:upperWhiskerContainer,label:"highlightedGroup",attr:{opacity:hover?confObj.alpha/100:1}})}if(dataLabelContainer){animationManager.setAnimation({el:dataLabelContainer,label:"highlightedGroup",attr:{opacity:hover?confObj.alpha/100:1}})}dataStore=dataset.components.data;for(i=0,len=dataStore.length;i<len;i++){dataObj=dataStore[i];config=dataObj.config;graphics=dataObj.graphics;setBoxAndWhiskerAttrs(animationManager,graphics,config,confObj,hover,isRoundEdges)}}},heatmap:function heatmap(confStr,hover,isActive,dataset){var dataObj=this,chart=dataset.getFromEnv("chart"),animationManager=dataset.getFromEnv("animationManager"),config=chart.config,dataLabelStyle=config.dataLabelStyle,legend=chart.getFromEnv("legend"),hoverColor,hoverAlpha,elem,alpha,color,prop,graphics,len,legendItemId=arguments[4],i,legendGraphics,id,item,confObj=parseConfStr(confStr),items=legend.getChildren("legendItem")||[];if(!isActive&&dataset.getState("visible")&&dataObj.visible!==false){if(!confObj.alpha){confObj.alpha=hover?30:100}config=dataObj.config;for(i=0,len=items.length;i<len;i++){item=items[i];id=item.getId();if(id===legendItemId){break}}legendGraphics=getLegendGraphics(chart,legendItemId);setLegendAttrs(item,legendGraphics,item.parseLegendCosmetics(),confObj,hover);color=rgbaToHex(config.color);alpha=getAlpha(config.color);hoverColor=hover?(0,_lib.pluck)(confObj.color,color):color;hoverAlpha=hover?confObj.alpha:alpha*100;graphics=dataObj.graphics;elem=graphics.element;elem&&animationManager.setAnimation({el:elem,label:"highlightedHeatmapPlot",attr:{fill:(0,_lib.toRaphaelColor)({color:hoverColor,alpha:hoverAlpha})}});for(prop in graphics){elem=graphics[prop];if(elem.type==="text"){setDataLabelAttrs(animationManager,elem,confObj,dataLabelStyle,hover)}}}},funnelpyramid:function funnelpyramid(confStr,hover,isActive,dataset){var dataObj=this,chart=dataset.getFromEnv("chart"),animationManager=dataset.getFromEnv("animationManager"),legend=chart.getFromEnv("legend"),dataLabelStyle,style,slice,config,color,hoverColor,hoverAlpha,label,connector,alpha,rgbacolor,len,i,legendGraphics,id,item,confObj=parseConfStr(confStr),items=legend.getChildren("legendItem")||[],legendItemId=arguments[4];if(isActive===false){if(!confObj.alpha){confObj.alpha=30}config=dataObj;for(i=0,len=items.length;i<len;i++){item=items[i];id=item.getId();if(id===legendItemId){break}}legendGraphics=getLegendGraphics(chart,legendItemId);setLegendAttrs(item,legendGraphics,item.parseLegendCosmetics(),confObj,hover);style=config.style;rgbacolor=config.color;color=rgbaToHex(rgbacolor);alpha=getAlpha(rgbacolor);hoverColor=hover?(0,_lib.pluck)(confObj.color,color):color;hoverAlpha=hover?confObj.alpha:alpha*100;slice=dataObj.getGraphicalElement("graphic");label=dataObj.getGraphicalElement("dataLabel");connector=dataObj.getGraphicalElement("connector");dataLabelStyle=dataObj.style;slice&&animationManager.setAnimation({el:slice,label:"highlightedFunnelPyramidPlot",attr:{fill:(0,_lib.toRaphaelColor)({color:hoverColor,alpha:hoverAlpha})}});if(label){setDataLabelAttrs(animationManager,label,confObj,dataLabelStyle,hover)}connector&&animationManager.setAnimation({el:connector,label:"highlightedFunnelPyramidConnectorPlot",attr:{opacity:hover?confObj.alpha/100:getAlpha(style.color)}})}},"default":function _default(confStr,hover,isActive){var dataset=this,conf=dataset.config,chart=dataset.getFromEnv("chart"),animationManager=dataset.getFromEnv("animationManager"),config=chart.config,dataLabelStyle=config.dataLabelStyle,useRoundEdges=config.useroundedges,is3D=chart.config.is3D,color,i,borderColor,elem,confObj=parseConfStr(confStr),legendItemId=arguments[4],legendGraphics=getLegendGraphics(chart,legendItemId),dataLabelContainer=dataset.getContainer("labelGroup"),errorGroupContainer=dataset.getContainer("errorPlotGroup"),errorBarAlpha,errorAlpha,columnColor,commaindex,borderAlpha,colorString="",fillColor,dataStore,dataObj,label,legend=chart.getFromEnv("legend"),legendItems=legend.getChildren("legendItem")||[],len=legendItems.length,legendItem,showShadow=conf.showShadow,defBorderAlpha;if(isActive===false&&dataset.getState("visible")===true){if(!confObj.alpha){confObj.alpha="30"}dataStore=dataset.components.data||[];for(i=0;i<len;i++){legendItem=legendItems[i]||{};if(legendItem.getId()===legendItemId){break}}if(legendGraphics){setLegendAttrs(legendItem,legendGraphics,legendItem.parseLegendCosmetics(),confObj,hover)}if(dataLabelContainer){animationManager.setAnimation({el:dataLabelContainer,label:"highlightedGroup",attr:{opacity:hover?confObj.alpha/100:getAlpha(dataLabelStyle.color)}})}if(errorGroupContainer){errorBarAlpha=conf.errorBarColor&&getAlpha(conf.errorBarColor);errorAlpha=hover?(0,_lib.pluck)(confObj.alpha/100,errorBarAlpha):errorBarAlpha;animationManager.setAnimation({el:errorGroupContainer,label:"highlightedGroup",attr:{opacity:errorAlpha}})}for(i=0,len=dataStore.length;i<len;i++){dataObj=dataStore[i];if(!dataObj||!dataObj.graphics){continue}config=dataObj.config;fillColor=config.colorArr[0];borderColor=config.colorArr[1];defBorderAlpha=borderColor.FCcolor.alpha;color=fillColor.FCcolor.color;if((commaindex=color.indexOf(","))!==-1&&confObj.color){colorString=confObj.color+color.substring(commaindex)}else{colorString=(0,_lib.pluck)(confObj.color,color)}borderAlpha=is3D?defBorderAlpha:(0,_lib.pluck)(confObj.borderalpha,confObj.alpha,defBorderAlpha);if((0,_lib.pluckNumber)(defBorderAlpha)===0){borderAlpha="0"}columnColor=hover?(0,_libGraphics.getColumnColor)(colorString,confObj.alpha,fillColor.FCcolor.ratio,fillColor.FCcolor.angle,useRoundEdges,(0,_lib.pluck)(confObj.bordercolor,borderColor.FCcolor.color),borderAlpha,false,is3D):[fillColor,borderColor];elem=dataObj.graphics.element;if(elem){color=(0,_lib.toRaphaelColor)(columnColor[0]);borderColor=(0,_lib.toRaphaelColor)(columnColor[1]);animationManager.setAnimation({el:elem,label:"highlightedDefaultPlot",attr:{stroke:borderColor,fill:color}});elem.shadow({opacity:showShadow?(0,_libGraphics.getFirstAlpha)(columnColor[0].alpha)/100:0})}label=dataObj.graphics.label;setDataLabelAttrs(animationManager,label,confObj,dataLabelStyle,hover)}}}},highlighteffect=function highlighteffect(effect){if(effect){hm.add(effect)}};function FCPlugger(FusionCharts){var HighlightManager=function(){function HighlightManager(){_classCallCheck(this,HighlightManager);this.effectStore={};this.eventHandlers={}}HighlightManager.prototype.add=function add(effect){this.effectStore[effect.name]=effect};HighlightManager.prototype.attachEventHandlers=function attachEventHandlers(eventName,listenerFn){var self=this,eventHandlers=self.eventHandlers,eventHandler=eventHandlers[eventName];if(!eventHandler){this.eventHandlers[eventName]={};this.eventHandlers[eventName].listenerFn=FusionCharts.addEventListener(eventName,listenerFn)}};HighlightManager.prototype.applyEffect=function applyEffect(chartObj,itemInfo,hover){var self=this.effectStore,chartAttr=chartObj.getFromEnv("chart-attrib"),plotType=chartObj.config.defaultDatasetType,colorR,effectStr=chartAttr.plothighlighteffect&&chartAttr.plothighlighteffect.toLowerCase(),datasets=chartObj.getDatasets(),plots=chartObj.config.isSingleSeries?datasets[0].components.data:datasets,legendItem,value,legendItemId=(0,_lib.pluck)(itemInfo.itemId,itemInfo.legendItemId,itemInfo.legendItemIndex),itemId,plotItem,i,isActive,legend,len,DEFAULT="default",confStr="",datasetObj,colorObj,getLegendId,effectType;removeHighlightStateCosmetics(chartObj.getFromEnv("legend").getChildren("legendItem"));if(chartObj.getName()==="funnel"||chartObj.getName()==="Pyramid"){plots=datasets[0].getChildren("data")}chartObj.getFromEnv("animationManager").setAnimationState("plotHighlighter");if(effectStr){effectStr=effectStr.replace(/\s+/g,"").split("|");effectType=effectStr[0];confStr=effectStr[1]||""}if(effectType&&self[effectType]){if(chartObj.getName()==="HeatMap"){colorR=chartObj.getFromEnv("colorRange");legend=chartObj.getFromEnv("legend");legendItem=legend.getItem(legendItemId);getLegendId=function getLegendId(code){var legendItems=legend.getChildren("legendItem"),j=void 0,id=void 0,leng=legendItems&&legendItems.length;for(j=0;j<leng;++j){if(legendItems[j].config.datasetObj.code===code){id=legendItems[j].getId();break}}return id};datasetObj=legendItem.config.datasetObj;for(i=0;i<plots.length;i++){plotItem=plots[i];value=plotItem.config.value;colorObj=colorR.getColorObj(value);if(!colorObj.outOfRange){if(datasetObj.code===colorObj.code){self[effectType][plotType].call(plotItem,confStr,hover,true,datasets[0],legendItemId)}else{self[effectType][plotType].call(plotItem,confStr,hover,false,datasets[0],getLegendId(colorObj.code))}}}}else{for(i=0,len=plots.length;i<len;i++){plotItem=plots[i];plotType=plotItem.getName&&plotItem.getName()||plotType;plotType=plotType.toLowerCase();itemId=(0,_lib.pluck)(plotItem.config.itemId,plotItem.config.legendItemId);if(itemId!==UNDEF){isActive=itemId===legendItemId;if(self[effectType][plotType]){self[effectType][plotType].call(plotItem,confStr,hover,isActive,datasets[0],itemId)}else{self[effectType][DEFAULT].call(plotItem,confStr,hover,isActive,datasets[0],itemId)}}}}}};return HighlightManager}();hm=new HighlightManager;hm.attachEventHandlers("legenditemrollover",function(e,itemInfo){var chartObj=e.sender.apiInstance;if(chartObj.hasInteractiveLegend!==false&&chartObj.highlightEnabled!==false){hm.applyEffect(chartObj,itemInfo,true)}});hm.attachEventHandlers("legenditemrollout",function(e,itemInfo){var chartObj=e.sender.apiInstance;if(chartObj.hasInteractiveLegend!==false&&chartObj.highlightEnabled!==false){hm.applyEffect(chartObj,itemInfo,false)}});hm.attachEventHandlers("legenditemclicked",function(e,itemInfo){var chartObj=e.sender.apiInstance;if(chartObj.hasInteractiveLegend!==false&&chartObj.highlightEnabled!==false){hm.applyEffect(chartObj,itemInfo,false)}});highlighteffect({name:"fadeout",area:fadeout.area,radar:fadeout.area,bubble:fadeout.bubble,pie2d:fadeout.pie,line:fadeout.line,spline:fadeout.line,splinearea:fadeout.area,pie3d:fadeout.pie,zoomline:fadeout.line,funnelpoint:fadeout.funnelpyramid,pyramidpoint:fadeout.funnelpyramid,scatter:fadeout.line,selectscatter:fadeout.line,dragline:fadeout.line,dragarea:fadeout.area,realtimearea:fadeout.area,realtimeline:fadeout.line,realtimelinedy:fadeout.line,realtimestackedarea:fadeout.area,errorline:fadeout.line,errorscatter:fadeout.line,stepline:fadeout.line,doughnut2d:fadeout.pie,doughnut3d:fadeout.pie,heatmap:fadeout.heatmap,boxandwhisker2d:fadeout.boxandwhisker2d,multiaxisline:fadeout.line,"default":fadeout["default"]})}exports["default"]={extension:FCPlugger,name:"PlotHighlighter",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _libGraphics=__webpack_require__(122);var _lib=__webpack_require__(118);var pointColor=function pointColor(color,alpha,radius3D,defaultRadius){var colorObj,shadowIntensity,shadowColor,highLightIntensity,loLight,hiLight,highLight;color=(0,_libGraphics.getFirstColor)(color);alpha=(0,_libGraphics.getFirstAlpha)(alpha);if(radius3D<100&&_lib.hasSVG){if(defaultRadius){loLight=(0,_libGraphics.getDarkColor)(color,Math.floor((85-.2*(100-radius3D))*100)/100);hiLight=(0,_libGraphics.getLightColor)(color,Math.floor((100-.5*radius3D)*100)/100);colorObj={color:loLight+_lib.COMMASTRING+hiLight+_lib.COMMASTRING+hiLight+_lib.COMMASTRING+loLight,alpha:alpha+_lib.COMMASTRING+alpha+_lib.COMMASTRING+alpha+_lib.COMMASTRING+alpha,radialGradient:true,gradientUnits:"userSpaceOnUse",r:radius3D}}else{shadowIntensity=Math.floor(.85*(100-.35*radius3D)*100)/100;shadowColor=(0,_libGraphics.getDarkColor)(color,shadowIntensity);highLightIntensity=Math.floor(.5*(100+radius3D)*100)/100;highLight=(0,_libGraphics.getLightColor)(color,highLightIntensity);colorObj={color:highLight+_lib.COMMASTRING+shadowColor,alpha:alpha+_lib.COMMASTRING+alpha,ratio:radius3D+","+(100-radius3D),radialGradient:true,gradientUnits:"userSpaceOnUse"}}}else{colorObj={color:color+_lib.COMMASTRING+color,alpha:alpha+_lib.COMMASTRING+alpha,ratio:"0,100"}}return colorObj};exports["default"]=pointColor},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _tooltipComponent=__webpack_require__(174);var _tooltipComponent2=_interopRequireDefault(_tooltipComponent);var _lib=__webpack_require__(118);var _domEvent=__webpack_require__(120);var _domEvent2=_interopRequireDefault(_domEvent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var TOOL_TIP_KEY="__FC_tooltipText",MOVE_HANDLER="__FC_onTooltipMove",OUT_HANDLER="__FC_onTooltipOut",TOUCH_HANDLER="__FC_onTooltipTouch",doc=window.document,hasTouch=doc.documentElement.ontouchstart!==undefined;var moveHandler=function moveHandler(toolTip,controller,event){event=(0,_lib.getTouchEvent)(event);var universeBounds=controller.universe.getBoundingClientRect(),mousePointerWidthOffset=11,mousePointerHeightOffset=11,x=event.clientX,config=void 0,y=event.clientY;x-=universeBounds.left;y-=universeBounds.top;x+=mousePointerWidthOffset;y+=mousePointerHeightOffset;ToolTipController._draw.call(controller,x,y,this.data(TOOL_TIP_KEY),toolTip);if(_lib.isIE11){config=controller.config;config.lastActiveToolip=toolTip;toolTip.setData("targetElement",this);if(!controller.config.attachEventForImplicit){config.documentEvtHandler=_domEvent2["default"].listen(document,"mousedown",controller.hideImplicitToolTip);controller.universe.FusionCharts.apiInstance.addEventListener("beforeremove",function(){config.documentEvtHandler&&config.documentEvtHandler.unlisten()});controller.config.attachEventForImplicit=true}}},outHandler=function outHandler(toolTip,event){if(_lib.isIE11&&!event.relatedTarget){return}ToolTipController._hide(toolTip)};var ToolTipController=function(){function ToolTipController(universe){_classCallCheck(this,ToolTipController);var tooltipController=this,config=tooltipController.config={};tooltipController.universe=universe;tooltipController.toolTips={implicit:[],explicit:[]};tooltipController.hideImplicitToolTip=function(e){var toolTip=config.lastActiveToolip;if(toolTip&&e.target!==toolTip.getData("targetElement").node){ToolTipController._hide(toolTip);tooltipController.config.lastActiveToolip=undefined;config.documentEvtHandler&&config.documentEvtHandler.unlisten();config.documentEvtHandler=_lib.UNDEF;tooltipController.config.attachEventForImplicit=false}}}ToolTipController.prototype._createToolTip=function _createToolTip(toolTipType){var toolTip=void 0;toolTip=new _tooltipComponent2["default"](this.universe);this.toolTips[toolTipType].push(toolTip);return toolTip};ToolTipController.prototype.enableToolTip=function enableToolTip(element,text){var ref=this,type="implicit",tooltipImplicitArray=ref.toolTips[type],chart=ref.universe.FusionCharts.apiInstance,length=tooltipImplicitArray.length,refConfig=ref.config,toolTip=void 0;if(!text){ref.disableToolTip(element);return ref}else if(element.data(TOOL_TIP_KEY)){if(length>0){toolTip=tooltipImplicitArray[length-1];toolTip.setUniverse(this.universe);toolTip.getData("active")&&toolTip.show(text)}element.data(TOOL_TIP_KEY,text);return ref}toolTip=ref._getAvailableToolTip("implicit");ref.disableToolTip(element);element.data(TOOL_TIP_KEY,text);element.data(MOVE_HANDLER,moveHandler.bind(element,toolTip,ref));element.data(OUT_HANDLER,outHandler.bind(element,toolTip));element.data(TOUCH_HANDLER,function(_element){return function(e){ref.draw(e,element.data(TOOL_TIP_KEY),toolTip);toolTip.setData("targetElement",_element);refConfig.lastActiveToolip=toolTip;if(!refConfig.attachEventForImplicit){refConfig.documentEvtHandler=_domEvent2["default"].listen(document,"touchstart",ref.hideImplicitToolTip);chart.addEventListener("beforeremove",function(){refConfig.documentEvtHandler&&refConfig.documentEvtHandler.unlisten()});refConfig.attachEventForImplicit=true}}}(element));element.on("mousemove",element.data(MOVE_HANDLER));element.on("mouseout",element.data(OUT_HANDLER));hasTouch&&element.on("touchstart",element.data(TOUCH_HANDLER));return ref};ToolTipController.prototype.disableToolTip=function disableToolTip(element){var elemOutHandler=element.data(OUT_HANDLER),elemMoveHandler=element.data(MOVE_HANDLER),elemTouchHandler=element.data(TOUCH_HANDLER);elemMoveHandler&&element.off("mousemove",elemMoveHandler);elemOutHandler&&element.off("mouseout",elemOutHandler);elemOutHandler&&element.off("touchstart",elemTouchHandler);element.removeData(TOOL_TIP_KEY);return this};ToolTipController.prototype.draw=function draw(event,text,toolTip){var universeBounds=this.universe.getBoundingClientRect(),mousePointerWidthOffset=11,mousePointerHeightOffset=11,x=void 0,y=void 0;event=(0,_lib.getTouchEvent)(event);x=event.clientX;y=event.clientY;toolTip=toolTip||this._getAvailableToolTip("explicit");toolTip.setStyle(this.config.tooltipStyle);toolTip.setUniverse(this.universe);x-=universeBounds.left;y-=universeBounds.top;x+=mousePointerWidthOffset;y+=mousePointerHeightOffset;ToolTipController._draw.call(this,x,y,text,toolTip);return toolTip};ToolTipController.prototype.drawAt=function drawAt(x,y,text,toolTip){toolTip=toolTip||this._getAvailableToolTip("explicit");toolTip.setStyle(this.config.tooltipStyle);ToolTipController._draw.call(this,x,y,text,toolTip);return toolTip};ToolTipController._draw=function _draw(x,y,text,toolTip){toolTip.setStyle(this.config.tooltipStyle);toolTip.show(text);toolTip.update(x,y)};ToolTipController.prototype._getAvailableToolTip=function _getAvailableToolTip(type){var toolTips=this.toolTips[type],toolTip=void 0,isToolTipInactive=void 0;for(var i=0,ii=toolTips.length;i<ii;i++){toolTip=toolTips[i];isToolTipInactive=toolTip.getData("active")===false;if(isToolTipInactive){return toolTip}}return this._createToolTip(type)};ToolTipController.prototype.setStyle=function setStyle(obj){var toolTipController=this,toolTipConfig=toolTipController.config,tooltipStyle=toolTipConfig.tooltipStyle||(toolTipConfig.tooltipStyle={});for(var key in obj){tooltipStyle[key]=obj[key]}};ToolTipController.prototype.hide=function hide(toolTip){ToolTipController._hide(toolTip,"dispose");return this};ToolTipController.prototype.hideAll=function hideAll(){var self=this,type,i;for(type in self.toolTips){for(i=0;i<self.toolTips[type].length;i++){ToolTipController._hide(self.toolTips[type][i],"dispose")}}};ToolTipController._hide=function _hide(toolTip,willDispose){if(toolTip){if(willDispose){toolTip.dispose()}else{toolTip.hide()}}};return ToolTipController}();exports["default"]={extension:ToolTipController,name:"ToolTipController",type:"plugin"}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var FC_TOOLTIP_CLASS="fc__tooltip",GUTTER_12=12;var UNDEF=void 0;var ToolTip=function(){function ToolTip(universe){_classCallCheck(this,ToolTip);this.text="";this.x=0;this.y=0;this.visibleWidth=0;this.universeBounds=universe.getBoundingClientRect();this.data={active:false,target:false};this.element=this.createElement(universe)}ToolTip.prototype.setUniverse=function setUniverse(universe){this.universeBounds=universe.getBoundingClientRect()};ToolTip.prototype.createElement=function createElement(universe){var div=document.createElement("div");div.setAttribute("class",FC_TOOLTIP_CLASS);div.className+=" fusioncharts-div";div.innerHTML=this.text;div.style.color="#545454";div.style.padding="3px";div.style.fontSize="10px";div.style.overflow="hidden";div.style.borderWidth="1px";div.style.borderColor="#000000";div.style.whiteSpace="nowrap";div.style.position="absolute";div.style.borderStyle="solid";div.style.backgroundColor="#ffffff";div.style["user-select"]="none";div.style["-ms-user-select"]="none";div.style["-moz-user-select"]="none";div.style["-webkit-user-select"]="none";div.style["-webkit-touch-callout"]="none";div.style.top=this.x+"px";div.style.left=this.y+"px";div.style.visibility="hidden";div.style["pointer-events"]="none";universe.appendChild(div);return div};ToolTip.prototype.setData=function setData(key,val){this.data[key]=val};ToolTip.prototype.getData=function getData(key){return this.data[key]};ToolTip.prototype.setStyle=function setStyle(styleObj){var div=this.element;div.style.color=styleObj.fontColor;if(_lib.hasSVG){div.style.backgroundColor=styleObj.bgColor;div.style.borderColor=styleObj.borderColor;if(styleObj.showToolTipShadow){div.style.boxShadow="1px 1px 3px rgba(64,64,64,0.4)"}else{div.style.boxShadow="none"}}else{div.style.backgroundColor=styleObj.rawBgColor;div.style.borderColor=styleObj.rawBorderColor}div.style.fontFamily=styleObj["font-family"];div.style.fontSize=styleObj["font-size"]+"px";div.style.borderWidth=styleObj.borderThickness+"px";div.style.borderRadius=styleObj.borderRadius+"px";div.style.padding=styleObj.padding+"px"};ToolTip.prototype.show=function show(text){if(this.text!==text){this.text=text;this.element.innerHTML=this.text}this.setData("active",true);this.element.style.visibility!=="visible"&&(this.element.style.visibility="visible");this.element.style["will-change"]="left, top";this.element.style["max-width"]=this.universeBounds.right-this.universeBounds.left-2*GUTTER_12+"px"};ToolTip.prototype.update=function update(){var x=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.x;var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.y;var universeBounds=this.universeBounds,universeLeft=universeBounds.left+GUTTER_12,universeRight=universeBounds.right-GUTTER_12,universeTop=universeBounds.top+GUTTER_12,universeBottom=universeBounds.bottom-GUTTER_12,universeWidth=this.universeBounds.right-this.universeBounds.left-2*GUTTER_12,offsetWidth=this.element.offsetWidth,offsetHeight=this.element.offsetHeight;if(x+offsetWidth+universeLeft<universeRight){this.element.style.left=x+"px";this.element.style.whiteSpace="nowrap"}else if(offsetWidth<universeWidth){this.element.style.left=universeRight-offsetWidth-universeLeft+"px"}else{this.element.style.left=GUTTER_12+"px";this.element.style.whiteSpace="normal"}if(y+universeTop+offsetHeight<universeBottom){this.element.style.top=y+"px"}else{this.element.style.top=universeBottom-offsetHeight-universeTop+"px"}};ToolTip.prototype.hide=function hide(){this.y=0;this.x=0;this.x="";this.setData("active",false);this.setData("target",false);this.element.style.visibility="hidden";this.element.style["will-change"]="auto";this.element.innerHTML="";this.text=UNDEF};ToolTip.prototype.dispose=function dispose(){this.hide()};return ToolTip}();exports["default"]=ToolTip},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var chartList=[];var BLACK_LIST={treemap:true,scatter:true,bubble:true,errorscatter:true,errorline:true,errorbar2d:true,candlestick:true,stackedcolumn3d:true,stackedbar3d:true,mscolumnline3d:true,mscombi3d:true,mscolumn3dlinedy:true,stackedcolumn3dline:true,stackedcolumn3dlinedy:true},isBlackListed=function isBlackListed(component){return BLACK_LIST[component.getName().toLowerCase()]},reduceToolTexts=function reduceToolTexts(acc,tooltext){return acc+'<div style="margin: 0;">'+tooltext+"</div>"},countHoveredPlots=function countHoveredPlots(acc,info){return info.hovered?acc+1:acc},extractColor=function extractColor(plotConfig){var plotColor="#000000";if(plotConfig.anchorProps){plotColor=plotConfig.anchorProps.borderColor}else{plotColor=plotConfig.originalPlotColor||plotConfig.plotColor||plotConfig.color}return plotColor};function _enableConsolidatedToolTip(e){var chart=e.sender.getFromEnv("chart"),canvas=this,toolTextGray=chart.config.tooltipgrayoutcolor,showPlotColor=chart.config.plotcolorintooltip,toolTipController=chart.getFromEnv("toolTipController"),datasets=chart.getDatasets().sort(function(a,b){return b.getJSONIndex()-a.getJSONIndex()}),consolidatedToolTip=chart.getFromEnv("consolidated-tooltip"),chartCoords=(0,_lib.getMouseCoordinate)(e.sender.getFromEnv("chart-container"),e.originalEvent,chart),canvasX=chartCoords.chartX,canvasY=chartCoords.chartY,alreadyColored=false,hoveredInfos=datasets.map(function(dataset){return dataset.getPlotInCategoryAt(canvasX,canvasY)}).filter(Boolean),numPlotsHovered=hoveredInfos.reduce(countHoveredPlots,0),plotTexts=hoveredInfos.map(function(hoveredInfo){var dataConfig=hoveredInfo.pointObj.config,text=dataConfig.finalTooltext||dataConfig.toolText,color=extractColor(dataConfig);if(numPlotsHovered>0){if(!alreadyColored&&hoveredInfo.hovered){text='<div style="display: inline-block;">'+text+"</div>";alreadyColored=true}else{color=toolTextGray;text='<div style="color: '+(0,_lib.hashify)(toolTextGray)+'; display: inline-block;">'+text+"</div>"}}else{text='<div style="display: inline-block;">'+text+"</div>"}return showPlotColor?'<div style="color: '+(0,_lib.hashify)(color)+'; display: inline-block;">&#9632&nbsp;</div>'+text:text}),consolidatedText=[].concat(plotTexts).reverse().reduce(reduceToolTexts,"");if(!canvas.isWithinCanvas(canvasX,canvasY)){consolidatedToolTip&&toolTipController.hide(consolidatedToolTip);return}chartList.indexOf(chart)>=0||chartList.push(chart);if(consolidatedText){if(!consolidatedToolTip){chart.addToEnv("consolidated-tooltip",toolTipController.draw(e.originalEvent,consolidatedText))}else{toolTipController.draw(e.originalEvent,consolidatedText,consolidatedToolTip)}}else{consolidatedToolTip&&toolTipController.hide(consolidatedToolTip)}}function _disableConsolidatedToolTip(e){var chart=e.sender.getFromEnv("chart"),toolTipController=chart.getFromEnv("toolTipController"),consolidatedToolTip=chart.getFromEnv("consolidated-tooltip");consolidatedToolTip&&toolTipController.hide(consolidatedToolTip);chartList=chartList.filter(function(v){return v!==chart})}function _disableConsolidatedToolTipCustom(e){chartList.forEach(function(chart){var chartCoords=(0,_lib.getMouseCoordinate)(chart.getFromEnv("chart-container"),e,chart),withinCanvas=void 0,canvasX=chartCoords.chartX,canvasY=chartCoords.chartY,toolTipController=chart.getFromEnv("toolTipController"),consolidatedToolTip=chart.getFromEnv("consolidated-tooltip");(chart.getChildren("canvas")||[]).forEach(function(canvas){if(canvas.isWithinCanvas(canvasX,canvasY)){withinCanvas=true}});if(!withinCanvas){consolidatedToolTip&&toolTipController.hide(consolidatedToolTip);chartList=chartList.filter(function(v){return v!==chart})}})}function drawConsolidatedToolTip(idx){var chart=this.apiInstance,datasets=chart.getDatasets().sort(function(a,b){return a.getJSONIndex()-b.getJSONIndex()}),showPlotColor=chart.config.plotcolorintooltip,toolTipController=chart.getFromEnv("toolTipController"),consolidatedToolTip=chart.getFromEnv("consolidated-tooltip"),dataComponents=datasets.map(function(dataset){var dataComponent=dataset.components.data;return dataComponent[idx]&&dataComponent[idx]}).filter(Boolean),coords=dataComponents[0]&&{x:dataComponents[0].config._Px-dataComponents[0]._width,y:dataComponents[0].config._Py,width:dataComponents[0].config._width},consolidatedText=dataComponents.map(function(data){var config=data.config,text=config.finalTooltext||config.toolText,color=extractColor(config);return showPlotColor?'<div style="color: '+(0,_lib.hashify)(color)+'; display: inline-block;">&#9632&nbsp;</div><div style="display: inline-block;">'+text+"</div>":'<div style="display: inline-block;">'+text+"</div>"}).reduce(reduceToolTexts,"");if(consolidatedText&&coords){if(!consolidatedToolTip){chart.addToEnv("consolidated-tooltip",toolTipController.drawAt(coords.x,coords.y,consolidatedText))}else{toolTipController.drawAt(coords.x,coords.y,consolidatedText,consolidatedToolTip)}}else{consolidatedToolTip&&toolTipController.hide(consolidatedToolTip)}}function consolidatedTooltipExt(FusionCharts){FusionCharts.addEventListener("beforedraw",function(event){var chart=void 0;if(event.sender.getType()==="chartAPI"&&!isBlackListed(event.sender)){chart=event.sender;var canvases=chart.getChildren("canvas");chart.getFromEnv("chartInstance").drawConsolidatedToolTip=drawConsolidatedToolTip;canvases&&canvases.forEach(function(canvas){if(!chart.config.drawTrendRegion||!chart.config.showtooltip){canvas.removeEventListener("touchstart",_enableConsolidatedToolTip);canvas.removeEventListener("touchmove",_enableConsolidatedToolTip);canvas.removeEventListener("mousemove",_enableConsolidatedToolTip);canvas.removeEventListener("touchstart",_enableConsolidatedToolTip);canvas.removeEventListener("mouseout",_disableConsolidatedToolTip);canvas.setState("consolidatedTooltipEventListenerAttached",false);return}if(!canvas.getState("consolidatedTooltipEventListenerAttached")&&chart.config.showtooltip){canvas.addEventListener("touchstart",_enableConsolidatedToolTip);canvas.addEventListener("touchmove",_enableConsolidatedToolTip);canvas.addEventListener("mousemove",_enableConsolidatedToolTip);canvas.addEventListener("touchstart",_enableConsolidatedToolTip);canvas.addEventListener("mouseout",_disableConsolidatedToolTip);canvas.setState("consolidatedTooltipEventListenerAttached",true)}});if(!document._bodyTouchStart){if(document.addEventListener){document.addEventListener("touchstart",_disableConsolidatedToolTipCustom)}else{document.attachEvent("touchstart",_disableConsolidatedToolTipCustom)}document._bodyTouchStart=true}}});FusionCharts.addEventListener("beforeremove",function(event){var chart=void 0;if(event.sender.getType()==="chartAPI"&&!isBlackListed(event.sender)){chart=event.sender;chartList=chartList.filter(function(v){return v!==chart});if(Object.keys(FusionCharts.items).length===1){if(document.removeEventListener){document.removeEventListener("touchstart",_disableConsolidatedToolTipCustom)}else{document.detachEvent("touchstart",function(e){return _disableConsolidatedToolTipCustom(e||window.event)})}document._bodyTouchStart=false}}})}exports["default"]={extension:consolidatedTooltipExt,name:"ConsolidatedToolTip",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _alertmanager=__webpack_require__(177);var _alertmanager2=_interopRequireDefault(_alertmanager);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var alertFn=function alertFn(event){if(event.sender.apiInstance.getChildren("alertManager")){event.sender.apiInstance.getChildren("alertManager")[0].processRTData(event.data)}};function alertManagerLinker(FC){FC.addEventListener("instantiated",function(event){if(event.sender.getType()==="chartAPI"){event.sender.registerFactory("alertManager",function(component){if(component.getChildren("alertManager")){component.getChildren("alertManager")[0].configure();return}var chart=component.getFromEnv("chart");(0,_lib.componentFactory)(chart,_alertmanager2["default"],"alertManager",1,[{}])})}});FC.addEventListener("updateDataReceived",alertFn);FC.addEventListener("postConfigure",function(event){if(event.sender.getType()==="dataset"){var dataset=event.sender,dsConfig=dataset.config,JSONData=dsConfig.JSONData,checkForAlert=void 0,chart=dataset.getFromEnv("chart"),alertManager=chart.getChildren("alertManager"),alertManagerConfig=void 0;if(!alertManager||!JSONData){return}checkForAlert=(0,_lib.pluckNumber)(JSONData&&JSONData.checkforalerts,1);alertManager=alertManager[0];alertManagerConfig=alertManager.config||(alertManager.config={});alertManagerConfig.datasetMap=alertManagerConfig.datasetMap||{};alertManagerConfig.datasetMap[dsConfig.index]=checkForAlert}})}exports["default"]={extension:alertManagerLinker,name:"alertManagerLinker",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var IN_ALERT_RANGE="1",OUT_OF_ALERT_RANGE="2",ACTION_CALLJS="calljs",ACTION_SHOWANNOTATION="showannotation";var AlertManager=function(_ComponentInterface){_inherits(AlertManager,_ComponentInterface);function AlertManager(){_classCallCheck(this,AlertManager);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this.pIndex=1;_this.linkedItems={chart:{}};return _this}AlertManager.prototype.getType=function getType(){return"extension"};AlertManager.prototype.getName=function getName(){return"AlertManager"};AlertManager.prototype.configure=function configure(){var alertManager=this,alerts=alertManager.getFromEnv("dataSource"),alertArr=alerts&&alerts.alerts&&alerts.alerts.alert,numberFormatter=alertManager.getFromEnv("number-formatter"),config=alertManager.config||(alertManager.config={}),alertCount,j,alertObj;if(alertArr&&alertArr.length){config.alertArr=alertArr;alertCount=alertArr.length;for(j=0;j<alertCount;j+=1){alertObj=alertArr[j];alertObj.minvalue=numberFormatter.getCleanValue(alertObj.minvalue);alertObj.maxvalue=numberFormatter.getCleanValue(alertObj.maxvalue)}}else{config.alertArr=[]}};AlertManager.prototype.processRTData=function processRTData(rtData){var alertManager=this,config=alertManager.config,numberFormatter=alertManager.getFromEnv("number-formatter"),i,j,dsLength,dsObj,dataLength,dataObj,val;if(rtData&&rtData.dataset&&rtData.dataset.length){dsLength=rtData.dataset.length;for(i=0;i<dsLength;i+=1){dsObj=rtData.dataset[i];if(dsObj.data&&dsObj.data.length){if(config.datasetMap&&config.datasetMap[i]===0){continue}dataLength=dsObj.data.length;for(j=0;j<dataLength;j+=1){dataObj=dsObj.data[j];val=dataObj&&numberFormatter.getCleanValue(dataObj.value);if(val!==null){alertManager._doAlert(numberFormatter.getCleanValue(dataObj.value))}}}}}};AlertManager.prototype._doAlert=function _doAlert(val){var alertManager=this,chart=alertManager.getLinkedParent(),config=alertManager.config,alertArr=config.alertArr,alertCount=alertArr.length,alertObj,j,alertAction;for(j=0;j<alertCount;j+=1){alertObj=alertArr[j];alertAction=alertObj.action&&alertObj.action.toLowerCase();if(alertObj.minvalue<=val&&alertObj.maxvalue>=val){if(!(alertObj.occuronce==="1"&&alertObj.hasOccurred)){alertObj.hasOccurred=true;alertObj.state=IN_ALERT_RANGE;switch(alertAction){case ACTION_CALLJS:setTimeout((0,_lib.pseudoEval)(alertObj.param));break;case ACTION_SHOWANNOTATION:chart.showAnnotation&&chart.showAnnotation(alertObj.param);break}chart.fireChartInstanceEvent("AlertComplete",{alertValue:val,alertMaxValue:alertObj.maxvalue,alertMinValue:alertObj.minvalue})}}else{if(alertAction===ACTION_SHOWANNOTATION&&alertObj.state===IN_ALERT_RANGE){chart.hideAnnotation&&chart.hideAnnotation(alertObj.param)}alertObj.state=OUT_OF_ALERT_RANGE}}};return AlertManager}(_componentInterface2["default"]);exports["default"]=AlertManager},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _dataSkippingExt=__webpack_require__(179);var _dataSkippingExt2=_interopRequireDefault(_dataSkippingExt);var _dataSkippingCharts=__webpack_require__(181);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function dataSkip(FusionCharts){FusionCharts.addEventListener("preconfigure",function(event){var comp=event.sender,chart=comp.getFromEnv("chart");if(!_dataSkippingCharts.allowedCharts[chart&&chart.getName()]){return}if(comp.getType()==="dataset"&&comp.getLinkedParent().getName()!=="cartesianStackGroup"){comp.setState("applySkippingOnConf",true);_dataSkippingExt2["default"].dataSkipping({component:comp,datasetType:comp.getName(),compType:"dataset"})}else if(comp.getName()==="cartesianStackGroup"){comp.setState("applySkippingOnConf",true);_dataSkippingExt2["default"].dataSkipping({component:comp,datasetType:comp.getName(),compType:"group"})}});FusionCharts.addEventListener("beforeattributeprepared",function(event){var chart=event.sender.getFromEnv&&event.sender.getFromEnv("chart");if(!_dataSkippingCharts.allowedCharts[chart&&chart.getName()]){return}if(event.sender.getType()==="dataset"){var dataset=event.sender,canvasConfig=dataset.getFromEnv("canvasConfig"),width=dataset.getFromEnv("chart").isBar?canvasConfig.canvasHeight:canvasConfig.canvasWidth;if(dataset.getLinkedParent().getName()!=="cartesianStackGroup"){if(dataset.getState("applySkippingOnConf")){dataset.setState("applySkippingOnConf",false)}else{_dataSkippingExt2["default"].dataSkipping({component:dataset,compType:"dataset",datasetType:dataset.getName(),width:width})}}}else if(event.sender.getName()==="cartesianStackGroup"){var stackGroup=event.sender,_canvasConfig=stackGroup.getFromEnv("canvasConfig"),_width=stackGroup.getFromEnv("chart").isBar?_canvasConfig.canvasHeight:_canvasConfig.canvasWidth,stackGroupDatasetChild=Object.keys(stackGroup.getChildren())[0];if(stackGroup.getState("applySkippingOnConf")){stackGroup.setState("applySkippingOnConf",false)}else{_dataSkippingExt2["default"].dataSkipping({component:stackGroup,compType:"group",datasetType:stackGroup.getChildren(stackGroupDatasetChild)[0].getName(),width:_width})}}});FusionCharts.addEventListener("dataplotdragend",function(event,obj){if(event.sender.getType&&event.sender.getType()==="dataset"){var dataset=event.sender,skipInfo=dataset.getSkippingInfo&&dataset.getSkippingInfo(),skippingApplied=skipInfo&&skipInfo.skippingApplied;if(skippingApplied){_dataSkippingExt2["default"].updateDragMap({component:dataset,compType:"dataset",evenType:"dataplotdragend",eventArgs:obj})}}})}exports["default"]={extension:dataSkip,name:"DataSkipping",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _dataSkippingFilters=__webpack_require__(180);var _dataSkippingFilters2=_interopRequireDefault(_dataSkippingFilters);var _dataSkippingCharts=__webpack_require__(181);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ALLOWED_RATIO_FOR_SKIPPING=1.5;var hashMapping=[],prevDataLen=0,skipConf={},dragHashMap=[];function elemHideDecider(){var prevDrawInfo=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return prevDrawInfo.filter(function(v){return!hashMapping[v]})}function getBeforeSkippingDrawMap(){var _prevDataLen=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return Array.from(new Array(_prevDataLen),function(val,idx){return idx})}function decideSkip(){var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var component=config.component,type=config.compType,data=void 0,dataLen=void 0,plotPerPixelRatio=void 0,chartConfig=component.getFromEnv("chartConfig"),json=component.getFromEnv("dataSource"),chartAttrs=json.chart||{},plotBinSize=(0,_lib.pluckNumber)(chartAttrs.plotbinsize,chartConfig.plotbinsize),labelBinSize=(0,_lib.pluckNumber)(chartAttrs.labelbinsize,chartConfig.labelbinsize),plotsPerBin=void 0,effectiveLength=void 0,origRenderWidth=component.getFromEnv("chartWidth"),origRenderHeight=component.getFromEnv("chartHeight");skipConf.plotBinSize=plotBinSize;skipConf.labelBinSize=labelBinSize;skipConf.jsonData=component.config.JSONData;if(type==="group"){data=skipConf.jsonData[0].data;prevDataLen=component.config.stackValues&&component.config.stackValues.length||0}else if(type==="dataset"){data=skipConf.jsonData.data;prevDataLen=component.components.data&&component.components.data.length||0}dataLen=data&&data.length;hashMapping=[];skipConf.width=effectiveLength=component.getFromEnv("chart").isBar?config.height||origRenderHeight:config.width||origRenderWidth;plotPerPixelRatio=dataLen/effectiveLength;plotsPerBin=Math.floor(plotPerPixelRatio*plotBinSize);if(plotPerPixelRatio>=ALLOWED_RATIO_FOR_SKIPPING&&plotsPerBin>1){skipConf.plotsPerBin=plotsPerBin;skipConf.noOfPlotBins=Math.ceil(dataLen/skipConf.plotsPerBin);return true}else{return false}}function plotDrawIndices(filter,data){var startIndex=0,endIndex=0,plotsToBeDrawn=[];for(var i=1;i<skipConf.noOfPlotBins;++i){startIndex=endIndex;endIndex+=skipConf.plotsPerBin;filter(startIndex,endIndex-1,data,dragHashMap,plotsToBeDrawn)}filter(endIndex,data.length-1,data,dragHashMap,plotsToBeDrawn);dragHashMap=[];return plotsToBeDrawn}function labelDrawIndices(plotIndices){var plotBinSize=skipConf.plotBinSize,labelBinSize=skipConf.labelBinSize,labelVsPlotBinRatio=labelBinSize/plotBinSize,drawableLabelIndices=[],labelHashMap=[],i=void 0,len=plotIndices.length;for(i=0;i<len;i++){if(!(i%labelVsPlotBinRatio)){drawableLabelIndices.push(plotIndices[i]);labelHashMap[plotIndices[i]]=true}}return{drawableLabelIndices:drawableLabelIndices,labelHashMap:labelHashMap}}function skippingTool(config){var type=config.datasetType,_filterType=_dataSkippingCharts.filterType[type],component=config.component,prevSkipInfo=component.getSkippingInfo&&component.getSkippingInfo(),prevDrawInfo=prevSkipInfo&&prevSkipInfo.draw.slice(0),prevLabelInfo=prevSkipInfo&&(prevSkipInfo.labelDraw||[]).slice(0),skipInfo={},stackDataArray=[],i=void 0,j=void 0,sum=void 0,nDataset=void 0,labelDrawInfo=void 0,catLen=component.getFromEnv("xAxis").getTicksLen(),stackData=void 0;!(prevDrawInfo&&prevDrawInfo.length)&&(prevDrawInfo=getBeforeSkippingDrawMap(prevDataLen));!(prevLabelInfo&&prevLabelInfo.length)&&(prevLabelInfo=prevDrawInfo);dragHashMap=prevSkipInfo&&prevSkipInfo.dragHashMap;if(component.getName()==="cartesianStackGroup"){nDataset=skipConf.jsonData.length;for(i=0;i<catLen;++i){sum=0;for(j=0;j<nDataset;++j){stackData=skipConf.jsonData[j].data;sum+=Number(stackData[i]?stackData[i].value:0)}stackDataArray.push({value:sum})}skipInfo.draw=plotDrawIndices((0,_dataSkippingFilters2["default"])(_filterType),stackDataArray)}else{skipInfo.draw=plotDrawIndices((0,_dataSkippingFilters2["default"])(_filterType),skipConf.jsonData.data)}skipInfo.draw.forEach(function(element){hashMapping[element]=true});skipInfo.drawOnlyMap=hashMapping;skipInfo.hide=elemHideDecider(prevDrawInfo);labelDrawInfo=labelDrawIndices(skipInfo.draw);skipInfo.labelDraw=labelDrawInfo.drawableLabelIndices;hashMapping=skipInfo.labelDrawOnlyMap=labelDrawInfo.labelHashMap;skipInfo.hideLabel=elemHideDecider(prevLabelInfo);skipInfo.plotsPerBin=skipConf.plotsPerBin;skipInfo.skippingApplied=true;skipInfo.dragHashMap=[];skipInfo.prevDrawInfo=prevDrawInfo.slice(0);return skipInfo}function updateDragMap(){var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var component=config.component,eventArgs=config.eventArgs,skipInfo=component.getSkippingInfo&&component.getSkippingInfo()||{};eventArgs&&(skipInfo.dragHashMap[eventArgs.dataIndex]=eventArgs.endValue)}function dataSkipping(){var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var component=config.component;if(decideSkip(config)){component.setSkippingInfo&&component.setSkippingInfo(skippingTool(config))}else{component.setSkippingInfo&&component.setSkippingInfo()}}exports["default"]={dataSkipping:dataSkipping,updateDragMap:updateDragMap}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var UNDEF=void 0;exports["default"]=function(type){var filter={maxOnly:function maxOnly(startIndex,endIndex,data){var updatedValueMap=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];var plotsToBeDrawn=arguments[4];var maxValue=data[endIndex].value,maxIndex=endIndex,value=void 0;for(var i=endIndex-1;i>=startIndex;--i){if(updatedValueMap[i]!==UNDEF){value=updatedValueMap[i]}else{value=data[i].value}if(value>maxValue){maxValue=value;maxIndex=i}}plotsToBeDrawn.push(maxIndex);return plotsToBeDrawn},minMax:function minMax(startIndex,endIndex,data){var updatedValueMap=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];var plotsToBeDrawn=arguments[4];var maxValue=data[endIndex].value,maxIndex=endIndex,minValue=data[endIndex].value,minIndex=endIndex,value=void 0;for(var i=endIndex-1;i>=startIndex;--i){if(updatedValueMap[i]!==UNDEF){value=updatedValueMap[i]}else{value=data[i].value}if(value>maxValue){maxValue=value;maxIndex=i}else if(value<minValue){minValue=value;minIndex=i}}var _ref=minIndex<maxIndex?[minIndex,maxIndex]:[maxIndex,minIndex];minIndex=_ref[0];maxIndex=_ref[1];plotsToBeDrawn.push(minIndex);if(minIndex!==maxIndex){plotsToBeDrawn.push(maxIndex)}return plotsToBeDrawn}};return filter[type]||filter.maxOnly}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var allowedCharts={Column2D:true,Line:true,Area2D:true,Bar2D:true,MSColumn2D:true,MSLine:true,MSBar2D:true,MSArea:true,StackedColumn2D:true,StackedBar2D:true,StackedArea2D:true,MSStackedColumn2D:true,MSCombi2D:true,StackedColumn2DLine:true,MSCombidy2D:true,LogMSColumn2d:true,LogMSLine:true,DragColumn:true,DragLine:true,DragArea:true},filterType={Column:"maxOnly",line:"minMax",area:"minMax"};exports.allowedCharts=allowedCharts;exports.filterType=filterType},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _index=__webpack_require__(183);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]=_index2["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _extAnnotation=__webpack_require__(184);var _extAnnotation2=_interopRequireDefault(_extAnnotation);var _pickBy=__webpack_require__(208);var _pickBy2=_interopRequireDefault(_pickBy);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var isChartAPI=function isChartAPI(component){return component.getType()==="chartAPI"};var isRootAttr=function isRootAttr(value,key){return key!=="groups"&&key!=="items"};function FCWrapper(FusionCharts){FusionCharts.addEventListener("instantiated",function(event){var component=event.sender;if(isChartAPI(component)){component.registerFactory("annotation",function(chartComponent){var annotationData=chartComponent.getFromEnv("dataSource").annotations;var chartAnnotations=chartComponent.getChildren().annotation;var ext=chartAnnotations&&chartAnnotations[0];ext&&ext.destroy();delete chartComponent.getFromEnv("chartInstance").annotations;if(annotationData){if(!ext){ext=new _extAnnotation2["default"]((0,_pickBy2["default"])(isRootAttr,annotationData));chartComponent.attachChild(ext,"annotation");ext.config.drawn=false}annotationData.macroEnabled=true;ext.configure(annotationData);chartComponent.getFromEnv("chartInstance").annotations=ext}})}})}exports["default"]={extension:FCWrapper,name:"Annotation",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _annotationController=__webpack_require__(185);var _annotationController2=_interopRequireDefault(_annotationController);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _pickBy=__webpack_require__(208);var _pickBy2=_interopRequireDefault(_pickBy);var _utils=__webpack_require__(209);var _dependencyManager=__webpack_require__(125);var _annotationAnimation=__webpack_require__(210);var _annotationAnimation2=_interopRequireDefault(_annotationAnimation);var _redraphaelShapes=__webpack_require__(211);var _redraphaelShapes2=_interopRequireDefault(_redraphaelShapes);var _redraphaelShapes3=__webpack_require__(212);var _redraphaelShapes4=_interopRequireDefault(_redraphaelShapes3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var NO_ANIM_CONFIG={animDuration:0};var circular2D=["pie2d","doughnut2d"];var circular3D=["pie3d","doughnut3d"];var scale={};var isMacro=function isMacro(valueString){return~valueString.indexOf(_utils.DEFAULT_MACRO_PREFIX)};var solveEquation=function solveEquation(arr){var sum=+arr[0];var i=1;var ii=arr.length;var state=void 0;var val=void 0;for(;i<ii;++i){val=arr[i];if(i%2){state=val}else{switch(state){case"+":sum+=+val;break;case"-":sum-=+val;break}}}return sum};var getSnapPoints=function getSnapPoints(chart){var chartConfig=chart.config;var chartComponents=chart.getChildren();var caption=chartComponents.caption[0];var subCaption=chartComponents.subCaption[0];var legend=chartComponents.legend&&chartComponents.legend[0]||{};var gradientLegend=chartComponents.gLegend&&chartComponents.gLegend[0]||{};var captionConfig=caption.config;var subCaptionConfig=subCaption.config;var captionwidth=captionConfig.width||0;var subcaptionwidth=subCaptionConfig.width||0;var captionstartx=void 0;var legendConfig=void 0;var subcaptionstartx=void 0;var snapliterals=void 0;if(captionConfig.align==="end"){captionstartx=captionConfig.x-captionwidth;subcaptionstartx=captionConfig.x-subcaptionwidth}else if(captionConfig.align==="start"){captionstartx=subcaptionstartx=captionConfig.x}else{captionstartx=captionConfig.x-captionwidth/2;subcaptionstartx=captionConfig.x-subcaptionwidth/2}legendConfig=chartConfig.gLegendEnabled?gradientLegend.conf:legend.config;snapliterals={canvasendx:chartConfig.canvasRight,canvasendy:chartConfig.canvasBottom,canvasheight:chartConfig.canvasHeight,canvasstartx:chartConfig.canvasLeft,canvasstarty:chartConfig.canvasTop,canvaswidth:chartConfig.canvasWidth,canvascenterx:chartConfig.canvasCenterX||chartConfig.canvasLeft+(chartConfig.canvasRight-chartConfig.canvasLeft)/2,canvascentery:chartConfig.canvasCenterY||chartConfig.canvasTop+(chartConfig.canvasBottom-chartConfig.canvasTop)/2,chartcenterx:chartConfig.width/2,chartcentery:chartConfig.height/2,chartstartx:0,chartstarty:0,chartendx:chartConfig.width,chartendy:chartConfig.height,chartheight:chartConfig.height,chartwidth:chartConfig.width,chartleftmargin:chartConfig.marginLeft,chartrightmargin:chartConfig.marginRight,chartbottommargin:chartConfig.marginBottom,charttopmargin:chartConfig.marginTop,captionendx:captionstartx+captionConfig.width,captionendy:captionConfig.y+captionConfig.height,captionheight:captionConfig.height,captionstartx:captionstartx,captionstarty:captionConfig.y,captionwidth:captionwidth,subcaptionendx:subcaptionstartx+subCaptionConfig.width,subcaptionendy:subCaptionConfig.y+subCaptionConfig.height,subcaptionheight:subCaptionConfig.height,subcaptionstartx:subcaptionstartx,subcaptionstarty:subCaptionConfig.y,subcaptionwidth:subcaptionwidth,legendendx:legendConfig&&legendConfig.xPos+legendConfig.width,legendendy:legendConfig&&legendConfig.yPos+legendConfig.height,legendheight:legendConfig&&legendConfig.height,legendstartx:legendConfig&&legendConfig.xPos,legendstarty:legendConfig&&legendConfig.yPos,legendwidth:legendConfig&&legendConfig.width,dataset:function dataset(string){var traversalArr=string.split(_utils.DEFAULT_MACRO_SEPARATOR).slice(1);var set=void 0;var dataset=void 0;var sets=[];var bbox=void 0;var datasets=[];chart.iterateComponents(function(component){if(component.getType()==="dataset"){datasets.push(component)}});datasets.sort(function(a,b){return a.getJSONIndex()-b.getJSONIndex()});dataset=datasets[Number(traversalArr[0])];sets=dataset.components.data;set=sets[Number(traversalArr[2])];if(circular2D.indexOf(dataset.getName().toLowerCase())>-1){return(0,_utils.computeSliceBounds)(traversalArr[3],set.config)}else if(circular3D.indexOf(dataset.getName().toLowerCase())>-1){return(0,_utils.compute3DSliceBounds)(traversalArr[3],set.config)}else{bbox=(0,_utils.computePlotBounds)(set,dataset.getName());return(0,_utils.xyCalculator)(traversalArr[3],bbox)}},xaxis:(0,_utils.axisMacroParser)(chart,"xAxis"),yaxis:(0,_utils.axisMacroParser)(chart,"yAxis"),gaugestartx:chartConfig.gaugeStartX,gaugestarty:chartConfig.gaugeStartY,gaugeendx:chartConfig.gaugeEndX,gaugeendy:chartConfig.gaugeEndY,gaugecenterx:chartConfig.gaugeCenterX,gaugecentery:chartConfig.gaugeCenterY,gaugestartangle:chartConfig.gaugeStartAngle,gaugeendangle:chartConfig.gaugeEndAngle,gaugeradius:chartConfig.gaugeRadius,plotwidth:chartConfig.plotWidth,plotsemiwidth:chartConfig.plotSemiWidth};return snapliterals};var getScaledVal=function getScaledVal(num){var multiplier=void 0;switch(scale.axis){case"x":case"toX":multiplier=scale.scaleX;break;case"y":case"toY":multiplier=scale.scaleY;break;default:multiplier=scale.scaleValue||1}return num*multiplier};var parseEquation=function parseEquation(string,object){var scale=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var prefix=arguments.length>3&&arguments[3]!==undefined?arguments[3]:_utils.DEFAULT_MACRO_PREFIX;var plusArr=string.split(/([+])/);var negArr=void 0;var finalArr=[];var i=void 0;var j=void 0;var posStr=void 0;var negStr=void 0;var nlen=void 0;var plen=plusArr.length;for(i=0;i<plen;i++){posStr=plusArr[i];if(posStr!=="+"){posStr=plusArr[i];negArr=posStr.split(/([-])/);for(j=0,nlen=negArr.length;j<nlen;j++){negStr=negArr[j];if(negStr!=="-"){finalArr.push(negArr[j]);if(j<nlen-1){finalArr.push("-")}}}if(i<plen-1){finalArr.push("+")}}}return finalArr.map(function(str){var key="";var untaggedString="";var comparand="";var parsedVal=void 0;var re=void 0;var value=void 0;if(str.charAt(0)===prefix){untaggedString=str.replace(new RegExp("[\\$ ]","g"),"");comparand=untaggedString.split(_utils.DEFAULT_MACRO_SEPARATOR)[0];if(!isNaN(+untaggedString)){return+untaggedString}for(key in object){if(comparand===key){re=new RegExp(key,"g");if(typeof object[key]==="function"){try{parsedVal=comparand.replace(re,object[key](untaggedString))}catch(e){parsedVal=comparand.replace(re,0)}}else{parsedVal=comparand.replace(re,object[key]||0)}break}}}else{value=Number(str);if(!isNaN(value)){str=scale?getScaledVal(value).toString():value.toString()}else if(str!=="+"&&str!=="-"){str=0}parsedVal=str}return parsedVal})};var parseAndCalculateMacro=function parseAndCalculateMacro(rawCoordinateConfig,snapPoints){var config=this.config;var recalculatingAttrs={x:(0,_utils.pluck)(rawCoordinateConfig.x,rawCoordinateConfig.xPos,0),y:(0,_utils.pluck)(rawCoordinateConfig.y,rawCoordinateConfig.yPos,0),toX:(0,_utils.pluck)(rawCoordinateConfig.toX),toY:(0,_utils.pluck)(rawCoordinateConfig.toY)};var calculatedAttrs={};var attr=void 0;for(var key in recalculatingAttrs){if(recalculatingAttrs.hasOwnProperty(key)){attr=recalculatingAttrs[key];if(typeof attr!="undefined"){attr=attr.toString();scale.axis=key;if(isMacro(attr)){calculatedAttrs[key]=solveEquation(parseEquation((0,_utils.cleanMacro)(attr.toLowerCase()),snapPoints,true))}else{calculatedAttrs[key]=solveEquation(parseEquation((0,_utils.cleanMacro)(attr.toLowerCase()),snapPoints));calculatedAttrs[key]=getScaledVal(calculatedAttrs[key])}}}}return calculatedAttrs};var parseAndSetAttribute=function parseAndSetAttribute(chart,annotation){var chartChildren=chart.getChildren();var annotationExt=chartChildren.annotation&&chartChildren.annotation[0]||annotation;var annotationController=void 0;var snapPoints=void 0;var i=void 0;var j=void 0;var group=void 0;var rawGroupConfig=void 0;var item=void 0;var rawItemConfig=void 0;var groupLength=void 0;var itemLength=void 0;var groupCalculatedAttrs=void 0;var calculatedAttrs=void 0;if(!annotationExt){return}annotationController=annotationExt.annotation;snapPoints=getSnapPoints(chart);groupLength=annotationController.groups&&annotationController.groups.length;for(i=0;i<groupLength;i++){group=annotationController.groups[i];rawGroupConfig=group.rawConfig;scale.scaleX=group._getConfig("scaleX");scale.scaleY=group._getConfig("scaleY");scale.scaleValue=group._getConfig("scaleValue");groupCalculatedAttrs=parseAndCalculateMacro.call(group,rawGroupConfig,snapPoints);group.updateAttr(groupCalculatedAttrs);groupCalculatedAttrs.x=groupCalculatedAttrs.x||0;groupCalculatedAttrs.y=groupCalculatedAttrs.y||0;itemLength=group.items&&group.items.length;for(j=0;j<itemLength;j++){item=group.items[j];rawItemConfig=item.rawConfig;calculatedAttrs=parseAndCalculateMacro.call(item,rawItemConfig,snapPoints);calculatedAttrs.x=calculatedAttrs.x+groupCalculatedAttrs.x;calculatedAttrs.y=calculatedAttrs.y+groupCalculatedAttrs.y;if(!isNaN(Number(calculatedAttrs.toX))){calculatedAttrs.toX+=groupCalculatedAttrs.x}else{calculatedAttrs.toX=calculatedAttrs.x}if(!isNaN(Number(calculatedAttrs.toY))){calculatedAttrs.toY+=groupCalculatedAttrs.y}item.updateAttr(calculatedAttrs)}}};var getBoolean=function getBoolean(numericBool){return!(parseInt(numericBool,10)===0)};var parseShapeConfiguration=function parseShapeConfiguration(rawConfig){var groupConfig=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var chartConfig=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var itemAttr={};itemAttr.annotationType="shape";itemAttr.id=rawConfig.id;itemAttr.type=rawConfig.type&&rawConfig.type.toLowerCase();itemAttr.toolText=(0,_utils.pluck)(rawConfig.tooltext,rawConfig.toolText);itemAttr.animationLabel=(0,_utils.pluck)(rawConfig.animationlabel,rawConfig.animationLabel);itemAttr.dashed=rawConfig.dashed;itemAttr.dashLen=(0,_utils.pluck)(rawConfig.dashlen,rawConfig.dashLen);itemAttr.dashGap=(0,_utils.pluck)(rawConfig.dashgap,rawConfig.dashGap);itemAttr.thickness=rawConfig.thickness;itemAttr.showBorder=(0,_utils.pluck)(rawConfig.showborder,rawConfig.showBorder);itemAttr.borderColor=(0,_utils.pluck)(rawConfig.bordercolor,rawConfig.borderColor);itemAttr.borderAlpha=(0,_utils.pluck)(rawConfig.borderalpha,rawConfig.borderAlpha);itemAttr.borderThickness=(0,_utils.pluck)(rawConfig.borderthickness,rawConfig.borderThickness);itemAttr.alpha=rawConfig.alpha;itemAttr.color=rawConfig.color;itemAttr.fillColor=(0,_utils.pluck)(rawConfig.fillcolor,rawConfig.fillColor);itemAttr.fontColor=(0,_utils.pluck)(rawConfig.fontcolor,rawConfig.fontColor);itemAttr.fillAlpha=(0,_utils.pluck)(rawConfig.fillalpha,rawConfig.fillAlpha);itemAttr.fillAngle=(0,_utils.pluck)(rawConfig.fillangle,rawConfig.fillAngle);itemAttr.fillRatio=(0,_utils.pluck)(rawConfig.fillratio,rawConfig.fillRatio);itemAttr.fillPattern=(0,_utils.pluck)(rawConfig.fillpattern,rawConfig.fillPattern);itemAttr.sides=rawConfig.sides;itemAttr.radius=rawConfig.radius;itemAttr.yRadius=(0,_utils.pluck)(rawConfig.yradius,rawConfig.yRadius);itemAttr.innerRadius=(0,_utils.pluck)(rawConfig.innerradius,rawConfig.innerRadius);itemAttr.endAngle=(0,_utils.pluck)(rawConfig.endangle,rawConfig.endAngle);itemAttr.startAngle=(0,_utils.pluck)(rawConfig.startangle,rawConfig.startAngle);itemAttr.isVisible=getBoolean(rawConfig.visible)===true;itemAttr.x=rawConfig.x;itemAttr.y=rawConfig.y;itemAttr.xPos=(0,_utils.pluck)(rawConfig.xpos,rawConfig.xPos);itemAttr.yPos=(0,_utils.pluck)(rawConfig.ypos,rawConfig.yPos);itemAttr.toY=(0,_utils.pluck)(rawConfig.toy,rawConfig.toY);itemAttr.toX=(0,_utils.pluck)(rawConfig.tox,rawConfig.toX);itemAttr.path=rawConfig.path;itemAttr.css=rawConfig.css;itemAttr.wrap=rawConfig.wrap;itemAttr.text=rawConfig.text;itemAttr.font=(0,_utils.pluck)(rawConfig.font,groupConfig.font,chartConfig.basefont);itemAttr.bold=(0,_utils.pluck)(rawConfig.bold,rawConfig.isbold,rawConfig.bold,rawConfig.isBold);itemAttr.label=rawConfig.label;itemAttr.align=rawConfig.align;itemAttr.italic=rawConfig.italic;itemAttr.vAlign=(0,_utils.pluck)(rawConfig.valign,rawConfig.vAlign);itemAttr.bgColor=(0,_utils.pluck)(rawConfig.bgcolor,rawConfig.bgColor);itemAttr.fontSize=(0,_utils.pluck)(rawConfig.fontsize,rawConfig.fontSize,groupConfig.fontSize,chartConfig.basefontsize);itemAttr.wrapWidth=(0,_utils.pluck)(rawConfig.wrapwidth,rawConfig.wrapWidth);itemAttr.leftMargin=(0,_utils.pluck)(rawConfig.leftmargin,rawConfig.leftMargin);itemAttr.rotateText=(0,_utils.pluck)(rawConfig.rotatetext,rawConfig.rotateText);itemAttr.wrapHeight=(0,_utils.pluck)(rawConfig.wrapheight,rawConfig.wrapHeight);itemAttr.showShadow=(0,_utils.pluck)(rawConfig.showshadow,rawConfig.showShadow);itemAttr.link=rawConfig.link;itemAttr.url=rawConfig.url;itemAttr.link=rawConfig.link;itemAttr.width=rawConfig.width;itemAttr.height=rawConfig.height;itemAttr.xScale=(0,_utils.pluck)(rawConfig.xscale,rawConfig.xScale);itemAttr.yScale=(0,_utils.pluck)(rawConfig.yscale,rawConfig.yScale);itemAttr.onload=rawConfig.onload;itemAttr.onerror=rawConfig.onerror;for(var attribute in itemAttr){if(itemAttr.hasOwnProperty(attribute)){var val=itemAttr[attribute];if(typeof val==="undefined")delete itemAttr[attribute]}}return itemAttr};var parseConfiguration=function parseConfiguration(rawConfig,chartConfig){var groupAttr={};var rawItemConfigs=rawConfig.items;rawItemConfigs=rawConfig.items=(0,_utils.arrangeItems)(rawItemConfigs);groupAttr.annotationType="group";groupAttr.id=rawConfig.id;groupAttr.showBelow=typeof rawConfig.showbelow==="undefined"||rawConfig.showbelow==null?1:Number(rawConfig.showbelow);groupAttr.x=rawConfig.x;groupAttr.y=rawConfig.y;groupAttr.animationLabel=(0,_utils.pluck)(rawConfig.animationlabel,rawConfig.animationLabel);groupAttr.xPos=(0,_utils.pluck)(rawConfig.xpos,rawConfig.xPos);groupAttr.yPos=(0,_utils.pluck)(rawConfig.ypos,rawConfig.yPos);groupAttr.grpXShift=(0,_utils.pluck)(rawConfig.grpxshift,rawConfig.grpXShift);groupAttr.grpYShift=(0,_utils.pluck)(rawConfig.grpyshift,rawConfig.grpYShift);groupAttr.xShift=(0,_utils.pluck)(rawConfig.xshift,rawConfig.xShift);groupAttr.yShift=(0,_utils.pluck)(rawConfig.yshift,rawConfig.yShift);groupAttr.color=rawConfig.color;groupAttr.alpha=rawConfig.alpha;groupAttr.isVisible=Number(rawConfig.visible||1)===1;groupAttr.font=(0,_utils.pluck)(rawConfig.font,chartConfig.basefont);groupAttr.link=rawConfig.link;groupAttr.fontSize=(0,_utils.pluck)(rawConfig.fontsize,rawConfig.fontSize,chartConfig.basefontsize);groupAttr.textAlign=(0,_utils.pluck)(rawConfig.textalign,rawConfig.textAlign);groupAttr.textVAlign=(0,_utils.pluck)(rawConfig.textvalign,rawConfig.textVAlign);groupAttr.rotateText=(0,_utils.pluck)(rawConfig.rotatetext,rawConfig.rotateText);groupAttr.wrapText=(0,_utils.pluck)(rawConfig.wraptext,rawConfig.wrapText);groupAttr.toolText=(0,_utils.pluck)(rawConfig.tooltext,rawConfig.toolText);groupAttr.link=rawConfig.link;groupAttr.showShadow=(0,_utils.pluck)(rawConfig.showshadow,rawConfig.showShadow);groupAttr.items=rawConfig.items;groupAttr.css=rawConfig.css;groupAttr.autoScale=(0,_utils.pluck)(rawConfig.autoscale,rawConfig.autoScale);groupAttr.scaleText=(0,_utils.pluck)(rawConfig.scaletext,rawConfig.scaleText);groupAttr.xScale=(0,_utils.pluck)(rawConfig.xscale,rawConfig.xScale);groupAttr.yScale=(0,_utils.pluck)(rawConfig.yscale,rawConfig.yScale);groupAttr.scaleImages=(0,_utils.pluck)(rawConfig.scaleimages,rawConfig.scaleImages);groupAttr.constrainedScale=(0,_utils.pluck)(rawConfig.constrainedscale);groupAttr.origH=(0,_utils.pluck)(rawConfig.origh,rawConfig.origH,chartConfig.origh);groupAttr.origW=(0,_utils.pluck)(rawConfig.origw,rawConfig.origW,chartConfig.origw);groupAttr.onAnnotationClick=rawConfig.onAnnotationClick;groupAttr.onAnnotationRollover=rawConfig.onAnnotationRollover;groupAttr.onAnnotationRollout=rawConfig.onAnnotationRollout;for(var attribute in groupAttr){if(groupAttr.hasOwnProperty(attribute)){var val=groupAttr[attribute];if(typeof val==="undefined")delete groupAttr[attribute]}}if(Array.isArray(rawItemConfigs)){groupAttr.itemConfigs=rawItemConfigs.map(function(itemConfig){return parseShapeConfiguration(itemConfig,groupAttr,chartConfig)})}return groupAttr};var attachEventOnElement=function attachEventOnElement(item,chart,config){var element=item._getFromStore("element");var clickEvent=void 0;var rollOverEvent=void 0;var rollOutEvent=void 0;if(!item||!element){return}clickEvent=config.onAnnotationClick||(0,_utils.defaultAnnotationClick)(item,chart);rollOverEvent=config.onAnnotationRollover||(0,_utils.defaultAnnotationRollOver)(item,chart);rollOutEvent=config.onAnnotationRollout||(0,_utils.defaultAnnotationRollOut)(item,chart);element.on("click",clickEvent);element.on("mouseover",rollOverEvent);element.on("mouseout",rollOutEvent)};var makeVisible=function makeVisible(groups){groups.forEach(function(group){var items=group.items;items.forEach(function(item){item.config.isVisible=true;item.show(NO_ANIM_CONFIG)});group.config.isVisible=true;group.show(NO_ANIM_CONFIG)})};var mergeConfig=function mergeConfig(rawconfig,groupConfig){groupConfig.css=groupConfig.css||rawconfig.css;groupConfig.autoscale=(0,_utils.pluck)(groupConfig.autoscale,rawconfig.autoscale);groupConfig.animationLabel=(0,_utils.pluck)(groupConfig.animationLabel,rawconfig.animationLabel);groupConfig.constrainedscale=(0,_utils.pluck)(groupConfig.constrainedscale,rawconfig.constrainedscale);groupConfig.scaletext=(0,_utils.pluck)(groupConfig.scaletext,rawconfig.scaletext);groupConfig.scaleimages=(0,_utils.pluck)(groupConfig.scaleimages,rawconfig.scaleimages);groupConfig.xshift=(0,_utils.pluck)(groupConfig.xshift,rawconfig.xshift);groupConfig.yshift=(0,_utils.pluck)(groupConfig.yshift,rawconfig.yshift);groupConfig.grpxshift=(0,_utils.pluck)(groupConfig.grpxshift,rawconfig.grpxshift);groupConfig.grpyshift=(0,_utils.pluck)(groupConfig.grpyshift,rawconfig.grpyshift);groupConfig.origw=(0,_utils.pluck)(groupConfig.origw,rawconfig.origw);groupConfig.origh=(0,_utils.pluck)(groupConfig.origh,rawconfig.origh);groupConfig.showbelow=(0,_utils.pluck)(groupConfig.showbelow,rawconfig.showbelow,1);groupConfig.onAnnotationClick=rawconfig.onAnnotationClick;groupConfig.onAnnotationRollover=rawconfig.onAnnotationRollover;groupConfig.onAnnotationRollout=rawconfig.onAnnotationRollout};var isRootGroupConfig=function isRootGroupConfig(value,key){return key!=="itemConfigs"};(0,_dependencyManager.addDep)({name:"annotationAnimation",type:"animationRule",extension:_annotationAnimation2["default"]});var AnnotationExtension=function(_ComponentInterface){_inherits(AnnotationExtension,_ComponentInterface);function AnnotationExtension(){var rawConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,AnnotationExtension);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this.annotation=new _annotationController2["default"](rawConfig);_this.idCounterStore={};_this.rawConfig=JSON.parse(JSON.stringify(rawConfig));_this.config={};return _this}AnnotationExtension.prototype.getName=function getName(){return"annotation"};AnnotationExtension.prototype.getType=function getType(){return"extension"};AnnotationExtension.prototype.configureAttributes=function configureAttributes(){var rawConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{groups:[]};var ext=this;var chart=ext.getFromEnv("chart");var dataSource=chart.getFromEnv("dataSource");ext.rawConfig={group:[]};ext.config.labelClickFN=(0,_utils.getLinkAction)(dataSource,chart);ext.rawConfig.macroEnabled=rawConfig.macroEnabled;!ext.parsedConfigs&&(ext.parsedConfigs=[]);if(rawConfig.groups){this.parsedConfigs=rawConfig.groups.map(function(rawConfigGroup){mergeConfig(rawConfig,rawConfigGroup);return parseConfiguration(rawConfigGroup,chart.config)})}else{this.parsedConfigs=[]}ext.createAnnotationItems()};AnnotationExtension.prototype.createAnnotationItems=function createAnnotationItems(){var ext=this;var chart=ext.getFromEnv("chartInstance");ext.parsedConfigs.forEach(function(groupConfig){var itemConfigs=groupConfig.itemConfigs||{};var annotationGroup=void 0;var annotationController=ext.annotation;var curGroup=void 0;groupConfig=(0,_pickBy2["default"])(isRootGroupConfig,groupConfig);groupConfig.chartWidth=Number(chart.width);groupConfig.chartHeight=Number(chart.height);curGroup={x:groupConfig.x,y:groupConfig.y,toX:groupConfig.toX,toY:groupConfig.toY,items:[]};ext.rawConfig.group.push(curGroup);annotationGroup=annotationController.createItem(groupConfig);itemConfigs.forEach(function(itemConfig){itemConfig.chartWidth=Number(chart.width);itemConfig.chartHeight=Number(chart.height);curGroup.items.push({x:itemConfig.x,y:itemConfig.y,toX:itemConfig.toX,toY:itemConfig.toY});annotationController.createItem(itemConfig,annotationGroup)})})};AnnotationExtension.prototype.getGraphicalElement=function getGraphicalElement(){return{itemElements:this.annotation.items.map(function(item){return item._getFromStore("element")})}};AnnotationExtension.prototype.getChildContainer=function getChildContainer(){return{groupElements:this.annotation.groups.map(function(group){return group._getFromStore("element")})}};AnnotationExtension.prototype.addItem=function addItem(groupId){var itemConfig=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var drawImmediate=arguments[2];var component=arguments[3];var group=this.annotation.retrieveGroup(groupId);var chart=this.getFromEnv("chart");var parsedItemConfig=parseShapeConfiguration(itemConfig);var item=void 0;parsedItemConfig.hasTemporaryInvisibility=false;parsedItemConfig.isVisible=true;group=group||this.addGroup({id:groupId});item=this.annotation.createItem(parsedItemConfig,group);if(!item){return}this.annotation.injectDependency("component",component);this.annotation.attachModule(item);parseAndSetAttribute(chart);!group._getFromStore("element")&&group._draw();this.annotation.drawItem(item,group._getFromStore("element"));item.unfilteredConfig=itemConfig;attachEventOnElement(item,chart,group.rawConfig);return item};AnnotationExtension.prototype.addGroup=function addGroup(){var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var component=arguments[1];this.configureAttributes({groups:[config]});this.annotation.injectDependency("component",component);this.draw();makeVisible(this.annotation.groups);return this.annotation.groups[this.annotation.groups.length-1]};AnnotationExtension.prototype.addCustomGroup=function addCustomGroup(group){group&&(this.config.customGroup=group)};AnnotationExtension.prototype.update=function update(id,rawConfig){var item=void 0,key=void 0,config={},items=void 0,i=void 0,annotationController=this.annotation,parsedConfig=void 0;if(id){for(key in rawConfig){config[key.toLowerCase()]=rawConfig[key]&&rawConfig[key].toString()}item=this.annotation.retrieveItem(id)||this.annotation.retrieveGroup(id);item.unfilteredConfig=rawConfig;if(!item||!item._getFromStore("element")){return}typeof config.visible==="undefined"&&(config.visible=item._getConfig("isVisible"));parsedConfig=parseShapeConfiguration(config);parsedConfig.isVisible=config.visible;item&&item.setAttribute(parsedConfig);item.config.elementType==="group"&&item.updateScale();parseAndSetAttribute(this.getFromEnv("chart"),this);annotationController.drawItem(item,item._getFromStore("groupElement"));rawConfig.visible!==false&&item.show();item._getFromStore("animationManager").setAnimation({el:item._getFromStore("element"),attr:item.config.attr,component:item._getFromStore("component"),label:(0,_utils.pluck)(item.rawConfig.animationLabel,item.config.elementType)});items=item.items||[];for(i=0;i<items.length;i++){items[i]&&annotationController.drawItem(items[i],items[i]._getFromStore("groupElement"))}return item}};AnnotationExtension.prototype.hide=function hide(id){var item=void 0;if(id){item=this.annotation.retrieveItem(id)||this.annotation.retrieveGroup(id);item&&item.hide(NO_ANIM_CONFIG)}else{this.annotation.hide(NO_ANIM_CONFIG)}};AnnotationExtension.prototype.show=function show(id){var item=void 0;if(id){item=this.annotation.retrieveItem(id)||this.annotation.retrieveGroup(id);item&&item.show(NO_ANIM_CONFIG)}else{this.annotation.show(NO_ANIM_CONFIG)}};AnnotationExtension.prototype.destroy=function destroy(id){var item=void 0;if(id){item=this.annotation.retrieveItem(id)||this.annotation.retrieveGroup(id);item&&item.dispose(NO_ANIM_CONFIG,true)}else{this.annotation.dispose(NO_ANIM_CONFIG,true)}};AnnotationExtension.prototype._dispose=function _dispose(){this.destroy()};AnnotationExtension.prototype.clear=function clear(){var len=void 0;len=this.parsedConfigs&&this.parsedConfigs.length;while(len--){this.parsedConfigs.pop()}len=this.rawConfig.group&&this.rawConfig.group.length;while(len--){this.rawConfig.group.pop()}delete this.rawConfig.group;this.annotation.dispose(NO_ANIM_CONFIG,true)};AnnotationExtension.prototype.updateScale=function updateScale(){var ext=this;var annotationController=ext.annotation;var i=void 0;var group=void 0;var groupLength=void 0;groupLength=annotationController.groups&&annotationController.groups.length;for(i=0;i<groupLength;i++){group=annotationController.groups[i];group.updateScale()}};AnnotationExtension.prototype.injectAllDependency=function injectAllDependency(){var ext=this;var annotationController=ext.annotation;var i=void 0;var j=void 0;var group=void 0;var item=void 0;var groupLength=void 0;var itemLength=void 0;var chartDimention=void 0;var chartInstance=ext.getFromEnv("chart");var component=annotationController.resolveDependency("component")||ext;var Raphael=(0,_dependencyManager.getDep)("redraphael","plugin");(0,_redraphaelShapes2["default"])(Raphael);(0,_redraphaelShapes4["default"])(Raphael);chartDimention={width:Number(chartInstance.getFromEnv("chartWidth")),height:Number(chartInstance.getFromEnv("chartHeight"))};annotationController.injectDependency("paper",chartDimention);annotationController.injectDependency("smartLabel",ext.getFromEnv("smartLabel"));annotationController.injectDependency("toolTipController",ext.getFromEnv("toolTipController"));annotationController.injectDependency("animationManager",ext.getFromEnv("animationManager"));annotationController.injectDependency("component",component);annotationController.injectDependency("clickFN",ext.config.labelClickFN);groupLength=annotationController.groups&&annotationController.groups.length;for(i=0;i<groupLength;i++){group=annotationController.groups[i];annotationController.attachModule(group);item=group.items;itemLength=item&&item.length;for(j=0;j<itemLength;j++){annotationController.attachModule(item[j])}}};AnnotationExtension.prototype.draw=function draw(){var ext=this;var chart=ext.getFromEnv("chart");var annotationController=ext.annotation;ext.injectAllDependency();ext.updateScale();ext.rawConfig.macroEnabled&&parseAndSetAttribute(chart);ext.drawAnnotationItems(ext);ext.config.drawn=true};AnnotationExtension.prototype.drawAnnotationItems=function drawAnnotationItems(){var ext=this;var chart=ext.getFromEnv("chart");var annotationController=ext.annotation;var groupLength=void 0;var group=void 0;var i=void 0;var j=void 0;var item=void 0;var itemLength=void 0;var groupElement=void 0;groupLength=annotationController.groups&&annotationController.groups.length;for(i=0;i<groupLength;i++){group=annotationController.groups[i];if(ext.config.customGroup){groupElement=ext.config.customGroup}else{groupElement=group.rawConfig.showBelow?ext.getLinkedParent().getChildContainer("lowerAnnotationGroup"):ext.getLinkedParent().getChildContainer("upperAnnotationGroup")}annotationController.drawItem(group,groupElement);item=group.items;itemLength=item&&item.length;groupElement=group._getFromStore("element");for(j=0;j<itemLength;j++){annotationController.drawItem(item[j],groupElement);attachEventOnElement(item[j],chart,group.rawConfig)}}};return AnnotationExtension}(_componentInterface2["default"]);exports["default"]=AnnotationExtension},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _annotationInterface=__webpack_require__(186);var _annotationInterface2=_interopRequireDefault(_annotationInterface);var _mergeDeepRight=__webpack_require__(187);var _mergeDeepRight2=_interopRequireDefault(_mergeDeepRight);var _utils=__webpack_require__(196);var _annotationGroup=__webpack_require__(197);var _annotationGroup2=_interopRequireDefault(_annotationGroup);var _annotationCircle=__webpack_require__(200);var _annotationCircle2=_interopRequireDefault(_annotationCircle);var _annotationPath=__webpack_require__(202);var _annotationPath2=_interopRequireDefault(_annotationPath);var _annotationRect=__webpack_require__(203);var _annotationRect2=_interopRequireDefault(_annotationRect);var _annotationPolygon=__webpack_require__(204);var _annotationPolygon2=_interopRequireDefault(_annotationPolygon);var _annotationImage=__webpack_require__(205);var _annotationImage2=_interopRequireDefault(_annotationImage);var _annotationText=__webpack_require__(207);var _annotationText2=_interopRequireDefault(_annotationText);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var DEFAULT_SHIFT=0,DEFAULT_IS_VISIBLE=true,DEFAULT_ANIM_DURATION=1e3;function createAppropriateShape(shapeType){var shape=void 0;switch(shapeType){case"circle":case"arc":shape=new _annotationCircle2["default"];break;case"line":case"path":shape=new _annotationPath2["default"];break;case"rectangle":shape=new _annotationRect2["default"];break;case"polygon":shape=new _annotationPolygon2["default"];break;case"image":shape=new _annotationImage2["default"];break;case"text":shape=new _annotationText2["default"];break}return shape}var AnnotationController=function(_AnnotationInterface){_inherits(AnnotationController,_AnnotationInterface);function AnnotationController(){var rawConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,AnnotationController);var _this=_possibleConstructorReturn(this,_AnnotationInterface.call(this,rawConfig));_this.groups=[];_this.setAttribute(rawConfig);return _this}AnnotationController.prototype.setAttribute=function setAttribute(){var rawConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var mergedConfig={};mergedConfig=(0,_mergeDeepRight2["default"])(rawConfig,this.rawConfig);this.rawConfig=mergedConfig;this.config.groupXShift=(0,_utils.pluckNumber)(mergedConfig.groupXShift,DEFAULT_SHIFT);this.config.groupYShift=(0,_utils.pluckNumber)(mergedConfig.groupYShift,DEFAULT_SHIFT);this.config.isVisible=(0,_utils.pluckBoolean)(mergedConfig.isVisible,DEFAULT_IS_VISIBLE);this.config.animConfig.animDuration=(0,_utils.pluckNumber)(mergedConfig.animConfig&&mergedConfig.animConfig.animDuration,DEFAULT_ANIM_DURATION)};AnnotationController.prototype.createItem=function createItem(rawConfig,group){var item=void 0,type=void 0;if(rawConfig.annotationType==="group"){rawConfig.groupXShift=(0,_utils.pluckNumber)(rawConfig.groupXShift,this.config.groupXShift);rawConfig.groupYShift=(0,_utils.pluckNumber)(rawConfig.groupYShift,this.config.groupYShift);item=new _annotationGroup2["default"](rawConfig);this.groups.push(item)}else{type=rawConfig.type&&rawConfig.type.toLowerCase();item=createAppropriateShape(type);if(!item){return}}if(group instanceof _annotationGroup2["default"]){group.attachItem(item)}else{item._setGroupElement(group)}item.setAttribute(rawConfig);item._setToStore("controller",this);return item};AnnotationController.prototype.attachModule=function attachModule(item){var annotationController=this;item._setToStore("component",annotationController.resolveDependency("component"));item._setToStore("animationManager",annotationController.resolveDependency("animationManager"));item._setToStore("paper",annotationController.resolveDependency("paper"));item._setToStore("smartLabel",annotationController.resolveDependency("smartLabel"));item._setToStore("toolTipController",annotationController.resolveDependency("toolTipController"));item._setToStore("clickFN",annotationController.resolveDependency("clickFN"));item._setToStore("controller",annotationController)};AnnotationController.prototype.drawItem=function drawItem(item,parentGroup){item._setGroupElement(parentGroup);item._draw()};AnnotationController.prototype.retrieveItem=function retrieveItem(id,removeFromStore){var i,j,item,itemLength,group,groupLength=this.groups&&this.groups.length;for(i=0;i<groupLength;i++){group=this.groups[i];itemLength=group.items&&group.items.length;for(j=0;j<itemLength;j++){item=group.items[j];if(item.getId()===id){if(removeFromStore){group.items.splice(j,1)}return item}}}};AnnotationController.prototype.retrieveGroup=function retrieveGroup(id,removeFromStore){var i,group,groupLength=this.groups&&this.groups.length;for(i=0;i<groupLength;i++){group=this.groups[i];if(group.getId()===id){if(removeFromStore){this.groups.splice(i,1)}return group}}};AnnotationController.prototype.injectDependency=function injectDependency(name,dependency){this._setToStore(name,dependency)};AnnotationController.prototype.resolveDependency=function resolveDependency(name){return this._getFromStore(name)};AnnotationController.prototype.show=function show(animConfig){_AnnotationInterface.prototype.show.call(this,animConfig);this.groups.forEach(function(group){group.show(animConfig);group.items.forEach(function(item){item.show(animConfig)})})};AnnotationController.prototype.hide=function hide(animConfig){_AnnotationInterface.prototype.hide.call(this,animConfig);this.groups.forEach(function(group){group.hide(animConfig);group.items.forEach(function(item){item.hide(animConfig)})})};AnnotationController.prototype.dispose=function dispose(animConfig,willDestroy){var i=void 0,j=void 0,groupLength=void 0,itemLength=void 0,group=void 0,item=void 0;if(!this.groups){return}groupLength=this.groups.length;for(i=groupLength-1;i>=0;i--){group=this.groups[i];itemLength=group.items&&group.items.length;for(j=itemLength-1;j>=0;j--){item=group.items[i];item&&item.dispose()}group.items=[];group.dispose()}this.groups=[]};return AnnotationController}(_annotationInterface2["default"]);exports["default"]=AnnotationController},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var AnnotationInterface=function(){function AnnotationInterface(){var rawConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,AnnotationInterface);this.rawConfig=JSON.parse(JSON.stringify(rawConfig));this.config={animConfig:{}};this.store={}}AnnotationInterface.prototype.getType=function getType(){return this._getConfig("type")};AnnotationInterface.prototype._setToStore=function _setToStore(key,value){this.store[key]=value};AnnotationInterface.prototype._getFromStore=function _getFromStore(key){return this.store[key]};AnnotationInterface.prototype._setConfig=function _setConfig(key,value){this.config[key]=value};AnnotationInterface.prototype._getConfig=function _getConfig(){var configName=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return configName===""?this.config:this.config[configName]};AnnotationInterface.prototype.getAttribute=function getAttribute(){var configName=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";return configName===""?this.rawConfig:this.rawConfig[configName]};AnnotationInterface.prototype.show=function show(){var element=this._getFromStore("element");element&&element.show()};AnnotationInterface.prototype.hide=function hide(){var element=this._getFromStore("element"),animationManager=this._getFromStore("animationManager");element&&animationManager.setAnimation({el:element,component:this._getFromStore("component"),doNotRemove:true,callback:function callback(){this.hide()},label:this.rawConfig.animationLabel})};AnnotationInterface.prototype.dispose=function dispose(){var item=this._getFromStore("controller").retrieveItem(this.getId(),true),animManager=void 0,element=void 0;if(!item){return}animManager=item._getFromStore("animationManager"),element=item._getFromStore("element");element&&animManager.setAnimation({el:element,component:item._getFromStore("component"),label:this.rawConfig.animationLabel})};return AnnotationInterface}();exports["default"]=AnnotationInterface},function(module,exports,__webpack_require__){var _curry2=__webpack_require__(188);var mergeDeepWithKey=__webpack_require__(191);var mergeDeepRight=_curry2(function mergeDeepRight(lObj,rObj){return mergeDeepWithKey(function(k,lVal,rVal){return rVal},lObj,rObj)});module.exports=mergeDeepRight},function(module,exports,__webpack_require__){var _curry1=__webpack_require__(189);var _isPlaceholder=__webpack_require__(190);function _curry2(fn){return function f2(a,b){switch(arguments.length){case 0:return f2;case 1:return _isPlaceholder(a)?f2:_curry1(function(_b){return fn(a,_b)});default:return _isPlaceholder(a)&&_isPlaceholder(b)?f2:_isPlaceholder(a)?_curry1(function(_a){return fn(_a,b)}):_isPlaceholder(b)?_curry1(function(_b){return fn(a,_b)}):fn(a,b)}}}module.exports=_curry2},function(module,exports,__webpack_require__){var _isPlaceholder=__webpack_require__(190);function _curry1(fn){return function f1(a){if(arguments.length===0||_isPlaceholder(a)){return f1}else{return fn.apply(this,arguments)}}}module.exports=_curry1},function(module,exports){function _isPlaceholder(a){return a!=null&&typeof a==="object"&&a["@@functional/placeholder"]===true}module.exports=_isPlaceholder},function(module,exports,__webpack_require__){var _curry3=__webpack_require__(192);var _isObject=__webpack_require__(193);var mergeWithKey=__webpack_require__(194);var mergeDeepWithKey=_curry3(function mergeDeepWithKey(fn,lObj,rObj){return mergeWithKey(function(k,lVal,rVal){if(_isObject(lVal)&&_isObject(rVal)){return mergeDeepWithKey(fn,lVal,rVal)}else{return fn(k,lVal,rVal)}},lObj,rObj)});module.exports=mergeDeepWithKey},function(module,exports,__webpack_require__){var _curry1=__webpack_require__(189);var _curry2=__webpack_require__(188);var _isPlaceholder=__webpack_require__(190);function _curry3(fn){return function f3(a,b,c){switch(arguments.length){case 0:return f3;case 1:return _isPlaceholder(a)?f3:_curry2(function(_b,_c){return fn(a,_b,_c)});case 2:return _isPlaceholder(a)&&_isPlaceholder(b)?f3:_isPlaceholder(a)?_curry2(function(_a,_c){return fn(_a,b,_c)}):_isPlaceholder(b)?_curry2(function(_b,_c){return fn(a,_b,_c)}):_curry1(function(_c){return fn(a,b,_c)});default:return _isPlaceholder(a)&&_isPlaceholder(b)&&_isPlaceholder(c)?f3:_isPlaceholder(a)&&_isPlaceholder(b)?_curry2(function(_a,_b){return fn(_a,_b,c)}):_isPlaceholder(a)&&_isPlaceholder(c)?_curry2(function(_a,_c){return fn(_a,b,_c)}):_isPlaceholder(b)&&_isPlaceholder(c)?_curry2(function(_b,_c){return fn(a,_b,_c)}):_isPlaceholder(a)?_curry1(function(_a){return fn(_a,b,c)}):_isPlaceholder(b)?_curry1(function(_b){return fn(a,_b,c)}):_isPlaceholder(c)?_curry1(function(_c){return fn(a,b,_c)}):fn(a,b,c)}}}module.exports=_curry3},function(module,exports){function _isObject(x){return Object.prototype.toString.call(x)==="[object Object]"}module.exports=_isObject},function(module,exports,__webpack_require__){var _curry3=__webpack_require__(192);var _has=__webpack_require__(195);var mergeWithKey=_curry3(function mergeWithKey(fn,l,r){var result={};var k;for(k in l){if(_has(k,l)){result[k]=_has(k,r)?fn(k,l[k],r[k]):l[k]}}for(k in r){if(_has(k,r)&&!_has(k,result)){result[k]=r[k]}}return result});module.exports=mergeWithKey},function(module,exports){function _has(prop,obj){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=_has},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var lineHeightFactor=1.2,breakPlaceholder=/\{br\}\s*/gi,BLANK="",BREAKSTRING="<br />";var toRaphaelColor=function(){var cache={};return function(obj){obj=obj||this;var o=obj&&obj.FCcolor||obj,colors=o.color,ratio=o.ratio,angle=o.angle,opacities=o.alpha,r=o.r,cx=o.cx,cy=o.cy,fx=o.fx,fy=o.fy,units=o.gradientUnits,x1=o.x1,y1=o.y1,x2=o.x2,y2=o.y2,radialGradient=o.radialGradient,opacity=1,rgbaRegex,str,i,l,color,hash;if(typeof obj==="string"){return cache[hash="~"+obj]||(cache[hash]=obj.replace(/^#?([a-f0-9]{3,6})/gi,"#$1"))}colors=colors||"";if(!colors){return str}rgbaRegex=new RegExp(/[\(\)\s,\xb0#]/g);hash=[colors,opacities,ratio,angle,r,cx,cy,units,fx,fy,x1,x2,y1,y2,radialGradient].join("_").replace(rgbaRegex,"_");if(cache[hash]){return cache[hash]}ratio=ratio&&(ratio+"").split(",")||[];opacities=(opacities||opacities===0)&&(opacities+"").split(",")||[];if(colors=colors.split(",")){str="";if(colors.length===1){color=colors[0].replace(/^#?([a-f0-9]{3,6})/gi,"$1");if(opacities.length){str="rgba("+hexToRgb(color).join(",")+","+parseFloat(opacities[0])*.01+")"}else{str=color.replace(/^#?([a-f0-9]{3,6})/gi,"#$1")}}else{for(i=0,l=colors.length;i<l;i++){color=colors[i].replace(/^#?([a-f0-9]{3,6})/gi,"$1");if(!isNaN(ratio[i])){ratio[i]=parseFloat(ratio[i]);color+=":"+ratio[i];if(!isNaN(ratio[i+1])){ratio[i+1]=parseFloat(ratio[i+1])+ratio[i]}}if(!isNaN(opacities[i])&&opacities[i]!==""){opacity=opacities[i]*.01}colors[i]="rgba("+hexToRgb(color).join(",")+","+opacity+")";if(!isNaN(ratio[i])){if(ratio[i]===ratio[i-1]){ratio[i]+=.001}colors[i]=colors[i]+":"+ratio[i]}}str+=colors.join("-");if(typeof r!=="undefined"||typeof fx!=="undefined"||typeof cx!=="undefined"||o.radialGradient){str="xr("+[fx,fy,r,cx,cy,units].join(",")+")"+str}else{str="-"+str;if(typeof x1!=="undefined"||typeof y1!=="undefined"||typeof x2!=="undefined"||typeof y2!=="undefined"){str="("+[x1,y1,x2,y2,units].join(",")+")"+str}if(typeof angle==="undefined"){angle=0}str=360-parseFloat(angle)%360+str}}}cache[hash]=str;return str}}();function parseUnsafeString(str){if(typeof str==="string"){return str.replace(breakPlaceholder,BREAKSTRING)}else{return BLANK}}function pluckNumber(){var param,i,l;for(var _len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++){params[_key]=arguments[_key]}for(i=0,l=params.length;i<l;i+=1){param=params[i];if(!param&&param!==false&&param!==0){continue}else if(isNaN(param=Number(param))){continue}return param}}function pluckBoolean(){var param=void 0,i=void 0,ii=void 0;for(var _len2=arguments.length,params=Array(_len2),_key2=0;_key2<_len2;_key2++){params[_key2]=arguments[_key2]}for(i=0,ii=params.length;i<ii;i++){param=params[i];if(param!==true&&param!==false){continue}return param}return false}function hexToRgb(sourceColor){var sourceClrRGB=parseInt(sourceColor,16),r=Math.floor(sourceClrRGB/65536),g=Math.floor((sourceClrRGB-r*65536)/256),b=Math.floor(sourceClrRGB-r*65536-g*256);return[r,g,b]}function pluck(){var param,i,l;for(var _len3=arguments.length,params=Array(_len3),_key3=0;_key3<_len3;_key3++){params[_key3]=arguments[_key3]}for(i=0,l=params.length;i<l;i+=1){param=params[i];if(!param&&param!==false&&param!==0&&param!==""){continue}return param}}function pluckFontSize(){var param,i,l;for(var _len4=arguments.length,params=Array(_len4),_key4=0;_key4<_len4;_key4++){params[_key4]=arguments[_key4]}for(i=0,l=params.length;i<l;i+=1){param=params[i];if(!param&&param!==false&&param!==0){continue}else if(isNaN(param=Number(param))){continue}return param<1?1:param}return 1}function toPrecision(obj,value){var tenPow=Math.pow(10,value);return Math.round(obj*tenPow)/tenPow}function getFirstValue(){var param,i,l;for(var _len5=arguments.length,params=Array(_len5),_key5=0;_key5<_len5;_key5++){params[_key5]=arguments[_key5]}for(i=0,l=params.length;i<l;i+=1){param=params[i];if(!param&&param!==false&&param!==0){continue}return param}return""}function getDashStyle(len,gap){return[len,gap]}function setLineHeightFactor(factor){factor=parseFloat(factor);if(!factor||factor<0){return}lineHeightFactor=factor}function getLineHeightFactor(){return lineHeightFactor}function setLineHeight(styleObj,baseFontSize){if((typeof styleObj==="undefined"?"undefined":_typeof(styleObj))!=="object"){return""}if(styleObj.fontSize||styleObj["font-size"]){if(!styleObj.fontSize&&styleObj["font-size"]){styleObj.fontSize=styleObj["font-size"];delete styleObj["font-size"]}styleObj.lineHeight=(parseFloat(styleObj.fontSize)||baseFontSize||10)*getLineHeightFactor()+"px";delete styleObj["line-height"]}if(!styleObj.lineHeight&&styleObj["line-height"]){styleObj.lineHeight=styleObj["line-height"];delete styleObj["line-height"]}return styleObj.lineHeight}function clampNumber(number){var lowerBound=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-Infinity;var upperBound=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;if(number<=lowerBound){return lowerBound}else if(number>=upperBound){return upperBound}else{return number}}function getValidValue(arg,value){return!arg&&arg!==false&&arg!==0?value:arg}function getSuggestiveRotation(){var arg,angle,x,y,RStr="r",COMMA=",";arg=arguments[0];if(arguments.length===1){angle=arg.angle;x=arg.x;y=arg.y}else{angle=arg;x=arguments[1];y=arguments[2]}angle=angle||0;return RStr+angle+COMMA+x+COMMA+y}function trim(str){return str.replace(/^\s+|\s+$/g,"")}exports.pluckNumber=pluckNumber;exports.pluckBoolean=pluckBoolean;exports.pluck=pluck;exports.pluckFontSize=pluckFontSize;exports.toPrecision=toPrecision;exports.getFirstValue=getFirstValue;exports.toRaphaelColor=toRaphaelColor;exports.getDashStyle=getDashStyle;exports.setLineHeight=setLineHeight;exports.getLineHeightFactor=getLineHeightFactor;exports.setLineHeightFactor=setLineHeightFactor;exports.clampNumber=clampNumber;exports.getValidValue=getValidValue;exports.getSuggestiveRotation=getSuggestiveRotation;exports.parseUnsafeString=parseUnsafeString;exports.trim=trim},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(196);var _annotationBase=__webpack_require__(198);var _annotationBase2=_interopRequireDefault(_annotationBase);var _mergeDeepRight=__webpack_require__(187);var _mergeDeepRight2=_interopRequireDefault(_mergeDeepRight);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var DEFAULT_IS_VISIBLE=true,DEFAULT_OPACITY=100,DEFAULT_COLOR="#FF0000",DEFAULT_SHOW_SHADOW=0,DEFAULT_POSITION=0;var AnnotationGroup=function(_AnnotationBaseShape){_inherits(AnnotationGroup,_AnnotationBaseShape);function AnnotationGroup(){var rawConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,AnnotationGroup);var _this=_possibleConstructorReturn(this,_AnnotationBaseShape.call(this,rawConfig));_this.groups=[];_this.items=[];return _this}AnnotationGroup.prototype.setAttribute=function setAttribute(rawConfig){var group=this,mergedConfig={},groupConfig=group.config;mergedConfig=(0,_mergeDeepRight2["default"])(group.rawConfig,rawConfig);group.rawConfig=mergedConfig;groupConfig.id=group.rawConfig.id||group.getId("group");groupConfig.autoScale=(0,_utils.pluckNumber)(group.rawConfig.autoScale,1);groupConfig.scaleText=(0,_utils.pluckNumber)(group.rawConfig.scaleText,0);groupConfig.scaleX=groupConfig.origScaleX=(0,_utils.pluckNumber)(group.rawConfig.xScale)/100;groupConfig.scaleY=groupConfig.origScaleY=(0,_utils.pluckNumber)(group.rawConfig.yScale)/100;groupConfig.scaleImages=(0,_utils.pluckNumber)(group.rawConfig.scaleImages,0);groupConfig.constrainedScale=(0,_utils.pluckNumber)(group.rawConfig.constrainedScale,1);groupConfig.origH=Number(group.rawConfig.origH);groupConfig.origW=Number(group.rawConfig.origW);groupConfig.link=group.rawConfig.link;groupConfig.color=group.rawConfig.color||DEFAULT_COLOR;groupConfig.alpha=(0,_utils.pluckNumber)(parseFloat(group.rawConfig.alpha),DEFAULT_OPACITY);groupConfig.showShadow=(0,_utils.pluckNumber)(group.rawConfig.showShadow,DEFAULT_SHOW_SHADOW);groupConfig.x=(0,_utils.pluckNumber)(group.rawConfig.x,group.rawConfig.xPos,DEFAULT_POSITION);groupConfig.y=(0,_utils.pluckNumber)(group.rawConfig.y,group.rawConfig.yPos,DEFAULT_POSITION);groupConfig.font=(0,_utils.pluck)(group.rawConfig.font,"Verdana, sans");groupConfig.fontSize=(0,_utils.pluckFontSize)(group.rawConfig.fontSize,10);groupConfig.textAlign=(0,_utils.pluck)(group.rawConfig.textAlign);groupConfig.textVAlign=(0,_utils.pluck)(group.rawConfig.textVAlign);groupConfig.rotateText=(0,_utils.pluck)(group.rawConfig.rotateText);groupConfig.wrapText=(0,_utils.pluck)(group.rawConfig.wrapText);groupConfig.grpXShift=(0,_utils.pluckNumber)(group.rawConfig.grpXShift,0);groupConfig.grpYShift=(0,_utils.pluckNumber)(group.rawConfig.grpYShift,0);groupConfig.xShift=(0,_utils.pluckNumber)(group.rawConfig.xShift,0);groupConfig.yShift=(0,_utils.pluckNumber)(group.rawConfig.yShift,0);groupConfig.toolText=group.rawConfig.toolText;groupConfig.isVisible=(0,_utils.pluckBoolean)(group.rawConfig.isVisible,DEFAULT_IS_VISIBLE);groupConfig.elementType="group"};AnnotationGroup.prototype.updateScale=function updateScale(){var group=this,scaleValue=void 0,widthScaleFactor=void 0,heightScaleFactor=void 0,scaleX=void 0,scaleY=void 0,groupScaleX=group._getConfig("origScaleX"),groupScaleY=group._getConfig("origScaleY"),paper=group._getFromStore("paper"),chartHeight=paper.height,chartWidth=paper.width,autoScale=group._getConfig("autoScale"),isConstrained=group._getConfig("constrainedScale");group._setConfig("origW",Number(group._getConfig("origW"))||chartWidth);group._setConfig("origH",Number(group._getConfig("origH"))||chartHeight);if(autoScale){widthScaleFactor=chartWidth/group._getConfig("origW")*(Number(groupScaleX)||1);heightScaleFactor=chartHeight/group._getConfig("origH")*(Number(groupScaleY)||1)}else{widthScaleFactor=heightScaleFactor=1}scaleValue=Math.min(widthScaleFactor,heightScaleFactor);group._setConfig("scaleValue",scaleValue);if(autoScale>0||isNaN(group._getConfig("scaleX"))){scaleX=isConstrained?scaleValue:widthScaleFactor;group._setConfig("scaleX",scaleX)}if(autoScale>0||isNaN(group._getConfig("scaleY"))){scaleY=isConstrained?scaleValue:heightScaleFactor;group._setConfig("scaleY",scaleY)}group._setConfig("scaleFont",group._getConfig("scaleText")?Math.min(group._getConfig("scaleX"),group._getConfig("scaleY")):1);group._setConfig("scaleImageX",group._getConfig("scaleImages")?group._getConfig("scaleX"):1);group._setConfig("scaleImageY",group._getConfig("scaleImages")?group._getConfig("scaleY"):1)};AnnotationGroup.prototype.updateAttr=function updateAttr(attr){var group=this,groupConfig=group.config,key=void 0,xTrans=void 0,yTrans=void 0;for(key in attr){attr[key]&&(groupConfig[key]=attr[key])}xTrans=group.getScaledVal(group._getConfig("grpXShift"))+group._getConfig("xShift");yTrans=group.getScaledVal(group._getConfig("grpYShift"))+group._getConfig("yShift");group._setConfig("attr",{transform:"T"+xTrans+","+yTrans})};AnnotationGroup.prototype.attachItem=function attachItem(item){this.items.push(item);item._setToStore("annotation-group",this);item.groupConfig={};item._setGroupElement(this._getFromStore("element"))};AnnotationGroup.prototype.retrieveItem=function retrieveItem(id){return find.call(this.items,function(item){return item.getId()===id})};AnnotationGroup.prototype.getScaledVal=function getScaledVal(val,isX){var group=this,multiplier=void 0;if(group){multiplier=isX?group._getConfig("scaleX"):(isX===false?group._getConfig("scaleY"):group._getConfig("scaleValue"))||1;return val*multiplier}else{return val}};AnnotationGroup.prototype.getScaledFont=function getScaledFont(fontSize){var group=this;if(group){return fontSize*group._getConfig("scaleFont")}else{return fontSize}};AnnotationGroup.prototype.getScaledImageVal=function getScaledImageVal(val,isX){var group=this,multiplier=void 0;if(group){multiplier=(isX?group._getConfig("scaleImageX"):group._getConfig("scaleImageY"))||1;return val*multiplier}else{return val}};AnnotationGroup.prototype._draw=function _draw(){var group=this,groupElem=group._getGroupElement(),element=this._getFromStore("element"),attr=group._getConfig("attr")||{},animationManager=group._getFromStore("animationManager"),xTrans,yTrans;xTrans=group.getScaledVal(group._getConfig("grpXShift"))+group._getConfig("xShift");yTrans=group.getScaledVal(group._getConfig("grpYShift"))+group._getConfig("yShift");attr.name=group._getConfig("id");attr.transform=attr.transform||"T"+xTrans+","+yTrans;attr.opacity=group._getConfig("isVisible")?group._getConfig("alpha")/100:0;element=animationManager.setAnimation({el:element||"group",attr:attr,container:groupElem,component:group._getFromStore("component"),dom:"group"});group._setToStore("element",element)};AnnotationGroup.prototype.dispose=function dispose(){var controller=this._getFromStore("controller"),group=controller.retrieveGroup(this.getId(),true),animationManager=void 0,element=void 0,item=void 0,items=group.items||[],i=void 0;for(i=0;i<items.length;i++){item=controller.retrieveItem(items[i].getId(),true);item&&item.dispose()}animationManager=group._getFromStore("animationManager");element=group._getFromStore("element");element&&animationManager.setAnimation({el:element,component:group._getFromStore("component")})};return AnnotationGroup}(_annotationBase2["default"]);exports["default"]=AnnotationGroup},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _annotationInterface=__webpack_require__(186);var _annotationInterface2=_interopRequireDefault(_annotationInterface);var _eventManager=__webpack_require__(199);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var interActiveEvtList={click:true,dragstart:true,dragmove:true,dragend:true,dblclick:true,mousedown:true,mousemove:true,mouseout:true,mouseover:true,mouseup:true,touchstart:true,touchmove:true,touchend:true,touchcancel:true};var counter=0;function isInterActiveEvt(name){return!!interActiveEvtList[name]}function _mapSubFnForward(sub,callback){if(sub&&sub.hasOwnProperty&&callback&&callback.call){var key=void 0,child=void 0,i=void 0,length=void 0;for(key in sub){if(sub.hasOwnProperty(key)){child=sub[key];if(child instanceof Array){length=child.length;for(i=0;i<length;i++){callback(child[i],key,i)}}else{callback(child,key)}}}}}function addEventOnAllGraphics(component,eventType,listener){var callBack;if(eventType&&listener){callBack=function callBack(element){element.on&&element.on(eventType,listener)};component.getGraphicalElement&&_mapSubFnForward(component.getGraphicalElement(),callBack);component.getChildContainer&&_mapSubFnForward(component.getChildContainer(),callBack)}}function removeEventFromAllGraphics(component,eventType,listener){var callBack;if(eventType&&listener){callBack=function callBack(element){element.off&&element.off(eventType,listener)};_mapSubFnForward(component.getGraphicalElement(),callBack);_mapSubFnForward(component.getChildContainer(),callBack)}}var AnnotationBaseShape=function(_AnnotationInterface){_inherits(AnnotationBaseShape,_AnnotationInterface);function AnnotationBaseShape(){var rawConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,AnnotationBaseShape);var _this=_possibleConstructorReturn(this,_AnnotationInterface.call(this,rawConfig));counter++;return _this}AnnotationBaseShape.prototype.setEditor=function setEditor(editor){this.store.editor=editor};AnnotationBaseShape.prototype._setGroupElement=function _setGroupElement(groupElem){this.store.groupElement=groupElem};AnnotationBaseShape.prototype._getGroupElement=function _getGroupElement(){return this.store.groupElement};AnnotationBaseShape.prototype.getId=function getId(shape){return this.config.id||"annotation_"+shape+"_"+counter};AnnotationBaseShape.prototype.getGraphicalElement=function getGraphicalElement(){var elementOb={};elementOb[this.getId()]=this._getFromStore("element");return elementOb};AnnotationBaseShape.prototype.getElement=function getElement(){return this._getFromStore("element")};AnnotationBaseShape.prototype.getBounds=function getBounds(){return this.getElement().getBBox()};AnnotationBaseShape.prototype.addEventListener=function addEventListener(eventType,callback){var component=this,listeners=void 0;if(eventType&&eventType.toLowerCase){eventType=eventType.toLowerCase();if((0,_eventManager.addListener)(eventType,callback,component)){if(isInterActiveEvt(eventType)){listeners=(0,_eventManager.getListeners)(eventType,component);if(listeners&&listeners.length===1){if(!component._middleListeners){component._middleListeners={}}if(!component._middleListeners[eventType]){component._middleListeners[eventType]=function(e){component.fireEvent(eventType,undefined,undefined,undefined,e)}}addEventOnAllGraphics(component,eventType,component._middleListeners[eventType])}}return callback}}return false};AnnotationBaseShape.prototype.removeEventListener=function removeEventListener(eventType,callback){var component=this,listeners=void 0;if(eventType&&eventType.toLowerCase){eventType=eventType.toLowerCase();(0,_eventManager.removeListener)(eventType,callback,this);if(isInterActiveEvt(eventType)){listeners=(0,_eventManager.getListeners)(eventType,this);if(listeners&&listeners.length===0&&this._middleListeners&&this._middleListeners[eventType]){removeEventFromAllGraphics(component,eventType,this._middleListeners[eventType])}}}};AnnotationBaseShape.prototype.fireEvent=function fireEvent(name,data,defaultFn,cancelledFn,originalEvent){(0,_eventManager.triggerEvent)(name,this,data,originalEvent,defaultFn,cancelledFn)};return AnnotationBaseShape}(_annotationInterface2["default"]);exports["default"]=AnnotationBaseShape},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var UNDEF=void 0,errorNatures={type:"TypeException",range:"ValueRangeException",impl:"NotImplementedException",param:"ParameterException",run:"RuntimeException",comp:"DesignTimeError",undefined:"UnspecifiedException"},listeners={},lastEventId=0;function managedFnCall(item,scope,event,args){try{item[0].call(scope,event,args||{})}catch(e){setTimeout(function(){throw e},0)}}function slotLoader(slot,event,args){var i=0,scope=void 0;if(!(slot instanceof Array)||event.cancelled){return}for(;i<slot.length;i+=1){if(slot[i][1]===event.sender||slot[i][1]===UNDEF){scope=slot[i][1]===event.sender?event.sender:{};managedFnCall(slot[i],scope,event,args);if(event.detached===true){slot.splice(i,1);i-=1;event.detached=false}}if(event.cancelled===true){break}}}function unpropagator(){this.originalEvent&&this.originalEvent.stopPropagation&&this.originalEvent.stopPropagation.call&&this.originalEvent.stopPropagation()}function unImdPropagator(){this.cancelled=true;if(this.originalEvent&&this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation.call){this.originalEvent.stopImmediatePropagation()}else if(this.originalEvent&&this.originalEvent.stopPropagation&&this.originalEvent.stopPropagation.call){this.originalEvent.stopPropagation()}}function detacher(){return(this.detached=true)===false}function undefaulter(){this.defaultPrevented=true;this.originalEvent&&this.originalEvent.preventDefault&&this.originalEvent.preventDefault.call&&this.originalEvent.preventDefault()}function isDuplicate(slot,listener,bind){var i=void 0,l=slot.length;for(i=0;i<l;i+=1){if(slot[i][0]===listener&&slot[i][1]===bind){return true}}}function addListener(type,listener,bind){var recurseReturn,i,slot;if(type instanceof Array){recurseReturn=[];for(i=0;i<type.length;i+=1){recurseReturn.push(addListener(type[i],listener,bind))}return recurseReturn}if(typeof type!=="string"){raiseError(bind,"03091549","param","::addListener",new Error("Unspecified Event Type"));return}if(typeof listener!=="function"){raiseError(bind,"03091550","param","::addListener",new Error("Invalid Event Listener"));return}type=type.toLowerCase();if(bind){if(!bind._evtListeners){bind._evtListeners={}}if(!(bind._evtListeners[type]instanceof Array)){bind._evtListeners[type]=[]}slot=bind._evtListeners[type]}else{if(!(listeners[type]instanceof Array)){listeners[type]=[]}slot=listeners[type]}if(isDuplicate(slot,listener,bind)){return false}slot.push([listener,bind]);return listener}function removeListener(type,listener,bind){var slot,i;if(typeof listener!=="function"){raiseError(bind,"03091560","param","::removeListener",new Error("Invalid Event Listener"));return}if(type instanceof Array){for(i=0;i<type.length;i+=1){removeListener(type[i],listener,bind)}return}slot=getListeners(type,bind);if(!(slot instanceof Array&&slot.length)){return}for(i=slot.length-1;i>=0;i-=1){if(slot[i][0]===listener&&slot[i][1]===bind){slot.splice(i,1)}}}function triggerEvent(type,sender,args,originalEvent,defaultFn,cancelFn){var eventObject,primarySlot,secondarySlot,tertiarySlot,quaternarySlot;type=type.toLowerCase();primarySlot=getListeners(type,sender);secondarySlot=getListeners("*",sender);tertiarySlot=listeners[type];quaternarySlot=listeners["*"];if(primarySlot&&primarySlot.length||secondarySlot&&secondarySlot.length||tertiarySlot&&tertiarySlot.length||quaternarySlot&&quaternarySlot.length){eventObject={type:type,eventType:type,eventId:lastEventId+=1,sender:sender||new Error("Orphan Event"),stopPropagation:unpropagator,stopImmediatePropagation:unImdPropagator,cancelled:false,preventDefault:undefaulter,defaultPrevented:false,originalEvent:originalEvent,detached:false,data:args,detachHandler:detacher};slotLoader(quaternarySlot,eventObject,args);slotLoader(tertiarySlot,eventObject,args);slotLoader(getListeners("*",sender),eventObject,args);slotLoader(getListeners(type,sender),eventObject,args)}if(eventObject&&eventObject.defaultPrevented){if(cancelFn&&typeof cancelFn==="function"){cancelFn.call(sender,eventObject,args||{})}}else if(defaultFn&&typeof defaultFn==="function"){defaultFn.call(sender,eventObject,args||{})}return true}function getListeners(type,bind){if(typeof type!=="string"){raiseError(bind,"03091559","param","::removeListener",new Error("Unspecified Event Type"));return}type=type.toLowerCase();return bind?bind._evtListeners&&bind._evtListeners[type]:listeners[type]}function raiseEWEvent(sender,id,nature,source,err,level){var message="#"+id+" "+(sender?sender.id:"unknown-source")+source+" "+level+" >> ",args=void 0;if(err instanceof Error){err.name=errorNatures[nature];err.module="FusionCharts"+source;err.level=level;err.message=message+err.message;message=err.message;setTimeout(function(){throw err},0)}else{message=message+err}args={id:id,nature:errorNatures[nature],source:"FusionCharts"+source,message:message};triggerEvent(level,sender,args)}function raiseError(sender,id,nature,source,message){raiseEWEvent(sender,id,nature,source,message,"Error")}exports.addListener=addListener;exports.removeListener=removeListener;exports.triggerEvent=triggerEvent;exports.getListeners=getListeners},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(196);var _annotationShape=__webpack_require__(201);var _annotationShape2=_interopRequireDefault(_annotationShape);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var STRAIGHT_ANGLE_DEGREES=180,FULL_ANGLE_DEGREES=360,DEFAULT_RADIUS_INNER=0,DEFAULT_ANGLE_START=0,DEFAULT_ANGLE_END=360,DEFAULT_PAPER_WIDTH=700,DEFAULT_PAPER_HEIGHT=350,isPerfectCircle=function isPerfectCircle(config){return config.startAngle===DEFAULT_ANGLE_START&&config.endAngle===DEFAULT_ANGLE_END},circleHasHole=function circleHasHole(config){return config.innerRadius>0||config.innerYRadius>0};function toRadian(degrees){return degrees*(Math.PI/STRAIGHT_ANGLE_DEGREES)}var CircleAnnotation=function(_AnnotationShape){_inherits(CircleAnnotation,_AnnotationShape);function CircleAnnotation(){_classCallCheck(this,CircleAnnotation);return _possibleConstructorReturn(this,_AnnotationShape.apply(this,arguments))}CircleAnnotation.prototype._configureShape=function _configureShape(shapeConfig){var circle=this,paper=circle._getFromStore("paper"),paperWidth=paper&&paper.width||DEFAULT_PAPER_WIDTH,paperHeight=paper&&paper.height||DEFAULT_PAPER_HEIGHT,maxChartDimensions=Math.max(paperWidth,paperHeight),defaultRadius=Math.sqrt(maxChartDimensions);circle.config.radius=shapeConfig.radius;circle.config.xRadius=(0,_utils.pluckNumber)(parseFloat(shapeConfig.radius),parseFloat(shapeConfig.xRadius),defaultRadius);circle.config.yRadius=(0,_utils.pluckNumber)(parseFloat(shapeConfig.yRadius),circle.config.xRadius);circle.config.startAngle=(0,_utils.pluckNumber)(parseFloat(shapeConfig.startAngle),DEFAULT_ANGLE_START);circle.config.endAngle=(0,_utils.pluckNumber)(parseFloat(shapeConfig.endAngle),DEFAULT_ANGLE_END);circle.config.innerRadius=(0,_utils.pluckNumber)(parseFloat(shapeConfig.innerRadius),DEFAULT_RADIUS_INNER);circle.config.innerYRadius=(0,_utils.pluckNumber)(parseFloat(shapeConfig.innerYRadius),circle.config.innerRadius,DEFAULT_RADIUS_INNER);if(circle.config.type==="arc"){circle.config.elementType="ringpath"}else{if(isPerfectCircle(circle.config)&&!circleHasHole(circle.config)){circle.config.elementType="ellipse"}else{circle.config.elementType="ringpath"}}};CircleAnnotation.prototype._getExtraEditableRequests=function _getExtraEditableRequests(){var circle=this,requests=[{name:"radius",value:(0,_utils.toPrecision)(circle.config.xRadius,2)},{name:"startAngle",value:circle.config.startAngle},{name:"endAngle",value:circle.config.endAngle},{name:"fillColor",value:circle.config.rawColor},{name:"fillAlpha",value:circle.config.rawAlpha},{name:"fillRatio",value:(0,_utils.getFirstValue)(circle.config.rawRatio,"")},{name:"fillAngle",value:circle.config.rawAngle},{name:"fillPattern",value:circle.config.rawFillPattern==="radial"},{name:"showBorder",value:circle.config.showBorder===1},{name:"borderColor",value:circle.config.rawBorderColor},{name:"borderThickness",value:circle.config.borderThickness},{name:"borderAlpha",value:circle.config.rawBorderAlpha}];if(circle.config.type==="arc"){requests.push({name:"innerRadius",value:circle.config.innerRadius})}return requests};CircleAnnotation.prototype.updateAttr=function updateAttr(attr){var circle=this,config=this.config,attrs=void 0,paper=circle._getFromStore("paper"),xRadius=circle.getScaledVal(config.xRadius),yRadius=circle.getScaledVal(config.yRadius),innerRadius=circle.getScaledVal(config.innerRadius),innerYRadius=circle.getScaledVal(config.innerYRadius),pathArr=void 0;if(!(0,_utils.pluck)(config.radius)){config.radius=paper.width<paper.height?circle.getScaledVal(paper.width):circle.getScaledVal(paper.height);config.radius*=.3;if(innerRadius>config.radius){innerRadius+=config.radius;config.radius=innerRadius-config.radius;innerRadius=innerRadius-config.radius}xRadius=yRadius=config.radius;innerYRadius=innerRadius}switch(config.elementType){case"ringpath":pathArr=[(0,_utils.pluckNumber)(attr.x,circle.getScaledVal(config.x,true)),(0,_utils.pluckNumber)(attr.y,circle.getScaledVal(config.y,false)),xRadius,innerRadius,toRadian(FULL_ANGLE_DEGREES-config.endAngle),toRadian(FULL_ANGLE_DEGREES-config.startAngle),yRadius,innerYRadius];attrs={ringpath:pathArr};break;default:attrs={cx:(0,_utils.pluckNumber)(attr.x,circle.getScaledVal(config.x,true)),cy:(0,_utils.pluckNumber)(attr.y,circle.getScaledVal(config.y,false))}}circle._setConfig("attr",attrs)};CircleAnnotation.prototype._getAnnotationAttrs=function _getAnnotationAttrs(){var circle=this,config=circle.config,attr=circle._getConfig("attr")||{},x=config.x,y=config.y,xRadius=circle.getScaledVal(config.xRadius),yRadius=circle.getScaledVal(config.yRadius),innerRadius=circle.getScaledVal(config.innerRadius),innerYRadius=circle.getScaledVal(config.innerYRadius),startAngle=config.startAngle,endAngle=config.endAngle,borderColor=config.borderColor,borderThickness=config.borderThickness,dashArrayStr=config.dashArrayStr,color=config.color,pathArr=void 0;if(!config.xRadius){xRadius=0}if(!config.yRadius){yRadius=0}attr.fill=color;attr.stroke=borderColor;attr["stroke-width"]=borderThickness;attr["stroke-dasharray"]=dashArrayStr;switch(circle.config.elementType){case"ringpath":pathArr=[circle.getScaledVal(x,true),circle.getScaledVal(y,false),xRadius,innerRadius,toRadian(FULL_ANGLE_DEGREES-endAngle),toRadian(FULL_ANGLE_DEGREES-startAngle),yRadius,innerYRadius];attr.ringpath=attr.ringpath||pathArr;break;default:attr.rx=xRadius;attr.ry=yRadius;attr.cx=typeof attr.cx==="undefined"?circle.getScaledVal(x,true):attr.cx;attr.cy=typeof attr.cy==="undefined"?circle.getScaledVal(y,false):attr.cy}return attr};return CircleAnnotation}(_annotationShape2["default"]);exports["default"]=CircleAnnotation},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mergeDeepRight=__webpack_require__(187);var _mergeDeepRight2=_interopRequireDefault(_mergeDeepRight);var _annotationBase=__webpack_require__(198);var _annotationBase2=_interopRequireDefault(_annotationBase);var _utils=__webpack_require__(196);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var selectionGroup=void 0,UNDEF=void 0;var DEFAULT_COLOR="#FF0000",DEFAULT_BORDER_COLOR="#000000",DEFAULT_ALPHA=100,DEFAULT_SHOW_BORDER=0,DEFAULT_BORDER_THICKNESS=2,DEFAULT_DASH_LEN=5,DEFAULT_DASH_GAP=3,FULL_ANGLE_DEGREES=360,DEFAULT_IS_DASHED=0,DEFAULT_SHOW_SHADOW=0,DEFAULT_TOOLTEXT="",RADIAL="radial",DEFAULT_FILL_ANGLE=0,DEFAULT_IS_VISIBLE=true,DEFAULT_ANIM_DURATION=1e3,getComputedImagePosition=function getComputedImagePosition(config){var height=config.height,width=config.width,vAlign=config.vAlign,align=config.align,x=config.x,y=config.y,position={x:x,y:y};switch(align){case"center":position.x=x-width/2;break;case"right":position.x=x-width;break}switch(vAlign){case"middle":position.y=y-height/2;break;case"bottom":position.y=y-height;break}return position},isDefined=function isDefined(value){return value===UNDEF?UNDEF:1};var AnnotationShape=function(_AnnotationBaseShape){_inherits(AnnotationShape,_AnnotationBaseShape);function AnnotationShape(){_classCallCheck(this,AnnotationShape);return _possibleConstructorReturn(this,_AnnotationBaseShape.apply(this,arguments))}AnnotationShape.prototype.setAttribute=function setAttribute(rawConfig){var _ref,_ref2;var shape=this,mergedConfig={},conf=shape.config,group=shape._getFromStore("annotation-group");if(group!=null){this.groupConfig.x=group._getConfig("x");this.groupConfig.y=group._getConfig("y");this.groupConfig.grpXShift=group._getConfig("grpXShift");this.groupConfig.grpYShift=group._getConfig("grpYShift");this.groupConfig.color=group._getConfig("color");this.groupConfig.alpha=group._getConfig("alpha");this.groupConfig.font=group._getConfig("font");this.groupConfig.fontSize=group._getConfig("fontSize");this.groupConfig.textAlign=group._getConfig("textAlign");this.groupConfig.textVAlign=group._getConfig("textVAlign");this.groupConfig.rotateText=group._getConfig("rotateText");this.groupConfig.wrapText=group._getConfig("wrapText");this.groupConfig.toolText=group._getConfig("toolText");this.groupConfig.scaleX=group._getConfig("scaleX");this.groupConfig.scaleY=group._getConfig("scaleY");this.groupConfig.scaleImageX=group._getConfig("scaleImageX");this.groupConfig.scaleImageY=group._getConfig("scaleImageY");this.groupConfig.link=group._getConfig("link")}mergedConfig=(0,_mergeDeepRight2["default"])(shape.rawConfig,rawConfig);shape.rawConfig=mergedConfig;conf.id=(0,_utils.pluck)(shape.rawConfig.id,shape.getId("shape"));conf.type=shape.rawConfig.type;conf.color=shape._getFillColor(shape.rawConfig,this.groupConfig);conf.link=(0,_utils.pluck)(shape.rawConfig.link,shape.groupConfig.link);conf.borderThickness=(0,_utils.pluckNumber)(parseFloat(shape.rawConfig.borderThickness),parseFloat(shape.rawConfig.thickness),DEFAULT_BORDER_THICKNESS);conf.showBorder=(0,_utils.pluckNumber)(shape.rawConfig.showBorder,parseFloat(shape.rawConfig.borderThickness),parseFloat(shape.rawConfig.thickness),isDefined(shape.rawConfig.borderColor),isDefined(shape.rawConfig.borderAlpha),DEFAULT_SHOW_BORDER);conf.borderColor=shape._getBorderColor(shape.rawConfig);conf.dashed=(0,_utils.pluckNumber)(shape.rawConfig.dashed,DEFAULT_IS_DASHED);conf.dashLen=(0,_utils.pluckNumber)(shape.rawConfig.dashLen,DEFAULT_DASH_LEN);conf.dashGap=(0,_utils.pluckNumber)(parseFloat(shape.rawConfig.dashGap),DEFAULT_DASH_GAP);conf.dashArrayStr=conf.dashed?(0,_utils.getDashStyle)(conf.dashLen,conf.dashGap):"none";conf.x=(0,_utils.pluckNumber)(shape.rawConfig.x,shape.rawConfig.xPos,0);conf.y=(0,_utils.pluckNumber)(shape.rawConfig.y,shape.rawConfig.yPos,0);conf.tox=(0,_utils.pluckNumber)(shape.rawConfig.toX,conf.x,0);conf.toy=(0,_utils.pluckNumber)(shape.rawConfig.toY,conf.y,0);conf.toy>=0&&conf.y>=0&&conf.toy<conf.y&&(_ref=[conf.toy,conf.y],conf.y=_ref[0],conf.toy=_ref[1],_ref);conf.tox>=0&&conf.x>=0&&conf.tox<conf.x&&(_ref2=[conf.tox,conf.x],conf.x=_ref2[0],conf.tox=_ref2[1],_ref2);conf.showShadow=(0,_utils.pluckNumber)(shape.rawConfig.showShadow,group.config.showShadow,DEFAULT_SHOW_SHADOW);conf.toolText=(0,_utils.getFirstValue)(shape.rawConfig.toolText,this.groupConfig.toolText,DEFAULT_TOOLTEXT);conf.isVisible=(0,_utils.pluckBoolean)(shape.rawConfig.isVisible,DEFAULT_IS_VISIBLE);conf.animConfig.animDuration=(0,_utils.pluckNumber)(shape.rawConfig.animConfig&&shape.rawConfig.animConfig.animDuration,DEFAULT_ANIM_DURATION);shape._configureShape(shape.rawConfig)};AnnotationShape.prototype._getEditorConfig=function _getEditorConfig(){var shape=this;return shape};AnnotationShape.prototype._getBorderColor=function _getBorderColor(rawConfig){var shape=this,shapeType=shape.getType(),borderColor="none",colorObj={color:"",alpha:""};if(shapeType!=="line"){colorObj.color=shape.config.rawBorderColor=(0,_utils.pluck)(rawConfig.borderColor,rawConfig.fillColor,rawConfig.color,DEFAULT_BORDER_COLOR);if(shape.config.showBorder===0){colorObj.alpha=1;shape.config.borderThickness=DEFAULT_BORDER_THICKNESS}else{colorObj.alpha=shape.config.rawBorderAlpha=(0,_utils.pluckNumber)(parseFloat(rawConfig.borderAlpha),parseFloat(rawConfig.alpha),DEFAULT_ALPHA)}borderColor=(0,_utils.toRaphaelColor)(colorObj)}return borderColor};AnnotationShape.prototype._getFillColor=function _getFillColor(rawConfig,groupConfig){var shape=this,shapeType=shape.getType(),colorObj={color:"",alpha:"",angle:"",ratio:"",radialGradient:shapeType==="circle"||shapeType==="arc"};if(shapeType==="line"||shapeType==="image"){colorObj.color=rawConfig.color||groupConfig.color||DEFAULT_COLOR;colorObj.alpha=(0,_utils.pluckNumber)(parseFloat(rawConfig.alpha),groupConfig.alpha,DEFAULT_ALPHA)}else{colorObj.color=rawConfig.fillColor||rawConfig.color||groupConfig.color||DEFAULT_COLOR;colorObj.alpha=(0,_utils.pluck)(rawConfig.fillAlpha,parseFloat(rawConfig.alpha),groupConfig.alpha,DEFAULT_ALPHA);colorObj.angle=FULL_ANGLE_DEGREES-(0,_utils.pluckNumber)(rawConfig.fillAngle,DEFAULT_FILL_ANGLE);colorObj.ratio=(0,_utils.pluck)(rawConfig.fillRatio);if(rawConfig.fillPattern){colorObj.radialGradient=rawConfig.fillPattern.toLowerCase()===RADIAL||(0,_utils.pluckNumber)(rawConfig.fillPattern)}if(colorObj.radialGradient){colorObj.gradientUnits="objectBoundingBox";colorObj.cx=.5;colorObj.cy=.5;colorObj.fx=.5;colorObj.fy=.5}}shape.config.rawColor=colorObj.color;shape.config.rawAlpha=colorObj.alpha;shape.config.rawAngle=colorObj.angle;shape.config.rawFillPattern=colorObj.radialGradient?"radial":"linear";shape.config.rawRatio=colorObj.ratio;return(0,_utils.toRaphaelColor)(colorObj)};AnnotationShape.destroySelectionBox=function destroySelectionBox(){selectionGroup&&selectionGroup.remove()};AnnotationShape.prototype._applyAttr=function _applyAttr(attrs){var shape=this,parentGroup=shape._getFromStore("annotation-group"),shapeLabel=shape.rawConfig.animationLabel,groupLabel=parentGroup.rawConfig.animationLabel,store=shape.store,animationManager=shape._getFromStore("animationManager"),elementType=shape.config.elementType,el=shape._getFromStore("element"),toolTipController=shape._getFromStore("toolTipController"),toolText=shape._getConfig("toolText"),css;if(elementType==="image"&&!shape.config.url){return}css=shape.rawConfig.css||{};if(shape.config.link){css.cursor=css.cursor||"pointer"}el=animationManager.setAnimation({el:el||elementType,attr:attrs,css:css,container:shape._getGroupElement(),component:shape._getFromStore("component"),label:shapeLabel||groupLabel||elementType});el.shadow({opacity:shape.config.showShadow!==0?1:0,useFilter:elementType==="path"?0:1});el.on("click",function(e){shape.config.link&&shape._getFromStore("clickFN").call({link:shape.config.link},true)});if(!store.element&&elementType==="image"){el.on("load",function(e){var loadedImage=el._.RefImg,loadedHeight=loadedImage.height,loadedWidth=loadedImage.width,shapeAlign=shape._getConfig("align"),shapeVAlign=shape._getConfig("vAlign"),xScale=shape._getConfig("xScale"),yScale=shape._getConfig("yScale"),scaledHeight=loadedHeight*yScale,scaledWidth=loadedWidth*xScale,computedPosition=getComputedImagePosition({x:el.attr("x"),y:el.attr("y"),height:scaledHeight,width:scaledWidth,align:shapeAlign,vAlign:shapeVAlign});el.attr({x:computedPosition.x,y:computedPosition.y,height:scaledHeight,width:scaledWidth});shape.rawConfig.onload&&shape.rawConfig.onload.call(shape,el.getBBox())});el.on("error",function(e){shape.rawConfig.onerror&&shape.rawConfig.onerror.call(shape,el)})}store.element=el;if(shape.config.isVisible){el.show()}else{el.hide()}if(!el){return}if(toolText&&toolText!==""){toolTipController&&toolTipController.enableToolTip(el,toolText)}else{toolTipController&&toolTipController.disableToolTip(el)}};AnnotationShape.prototype.getScaledVal=function getScaledVal(val,isX){var group=this._getFromStore("annotation-group");if(group){return group.getScaledVal(val,isX)}else{return val}};AnnotationShape.prototype.getScaledFont=function getScaledFont(fontSize){var group=this._getFromStore("annotation-group");if(group){return group.getScaledFont(fontSize)}else{return fontSize}};AnnotationShape.prototype.getScaledImageVal=function getScaledImageVal(val,isX){var group=this._getFromStore("annotation-group");if(group){return group.getScaledImageVal(val,isX)}else{return val}};AnnotationShape.prototype._draw=function _draw(){var shape=this,paper=shape._getFromStore("paper"),attrs={};attrs=shape._getAnnotationAttrs(paper);shape._applyAttr(attrs)};return AnnotationShape}(_annotationBase2["default"]);exports["default"]=AnnotationShape},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(196);var _annotationShape=__webpack_require__(201);var _annotationShape2=_interopRequireDefault(_annotationShape);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}function getCharacterType(char){if(char<="9"&&char>="0"||char==="-"||char==="."){return 0}else if(char<="z"&&char>="a"||char<="Z"&&char>="A"){return 1}else return 2}var PathAnnotation=function(_AnnotationShape){_inherits(PathAnnotation,_AnnotationShape);function PathAnnotation(){_classCallCheck(this,PathAnnotation);return _possibleConstructorReturn(this,_AnnotationShape.apply(this,arguments))}PathAnnotation.prototype._configureShape=function _configureShape(shapeConfig){var path=this,defaultX=0,defaultY=0;path.config.pathStr=(0,_utils.pluck)(shapeConfig.path);path.config.x=(0,_utils.pluckNumber)(shapeConfig.x,defaultX);path.config.y=(0,_utils.pluckNumber)(shapeConfig.y,defaultY);path.config.tox=(0,_utils.pluckNumber)(shapeConfig.toX,path.config.x);path.config.toy=(0,_utils.pluckNumber)(shapeConfig.toY,path.config.y);path.config.elementType="path"};PathAnnotation.prototype.getExtraEditableRequests=function getExtraEditableRequests(){var path=this,requests=[{name:"thickness",value:path.config.borderThickness},{name:"color",value:path.config.rawColor},{name:"alpha",value:path.config.rawAlpha}];return requests};PathAnnotation.prototype.getScaledPath=function getScaledPath(){var path=this,pathStr=path.config.pathStr,pathAr=[],charType=void 0,text=void 0,resultStr="",i=void 0,j=void 0,len=void 0;len=pathStr&&pathStr.length;for(i=0;i<len;i++){j=i;text="";charType=getCharacterType(pathStr[i]);while(j<len&&getCharacterType(pathStr[j])===charType){text+=pathStr[j];j++}text=(0,_utils.trim)(text);text!==""&&charType<2&&pathAr.push(text);i=j===i?j:j-1}len=pathAr.length;for(i=0;i<len;){resultStr+=pathAr[i];switch(pathAr[i].toLowerCase()){case"m":case"l":case"t":resultStr+=path.getScaledVal(Number(pathAr[i+1]),true).toString()+",";resultStr+=path.getScaledVal(Number(pathAr[i+2]),false).toString();i+=3;break;case"s":case"q":resultStr+=path.getScaledVal(Number(pathAr[i+1]),true).toString()+",";resultStr+=path.getScaledVal(Number(pathAr[i+2]),false).toString()+",";resultStr+=path.getScaledVal(Number(pathAr[i+3]),true).toString()+",";resultStr+=path.getScaledVal(Number(pathAr[i+4]),false).toString();i+=5;break;case"h":resultStr+=path.getScaledVal(Number(pathAr[i+1]),true).toString();i+=2;break;case"v":resultStr+=path.getScaledVal(Number(pathAr[i+1]),false).toString();i+=2;break;case"c":resultStr+=path.getScaledVal(Number(pathAr[i+1]),true).toString()+",";resultStr+=path.getScaledVal(Number(pathAr[i+2]),false).toString()+",";resultStr+=path.getScaledVal(Number(pathAr[i+3]),true).toString()+",";resultStr+=path.getScaledVal(Number(pathAr[i+4]),false).toString()+",";resultStr+=path.getScaledVal(Number(pathAr[i+5]),true).toString()+",";resultStr+=path.getScaledVal(Number(pathAr[i+6]),false).toString();i+=7;break;case"a":resultStr+=path.getScaledVal(Number(pathAr[i+1]),true).toString()+",";resultStr+=path.getScaledVal(Number(pathAr[i+2]),false).toString()+",";resultStr+=path.getScaledVal(Number(pathAr[i+3]),true).toString()+",";resultStr+=pathAr[i+4]+",";resultStr+=pathAr[i+5]+",";resultStr+=path.getScaledVal(Number(pathAr[i+6]),true).toString()+",";resultStr+=path.getScaledVal(Number(pathAr[i+7]),false).toString();i+=8;break;case"z":default:i++}}return resultStr.toString()};PathAnnotation.prototype.updateAttr=function updateAttr(attr){var path=this,config=path.config,x=void 0,y=void 0,tox=void 0,toy=void 0,attrs={};x=(0,_utils.pluckNumber)(attr.x,path.getScaledVal(config.x,true));y=(0,_utils.pluckNumber)(attr.y,path.getScaledVal(config.y,false));tox=(0,_utils.pluckNumber)(attr.toX,x,path.getScaledVal(config.tox,true));toy=(0,_utils.pluckNumber)(attr.toY,y,path.getScaledVal(config.toy,false));if(config.pathStr){attrs.path=path.getScaledPath();attrs.transform="T"+x+","+y}else{attrs.path="M"+x+","+y+"L"+tox+","+toy}path._setConfig("attr",attrs)};PathAnnotation.prototype._getAnnotationAttrs=function _getAnnotationAttrs(){var path=this,config=path.config,attr=path._getConfig("attr")||{},borderThickness=config.borderThickness,dashArrayStr=config.dashArrayStr,x=void 0,y=void 0,toX=void 0,toY=void 0,pathStr=void 0,color=config.color;attr.stroke=color;if(path.rawConfig.color){attr.fill=color}attr["stroke-width"]=path.getScaledVal(borderThickness);attr["stroke-dasharray"]=dashArrayStr;x=attr.x||path.getScaledVal(config.x,true);y=attr.y||path.getScaledVal(config.y,false);toX=attr.toX||path.getScaledVal(config.tox,true);toY=attr.toY||path.getScaledVal(config.toy,false);if(attr.path){return attr}pathStr=path.getScaledPath();if(pathStr){attr.path=pathStr;attr.transform=attr.transform||"T"+x+","+y}else{attr.path=attr.path||"M"+x+","+y+"L"+toX+","+toY}return attr};return PathAnnotation}(_annotationShape2["default"]);exports["default"]=PathAnnotation},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _utils=__webpack_require__(196);var _annotationShape=__webpack_require__(201);var _annotationShape2=_interopRequireDefault(_annotationShape);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var DEFAULT_RADIUS=0;var RectAnnotation=function(_AnnotationShape){_inherits(RectAnnotation,_AnnotationShape);function RectAnnotation(){_classCallCheck(this,RectAnnotation);return _possibleConstructorReturn(this,_AnnotationShape.apply(this,arguments))}RectAnnotation.prototype._configureShape=function _configureShape(shapeConfig){var rect=this;rect.config.xRadius=(0,_utils.pluckNumber)(parseFloat(shapeConfig.radius),DEFAULT_RADIUS);rect.config.elementType="rect"};RectAnnotation.prototype.getExtraEditableRequests=function getExtraEditableRequests(){var rect=this,requests=[{name:"radius",value:(0,_utils.toPrecision)(rect.config.xRadius,2)},{name:"fillColor",value:rect.config.rawColor},{name:"fillAlpha",value:rect.config.rawAlpha},{name:"fillRatio",value:(0,_utils.getFirstValue)(rect.config.rawRatio,"")},{name:"fillAngle",value:rect.config.rawAngle},{name:"fillPattern",value:rect.config.rawFillPattern==="radial"},{name:"showBorder",value:rect.config.showBorder===1},{name:"borderColor",value:rect.config.rawBorderColor},{name:"borderThickness",value:rect.config.borderThickness},{name:"borderAlpha",value:rect.config.rawBorderAlpha}];return requests};RectAnnotation.prototype.updateAttr=function updateAttr(attr){var _ref,_ref2;var rect=this,config=this.config,x=void 0,y=void 0,tox=void 0,toy=void 0;x=(0,_utils.pluckNumber)(attr.x,rect.getScaledVal(config.x,true));y=(0,_utils.pluckNumber)(attr.y,rect.getScaledVal(config.y,false));tox=(0,_utils.pluckNumber)(attr.toX,rect.getScaledVal(config.tox,true));toy=(0,_utils.pluckNumber)(attr.toY,rect.getScaledVal(config.toy,false));toy>=0&&y>=0&&toy<y&&(_ref=[toy,y],y=_ref[0],toy=_ref[1],_ref);tox>=0&&x>=0&&tox<x&&(_ref2=[tox,x],x=_ref2[0],tox=_ref2[1],_ref2);rect._setConfig("attr",{x:x,y:y,width:Math.abs(tox-x),height:Math.abs(toy-y)})};RectAnnotation.prototype._getAnnotationAttrs=function _getAnnotationAttrs(){var rect=this,config=rect.config,attr=rect._getConfig("attr")||{},x=rect.getScaledVal(config.x),y=rect.getScaledVal(config.y),xRadius=config.xRadius,tox=rect.getScaledVal(config.tox),toy=rect.getScaledVal(config.toy),borderColor=config.borderColor,borderThickness=config.borderThickness,dashArrayStr=config.dashArrayStr,color=config.color;attr.x=typeof attr.x==="undefined"?x:attr.x;attr.y=typeof attr.y==="undefined"?y:attr.y;attr.width=typeof attr.width==="undefined"?Math.abs(tox-x):attr.width;attr.height=typeof attr.height==="undefined"?Math.abs(toy-y):attr.height;attr.r=rect.getScaledVal(xRadius);attr.fill=color;attr.stroke=borderColor;attr["stroke-width"]=borderThickness;attr["stroke-dasharray"]=dashArrayStr;return attr};return RectAnnotation}(_annotationShape2["default"]);exports["default"]=RectAnnotation},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _annotationShape=__webpack_require__(201);var _annotationShape2=_interopRequireDefault(_annotationShape);var _utils=__webpack_require__(196);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var DEFAULT_POLYGON_SIDES=5,DEFAULT_ANGLE_START=0;var PolygonAnnotation=function(_AnnotationShape){_inherits(PolygonAnnotation,_AnnotationShape);function PolygonAnnotation(){_classCallCheck(this,PolygonAnnotation);return _possibleConstructorReturn(this,_AnnotationShape.apply(this,arguments))}PolygonAnnotation.prototype._configureShape=function _configureShape(shapeConfig){var polygon=this;polygon.config.sides=(0,_utils.pluckNumber)((0,_utils.clampNumber)(shapeConfig.sides,3),DEFAULT_POLYGON_SIDES);polygon.config.startAngle=(0,_utils.pluckNumber)(parseFloat(shapeConfig.startAngle),DEFAULT_ANGLE_START);polygon.config.xRadius=(0,_utils.pluckNumber)(parseFloat(shapeConfig.radius),0);polygon.config.elementType="polypath"};PolygonAnnotation.prototype.getExtraEditableRequests=function getExtraEditableRequests(){var polygon=this,requests=[{name:"radius",value:(0,_utils.toPrecision)(polygon.config.xRadius,2)},{name:"sides",value:polygon.config.sides},{name:"startAngle",value:polygon.config.startAngle},{name:"fillColor",value:polygon.config.rawColor},{name:"fillAlpha",value:polygon.config.rawAlpha},{name:"fillRatio",value:(0,_utils.getFirstValue)(polygon.config.rawRatio,"")},{name:"fillAngle",value:polygon.config.rawAngle},{name:"fillPattern",value:polygon.config.rawFillPattern==="radial"},{name:"showBorder",value:polygon.config.showBorder===1},{name:"borderColor",value:polygon.config.rawBorderColor},{name:"borderThickness",value:polygon.config.borderThickness},{name:"borderAlpha",value:polygon.config.rawBorderAlpha}];return requests};PolygonAnnotation.prototype.updateAttr=function updateAttr(attr){var polygon=this,config=polygon.config,polypath=void 0;polypath=[config.sides,(0,_utils.pluckNumber)(attr.x,polygon.getScaledVal(config.x,true)),(0,_utils.pluckNumber)(attr.y,polygon.getScaledVal(config.y,false)),polygon.getScaledVal(config.xRadius),config.startAngle,0];polygon._setConfig("attr",{polypath:polypath})};PolygonAnnotation.prototype._getAnnotationAttrs=function _getAnnotationAttrs(){var polygon=this,config=polygon.config,attr=polygon._getConfig("attr")||{},sides=config.sides,x=config.x,y=config.y,color=config.color,startAngle=config.startAngle,borderColor=config.borderColor,borderThickness=config.borderThickness,dashArrayStr=config.dashArrayStr,xRadius=config.xRadius;attr.fill=color;attr.stroke=borderColor;attr["stroke-width"]=borderThickness;attr["stroke-dasharray"]=dashArrayStr;attr.polypath=attr.polypath||[sides,polygon.getScaledVal(x,true),polygon.getScaledVal(y,false),polygon.getScaledVal(xRadius),startAngle,0];return attr};return PolygonAnnotation}(_annotationShape2["default"]);exports["default"]=PolygonAnnotation},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _annotationShape=__webpack_require__(201);var _annotationShape2=_interopRequireDefault(_annotationShape);var _utils=__webpack_require__(196);var _editableProperties=__webpack_require__(206);var _editableProperties2=_interopRequireDefault(_editableProperties);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var ImageAnnotation=function(_AnnotationShape){_inherits(ImageAnnotation,_AnnotationShape);function ImageAnnotation(){_classCallCheck(this,ImageAnnotation);return _possibleConstructorReturn(this,_AnnotationShape.apply(this,arguments))}ImageAnnotation.prototype._configureShape=function _configureShape(shapeConfig){var image=this,config=image.config,gScaleX=image.groupConfig.scaleX||1,gScaleY=image.groupConfig.scaleY||1;config.url=(0,_utils.getValidValue)(shapeConfig.url);config.xScale=(0,_utils.pluckNumber)(shapeConfig.xScale,100)/100;config.yScale=(0,_utils.pluckNumber)(shapeConfig.yScale,100)/100;config.width=(0,_utils.pluckNumber)(shapeConfig.width,0);config.height=(0,_utils.pluckNumber)(shapeConfig.height,0);config.align=(0,_utils.pluck)(shapeConfig.align,"left");config.vAlign=(0,_utils.pluck)(shapeConfig.vAlign,"top");config.xScale=config.xScale*gScaleX;config.yScale=config.yScale*gScaleY;config.elementType="image"};ImageAnnotation.prototype.getEditorConfig=function getEditorConfig(){var image=this;image.editorConfig=(0,_editableProperties2["default"])([{name:"id",value:image.config.id},{name:"url",value:image.config.url},{name:"tooltext",value:image.config.toolText}]);return image.editorConfig};ImageAnnotation.prototype.updateAttr=function updateAttr(attr){var image=this,config=image.config;image._setConfig("attr",{x:(0,_utils.pluckNumber)(attr.x,image.getScaledVal(config.x,true)),y:(0,_utils.pluckNumber)(attr.y,image.getScaledVal(config.y,false))})};ImageAnnotation.prototype._getAnnotationAttrs=function _getAnnotationAttrs(){var image=this,config=image.config,attr=image._getConfig("attr")||{},url=config.url,x=config.x,y=config.y;attr.x=typeof attr.x==="undefined"?image.getScaledVal(x,true):attr.x;attr.y=typeof attr.y==="undefined"?image.getScaledVal(y,false):attr.y;attr.src=url;attr.width=config.width;attr.height=config.height;return attr};return ImageAnnotation}(_annotationShape2["default"]);exports["default"]=ImageAnnotation},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var LABEL_STYLES={overflow:"hidden",whitespace:"nowrap","text-overflow":"ellipsis","vertical-align":"middle",position:"relative","text-align":"right","padding-right":"4px","font-size":"0.8em","font-weight":"500"},INPUT_STYLES={"vertical-align":"middle",border:"1px solid #cccccc",position:"relative","padding-left":"4px","padding-right":"4px","padding-top":"2px","font-size":"0.8em","padding-bottom":"2px"};var store={id:{label:{innerHTML:"Identifier",attrs:{"for":"fc-editor-id-input"},styles:LABEL_STYLES},input:{attrs:{type:"text",id:"fc-editor-id-input","data-config-key":"id"},styles:INPUT_STYLES}},color:{label:{innerHTML:"Color",attrs:{"for":"fc-editor-color-input"},styles:LABEL_STYLES},input:{attrs:{type:"text",id:"fc-editor-color-input","data-config-key":"color"},styles:INPUT_STYLES}},alpha:{label:{innerHTML:"Alpha",attrs:{"for":"fc-editor-alpha-input"},styles:LABEL_STYLES},input:{attrs:{type:"number",min:0,max:100,id:"fc-editor-alpha-input","data-config-key":"alpha"},styles:INPUT_STYLES}},showBorder:{label:{innerHTML:"Show Border",attrs:{"for":"fc-editor-show-border-input"},styles:LABEL_STYLES},input:{attrs:{type:"checkbox",id:"fc-editor-show-border-input","data-config-key":"showborder"},props:{},styles:INPUT_STYLES}},dashed:{label:{innerHTML:"Dashed",attrs:{"for":"fc-editor-dashed-input"},styles:LABEL_STYLES},input:{attrs:{type:"checkbox",id:"fc-editor-dashed-input","data-config-key":"dashed"},props:{},styles:INPUT_STYLES}},dashLen:{label:{innerHTML:"Dash Length",attrs:{"for":"fc-editor-dash-len-input"},styles:LABEL_STYLES},input:{attrs:{type:"number",id:"fc-editor-dash-len-input","data-config-key":"dashlen"},styles:INPUT_STYLES}},dashGap:{label:{innerHTML:"Dash Gap",attrs:{"for":"fc-editor-dash-gap-input"},styles:LABEL_STYLES},input:{attrs:{type:"number",id:"fc-editor-dash-gap-input","data-config-key":"dashgap"},styles:INPUT_STYLES}},tooltext:{label:{innerHTML:"Tool Text",attrs:{"for":"fc-editor-tool-text-input"},styles:LABEL_STYLES},input:{attrs:{type:"text",id:"fc-editor-tool-text-input","data-config-key":"tooltext"},styles:INPUT_STYLES}},url:{label:{innerHTML:"URL",attrs:{"for":"fc-editor-url-input"},styles:LABEL_STYLES},input:{attrs:{type:"text",id:"fc-editor-url-input","data-config-key":"url"},styles:INPUT_STYLES}},radius:{label:{innerHTML:"Radius",attrs:{"for":"fc-editor-radius-input"},styles:LABEL_STYLES},input:{attrs:{type:"text",id:"fc-editor-url-input","data-config-key":"xradius"},styles:INPUT_STYLES}},startAngle:{label:{innerHTML:"Start Angle",attrs:{"for":"fc-editor-start-angle-input"},styles:LABEL_STYLES},input:{attrs:{type:"number",min:0,max:360,id:"fc-editor-start-angle-input","data-config-key":"startangle"},styles:INPUT_STYLES}},endAngle:{label:{innerHTML:"End Angle",attrs:{"for":"fc-editor-end-angle-input"},styles:LABEL_STYLES},input:{attrs:{type:"number",min:0,max:360,id:"fc-editor-end-angle-input","data-config-key":"endangle"},styles:INPUT_STYLES}},innerRadius:{label:{innerHTML:"Inner Radius",attrs:{"for":"fc-editor-inner-radius-input"},styles:LABEL_STYLES},input:{attrs:{type:"number",id:"fc-editor-inner-radius-input","data-config-key":"innerradius"},styles:INPUT_STYLES}},fillColor:{label:{innerHTML:"Fill Color",attrs:{"for":"fc-editor-fill-color-input"},styles:LABEL_STYLES},input:{attrs:{type:"text",id:"fc-editor-fill-color-input","data-config-key":"fillcolor"},styles:INPUT_STYLES}},fillAlpha:{label:{innerHTML:"Fill Alpha",attrs:{"for":"fc-editor-fill-alpha-input"},styles:LABEL_STYLES},input:{attrs:{type:"text",id:"fc-editor-fill-alpha-input","data-config-key":"fillalpha"},styles:INPUT_STYLES}},fillRatio:{label:{innerHTML:"Fill Ratio",attrs:{"for":"fc-editor-fill-ratio-input"},styles:LABEL_STYLES},input:{attrs:{type:"text",id:"fc-editor-fill-ratio-input","data-config-key":"fillratio"},styles:INPUT_STYLES}},fillAngle:{label:{innerHTML:"Fill Angle",attrs:{"for":"fc-editor-fill-angle-input"},styles:LABEL_STYLES},input:{attrs:{type:"text",id:"fc-editor-fill-angle-input","data-config-key":"fillangle"},styles:INPUT_STYLES}},fillPattern:{label:{innerHTML:"Radial Gradient",attrs:{"for":"fc-editor-fill-pattern-input"},styles:LABEL_STYLES},input:{attrs:{type:"checkbox",id:"fc-editor-fill-pattern-input","data-config-key":"fillpattern"},props:{},styles:INPUT_STYLES}},borderColor:{label:{innerHTML:"Border Color",attrs:{"for":"fc-editor-border-color-input"},styles:LABEL_STYLES},input:{attrs:{type:"text",id:"fc-editor-border-color-input","data-config-key":"bordercolor"},styles:INPUT_STYLES}},borderThickness:{label:{innerHTML:"Border Thickness",attrs:{"for":"fc-editor-border-thickness-input"},styles:LABEL_STYLES},input:{attrs:{type:"number",id:"fc-editor-border-thickness-input","data-config-key":"borderthickness"},styles:INPUT_STYLES}},borderAlpha:{label:{innerHTML:"Border Alpha",attrs:{"for":"fc-editor-border-alpha-input"},styles:LABEL_STYLES},input:{attrs:{type:"number",min:0,max:100,id:"fc-editor-border-alpha-input","data-config-key":"borderalpha"},styles:INPUT_STYLES}},thickness:{label:{innerHTML:"Thickness",attrs:{"for":"fc-editor-thickness-input"},styles:LABEL_STYLES},input:{attrs:{type:"number",id:"fc-editor-thickness-input","data-config-key":"thickness"},styles:INPUT_STYLES}},sides:{label:{innerHTML:"Sides",attrs:{"for":"fc-editor-sides-input"},styles:LABEL_STYLES},input:{attrs:{type:"number",min:3,id:"fc-editor-sides-input","data-config-key":"sides"},styles:INPUT_STYLES}},text:{label:{innerHTML:"Text",attrs:{"for":"fc-editor-text-input"},styles:LABEL_STYLES},input:{attrs:{type:"text",id:"fc-editor-text-input","data-config-key":"text"},styles:INPUT_STYLES}},font:{label:{innerHTML:"Font",attrs:{"for":"fc-editor-text-font-input"},styles:LABEL_STYLES},input:{attrs:{type:"text",id:"fc-editor-text-font-input","data-config-key":"font"},styles:INPUT_STYLES}},fontSize:{label:{innerHTML:"Font Size",attrs:{"for":"fc-editor-text-size-input"},styles:LABEL_STYLES},input:{attrs:{type:"text",id:"fc-editor-text-size-input","data-config-key":"fontsize"},styles:INPUT_STYLES}},bold:{label:{innerHTML:"Bold",attrs:{"for":"fc-editor-text-bold-input"},styles:LABEL_STYLES},input:{attrs:{type:"checkbox",id:"fc-editor-text-bold-input","data-config-key":"bold"},props:{},styles:INPUT_STYLES}},italic:{label:{innerHTML:"Italics",attrs:{"for":"fc-editor-text-italic-input"},styles:LABEL_STYLES},input:{attrs:{type:"checkbox",id:"fc-editor-text-italic-input","data-config-key":"italic"},props:{},styles:INPUT_STYLES}},textBackground:{label:{innerHTML:"Background",attrs:{"for":"fc-editor-text-bg-input"},styles:LABEL_STYLES},input:{attrs:{type:"text",id:"fc-editor-text-bg-input","data-config-key":"bgcolor"},styles:INPUT_STYLES}}};function getEditableSructure(requestedEditables){var editableStructures=[],i=void 0,ii=void 0,name=void 0,count=0,value=void 0,labelStyle=void 0,inputStyle=void 0,editableGroup=[],editableStructure=void 0;for(i=0,ii=requestedEditables.length;i<ii;i++){name=requestedEditables[i].name;value=requestedEditables[i].value;labelStyle=requestedEditables[i].labelStyle;inputStyle=requestedEditables[i].inputStyle;editableStructure=JSON.parse(JSON.stringify(store[name]));if(editableStructure.input.attrs.type==="checkbox"){editableStructure.input.props.checked=value}else{editableStructure.input.attrs.value=value}editableStructure.label.styles=labelStyle||LABEL_STYLES;editableStructure.input.styles=inputStyle||INPUT_STYLES;editableGroup.push(editableStructure);count++;if(count===2){editableStructures.push(editableGroup);editableGroup=[];count=0}else if(i===ii-1){editableStructures.push(editableGroup);editableGroup=[];count=0}}return editableStructures}exports["default"]=getEditableSructure},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _annotationShape=__webpack_require__(201);var _annotationShape2=_interopRequireDefault(_annotationShape);var _editableProperties=__webpack_require__(206);var _editableProperties2=_interopRequireDefault(_editableProperties);var _utils=__webpack_require__(196);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var POSITION_BOTTOM="bottom",POSITION_TOP="top",POSITION_MIDDLE="middle",BOLD="bold",DEFAULT_RADIUS=0,DEFAULT_BORDER_PADDING=2,DEFAULT_BORDER_THICKNESS=1,DEFAULT_COLOR="#FF0000",DEFAULT_ALPHA=100,FULL_ANGLE_DEGREES=360,RADIAL="radial",DEFAULT_FILL_ANGLE=0,DEFAULT_FONT_SIZE=10,ITALIC="italic",NORMAL="normal",TEXT_ALIGN_OPTIONS={left:"start",right:"end",center:"middle"},TEXT_V_ALIGN_OPTIONS={top:POSITION_BOTTOM,middle:POSITION_MIDDLE,bottom:POSITION_TOP},TEXT_ROTATION_OPTIONS={0:"0",1:"270",right:"90",cw:"90",left:"270",ccw:"270"};function isValidColor(colorStr){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(colorStr)?colorStr:/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(colorStr)&&"#"+colorStr}var AnnotaionText=function(_AnnotationShape){_inherits(AnnotaionText,_AnnotationShape);function AnnotaionText(){_classCallCheck(this,AnnotaionText);return _possibleConstructorReturn(this,_AnnotationShape.apply(this,arguments))}AnnotaionText.prototype._configureShape=function _configureShape(shapeConfig){var text=this,groupConfig=text.groupConfig;text.config.text=(0,_utils.parseUnsafeString)((0,_utils.pluck)(shapeConfig.text,shapeConfig.label,""));text.config.font=(0,_utils.pluck)(shapeConfig.font,groupConfig.font,"Verdana, sans");text.config.fontSize=(0,_utils.pluckFontSize)(shapeConfig.fontSize,groupConfig.fontSize,DEFAULT_FONT_SIZE);text.config.align=(0,_utils.pluck)(TEXT_ALIGN_OPTIONS[shapeConfig.align&&shapeConfig.align.toLowerCase()],TEXT_ALIGN_OPTIONS[groupConfig.textAlign&&groupConfig.textAlign.toLowerCase()],"middle");text.config.vAlign=(0,_utils.pluck)(TEXT_V_ALIGN_OPTIONS[shapeConfig.vAlign&&shapeConfig.vAlign.toLowerCase()],TEXT_V_ALIGN_OPTIONS[groupConfig.textVAlign&&groupConfig.textVAlign.toLowerCase()],"middle");text.config.radius=(0,_utils.pluckNumber)(parseFloat(shapeConfig.radius),DEFAULT_RADIUS);text.config.fontWeight=(0,_utils.pluckNumber)(shapeConfig.bold,0)?BOLD:NORMAL;text.config.fontStyle=(0,_utils.pluckNumber)(shapeConfig.italic,0)?ITALIC:NORMAL;text.config.bgColor=isValidColor(shapeConfig.bgColor)?shapeConfig.bgColor:"none";text.config.borderThickness=(0,_utils.pluckNumber)(parseFloat(text.rawConfig.borderThickness),parseFloat(text.rawConfig.thickness),DEFAULT_BORDER_THICKNESS);text.config.rotateText=(0,_utils.pluck)(shapeConfig.rotateText,groupConfig.rotateText,"0");text.config.rotateAngle=TEXT_ROTATION_OPTIONS[text.config.rotateText&&text.config.rotateText.toLowerCase()];text.config.wrap=(0,_utils.pluckNumber)(shapeConfig.wrap,groupConfig.wrapText,shapeConfig.wrapHeight,shapeConfig.wrapWidth,1);if(text.config.wrap){text.config.wrapWidth=(0,_utils.pluckNumber)(shapeConfig.wrapWidth);text.config.wrapHeight=(0,_utils.pluckNumber)(shapeConfig.wrapHeight)}text.config.leftMargin=(0,_utils.pluckNumber)(shapeConfig.leftMargin,0);text.config.elementType="text"};AnnotaionText.prototype.getEditorConfig=function getEditorConfig(){var text=this,requests=[{name:"id",value:text.config.id},{name:"text",value:text.config.text},{name:"font",value:text.config.font},{name:"fontSize",value:text.config.fontSize},{name:"bold",value:text.config.fontWeight===BOLD},{name:"italic",value:text.config.fontStyle===ITALIC},{name:"textBackground",value:text.config.bgColor?text.config.bgColor:""}];return(0,_editableProperties2["default"])(requests)};AnnotaionText.prototype.getText=function getText(){var shape=this,conf=shape.config,smartLabel=shape._getFromStore("smartLabel"),isWrap=conf.wrap,textStr=void 0,group=shape._getFromStore("annotation-group"),isScaleText=group&&group._getConfig("scaleText"),wrapWidth=isScaleText?shape.getScaledVal(conf.wrapWidth,true):conf.wrapWidth,wrapHeight=isScaleText?shape.getScaledVal(conf.wrapHeight,false):conf.wrapHeight,css={fontStyle:conf.fontStyle,fontFamily:conf.font,fontWeight:conf.fontWeight,fontSize:conf.fontSize+"px","text-anchor":conf.align,"vertical-align":conf.vAlign};(0,_utils.setLineHeight)(css);smartLabel&&smartLabel.setStyle(css);textStr=smartLabel&&isWrap?smartLabel.getSmartText(conf.text,wrapWidth,wrapHeight,0).text:conf.text;return textStr};AnnotaionText.prototype._getFillColor=function _getFillColor(rawConfig,groupConfig){var shape=this,shapeType=shape.getType(),colorObj={color:"",alpha:"",angle:"",ratio:"",radialGradient:shapeType==="circle"||shapeType==="arc"};colorObj.color=rawConfig.fontColor||rawConfig.fillColor||rawConfig.color||groupConfig.color||DEFAULT_COLOR;colorObj.alpha=(0,_utils.pluck)(rawConfig.fillAlpha,parseFloat(rawConfig.alpha),groupConfig.alpha,DEFAULT_ALPHA);colorObj.angle=FULL_ANGLE_DEGREES-(0,_utils.pluckNumber)(rawConfig.fillAngle,DEFAULT_FILL_ANGLE);colorObj.ratio=(0,_utils.pluck)(rawConfig.fillRatio);if(rawConfig.fillPattern){colorObj.radialGradient=rawConfig.fillPattern===RADIAL||(0,_utils.pluckNumber)(rawConfig.fillPattern)}if(colorObj.radialGradient){colorObj.gradientUnits="objectBoundingBox";colorObj.cx=.5;colorObj.cy=.5;colorObj.fx=.5;colorObj.fy=.5}shape.config.rawColor=colorObj.color;shape.config.rawAlpha=colorObj.alpha;shape.config.rawAngle=colorObj.angle;shape.config.rawFillPattern=colorObj.radialGradient?"radial":"linear";shape.config.rawRatio=colorObj.ratio;return(0,_utils.toRaphaelColor)(colorObj)};AnnotaionText.prototype.updateAttr=function updateAttr(attr){var text=this,config=text.config,x=(0,_utils.pluckNumber)(attr.x,text.getScaledVal(config.x,true)),y=(0,_utils.pluckNumber)(attr.y,text.getScaledVal(config.y,true)),transform=void 0;if(config.rotateText!=="0"){transform=(0,_utils.getSuggestiveRotation)(parseFloat(config.rotateAngle),x,y)}text._setConfig("attr",{x:x,y:y,transform:transform})};AnnotaionText.prototype._getAnnotationAttrs=function _getAnnotationAttrs(paper){var text=this,config=text.config,attr=text._getConfig("attr")||{},smartTextString=text.getText(),x=text.getScaledVal(config.x,true),y=text.getScaledVal(config.y,false);attr.x=typeof attr.x==="undefined"?x:attr.x;attr.y=typeof attr.y==="undefined"?y:attr.y;attr.text=smartTextString;attr.fill=config.color;attr["text-bound"]=[(0,_utils.toRaphaelColor)(config.bgColor),config.borderColor,config.borderThickness,DEFAULT_BORDER_PADDING,config.radius,config.dashArrayStr];attr["font-style"]=config.fontStyle;attr["font-weight"]=config.fontWeight;attr["font-family"]=config.font;attr["font-size"]=text.getScaledFont(config.fontSize);attr["text-anchor"]=config.align;attr["vertical-align"]=config.vAlign;if(config.rotateText!=="0"){attr.transform=attr.transform||(0,_utils.getSuggestiveRotation)(parseFloat(config.rotateAngle),x,y)}return attr};return AnnotaionText}(_annotationShape2["default"]);exports["default"]=AnnotaionText},function(module,exports,__webpack_require__){var _curry2=__webpack_require__(188);var pickBy=_curry2(function pickBy(test,obj){var result={};for(var prop in obj){if(test(obj[prop],prop,obj)){result[prop]=obj[prop]}}return result});module.exports=pickBy},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var UNDEF=undefined;var UNDERSCORE="_";var DEFAULT_MACRO_PREFIX="$";var DEFAULT_MACRO_SEPARATOR=".";var pi2=2*Math.PI;var win=window;var BLANK="";var COMMA=",";var threshold=1e-5;var axis2d=[-pi2,-3*pi2/4,-pi2/2,-pi2/4,0];var axis3d=[pi2,3*pi2/4,pi2/2,pi2/4,0];var square=function square(x){return x*x};var deg2Rad=function deg2Rad(theta){return theta*(Math.PI/180)};var polarToCartesian=function polarToCartesian(r,theta){var degreeInRad=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var center=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var x,y;if(!degreeInRad){theta=deg2Rad(theta)}x=r*Math.cos(theta)+(center.x||0);y=r*Math.sin(theta)+(center.y||0);return{x:x,y:y}};var getQuadrant=function getQuadrant(point,cx,cy){if(point.x>=cx){if(point.y<=cy){return 0}else{return 3}}else{if(point.y<=cy){return 1}else{return 2}}};var getEllipseRadius=function getEllipseRadius(a,b,theta){var r=void 0;var a2=square(a);var b2=square(b);if(a===0||b===0){return 0}r=a*b/Math.sqrt(b2*square(Math.cos(theta))+a2*square(Math.sin(theta)));return r};var computeSlice2DBBox=function computeSlice2DBBox(attr){var ringPath=attr.ringpath,r1=void 0,r2=void 0,sAngle=void 0,eAngle=void 0,cx=void 0,cy=void 0,quad=[],res=[],i=void 0,point1=void 0,point2=void 0,minX=Infinity,minY=Infinity,maxX=-Infinity,maxY=-Infinity;r1=pluckNumber(ringPath[2]);r2=pluckNumber(ringPath[3]);sAngle=pluckNumber(ringPath[4])%pi2;eAngle=pluckNumber(ringPath[5])%pi2;cx=pluckNumber(ringPath[0]);cy=pluckNumber(ringPath[1]);point1=polarToCartesian(r1,sAngle,true,{x:cx,y:cy});point2=polarToCartesian(r1,eAngle,true,{x:cx,y:cy});res.push(point1);res.push(point2);for(i=0;i<axis2d.length;i++){if(axis2d[i]>=sAngle&&axis2d[i]<=eAngle){quad.push(i)}}for(i=0;i<quad.length;i++){point1=polarToCartesian(r1,axis2d[quad[i]],true,{x:cx,y:cy});point2=polarToCartesian(r2,axis2d[quad[i]],true,{x:cx,y:cy});res.push(point1);res.push(point2)}point1=polarToCartesian(r2,sAngle,true,{x:cx,y:cy});point2=polarToCartesian(r2,eAngle,true,{x:cx,y:cy});res.push(point1);res.push(point2);for(i=0;i<res.length;i++){maxX=Math.max(maxX,res[i].x);minX=Math.min(minX,res[i].x);maxY=Math.max(maxY,res[i].y);minY=Math.min(minY,res[i].y)}return{x:minX,y:minY,width:Math.abs(maxX-minX),height:Math.abs(minY-maxY)}};var computeSlice3DBBox=function computeSlice3DBBox(attr){var ringPath=attr.ringpath,r1=void 0,r2=void 0,sAngle=void 0,eAngle=void 0,cx=void 0,cy=void 0,quad=[],res=[],i=void 0,point1=void 0,point2=void 0,minX=Infinity,minY=Infinity,maxX=-Infinity,maxY=-Infinity;r1=pluckNumber(attr.r);r2=pluckNumber(r1*attr.radiusYFactor);sAngle=pluckNumber(attr.sAngle)%pi2;eAngle=pluckNumber(attr.eAngle)%pi2;cx=pluckNumber(attr.cx);cy=pluckNumber(attr.cy);point1=polarToCartesian(getEllipseRadius(r1,r2,sAngle),sAngle,true,{x:cx,y:cy});point2=polarToCartesian(getEllipseRadius(r1,r2,eAngle),eAngle,true,{x:cx,y:cy});res.push(point1);res.push(point2);for(var _i=0;_i<axis3d.length;_i++){if(axis3d[_i]>=sAngle&&axis3d[_i]<=eAngle){quad.push(_i)}}for(i=0;i<quad.length;i++){point1=polarToCartesian(getEllipseRadius(r1,r2,axis3d[quad[i]]),axis3d[quad[i]],true,{x:cx,y:cy});res.push(point1)}r1=pluckNumber(attr.innerR,0);r2=pluckNumber(r1*attr.radiusYFactor,0);point1=polarToCartesian(getEllipseRadius(r1,r2,sAngle),sAngle,true,{x:cx,y:cy});point2=polarToCartesian(getEllipseRadius(r1,r2,eAngle),eAngle,true,{x:cx,y:cy});res.push(point1);res.push(point2);for(i=0;i<quad.length;i++){point1=polarToCartesian(getEllipseRadius(r1,r2,axis3d[quad[i]]),axis3d[quad[i]],true,{x:cx,y:cy});res.push(point1)}for(var _i2=0;_i2<res.length;_i2++){maxX=Math.max(maxX,res[_i2].x);minX=Math.min(minX,res[_i2].x);maxY=Math.max(maxY,res[_i2].y);minY=Math.min(minY,res[_i2].y)}return{x:minX,y:minY,width:Math.abs(maxX-minX),height:Math.abs(minY-maxY)}};var getEllipticalPoint=function getEllipticalPoint(a,b,theta){var x=void 0;var y=void 0;var tan=void 0;tan=Math.tan(theta);x=a*b/Math.sqrt(b*b+a*a*tan*tan);y=a*b/Math.sqrt(a*a+b*b/(tan*tan));if(theta>pi2/4&&theta<3*pi2/4){x*=-1}else{x=Math.abs(x)}if(theta>pi2/2&&theta<pi2){y*=-1}else{y=Math.abs(y)}Math.abs(x)<=threshold&&(x=0);Math.abs(y)<=threshold&&(y=0);return{x:x,y:y}};var compute3DSliceBounds=function compute3DSliceBounds(macro,config){var attr=config.props.element.attr;var pieYScale=attr.radiusYFactor;var a=attr.r;var b=a*pieYScale;var cx=attr.cx;var cy=attr.cy;var sAngle=attr.sAngle;var eAngle=attr.eAngle;var angle=void 0;var res=void 0;switch(macro){case"slicex":case"slicemiddlex":case"slicecenterx":angle=(sAngle+eAngle)/2;res=getEllipticalPoint(a,b,angle).x+cx;break;case"slicey":case"slicemiddley":case"slicecentery":angle=(sAngle+eAngle)/2;res=getEllipticalPoint(a,b,angle).y+cy;break;case"slicestartx":res=getEllipticalPoint(a,b,sAngle).x+cx;break;case"slicestarty":res=getEllipticalPoint(a,b,sAngle).y+cy;break;case"sliceendx":res=getEllipticalPoint(a,b,eAngle).x+cx;break;case"sliceendy":res=getEllipticalPoint(a,b,eAngle).y+cy;break;default:res=xyCalculator(macro,computeSlice3DBBox(attr))}return res};var computeSliceBounds=function computeSliceBounds(macro,config){var attr=config.props.element.attr;var point=void 0;var ringPath=attr.ringpath;var cx=void 0;var cy=void 0;var r1=void 0;var res=void 0;var sAngle=void 0;var eAngle=void 0;var angle=void 0;cx=ringPath[0];cy=ringPath[1];r1=ringPath[2];sAngle=ringPath[4];eAngle=ringPath[5];switch(macro){case"slicex":case"slicemiddlex":case"slicecenterx":angle=(sAngle+eAngle)/2;point=polarToCartesian(r1,angle);res=point.x+cx;break;case"slicey":case"slicemiddley":case"slicecentery":angle=(sAngle+eAngle)/2;point=polarToCartesian(r1,angle);res=point.y+cy;break;case"slicestartx":res=polarToCartesian(r1,eAngle).x+cx;break;case"slicestarty":res=polarToCartesian(r1,eAngle).y+cy;break;case"sliceendx":res=polarToCartesian(r1,sAngle).x+cx;break;case"sliceendy":res=polarToCartesian(r1,sAngle).y+cy;break;default:res=xyCalculator(macro,computeSlice2DBBox(attr))}return res};var computePlotBounds=function computePlotBounds(set,name){var config=set.config||set;var bbox=void 0;var attr=void 0;var polypath=void 0;var xPos=void 0;var yPos=void 0;var radius=void 0;switch(name){case"column3D":case"bar2D":case"bar3D":case"paretoColumn":case"waterFall2D":case"errorBar2D":case"candlestick":case"heatMap":case"dragColumn":case"sparkColumn":case"marimekko":case"task":case"column":attr=config.props.element.attr;bbox={x:attr.x+pluckNumber(attr.xDepth,0),y:attr.y-pluckNumber(attr.yDepth,0),width:attr.width,height:attr.height};break;case"line":case"zoomLine":case"zoomScatter":case"scatter":case"spline":case"splinearea":case"multiaxisline":case"stepLine":case"errorScatter":case"errorLine":case"radar":case"selectScatter":case"dragLine":case"dragArea":case"kagi":case"sparkLine":case"area":xPos=set._xPos;yPos=set._yPos;radius=Number(config.anchorProps.radius)||0;bbox={x:xPos-radius,y:yPos-radius,width:2*radius,height:2*radius};break;case"bubble":attr=config.props.element.attr;bbox={x:attr.cx-attr.r,y:attr.cy-attr.r,width:2*attr.r,height:2*attr.r};break;case"dragNode":attr=config.props.element.attr;if(config.shapeType==="rect"){bbox={x:attr.x,y:attr.y,width:attr.width,height:attr.height}}else{xPos=config._xPos;yPos=config._yPos;radius=+config.radius||0;bbox={x:xPos-radius,y:yPos-radius,width:2*radius,height:2*radius}}break;case"boxandwhisker2D":attr=config.props.upperBoxElem.attr;bbox={x:attr.x,y:attr.y,width:attr.width,height:attr.height};break;case"category":case"polarCategory":case"log":case"numeric":attr=config.props.label.attr;bbox={x:attr.x-config.width/2,y:attr.y-config.height/2,width:config.width,height:config.height};if(attr["text-anchor"]==="end"||attr["text-anchor"]==="left"){bbox.x=attr.x-config.width}else if(attr["text-anchor"]==="start"||attr["text-anchor"]==="right"){bbox.x=attr.x}if(attr["vertical-align"]==="top"){bbox.y=attr.y}else if(attr["vertical-align"]==="bottom"){bbox.y=attr.y-config.height}break;case"multiLevelPie":attr=config.props.element.attr;bbox=computeSlice2DBBox(attr);break}return bbox};var cleanMacro=function cleanMacro(str){var i=void 0;var len=void 0;var newStr="";for(i=0,len=str.length;i<len;i++){if(str[i]===" "){continue}newStr+=str[i]}return newStr};var arrangeItems=function arrangeItems(){var itemConfigs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var shape=[];var text=[];var i=void 0;var len=void 0;len=itemConfigs.length;for(i=0;i<len;i++){if(itemConfigs[i].type==="text"){text.push(itemConfigs[i])}else{shape.push(itemConfigs[i])}}return shape.concat(text)};function pluck(){var arg,i,l;for(i=0,l=arguments.length;i<l;i+=1){arg=arguments[i];if(!arg&&arg!==false&&arg!==0){continue}return arg}return UNDEF}var xyCalculator=function xyCalculator(what,bbox){var ret=0;switch(what){case"startx":ret=bbox.x;break;case"starty":ret=bbox.y;break;case"x":case"middlex":case"centerx":ret=bbox.x+bbox.width/2;break;case"y":case"middley":case"centery":ret=bbox.y+bbox.height/2;break;case"endx":ret=bbox.x+bbox.width;break;case"endy":ret=bbox.y+bbox.height;break;default:ret=0}return ret};var axisMacroParser=function axisMacroParser(chart,axisName){return function(string){var traversalArr=string.split(DEFAULT_MACRO_SEPARATOR).slice(1);var axisIndex=isNaN(Number(traversalArr[0]))?0:Number(traversalArr[0]);var labelIndex=isNaN(Number(traversalArr[0]))?traversalArr[1]:traversalArr[2];var xyIndex=isNaN(Number(traversalArr[0]))?traversalArr[2]:traversalArr[3];var axis=void 0;var labelConfig=void 0;var labelElementBBox=void 0;var axisComp=void 0;axis=chart.getChildren(axisName)[axisIndex];axisComp=axis.components;labelIndex=Number(labelIndex);if(axisComp.labelIndexArr){labelIndex=axisComp.labelIndexArr[labelIndex]}labelConfig=axisComp.labels[labelIndex].config;labelElementBBox=computePlotBounds(labelConfig,axis.getName());return xyCalculator(xyIndex,labelElementBBox)}};var getEventData=function getEventData(event,shape,chart){var annotationElement=shape._getFromStore("element");var chartCoord=chart.getFromEnv("getMouseCoordinate")(chart.getFromEnv("chart-container"),event,chart);var annotationGroup=shape._getFromStore("annotation-group");return{element:annotationElement,rawConfig:shape.getAttribute(),pageX:chartCoord.pageX,pageY:chartCoord.pageY,chartX:chartCoord.chartX,chartY:chartCoord.chartY,annotationId:shape.getId(),groupId:annotationGroup&&annotationGroup.getId(),annotationOptions:shape.rawConfig,groupOptions:annotationGroup&&annotationGroup.rawConfig}};var defaultAnnotationClick=function defaultAnnotationClick(item,chart){return function(event){chart.fireChartInstanceEvent("annotationclick",getEventData(event,item,chart),UNDEF,UNDEF,event)}};var defaultAnnotationRollOver=function defaultAnnotationRollOver(item,chart){return function(event){chart.fireChartInstanceEvent("annotationrollover",getEventData(event,item,chart),UNDEF,UNDEF,event)}};var defaultAnnotationRollOut=function defaultAnnotationRollOut(item,chart){return function(event){chart.fireChartInstanceEvent("annotationrollout",getEventData(event,item,chart),UNDEF,UNDEF,event)}};var limitedEvalParser=function(){var DOT=".",windowPropIdentifier=/^@window_/g;return function(expr,args,multipleParams){var pattern=expr.replace(/\[[\'\"]/g,DOT).replace(/[\'\"]\]/g,BLANK).replace(/\[/g,".@window_").replace(/\]/g,BLANK),tokens=pattern.split(DOT),obj=win,boxObj,windowProp,tokenEx=BLANK,token,l,i;l=tokens.length;for(i=0;i<l;i+=1){token=tokens[i];boxObj=obj;if(token.match(windowPropIdentifier)){windowProp=win[token.replace(windowPropIdentifier,BLANK)];obj=obj[windowProp]}else if(obj===UNDEF||obj===null){throw(tokenEx||token).replace(windowPropIdentifier,BLANK)+" is not defined"}else{obj=obj[token]}tokenEx=token}if(obj&&(typeof obj.call==="function"||obj===win.alert)){if(obj===win.alert){obj(args)}else{multipleParams?obj.apply(boxObj,args.split("__FC_ARG_SEP__")):obj.call(boxObj,args)}}else if(tokenEx==="void"){return void args}else{setTimeout(function(){throw token.replace(windowPropIdentifier,BLANK)+"() is not a function"},0)}}}();function pluckNumber(){var param,i,l;for(var _len=arguments.length,params=Array(_len),_key=0;_key<_len;_key++){params[_key]=arguments[_key]}for(i=0,l=params.length;i<l;i+=1){param=params[i];if(!param&&param!==false&&param!==0){continue}else if(isNaN(param=Number(param))){continue}return param}}function getLinkedChartDataJSON(linkedDataId,FCDataObj){var linkedDataJSON={chart:{}},index,FcJSON=FCDataObj;linkedDataId=linkedDataId.toLowerCase();if(FcJSON.linkeddata){for(index=0;index<FcJSON.linkeddata.length;index+=1){if(FcJSON.linkeddata[index].id.toLowerCase()===linkedDataId){linkedDataJSON=FcJSON.linkeddata[index].linkedchart||FcJSON.linkeddata[index].linkedmap}}}return linkedDataJSON}function executeJS(strLink,multipleParams){limitedEvalParser(strLink.substr(0,strLink.indexOf("__FC_ARG_SEP__")),strLink.substr(strLink.indexOf("__FC_ARG_SEP__")).replace(/__FC_ARG_SEP__/,""),multipleParams)}function pseudoEval(executionString){if(/^j\s*\-/.test(executionString)){executeJS(executionString.replace(/^j\s*\-/,BLANK).replace(/\-/,"__FC_ARG_SEP__"))}else{executeJS(executionString.replace(/^javascript\s*\:/i,BLANK).replace(/[\'\"]?\s*\,\s*[\'\"]?/g,"__FC_ARG_SEP__").replace(/\(\s*[\'\"]?(.*)\)\;?/,"__FC_ARG_SEP__$1").replace(/[\'\"]?$/,""),true)}}function getLinkAction(dataObj,chart){var secureLink=function secureLink(link){return link};return function(isHotCall){if(isHotCall&&chart.config.clickURLOverridesPlotLinks){return}var chartAttrs=dataObj.chart||dataObj.map||{},unescapeLinks=pluckNumber(chartAttrs.unescapelinks,1),clickedEntity=this.entity||UNDEF,clickedEntityBox=this.entityBox||UNDEF,strLink=this.link,originalLink=strLink,dashPos,frameDetails,commaPos,linkURL,delimiter,linkType,linkedDataId,linkedData,alias,popupWin,firstBreak;if(strLink!==UNDEF){if(unescapeLinks){strLink=win.decodeURIComponent?win.decodeURIComponent(strLink):win.unescape(strLink)}strLink=strLink.replace(/^\s+/,BLANK).replace(/\s+$/,BLANK);if(strLink.search(/^[a-z]*\s*[\-\:]\s*/i)!==-1){delimiter=strLink.split(/\s*[\-\:]\s*/)[0].toLowerCase();firstBreak=delimiter.length}isHotCall&&(chart.config.hotElemClicked=true);switch(delimiter){case"j":case"javascript":pseudoEval(strLink);break;case"n":strLink.replace(/^n\s*\-/i,"n-");win.open(secureLink(strLink.slice(2),unescapeLinks));break;case"f":strLink=strLink.replace(/^f\s*\-/i,"f-");dashPos=strLink.indexOf("-",2);if(dashPos!==-1){frameDetails=strLink.substr(2,dashPos-2);if(frameDetails&&win.frames[frameDetails]){win.frames[frameDetails].location=secureLink(strLink.slice(dashPos+1),unescapeLinks)}else{win.open(secureLink(strLink.slice(dashPos+1),unescapeLinks),frameDetails)}}else{win.open(secureLink(strLink.slice(2),unescapeLinks))}break;case"p":strLink=strLink.replace(/p\s*\-/i,"p-");dashPos=strLink.indexOf("-",2);commaPos=strLink.indexOf(COMMA,2);if(dashPos===-1){dashPos=1}linkURL=secureLink(strLink.slice(dashPos+1),unescapeLinks);popupWin=win.open(linkURL,strLink.substr(2,commaPos-2),strLink.substr(commaPos+1,dashPos-commaPos-1));popupWin&&popupWin.focus();break;case"newchart":case"newmap":if(strLink.charAt(firstBreak)===":"){dashPos=strLink.indexOf("-",firstBreak+1);alias=strLink.substring(firstBreak+1,dashPos);firstBreak=dashPos}dashPos=strLink.indexOf("-",firstBreak+1);linkType=strLink.substring(firstBreak+1,dashPos).toLowerCase();switch(linkType){case"xmlurl":case"jsonurl":linkedData=strLink.substring(dashPos+1,strLink.length);break;case"xml":case"json":linkedDataId=strLink.substring(dashPos+1,strLink.length);linkedData=getLinkedChartDataJSON(linkedDataId,dataObj);linkType="json";break}chart.fireChartInstanceEvent("linkedChartInvoked",{alias:alias,linkType:linkType.toUpperCase(),data:linkedData,clickedEntity:clickedEntity,clickedEntityBox:clickedEntityBox});break;default:win.location.href=secureLink(strLink,unescapeLinks);break}chart.fireChartInstanceEvent("linkClicked",{linkProvided:originalLink,linkInvoked:strLink,linkAction:delimiter&&delimiter.toLowerCase()})}}}exports.deg2Rad=deg2Rad;exports.polarToCartesian=polarToCartesian;exports.getQuadrant=getQuadrant;exports.computePlotBounds=computePlotBounds;exports.computeSliceBounds=computeSliceBounds;exports.compute3DSliceBounds=compute3DSliceBounds;exports.cleanMacro=cleanMacro;exports.pluck=pluck;exports.arrangeItems=arrangeItems;exports.axisMacroParser=axisMacroParser;exports.xyCalculator=xyCalculator;exports.UNDEF=UNDEF;exports.UNDERSCORE=UNDERSCORE;exports.defaultAnnotationClick=defaultAnnotationClick;exports.defaultAnnotationRollOut=defaultAnnotationRollOut;exports.defaultAnnotationRollOver=defaultAnnotationRollOver;exports.DEFAULT_MACRO_PREFIX=DEFAULT_MACRO_PREFIX;exports.DEFAULT_MACRO_SEPARATOR=DEFAULT_MACRO_SEPARATOR;exports.getLinkAction=getLinkAction},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var elementAnimationObject=function elementAnimationObject(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"initial"}]};exports["default"]={"initial.extension.annotation":function initialExtensionAnnotation(){return{"polypath.appearing":elementAnimationObject,"text.appearing":elementAnimationObject,"image.appearing":elementAnimationObject,"ellipse.appearing":elementAnimationObject,"ringpath.appearing":elementAnimationObject,"path.appearing":elementAnimationObject,"rect.appearing":elementAnimationObject,"*":null}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(R){var UNDEF,math=Math,mathCos=math.cos,mathSin=math.sin,mathAbs=math.abs,mathPow=math.pow,mathPI=math.PI,twoPI=2*mathPI,M="M",L="L",A="A",Z="Z",EPSILON=mathPow(2,-24),minRenderingDistance=.01;R.define&&R.define([{name:"ringpath",ringpath:function ringpath(){return this.path(UNDEF,R._lastArgIfGroup(arguments))},ca:function ca(x,y,rx1,rx2,start,end,ry1,ry2){var o=this,delta=end%twoPI-start%twoPI,deltaOrig=end-start,shiftAngle=.0001745329,cosStart,sinStart,cosEnd,sinEnd,longshort,path,x1,x2,x3,x4,y1,y2,y3,y4;isNaN(ry1)&&(ry1=rx1);isNaN(ry2)&&(ry2=rx2);o._.ringangle=(start+end)*.5;if(mathAbs(deltaOrig)<EPSILON){cosStart=mathCos(start);sinStart=mathSin(start);path=[M,x+rx1*cosStart,y+ry1*sinStart,L,x+rx2*cosStart,y+ry2*sinStart,Z]}else if(mathAbs(deltaOrig)>EPSILON&&+(mathAbs(deltaOrig)%twoPI<EPSILON||twoPI-mathAbs(deltaOrig)%twoPI<EPSILON)){path=[M,x-rx1,y,A,rx1,ry1,0,0,0,x+rx1,y,A,rx1,ry1,0,0,0,x-rx1,y];if(rx2!==0||ry2!==0){path=path.concat([M,x-rx2,y,A,rx2,ry2,0,0,1,x+rx2,y,A,rx2,ry2,0,0,1,x-rx2,y])}path.push(Z)}else{cosStart=mathCos(start);sinStart=mathSin(start);cosEnd=mathCos(end);sinEnd=mathSin(end);delta=delta%twoPI;if(delta<0){delta+=twoPI}longshort=delta<mathPI?0:1;x1=x+rx1*cosStart;y1=y+ry1*sinStart;x2=x+rx1*cosEnd;y2=y+ry1*sinEnd;x3=x+rx2*cosEnd;y3=y+ry2*sinEnd;if(mathAbs(x1-x2)<minRenderingDistance&&mathAbs(y1-y2)<minRenderingDistance){x1=x+rx1*mathCos(start+shiftAngle);y1=y+ry1*mathSin(start+shiftAngle)}path=[M,x1,y1,A,rx1,ry1,0,longshort,1,x2,y2,L,x3,y3];if(rx2!==0||ry2!==0){x4=x+rx2*cosStart;y4=y+ry2*sinStart;if(mathAbs(x3-x4)<minRenderingDistance&&mathAbs(y3-y4)<minRenderingDistance){x4=x+rx2*mathCos(start+shiftAngle);y4=y+ry2*mathSin(start+shiftAngle)}path.push(A,rx2,ry2,0,longshort,0,x4,y4)}path.push(Z)}return{path:path}}}])}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(R){var UNDEF,M="M",A="A";R.define&&R.define([{name:"arcpath",arcpath:function arcpath(){return this.path(UNDEF,R._lastArgIfGroup(arguments))},ca:function ca(x,y,r1,r2){var d=r2,path,dr=d-90,radians=Math.PI*(dr/180),endx=x+r1*Math.cos(radians),endy=y+r1*Math.sin(radians),largeArc=d>180?1:0;path=[M,x,y-r1,A,r1,r1,0,largeArc,1,endx,endy];return{path:path}}}])}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _regressionLineExtension=__webpack_require__(214);var _regressionLineExtension2=_interopRequireDefault(_regressionLineExtension);var _lib=__webpack_require__(118);var _utilityFunctions=__webpack_require__(217);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={extension:function extension(FusionCharts){FusionCharts.addEventListener("instantiated",function(event){var component=event.sender;if((0,_utilityFunctions.isValidDataset)(component)){component.registerFactory("regression",function(datasetComponent){var chart=datasetComponent.getFromEnv("chart"),chartData=chart.getFromEnv("dataSource").chart,dataset=datasetComponent.config.JSONData;(0,_lib.componentFactory)(datasetComponent,_regressionLineExtension2["default"],"regression",Number((0,_utilityFunctions.hasRegressionLine)(chartData,dataset)),[datasetComponent])})}})},name:"Regression",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _linearRegression=__webpack_require__(215);var _linearRegression2=_interopRequireDefault(_linearRegression);var _polynomialRegression=__webpack_require__(216);var _polynomialRegression2=_interopRequireDefault(_polynomialRegression);var _lib=__webpack_require__(118);var _utilityFunctions=__webpack_require__(217);var _dependencyManager=__webpack_require__(125);var _regressionLineAnimation=__webpack_require__(218);var _regressionLineAnimation2=_interopRequireDefault(_regressionLineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}(0,_dependencyManager.addDep)({name:"regressionLineAnimation",type:"animationRule",extension:_regressionLineAnimation2["default"]});var RegressionLineExtension=function(_FCExtensionInterface){_inherits(RegressionLineExtension,_FCExtensionInterface);function RegressionLineExtension(){_classCallCheck(this,RegressionLineExtension);var _this=_possibleConstructorReturn(this,_FCExtensionInterface.call(this));_this._config={regressionPoints:[]};_this.regressionLine=[];return _this}RegressionLineExtension.prototype.getType=function getType(){return"extension"};RegressionLineExtension.prototype.getName=function getName(){return"regression"};RegressionLineExtension.prototype.configureAttributes=function configureAttributes(datasetComponent){var regressionLineExtension=this,chartData=regressionLineExtension.getFromEnv("dataSource").chart,datasetConfig=datasetComponent.config,JSONData=datasetConfig.JSONData,config=regressionLineExtension._config;config.regressionPoints.splice(0,config.regressionPoints.length);config.showYOnX=(0,_lib.pluckNumber)(JSONData.showyonx,chartData.showyonx,1);config.regressionLineColor=(0,_lib.toRaphaelColor)((0,_lib.pluck)(JSONData.regressionlinecolor,chartData.regressionlinecolor,datasetConfig.anchorbordercolor,datasetConfig.lineColor,datasetConfig.anchorBgColor,"fff000"));config.polynomialRegressionLineColor=(0,_lib.toRaphaelColor)((0,_lib.pluck)(JSONData.polynomialregressionlinecolor,chartData.polynomialregressionlinecolor,config.regressionLineColor));config.regressionLineThickness=(0,_lib.pluckNumber)(JSONData.regressionlinethickness,chartData.regressionlinethickness,JSONData.anchorborderthickness,1);config.polynomialRegressionLineThickness=(0,_lib.pluckNumber)(JSONData.polynomialregressionlinethickness,chartData.polynomialregressionlinethickness,config.regressionLineThickness);config.regressionLineAlpha=(0,_lib.pluckNumber)(JSONData.regressionlinealpha,chartData.regressionlinealpha,100);config.polynomialRegressionLineAlpha=(0,_lib.pluckNumber)(JSONData.polynomialregressionlinealpha,chartData.polynomialregressionlinealpha,config.regressionLineAlpha);if((0,_utilityFunctions.createLinear)(chartData,JSONData)){config.regressionPoints.push((0,_linearRegression2["default"])(JSONData.data,config.showYOnX))}if((0,_utilityFunctions.createPolynomial)(chartData,JSONData)){config.regressionPoints.push((0,_polynomialRegression2["default"])(JSONData.data,config.showYOnX))}};RegressionLineExtension.prototype.draw=function draw(){var regression=this,regressionConfig=regression._config,xAxis=regression.getFromEnv("xAxis"),yAxis=regression.getFromEnv("yAxis"),chart=regression.getFromEnv("chart"),canvas=chart.getChildren("canvas")[0],canvasConfig=canvas.config,parent=regression.getLinkedParent(),parentVisible=parent.getState("visible"),container=regression.getContainer("regressionlinecontainer"),abovePlotGroup=chart.getChildContainer("abovePlotGroup"),animManager=regression.getFromEnv("animationManager"),allPoints=regressionConfig.regressionPoints,oldPoints=[],newPoints=[],n=void 0,regressionLineLinearDummy=regression.getGraphicalElement("regressionLineLinear"),regressionLinePolynomialDummy=regression.getGraphicalElement("regressionLinePolynomial"),regressionLineLinear=void 0,regressionLinePolynomial=void 0,isLinear=void 0,attrObjLinear=void 0,attrObjPoly=void 0,regressionState=void 0,hideFn=function hideFn(){this.hide()};!parentVisible&&(regressionState="disappearing");container=regression.addContainer("regressionlinecontainer",animManager.setAnimation({el:container||"group",attr:{name:"regressionlinecontainer","clip-rect":[canvasConfig.canvasLeft,canvasConfig.canvasTop,canvasConfig.canvasWidth,canvasConfig.canvasHeight]},container:abovePlotGroup,component:regression,label:"group"}));for(var j=0;j<allPoints.length;j++){var pathString="";oldPoints=allPoints[j][0];newPoints=allPoints[j][1];n=newPoints.length;if(oldPoints.length===0&&newPoints.length===0){isLinear=true;pathString+="M0,0"}else if(oldPoints.length!==0&&newPoints.length===0){isLinear=false;pathString+="M0,0"}else if(oldPoints.length===0){isLinear=true;pathString+="M"+xAxis.getPixel(newPoints[0].x)+","+yAxis.getPixel(newPoints[0].y);pathString+="L"+xAxis.getPixel(newPoints[n-1].x)+","+yAxis.getPixel(newPoints[n-1].y)}else{isLinear=false;pathString+="M"+xAxis.getPixel(newPoints[0].x)+","+yAxis.getPixel(newPoints[0].y);pathString+=" R"+xAxis.getPixel(newPoints[1].x)+","+yAxis.getPixel(newPoints[1].y);for(var i=2;i<n;i++){pathString+=" "+xAxis.getPixel(newPoints[i].x)+","+yAxis.getPixel(newPoints[i].y)}}if(!isLinear){attrObjPoly={opacity:Number((0,_lib.pluck)(regressionConfig.polynomialRegressionLineAlpha,regressionConfig.regressionLineAlpha))/100,stroke:(0,_lib.pluck)(regressionConfig.polynomialRegressionLineColor,regressionConfig.regressionLineColor),"stroke-width":(0,_lib.pluck)(regressionConfig.polynomialRegressionLineThickness,regressionConfig.regressionLineThickness),path:pathString}}else{attrObjLinear={opacity:Number(regressionConfig.regressionLineAlpha)/100,stroke:regressionConfig.regressionLineColor,"stroke-width":regressionConfig.regressionLineThickness,path:pathString}}}if(regressionState!=="disappearing"){regressionLineLinearDummy&&regressionLineLinearDummy.show();regressionLinePolynomialDummy&&regressionLinePolynomialDummy.show()}regressionLineLinear=animManager.setAnimation({el:regressionLineLinearDummy||"path",container:container,component:regression,doNotRemove:true,attr:!(regressionState==="disappearing")&&attrObjLinear,callback:regressionState==="disappearing"&&hideFn,label:"path"});if(!regressionLineLinearDummy){regression.addGraphicalElement("regressionLineLinear",regressionLineLinear)}regressionLinePolynomial=animManager.setAnimation({el:regressionLinePolynomialDummy||"path",container:container,component:regression,doNotRemove:true,attr:!(regressionState==="disappearing")&&attrObjPoly,callback:regressionState==="disappearing"&&hideFn,label:"path"});if(!regressionLinePolynomialDummy){regression.addGraphicalElement("regressionLinePolynomial",regressionLinePolynomial)}};return RegressionLineExtension}(_componentInterface2["default"]);exports["default"]=RegressionLineExtension},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=getLinearRegressionPoints;function linearYOnX(data){data.sort(function(a,b){return parseFloat(a.x)-parseFloat(b.x)});var x=[],y=[],meanX=0,meanY=0,quo=0,denom=0,n=data.length,m=void 0,c=void 0,output=[],px=void 0,py=void 0;for(var i=0;i<data.length;i++){px=Number(data[i].x);py=Number(data[i].y);if(isNaN(px)||isNaN(py)){continue}x.push(px);y.push(py)}n=x.length;for(var _i=0;_i<n;_i++){meanX+=x[_i];meanY+=y[_i]}meanX/=n;meanY/=n;for(var _i2=0;_i2<n;_i2++){quo+=(x[_i2]-meanX)*(y[_i2]-meanY);denom+=(x[_i2]-meanX)*(x[_i2]-meanX)}if(denom===0){return[[],[]]}m=quo/denom;c=meanY-m*meanX;output.push({x:x[0],y:m*x[0]+c});output.push({x:x[n-1],y:m*x[n-1]+c});return[[],output]}function linearXOnY(data){data.sort(function(a,b){return parseFloat(a.y)-parseFloat(b.y)});var x=[],y=[],meanX=0,meanY=0,quo=0,denom=0,n=data.length,m=void 0,c=void 0,output=[],px=void 0,py=void 0;for(var i=0;i<data.length;i++){px=Number(data[i].x);py=Number(data[i].y);if(isNaN(px)||isNaN(py)){continue}x.push(px);y.push(py)}n=x.length;for(var _i3=0;_i3<n;_i3++){meanX+=x[_i3];meanY+=y[_i3]}meanX/=n;meanY/=n;for(var _i4=0;_i4<n;_i4++){quo+=(x[_i4]-meanX)*(y[_i4]-meanY);denom+=(y[_i4]-meanY)*(y[_i4]-meanY)}if(denom===0){return[[],[]]}m=quo/denom;c=meanX-m*meanY;output=[];output.push({x:m*y[0]+c,y:y[0]});output.push({x:m*y[n-1]+c,y:y[n-1]});return[[],output]}function getLinearRegressionPoints(data,showYOnX){if(Number(showYOnX)){return linearYOnX(data)}else{return linearXOnY(data)}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=getPolynomialRegressionPoints;function quadraticYOnX(data){data.sort(function(a,b){return parseFloat(a.x)-parseFloat(b.x)});var x=[],y=[],m=0,z=0,n=data.length,q=0,w=0,r=0,e=0,v=0,t=void 0,f=void 0,u=void 0,l=void 0,o=void 0,a=void 0,b=void 0,c=void 0,px=void 0,py=void 0,output=[];for(var i=0;i<data.length;i++){px=Number(data[i].x);py=Number(data[i].y);if(isNaN(px)||isNaN(py)){continue}x.push(px);y.push(py)}n=x.length;for(var _i=0;_i<n;_i++){m+=y[_i];z+=x[_i]*y[_i];v+=x[_i]*x[_i]*y[_i];q+=x[_i];w+=x[_i]*x[_i];e+=x[_i]*x[_i]*x[_i];r+=x[_i]*x[_i]*x[_i]*x[_i]}t=w-q*q/n;f=z-q*m/n;u=e-w*q/n;l=v-w*m/n;o=r-w*w/n;if(t*o-u*u===0||n===0){return[data,[]]}a=(l*t-f*u)/(t*o-u*u);b=(f*o-l*u)/(t*o-u*u);c=m/n-b*(q/n)-a*(w/n);for(var _i2=0;_i2<n;_i2++){output.push({x:x[_i2],y:a*x[_i2]*x[_i2]+b*x[_i2]+c})}return[data,output]}function quadraticXOnY(data){data.sort(function(a,b){return parseFloat(a.x)-parseFloat(b.x)});var x=[],y=[],m=0,z=0,n=data.length,q=0,w=0,r=0,e=0,v=0,t=void 0,f=void 0,u=void 0,l=void 0,o=void 0,a=void 0,b=void 0,c=void 0,px=void 0,py=void 0,output=[];for(var i=0;i<data.length;i++){px=Number(data[i].x);py=Number(data[i].y);if(isNaN(px)||isNaN(py)){continue}x.push(px);y.push(py)}n=x.length;for(var _i3=0;_i3<n;_i3++){m+=x[_i3];z+=y[_i3]*x[_i3];v+=y[_i3]*y[_i3]*x[_i3];q+=y[_i3];w+=y[_i3]*y[_i3];e+=y[_i3]*y[_i3]*y[_i3];r+=y[_i3]*y[_i3]*y[_i3]*y[_i3]}t=w-q*q/n;f=z-q*m/n;u=e-w*q/n;l=v-w*m/n;o=r-w*w/n;if(t*o-u*u===0||n===0){return[data,[]]}a=(l*t-f*u)/(t*o-u*u);b=(f*o-l*u)/(t*o-u*u);c=m/n-b*(q/n)-a*(w/n);for(var _i4=0;_i4<n;_i4++){output.push({x:a*y[_i4]*y[_i4]+b*y[_i4]+c,y:y[_i4]})}return[data,output]}function getPolynomialRegressionPoints(data,showYOnX){if(Number(showYOnX)){return quadraticYOnX(data)}else{return quadraticXOnY(data)}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var validDataset=["scatter","bubble","errorScatter","selectScatter"];var isDataset=function isDataset(component){return component.getType()==="dataset"},isValidDataset=function isValidDataset(component){return isDataset(component)&&validDataset.indexOf(component.getName())>=0};function createLinear(chartData,dataset){var chartLine=Number(chartData.showregressionline)||0,datasetLine=isNaN(dataset.showregressionline)&&chartLine||Number(dataset.showregressionline);return datasetLine}function createPolynomial(chartData,dataset){var chartPolyLine=Number(chartData.showpolynomialregressionline)||0,datasetPolyLine=isNaN(dataset.showpolynomialregressionline)&&chartPolyLine||Number(dataset.showpolynomialregressionline);return datasetPolyLine}function isInArray(value,array){value=value.toLowerCase();return array.indexOf(value)>-1}function hasRegressionLine(chartData,dataset){return dataset.showregressionline||chartData.showregressionline||dataset.showpolynomialregressionline||chartData.showpolynomialregressionline}exports.createPolynomial=createPolynomial;exports.createLinear=createLinear;exports.isInArray=isInArray;exports.hasRegressionLine=hasRegressionLine;exports.isValidDataset=isValidDataset},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.extension.regression":function initialExtensionRegression(){var _this=this;return{"path.appearing":null,"path.updating":null,"path.disappearing":null,"group.appearing":function groupAppearing(){var component=_this,chart=component.getFromEnv("chart"),canvas=chart.getChildren("canvas")[0],len,i=0,leftPos=[],rightPos=[];leftPos.push(canvas.config.canvasLeft);leftPos.push(canvas.config.canvasTop);leftPos.push(0);leftPos.push(canvas.config.canvasHeight);len=leftPos.length;while(i<len){rightPos.push(leftPos[i]);i++}rightPos[2]=canvas.config.canvasWidth;return[{initialAttr:function initialAttr(){return{"clip-rect":leftPos}},finalAttr:function finalAttr(){return{"clip-rect":rightPos}},effect:"linear",slot:"plot"}]},"*":null}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _inputManager=__webpack_require__(220);var _inputManager2=_interopRequireDefault(_inputManager);var _inputDragZoom=__webpack_require__(221);var _inputDragZoom2=_interopRequireDefault(_inputDragZoom);var _zoomReset=__webpack_require__(223);var _zoomReset2=_interopRequireDefault(_zoomReset);var _zoomOut=__webpack_require__(224);var _zoomOut2=_interopRequireDefault(_zoomOut);var _zoomIn=__webpack_require__(225);var _zoomIn2=_interopRequireDefault(_zoomIn);var _inputDbtapZoom=__webpack_require__(226);var _inputDbtapZoom2=_interopRequireDefault(_inputDbtapZoom);var _inputDragPin=__webpack_require__(227);var _inputDragPin2=_interopRequireDefault(_inputDragPin);var _inputPan=__webpack_require__(228);var _inputPan2=_interopRequireDefault(_inputPan);var _inputPinchZoom=__webpack_require__(229);var _inputPinchZoom2=_interopRequireDefault(_inputPinchZoom);var _inputSwipe=__webpack_require__(230);var _inputSwipe2=_interopRequireDefault(_inputSwipe);var _dependencyManager=__webpack_require__(125);var _redraphaelShapes=__webpack_require__(231);var _redraphaelShapes2=_interopRequireDefault(_redraphaelShapes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var inputMap={DragZoomIn:_inputDragZoom2["default"],ZoomResetButton:_zoomReset2["default"],ZoomOutButton:_zoomOut2["default"],DbTapZoom:_inputDbtapZoom2["default"],DragPin:_inputDragPin2["default"],ZoomInButton:_zoomIn2["default"],DragPan:_inputPan2["default"],PinchZoom:_inputPinchZoom2["default"],SwipeGesture:_inputSwipe2["default"]};function inputAdapter(FusionCharts){var applicableInputs,Raphael=(0,_dependencyManager.getDep)("redraphael","plugin");(0,_redraphaelShapes2["default"])(Raphael);FusionCharts.addEventListener("instantiated",function(event){var component=event.sender,inputManagerInstance=void 0;if(component.getType()==="chartAPI"){applicableInputs=component.constructor.includeInputOptions&&component.constructor.includeInputOptions()}if(component.getType()==="canvas"&&applicableInputs){component.registerFactory("inputManager",function(canvas){(0,_lib.componentFactory)(canvas,_inputManager2["default"],"inputManager",1,[{}]);inputManagerInstance=canvas.getChildren("inputManager")[0];for(var i=0,ii=applicableInputs&&applicableInputs.length;i<ii;i++){(0,_lib.componentFactory)(inputManagerInstance,inputMap[applicableInputs[i]],applicableInputs[i],1,[{}])}})}})}exports["default"]={extension:inputAdapter,name:"inputAdapter",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var _updateDependancyObj=function _updateDependancyObj(nativeInteraction,callback,component,store){var index,checkFn=function checkFn(eventInfo,i){if(eventInfo.callback===callback&&eventInfo.component===component){index=i;return true}},eventStore;if(eventStore=store[nativeInteraction]){eventStore.some(checkFn);index!==undefined&&eventStore.splice(index,1)}};var InputManager=function(_ComponentInterface){_inherits(InputManager,_ComponentInterface);function InputManager(){_classCallCheck(this,InputManager);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}InputManager.prototype.configure=function configure(){var manager=this,chart=manager.getFromEnv("chart"),getInputConfigurations=chart.getInputConfigurations;manager.addToEnv("canvas",manager.getLinkedParent());manager.addToEnv("inputOptions",getInputConfigurations&&getInputConfigurations.call(chart));manager.config={controlObj:{},dependancyObj:{}}};InputManager.prototype.addEventToChild=function addEventToChild(){var manager=this,children=manager.getChildren(),derivedEvents=["zoomin","zoomout","dragzoomenabled","dragzoomdisabled","pinenabled","pindisabled","panenabled","pandisabled"];var _loop=function _loop(child){derivedEvents.forEach(function(event){manager.addExtEventListener(event,manager.manageEvents.bind(manager),children[child][0])})};for(var child in children){_loop(child)}};InputManager.prototype.manageEvents=function manageEvents(event){var dependancyObj=this.config.dependancyObj,eventType=event.type;dependancyObj[eventType]&&dependancyObj[eventType].forEach(function(inputObj){if(inputObj.component!==event.sender){inputObj.callback.call(inputObj.component,event)}})};InputManager.prototype.fetchZoomableAxes=function fetchZoomableAxes(){var manager=this;if(!manager.config.axesObArr){var axesObArr=manager.config.axesObArr=[];manager.getLinkedParent().getAxes().forEach(function(axisOb){if(axisOb.config.zoomable||axisOb.config.pannable){axesObArr.push({axis:axisOb.axis,stack:[],isY:axisOb.isY})}});manager.addToEnv("axesObArr",axesObArr)}};InputManager.prototype.draw=function draw(){var manager=this;manager.fetchZoomableAxes();manager.addEventToChild()};InputManager.prototype.getControl=function getControl(inputParams,exclusive){var inputManager=this,controlObj=inputManager.config.controlObj,canvas=inputManager.getLinkedParent(),nativeInteraction,control;if(exclusive){return}inputParams.forEach(function(inputParam){nativeInteraction=inputParam.nativeInteraction;if(nativeInteraction instanceof Array){nativeInteraction.forEach(function(nativeInteraction){control=controlObj[nativeInteraction]||(controlObj[nativeInteraction]=[]);control.push({callback:inputParam.callback,component:inputParam.component});inputParam.component.addExtEventListener(nativeInteraction,inputParam.callback,canvas)})}else{control=controlObj[nativeInteraction]||(controlObj[nativeInteraction]=[]);control.push({callback:inputParam.callback,component:inputParam.component});inputParam.component.addExtEventListener(nativeInteraction,inputParam.callback,canvas)}})};InputManager.prototype.releaseControl=function releaseControl(inputParams){var inputManager=this,canvas=inputManager.getLinkedParent(),nativeInteraction;inputParams.forEach(function(inputParam){nativeInteraction=inputParam.nativeInteraction;if(nativeInteraction instanceof Array){nativeInteraction.forEach(function(nativeInteraction){inputParam.component.removeExtEventListener(nativeInteraction,inputParam.callback,canvas);_updateDependancyObj(nativeInteraction,inputParam.callback,inputParam.component,inputManager.config.controlObj)})}else{inputParam.component.removeExtEventListener(nativeInteraction,inputParam.callback,canvas);_updateDependancyObj(nativeInteraction,inputParam.callback,inputParam.component,inputManager.config.controlObj)}})};InputManager.prototype._updateControlObj=function _updateControlObj(nativeInteraction,callback){var controlObj=this.config.controlObj,index,checkFn=function checkFn(eventInfo,i){if(eventInfo.callback===callback){index=i;return true}},eventStore;if(eventStore=controlObj[nativeInteraction]){eventStore.some(checkFn);index!==undefined&&eventStore.splice(index,1)}};InputManager.prototype.registerDependancy=function registerDependancy(inputParams){var inputManager=this,dependancyObj=inputManager.config.dependancyObj,derivedInteraction,specificDependancy;inputParams.forEach(function(inputParam){derivedInteraction=inputParam.derivedInteraction;if(derivedInteraction instanceof Array){derivedInteraction.forEach(function(derivedInteraction){specificDependancy=dependancyObj[derivedInteraction]||(dependancyObj[derivedInteraction]=[]);specificDependancy.push({callback:inputParam.callback,component:inputParam.component,derivedInteraction:derivedInteraction})})}else{specificDependancy=dependancyObj[derivedInteraction]||(dependancyObj[derivedInteraction]=[]);specificDependancy.push(inputParam)}})};InputManager.prototype.removeDependancy=function removeDependancy(inputParams){var inputManager=this,derivedInteraction;inputParams.forEach(function(inputParam){derivedInteraction=inputParam.derivedInteraction;if(derivedInteraction instanceof Array){derivedInteraction.forEach(function(derivedInteraction){_updateDependancyObj(derivedInteraction,inputParam.callback,inputParam.component,inputManager.config.dependancyObj)})}else{_updateDependancyObj(derivedInteraction,inputParam.callback,inputParam.component,inputManager.config.dependancyObj)}})};InputManager.prototype.zoomOut=function zoomOut(){var zoomOutButton=this.getChildren("ZoomOutButton");zoomOutButton&&zoomOutButton[0].zoomOut()};InputManager.prototype.zoomTo=function zoomTo(startIndex,endIndex){var dragZoomIn=this.getChildren("DragZoomIn");dragZoomIn&&dragZoomIn[0].zoomTo(startIndex,endIndex)};InputManager.prototype.resetChart=function resetChart(){var zoomResetButton=this.getChildren("ZoomResetButton");zoomResetButton&&zoomResetButton[0].zoomOut()};InputManager.prototype.setZoomMode=function setZoomMode(zoomModeEnable){var dragPin=this.getChildren("DragPin");dragPin&&(zoomModeEnable?dragPin[0].disable():dragPin[0].enable())};return InputManager}(_componentInterface2["default"]);exports["default"]=InputManager},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _inputBase=__webpack_require__(222);var _inputBase2=_interopRequireDefault(_inputBase);var _schedular=__webpack_require__(129);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var min=Math.min,abs=Math.abs,UNDEF,getRectDimension=function getRectDimension(startPos,currentPos,canvasAttr,isXY){currentPos.x<canvasAttr.x&&(currentPos.x=canvasAttr.x);currentPos.y<canvasAttr.y&&(currentPos.y=canvasAttr.y);currentPos.x>canvasAttr.width+canvasAttr.x&&(currentPos.x=canvasAttr.width+canvasAttr.x);currentPos.y>canvasAttr.height+canvasAttr.y&&(currentPos.y=canvasAttr.height+canvasAttr.y);var width=currentPos.x-startPos.x,height=startPos.y-currentPos.y,x=min(startPos.x,currentPos.x),y=min(startPos.y,currentPos.y),cursor;if(width>0&&height>0){cursor=isXY?"ne-resize":"e-resize"}else if(width<0&&height>0){cursor=isXY?"nw-resize":"w-resize"}else if(width<0&&height<0){cursor=isXY?"sw-resize":"w-resize"}else if(width>0&&height<0){cursor=isXY?"se-resize":"e-resize"}width=abs(width);height=abs(height);return{x:x,y:y,width:width,height:height,cursor:cursor}},isSingleFinger=function isSingleFinger(event){return!event.touches||event.touches.length===1};var InputDragZoom=function(_Base){_inherits(InputDragZoom,_Base);function InputDragZoom(){_classCallCheck(this,InputDragZoom);var _this=_possibleConstructorReturn(this,_Base.call(this));var input=_this;input.controlArr=[{nativeInteraction:["dragstart"],callback:input.dragStart.bind(input),component:input},{nativeInteraction:["dragmove"],callback:input.onDrag.bind(input),component:input},{nativeInteraction:["dragend"],callback:input.onDragEnd.bind(input),component:input}];_lib.isFirefox&&input.controlArr.push({nativeInteraction:["mousedown"],callback:InputDragZoom.mousedown,component:input});return _this}InputDragZoom.prototype.getName=function getName(){return"dragZoomIn"};InputDragZoom.prototype.configure=function configure(){_Base.prototype.configure.call(this);var input=this,manager=input.getLinkedParent(),config=input.config;config.boxStyle=config.boxStyle||{"stroke-width":1,stroke:"red",fill:"#00FF00",opacity:.2,cursor:"ne-resize"};!input.config.skipGraphics&&input.addGraphicalElement("button",input.createButton({icon:"zoomModeIcon",handlers:{click:function click(){input._checkStackLen()&&input.toggle()},tooltext:input.config.tooltext}}));input.enable("pressed");manager.registerDependancy([{derivedInteraction:["pinenabled","pindisabled","panenabled","pandisabled"],callback:input.dependancyFn,component:input}])};InputDragZoom.mousedown=function mousedown(event){event&&event.preventDefault()};InputDragZoom.prototype.setControl=function setControl(){var input=this,manager=input.getLinkedParent(),button=input.getGraphicalElement("button"),controlArr=input.controlArr;manager.releaseControl(controlArr);if(input.isEnabled()){manager.getControl(controlArr);button&&button.enable()}else{button&&button.disable()}};InputDragZoom.prototype.getCoordinates=function getCoordinates(event){var chart=this.getFromEnv("chart"),coord=(0,_lib.getMouseCoordinate)(chart.getFromEnv("chart-container"),event,chart);return{x:coord.chartX,y:coord.chartY}};InputDragZoom.prototype.inCanvasLimit=function inCanvasLimit(attrs){var canvasAttr=this.getFromEnv("canvas").getGraphicalElement("canvasElement").attrs,minX=canvasAttr.x,minY=canvasAttr.y,xDiff=attrs.x-canvasAttr.x,yDiff=attrs.y-canvasAttr.y,maxWidth=canvasAttr.width-xDiff,maxHeight=canvasAttr.height-yDiff;return attrs.x>minX&&attrs.y>minY&&attrs.width<maxWidth&&attrs.height<maxHeight};InputDragZoom.prototype.drawBox=function drawBox(){var input=this,config=input.config,box=input.getGraphicalElement("box"),paper=input.getFromEnv("paper"),canvasAttr=input.getFromEnv("canvas").getGraphicalElement("canvasElement").attrs,dimension;if(!box){box=input.addGraphicalElement("box",paper.rect());box.attr(config.boxStyle)}dimension=getRectDimension(input.dragBoxConfig.startPos,input.dragBoxConfig.currentPos,canvasAttr,input.getFromEnv("chart").isXY);if(!config.scaleX){dimension.x=canvasAttr.x;dimension.width=canvasAttr.width}if(!config.scaleY){dimension.y=canvasAttr.y;dimension.height=canvasAttr.height}box.attr(dimension);box.show()};InputDragZoom.prototype.onDragEnd=function onDragEnd(event){var input=this,config=input.config,canvasAttr=input.getFromEnv("canvas").getGraphicalElement("canvasElement").attrs,box=input.getGraphicalElement("box")||{},boxAttr=box.attrs,startPosX,endPosX,startPosY,endPosY;if(!boxAttr||!config.dragmove){return}config.dragmove=false;box.hide();config.startPosX=startPosX=(boxAttr.x-canvasAttr.x)/canvasAttr.width;config.endPosX=endPosX=(boxAttr.x+boxAttr.width-canvasAttr.x)/canvasAttr.width;config.startPosY=startPosY=(boxAttr.y-canvasAttr.y)/canvasAttr.height;config.endPosY=endPosY=(boxAttr.y+boxAttr.height-canvasAttr.y)/canvasAttr.height;if(endPosX-startPosX<.01||endPosY-startPosY<.01){return}input.zoomTo(UNDEF,UNDEF,event)};InputDragZoom.prototype.zoomTo=function zoomTo(startIndex,endIndex,event){var input=this,axesObArr=input.getFromEnv("axesObArr"),config=input.config,zoomed=false,eventArgs={},start,end,level,startY,startX,endY,endX,axisZoomed,catZoomLimit=config.catZoomLimit-1;axesObArr.forEach(function(axisOb){var axis=axisOb.axis,visibleRange=axis.getVisibleConfig(),startPos=axisOb.isY?visibleRange.maxValue:visibleRange.minValue,diff=visibleRange.maxValue-visibleRange.minValue;if(axisOb.isY){startY=start=startIndex===UNDEF?startPos-diff*config.endPosY:startIndex;endY=end=endIndex===UNDEF?startPos-config.startPosY*diff:endIndex}else{startX=start=startIndex===UNDEF?startPos+config.startPosX*diff:startIndex;endX=end=endIndex===UNDEF?startPos+diff*config.endPosX:endIndex;eventArgs=input.constructor._getZoomInfo(startX,endX,axis)}if(catZoomLimit&&!axis.config.isVertical&&Math.round(end-start)<catZoomLimit){start=Math.round(start);end=start+catZoomLimit}if(diff>1||end-start>1){config.dragendFn&&typeof config.dragendFn==="function"&&config.dragendFn(event,start,end);axisZoomed=axis.setVisibleConfig(start,end);zoomed=zoomed||axisZoomed;axisOb.stack.push(visibleRange);level=axisOb.stack.length+1}});if(zoomed){input._raiseZoomEvents("zoomin","zoomedin",Object.assign(eventArgs,{level:level,startX:startX,endX:endX,startY:startY,endY:endY},{originalEvent:event&&event.originalEvent}))}};InputDragZoom.prototype.onDrag=function onDrag(event){var input=this,config=input.config,currentXY=input.getCoordinates(event.originalEvent);if(!isSingleFinger(event.originalEvent)){return}config.dragmove=true;this.getFromEnv("animationManager").setAnimationState("drag");config.dragmoveFn&&typeof config.dragmoveFn==="function"&&config.dragmoveFn(event);input.dragBoxConfig.currentPos=currentXY;input.drawBox()};InputDragZoom.prototype.dragStart=function dragStart(event){var input=this,config=input.config,currentXY=input.getCoordinates(event.originalEvent);if(!isSingleFinger(event.originalEvent)){return}config.dragstartFn&&typeof config.dragstartFn==="function"&&config.dragstartFn(event);input.dragBoxConfig={startPos:currentXY,currentPos:currentXY}};InputDragZoom.prototype.enable=function enable(){var input=this;if(input.config.enabled!==true){input.config.enabled=true;input.config.state="pressed";input.fireEvent("dragzoomenabled");input.addJob("settingControl",function(){input.setControl()},_schedular.priorityList.draw)}};InputDragZoom.prototype.disable=function disable(){var input=this;if(input.config.enabled!==false){input.config.enabled=false;input.config.state="activated";input.fireEvent("dragzoomdisabled");input.addJob("settingControl",function(){input.setControl()},_schedular.priorityList.draw)}};InputDragZoom.prototype.dependancyFn=function dependancyFn(eventOb){if(eventOb.type==="pinenabled"||eventOb.type==="panenabled"){this.disable()}else if(eventOb.type==="pindisabled"||eventOb.type==="pandisabled"){this.enable()}};return InputDragZoom}(_inputBase2["default"]);exports["default"]=InputDragZoom},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _schedular=__webpack_require__(129);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF,COLOR_WHITE="#ffffff",COLOR_E3E3E3="#e3e3e3",STR_DEF="default",COLOR_EFEFEF="#efefef",COLOR_C2C2C2="#c2c2c2",preConfig={activated:{config:{hover:{fill:COLOR_WHITE,"fill-symbol":COLOR_WHITE,"stroke-width":1,stroke:"#aaaaaa",cursor:"pointer"},normal:{fill:COLOR_WHITE,"fill-symbol":COLOR_WHITE,stroke:COLOR_C2C2C2,"stroke-width":1,cursor:"pointer"},disable:{fill:COLOR_WHITE,"fill-symbol":COLOR_WHITE,"stroke-width":1,stroke:COLOR_E3E3E3,"stroke-opacity":1,cursor:"pointer"},pressed:{fill:COLOR_EFEFEF,"fill-symbol":COLOR_EFEFEF,"stroke-width":1,stroke:COLOR_C2C2C2,cursor:"pointer"}},"button-disabled":false,fill:[COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,true],stroke:COLOR_C2C2C2,"stroke-opacity":1},disabled:{config:{hover:{fill:COLOR_WHITE,"fill-symbol":COLOR_WHITE,"stroke-width":1,stroke:COLOR_E3E3E3,cursor:STR_DEF},normal:{fill:COLOR_WHITE,"fill-symbol":COLOR_WHITE,stroke:COLOR_E3E3E3,"stroke-width":1,cursor:STR_DEF},disable:{fill:COLOR_WHITE,"fill-symbol":COLOR_WHITE,"stroke-width":1,stroke:COLOR_E3E3E3,"stroke-opacity":1,cursor:STR_DEF},pressed:{fill:COLOR_WHITE,"fill-symbol":COLOR_WHITE,"stroke-width":1,stroke:COLOR_E3E3E3,cursor:STR_DEF}},fill:[COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,true],"button-disabled":false,stroke:COLOR_E3E3E3,"stroke-opacity":1},pressed:{config:{hover:{fill:"#dcdcdc","fill-symbol":COLOR_WHITE,"stroke-width":1,stroke:"#b7b7b7",cursor:"pointer"},normal:{fill:"#dcdcdc","fill-symbol":COLOR_WHITE,"stroke-width":1,stroke:"#b7b7b7",cursor:"pointer"},pressed:{fill:"#dcdcdc","fill-symbol":COLOR_WHITE,"stroke-width":1,stroke:"#b7b7b7",cursor:"pointer"}},fill:"#dcdcdc","fill-symbol":COLOR_WHITE,"stroke-width":1,stroke:"#b7b7b7",cursor:"pointer"}};var InputBase=function(_ComponentInterface){_inherits(InputBase,_ComponentInterface);function InputBase(){_classCallCheck(this,InputBase);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}InputBase.prototype.configure=function configure(){var input=this,config=input.config={},allInputOptions=input.getFromEnv("inputOptions")||{};Object.assign(config,allInputOptions[input.getName()])};InputBase.prototype._checkStackLen=function _checkStackLen(){var axesObArr=this.getFromEnv("axesObArr"),stackLength=0;axesObArr&&axesObArr.forEach(function(axisOb){stackLength+=axisOb.stack.length});return stackLength};InputBase._getZoomInfo=function _getZoomInfo(startX,endX,axis){var returnObj={startIndex:Math.ceil(startX),endIndex:Math.floor(endX)};if(axis.getLabel){returnObj.startLabel=axis.getLabel(returnObj.startIndex).label;returnObj.endLabel=axis.getLabel(returnObj.endIndex).label}return returnObj};InputBase.prototype._raiseZoomEvents=function _raiseZoomEvents(internalEvent,externalEvent,eventArgs,event){var input=this,chart=input.getFromEnv("chart");internalEvent&&input.fireEvent(internalEvent);externalEvent&&chart.fireChartInstanceEvent(externalEvent,eventArgs,event);externalEvent&&chart.fireChartInstanceEvent("zoomed",eventArgs,event)};InputBase.prototype.getType=function getType(){return"canvasInput"};InputBase.prototype.enable=function enable(event){var input=this;if(input.config.enabled!==true){input.config.enabled=true;event&&input.fireEvent(event);input.addJob("settingControl",function(){input.setControl()},_schedular.priorityList.draw)}};InputBase.prototype.disable=function disable(event){var input=this;if(input.config.enabled!==false){input.config.enabled=false;event&&input.fireEvent(event);input.addJob("settingControl",function(){input.setControl()},_schedular.priorityList.draw)}};InputBase.prototype.toggle=function toggle(event){this.isEnabled()?this.disable(event):this.enable(event)};InputBase.prototype.isEnabled=function isEnabled(){return this.config.enabled};InputBase.prototype.setControl=function setControl(){var button=this.getGraphicalElement("button");if(button){if(this.isEnabled()){button.enable()}else{button.disable()}}};InputBase.prototype.createButton=function createButton(options){var input=this,canvas=input.getLinkedParent(),buttonConfig,config=input.config,toolBox,toolBoxAPI,group,_Symbol,button,chart=canvas.getFromEnv("chart");toolBox=chart.getFromEnv("toolbox");toolBoxAPI=chart.getFromEnv("toolBoxAPI");_Symbol=toolBoxAPI.Symbol;group=(chart.getChildren("chartMenuBar")||chart.getChildren("actionBar")).config.componentGroups[0];button=new _Symbol;button.configure(options.icon,UNDEF,toolBox.idCount++,toolBox.pId,chart.getFromEnv("chartInstance").id);button.addToEnv("toolTipController",input.getFromEnv("toolTipController"));button.attachEventHandlers(options.handlers);group.addSymbol(button,true);buttonConfig=button.config;setTimeout(function(){buttonConfig.node&&buttonConfig.node.attr(preConfig.activated)});button.isEnabled=true;button.enable=function(){button.isEnabled=true;setTimeout(function(){buttonConfig.node&&buttonConfig.node.attr(preConfig[config.state]||preConfig.activated);config.state=UNDEF})};button.disable=function(){button.isEnabled=false;setTimeout(function(){buttonConfig.node&&buttonConfig.node.attr(preConfig[config.state]||preConfig.disabled);config.state=UNDEF})};return button};return InputBase}(_componentInterface2["default"]);exports["default"]=InputBase},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _inputBase=__webpack_require__(222);var _inputBase2=_interopRequireDefault(_inputBase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var ZoomReset=function(_Base){_inherits(ZoomReset,_Base);function ZoomReset(){_classCallCheck(this,ZoomReset);return _possibleConstructorReturn(this,_Base.apply(this,arguments))}ZoomReset.prototype.getName=function getName(){return"zoomResetButton"};ZoomReset.prototype.configure=function configure(){_Base.prototype.configure.call(this);var input=this,manager=input.getLinkedParent();input.addGraphics();input.disable();manager.registerDependancy([{derivedInteraction:["zoomin","zoomout"],callback:input.dependancyFn,component:input}])};ZoomReset.prototype.addGraphics=function addGraphics(){var input=this;!input.config.skipGraphics&&input.addGraphicalElement("button",input.createButton({icon:"resetIcon",handlers:{click:function click(){input.isEnabled()&&input.zoomOut()},tooltext:input.config.tooltext}}));input.disable()};ZoomReset.prototype.zoomOut=function zoomOut(){var input=this,chart=input.getFromEnv("chart"),axesObArr=input.getFromEnv("axesObArr"),hookFn=input.config.hookFn,startX,endX,startY,endY,level=1,eventArgs={},visiblerange;axesObArr.forEach(function(axisOb){visiblerange=axisOb.stack[0];if(!visiblerange){return}chart.getFromEnv("animationManager").setAnimationState("zoomOut");hookFn&&hookFn(visiblerange.minValue,visiblerange.maxValue);if(axisOb.isY){startY=visiblerange.minValue;endY=visiblerange.maxValue}else{startX=visiblerange.minValue;endX=visiblerange.maxValue;eventArgs=input.constructor._getZoomInfo(startX,endX,axisOb.axis)}axisOb.axis.setVisibleConfig(visiblerange.minValue,visiblerange.maxValue);axisOb.stack.length=0});input._raiseZoomEvents("zoomout","zoomreset",Object.assign(eventArgs,{level:level,startX:startX,endX:endX,startY:startY,endY:endY}));input.disable()};ZoomReset.prototype.dependancyFn=function dependancyFn(eventOb){if(eventOb.type==="zoomin"){this.enable()}else if(eventOb.type==="zoomout"){if(!this._checkStackLen()){this.disable()}}};return ZoomReset}(_inputBase2["default"]);exports["default"]=ZoomReset},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _zoomReset2=__webpack_require__(223);var _zoomReset3=_interopRequireDefault(_zoomReset2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var ZoomOut=function(_zoomReset){_inherits(ZoomOut,_zoomReset);function ZoomOut(){_classCallCheck(this,ZoomOut);return _possibleConstructorReturn(this,_zoomReset.apply(this,arguments))}ZoomOut.prototype.getName=function getName(){return"zoomOutButton"};ZoomOut.prototype.addGraphics=function addGraphics(){var input=this;!input.config.skipGraphics&&input.addGraphicalElement("button",input.createButton({icon:"zoomOutIcon",handlers:{click:function click(){input.isEnabled()&&input.zoomOut()},tooltext:input.config.tooltext}}))};ZoomOut.prototype.zoomOut=function zoomOut(){var input=this,visiblerange,hookFn=input.config.hookFn,eventArgs={},level,startX,endX,startY,endY,stackLen=0;input.getFromEnv("axesObArr").forEach(function(axisOb){visiblerange=axisOb.stack.pop();level=axisOb.stack.length;stackLen+=level;if(!visiblerange){return}if(axisOb.isY){startY=visiblerange.minValue;endY=visiblerange.maxValue}else{startX=visiblerange.minValue;endX=visiblerange.maxValue;eventArgs=input.constructor._getZoomInfo(startX,endX,axisOb.axis)}hookFn&&hookFn(visiblerange.minValue,visiblerange.maxValue);axisOb.axis.setVisibleConfig(visiblerange.minValue,visiblerange.maxValue)});input._raiseZoomEvents("zoomout","zoomedout",Object.assign(eventArgs,{level:level,startX:startX,endX:endX,startY:startY,endY:endY}));if(!stackLen){this.disable()}};return ZoomOut}(_zoomReset3["default"]);exports["default"]=ZoomOut},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _inputBase=__webpack_require__(222);var _inputBase2=_interopRequireDefault(_inputBase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var ZoomIn=function(_Base){_inherits(ZoomIn,_Base);function ZoomIn(){_classCallCheck(this,ZoomIn);return _possibleConstructorReturn(this,_Base.apply(this,arguments))}ZoomIn.prototype.getName=function getName(){return"zoomInButton"};ZoomIn.prototype.configure=function configure(){_Base.prototype.configure.call(this);var input=this,config=input.config;config.stepZoom=config.stepZoom||5.33;!config.skipGraphics&&input.addGraphicalElement("button",input.createButton({icon:"zoomInIcon",handlers:{click:function click(){input.isEnabled()&&input.zoom()},tooltext:input.config.tooltext}}));input.enable()};ZoomIn.prototype.zoom=function zoom(){var input=this,visibleRange,rangePadding,axis,eventArgs={},config=input.config,hookFn=config.hookFn,zoomed=false,startX,endX,startY,endY,level,axisZoomed,zoomLimit=Math.pow(10,config.zoomDecimalLimit)||1;input.getFromEnv("animationManager").setAnimationState("zoom");input.getFromEnv("axesObArr").forEach(function(axisOb){axis=axisOb.axis;visibleRange=axis.getVisibleConfig();rangePadding=Math.round((visibleRange.maxValue-visibleRange.minValue)/config.stepZoom*zoomLimit)/zoomLimit;if(rangePadding>Number.EPSILON){axisOb.stack.push(visibleRange);if(axisOb.isY){startY=visibleRange.minValue+rangePadding;endY=visibleRange.maxValue-rangePadding}else{startX=visibleRange.minValue+rangePadding;endX=visibleRange.maxValue-rangePadding;eventArgs=input.constructor._getZoomInfo(startX,endX,axis)}level=axisOb.stack.length+1;hookFn&&hookFn(visibleRange.minValue,visibleRange.maxValue);axisZoomed=axis.setVisibleConfig(visibleRange.minValue+rangePadding,visibleRange.maxValue-rangePadding);zoomed=zoomed||axisZoomed}});if(zoomed){input._raiseZoomEvents("zoomin","zoomedin",Object.assign(eventArgs,{level:level,startX:startX,endX:endX,startY:startY,endY:endY}))}};return ZoomIn}(_inputBase2["default"]);exports["default"]=ZoomIn},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _inputBase=__webpack_require__(222);var _inputBase2=_interopRequireDefault(_inputBase);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var doubleTapGapTime=500,isSingleFinger=function isSingleFinger(event){return!event.touches||event.touches&&event.touches.length===1},zoomOnPoint=function zoomOnPoint(visibleRange,val,zoomTimes,zoomLimit){var left=val-visibleRange.minValue,right=visibleRange.maxValue-val;return{min:Math.round((val-left/zoomTimes*(zoomTimes-1))*zoomLimit)/zoomLimit,max:Math.round((val+right/zoomTimes*(zoomTimes-1))*zoomLimit)/zoomLimit}};var InputDbTapZoom=function(_Base){_inherits(InputDbTapZoom,_Base);function InputDbTapZoom(){_classCallCheck(this,InputDbTapZoom);var _this=_possibleConstructorReturn(this,_Base.call(this));var input=_this;input.controlArr=[{nativeInteraction:["touchstart","mouseup"],callback:input.tap.bind(input),component:input}];return _this}InputDbTapZoom.prototype.getName=function getName(){return"dbTapZoom"};InputDbTapZoom.prototype.configure=function configure(){_Base.prototype.configure.call(this);var input=this;input.config.controlArr=[{nativeInteraction:["click"],callback:input.tap.bind(input),component:this}];this.enable()};InputDbTapZoom.prototype.setControl=function setControl(){var input=this,controlArr=input.controlArr,manager=input.getLinkedParent();manager.releaseControl(controlArr);if(input.isEnabled()){manager.getControl(controlArr)}};InputDbTapZoom.prototype.tap=function tap(event){var input=this,config=input.config;event&&event.preventDefault();if(!isSingleFinger(event.originalEvent)){return}if(config.tappedOnce){input.zoom.apply(input,arguments);config.tappedOnce=false}else{config.tappedOnce=true;setTimeout(function(){config.tappedOnce=false},doubleTapGapTime)}};InputDbTapZoom.prototype.zoom=function zoom(event){var input=this,chart=input.getFromEnv("chart"),coord=(0,_lib.getMouseCoordinate)(chart.getLinkedItem("container"),event,chart),axis,val,newRange,visiblerange,axisZoomed,config=input.config,hookFn=config.hookFn,eventArgs={},startX,endX,startY,endY,level,zoomed=false,zoomLimit=Math.pow(10,config.zoomDecimalLimit)||1;chart.getFromEnv("animationManager").setAnimationState("zoom");input.getFromEnv("axesObArr").forEach(function(axisOb){axis=axisOb.axis;val=axis.getValue(axisOb.isY?coord.chartY:coord.chartX);visiblerange=axis.getVisibleConfig();newRange=zoomOnPoint(visiblerange,val,config.stepzoom,zoomLimit);if(axisOb.isY){startY=newRange.min;endY=newRange.max}else{startX=newRange.min;endX=newRange.max;eventArgs=input.constructor._getZoomInfo(startX,endX,axis)}if(axis.getZoom()<=zoomLimit){hookFn&&typeof config.hookFn==="function"&&hookFn(newRange.min,newRange.max);axisZoomed=axis.setVisibleConfig(newRange.min,newRange.max);zoomed=zoomed||axisZoomed;axisOb.stack.push(visiblerange);level=axisOb.stack.length+1}});if(zoomed){input._raiseZoomEvents("zoomin","zoomedin",Object.assign(eventArgs,{level:level,startX:startX,endX:endX,startY:startY,endY:endY},event.originalEvent))}};return InputDbTapZoom}(_inputBase2["default"]);exports["default"]=InputDbTapZoom},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _inputBase=__webpack_require__(222);var _inputBase2=_interopRequireDefault(_inputBase);var _lib=__webpack_require__(118);var _schedular=__webpack_require__(129);var _dependencyManager=__webpack_require__(125);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var math=Math,mathMin=math.min,mathMax=math.max,mathAbs=math.abs,UNDEF=void 0,TRACKER_FILL="rgba(255,0,0,"+(_lib.isIE?.002:1e-6)+")";var InputDragPin=function(_Base){_inherits(InputDragPin,_Base);function InputDragPin(){_classCallCheck(this,InputDragPin);var _this=_possibleConstructorReturn(this,_Base.call(this));var input=_this;input.controlArr=[{nativeInteraction:["dragstart"],callback:input.dragstart.bind(input),component:input},{nativeInteraction:["dragmove"],callback:input.dragmove.bind(input),component:input},{nativeInteraction:["dragend"],callback:input.dragend.bind(input),component:input}];return _this}InputDragPin.prototype.getName=function getName(){return"dragPin"};InputDragPin.prototype.configure=function configure(){_Base.prototype.configure.call(this);var input=this,chartConfig=input.getFromEnv("chartConfig"),chartAttrs=input.getFromEnv("dataSource").chart,manager=input.getLinkedParent(),config=input.config;config.attr=config.attr||{stroke:"#3399ff",fill:"#b9d5f1","stroke-width":0};config.pinAttr=config.pinAttr||{"stroke-width":0,stroke:"none",fill:"#b9d5f1","shape-rendering":"crisp"};config.borderWidth=chartConfig.borderWidth||(chartConfig.borderWidth=(0,_lib.pluckNumber)(chartAttrs.showborder,1)?(0,_lib.pluckNumber)(chartAttrs.borderthickness,1):0);!input.config.skipGraphics?input.addGraphicalElement("button",input.createButton({icon:"pinModeIcon",handlers:{click:function click(){input.toggle()},tooltext:input.config.tooltext||"Pin mode"}})):input.getFromEnv("toolbox").idCount++;manager.registerDependancy([{derivedInteraction:["zoomin","zoomout"],callback:input.dependancyFn,component:input}]);input.disable(UNDEF,false)};InputDragPin.prototype.enable=function enable(event,dontFireExtEvt){var input=this,config=input.config;if(config.enabled!==true){config.enabled=true;config.state="pressed";input.fireEvent("pinenabled");input.addJob("settingControl",function(){input.setControl()},_schedular.priorityList.draw);!dontFireExtEvt&&input.getFromEnv("chart").fireChartInstanceEvent("zoommodechanged",{pinModeActive:true},event&&event.originalEvent)}};InputDragPin.prototype.dependancyFn=function dependancyFn(eventOb){if(eventOb.type==="zoomin"||eventOb.type==="zoomout"){this.disable(eventOb)}};InputDragPin.prototype.draw=function draw(){var input=this,config=input.config,xAxis;input.createPin();if(input.config.pinElemVisible){input.addJob("resizePinElem",function(){xAxis=input.getFromEnv("xAxis")[0];input.pinRangePixels(xAxis.getPixel(config.boxStartValue),xAxis.getPixel(config.boxEndValue))},_schedular.priorityList.postRender)}};InputDragPin.prototype._setConfig=function _setConfig(){var input=this,chart=input.getFromEnv("chart"),chartConfig=input.getFromEnv("chartConfig"),config=input.config,attr=Object.assign({},config.attr||{}),strokeWidth=attr["stroke-width"]=(0,_lib.pluckNumber)(attr.strokeWidth,attr["stroke-width"],1),container=chart.getFromEnv("chart-container"),chartPosition=(0,_lib.getPosition)(container,chart);config.zoomX=config.orientation==="horizontal"||config.orientation==="both";config.zoomY=config.orientation==="vertical"||config.orientation==="both";config.canvasY=chartConfig.canvasTop;config.canvasX=chartConfig.canvasLeft;config.canvasW=chartConfig.canvasWidth;config.canvasH=chartConfig.canvasHeight;config.canvasX2=chartConfig.canvasLeft+chartConfig.canvasWidth;config.canvasY2=chartConfig.canvasTop+chartConfig.canvasHeight;config.strokeWidth=strokeWidth;config.chartPosLeft=chartPosition.left;config.chartPosTop=chartPosition.top};InputDragPin.prototype.disable=function disable(event,dontFireExtEvt){var input=this,config=input.config,pingroup=input.getContainer("pingroup"),pintracker=input.getGraphicalElement("pintracker");if(config.enabled!==false){config.enabled=false;config.state="activated";pingroup&&pingroup.hide();pintracker&&pintracker.hide();input.fireEvent("pindisabled");!dontFireExtEvt&&input.getFromEnv("chart").fireChartInstanceEvent("zoommodechanged",{pinModeActive:false},event&&event.originalEvent);input.addJob("settingControl",function(){input.setControl()},_schedular.priorityList.draw);config.pinElemVisible=false}};InputDragPin.prototype.setControl=function setControl(){var input=this,manager=input.getLinkedParent(),controlArr=input.controlArr,button=input.getGraphicalElement("button");manager.releaseControl(controlArr);if(input.isEnabled()){manager.getControl(controlArr);button&&button.enable()}else{button&&button.disable()}};InputDragPin.prototype.createPin=function createPin(){var input=this,config=input.config,chart=input.getFromEnv("chart"),chartConfig=input.getFromEnv("chartConfig"),animationManager=input.getFromEnv("animationManager"),canvasTop=chartConfig.canvasTop,canvasBottom=chartConfig.canvasBottom,canvasHeight=chartConfig.canvasHeight,canvasLeft=chartConfig.canvasLeft,borderWidth=config.borderWidth,pinclip=chartConfig["clip-pinrect"],pingroup=input.getContainer("pingroup"),pinElemGroup=input.getContainer("pinElemGroup"),pinrect=input.getGraphicalElement("pinrect"),pintracker=input.getGraphicalElement("pintracker"),tAtt,localPinrect,localPintracker,visw,visx;visw=chartConfig._visw=chartConfig.canvasWidth;visx=chartConfig._visx=chartConfig.canvasLeft;tAtt=(0,_dependencyManager.getDep)("redraphael","plugin").crispBound(0,canvasTop-canvasBottom,0,canvasHeight,borderWidth);pinclip=chartConfig["clip-pinrect"]=[tAtt.x,canvasTop,tAtt.width,tAtt.height];if(!pingroup){input.addContainer("pingroup",pingroup=animationManager.setAnimation({el:"group",finalAttr:{name:"zoompin"},component:input,label:"group"}).insertBefore(chart.getChildContainer("plotGroup")).hide())}pingroup.transform(chartConfig._pingrouptransform=["T",visx,canvasBottom]);if(!pinElemGroup){input.addContainer("pinElemGroup",pinElemGroup=animationManager.setAnimation({el:"group",attr:{name:"zoompinelements"},component:input,container:pingroup,label:"group"}))}input.config.pinAttr.x=0;input.config.pinAttr.y=canvasTop-canvasBottom;input.config.pinAttr.width=visw;input.config.pinAttr.height=canvasHeight;localPinrect=animationManager.setAnimation({el:pinrect||"rect",attr:input.config.pinAttr,container:pingroup,component:input});if(!pinrect){input.addGraphicalElement("pinrect",localPinrect)}localPintracker=animationManager.setAnimation({el:pintracker||"rect",attr:{transform:pingroup.transform(),x:0,y:canvasTop-canvasBottom,width:0,height:canvasHeight,stroke:"none",fill:TRACKER_FILL,cursor:_lib.hasSVG&&"ew-resize"||"e-resize"},container:chart.getChildContainer("trackerGroup"),component:input}).hide();if(!pintracker){input.addGraphicalElement("pintracker",localPintracker)}localPintracker.undrag();localPintracker.drag(function(event){var _dx=event.data[0],offset=visx+_dx+this.__pindragdelta,pbl=this.__pinboundleft,pbr=this.__pinboundright,clip=this.data("cliprect").slice(0);if(offset<pbl){offset=pbl}else if(offset>pbr){offset=pbr}pingroup.transform(["T",offset,canvasBottom]);localPintracker.transform(pingroup.transform());if(!_lib.hasSVG){clip[0]=clip[0]+offset-visx-this.__pindragdelta;animationManager.setAnimation({el:pingroup,attr:{"clip-rect":clip},component:input})}this.__pindragoffset=_dx},function(){this.__pinboundleft=0-pinclip[0]+visx+canvasLeft;this.__pinboundright=this.__pinboundleft+visw-pinclip[2];this.data("cliprect",pingroup.attr("clip-rect"));pingroup._.clipispath=true},function(){pingroup._.clipispath=false;this.__pindragdelta+=this.__pindragoffset;delete this.__pindragoffset;delete this.__pinboundleft;delete this.__pinboundright})};InputDragPin.prototype.pinRangePixels=function pinRangePixels(pxs,pxe,event){var input=this,chart=input.getFromEnv("chart"),chartConfig=chart.config,canvasLeft=chartConfig.canvasLeft,xAxis=input.getFromEnv("xAxis")[0],axisLimits=xAxis.getLimit(),maxIndex=axisLimits.max,minIndex=axisLimits.min,pingroup=input.getContainer("pingroup"),pinrect=input.getGraphicalElement("pinrect"),pinElemGroup=input.getContainer("pinElemGroup"),pinclip=chartConfig["clip-pinrect"],animationManager=input.getFromEnv("animationManager"),pingrouptransform=chartConfig._pingrouptransform,plots=[],pxw=pxe-pxs,plot,startIndex,endIndex,startLabel,endLabel,i,pintracker=input.getGraphicalElement("pintracker");chart.iterateComponents(function(child){if(child.getType&&child.getType()==="dataset"){plots.push(child)}});if(!pingroup||!pinrect){return}if(pxs===pxe){pingroup.hide();pintracker.hide()}i=plots.length;while(i--){plot=plots[i];plot.fireEvent("createpinelements",{group:pinElemGroup})}pinclip[0]=pxs+canvasLeft;pinclip[2]=pxw;animationManager.setAnimation({el:pingroup,attr:{"clip-rect":pinclip,transform:pingrouptransform},component:input}).show();pintracker.__pindragdelta=0;pintracker.show();animationManager.setAnimation({el:pintracker,attr:{transform:pingrouptransform,x:pxs,width:pxw},component:input});input.config.pinElemVisible=true;startIndex=Math.round(xAxis.getValue(pxs+canvasLeft,{wrtVisible:true}));endIndex=Math.round(xAxis.getValue(pxe+canvasLeft,{wrtVisible:true}));startIndex=startIndex<minIndex?minIndex:startIndex;endIndex=endIndex>maxIndex?maxIndex:endIndex;startLabel=xAxis.getLabel(startIndex).label;endLabel=xAxis.getLabel(endIndex).label;event&&chart.fireChartInstanceEvent("pinned",{startIndex:startIndex||Math.abs(startIndex),endIndex:endIndex||Math.abs(endIndex),startLabel:startLabel,endLabel:endLabel},event.originalEvent)};InputDragPin.prototype.dragstart=function dragstart(event){this._setConfig();var input=this,chart=input.getFromEnv("chart"),animationManager=input.getFromEnv("animationManager"),container=input.getFromEnv("chart-container"),config=input.config,chartPosition,attr=config.attr,resizeBox,resizeBoxCheck=input.getGraphicalElement("resizeBox"),originalEvent=event.originalEvent,layerX=config.layerX=(originalEvent.pageX||originalEvent.data[0])-config.chartPosLeft,layerY=config.layerY=(originalEvent.pageY||originalEvent.data[1])-config.chartPosTop,canvasY=config.canvasY,canvasX=config.canvasX,canvasX2=config.canvasX2,canvasY2=config.canvasY2;chartPosition=(0,_lib.getPosition)(container);config.chartPosLeft=chartPosition.left;config.chartPosTop=chartPosition.top;config.oy=layerY;config.ox=layerX;config.allowMove=false;attr.x=0;attr.y=0;attr.width=0;attr.height=0;resizeBox=animationManager.setAnimation({el:resizeBoxCheck||"rect",attr:attr,container:chart.getChildContainer("trackerGroup"),component:input,callback:function callback(){this.show()}});if(!resizeBoxCheck){input.addGraphicalElement("resizeBox",resizeBox)}if(layerX>canvasX&&layerX<canvasX2&&layerY>canvasY&&layerY<canvasY2){config.allowMove=true}config.dragstartFn&&typeof config.dragstartFn==="function"&&config.dragstartFn(event)};InputDragPin.prototype.dragmove=function dragmove(event){this._setConfig();var input=this,config=input.config,animationManager=input.getFromEnv("animationManager"),resizeBox=input.getGraphicalElement("resizeBox"),originalEvent=event.originalEvent,pageX=originalEvent.pageX||originalEvent.data[2],pageY=originalEvent.page||originalEvent.data[3],layerX=config.layerX=pageX-config.chartPosLeft,layerY=config.layerY=pageY-config.chartPosTop,dx=layerX-config.ox,dy=layerY-config.oy,x=config.ox,y=config.oy,zoomX=config.zoomX,zoomY=config.zoomY,strokeWidth=config.strokeWidth,canvasW=config.canvasW,canvasH=config.canvasH,canvasY=config.canvasY,canvasX=config.canvasX,canvasX2=config.canvasX2,canvasY2=config.canvasY2;animationManager.setAnimationState("dragMove");if(!config.allowMove){return}if(!config.isDragged){config.isDragged=1}dx=-(x-mathMin(x-(x-mathMax(x+dx,canvasX)),canvasX2));dy=-(y-mathMin(y-(y-mathMax(y+dy,canvasY)),canvasY2));animationManager.setAnimation({el:resizeBox,attr:{x:(zoomX?mathMin(x,x+dx):canvasX)+strokeWidth*.5,y:(zoomY?mathMin(y,y+dy):canvasY)+strokeWidth*.5,width:zoomX?mathAbs(dx):canvasW,height:zoomY?mathAbs(dy):canvasH},component:input});config.dragmoveFn&&typeof config.dragmoveFn==="function"&&config.dragmoveFn(event)};InputDragPin.prototype.dragend=function dragend(event){this._setConfig();var input=this,chart=input.getFromEnv("chart"),chartConfig=chart.config,config=input.config,xAxis=input.getFromEnv("xAxis")[0],resizeBox=input.getGraphicalElement("resizeBox"),bBox=config.bBox,pxs,pxe,selectionData;chart.getFromEnv("animationManager").setAnimationState("dragEnd");bBox=resizeBox.getBBox();selectionData={chart:chart,selectionLeft:bBox.x,selectionTop:bBox.y,selectionHeight:bBox.height,selectionWidth:bBox.width,originalEvent:event.originalEvent};if(config.isDragged){config.dragendFn&&typeof config.dragendFn==="function"&&config.dragendFn(event,selectionData);config.isDragged=0}resizeBox.hide();delete config.oy;delete config.ox;pxs=bBox.x-chartConfig.canvasLeft;pxe=pxs+bBox.width;if(pxs===pxe){return}config.boxStartValue=xAxis.getValue(pxs);config.boxEndValue=xAxis.getValue(pxe);input.pinRangePixels(pxs,pxe,event)};return InputDragPin}(_inputBase2["default"]);exports["default"]=InputDragPin},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _inputBase=__webpack_require__(222);var _inputBase2=_interopRequireDefault(_inputBase);var _schedular=__webpack_require__(129);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var fetchCoordFromEvent=function fetchCoordFromEvent(event){if(event.originalEvent){event=event.originalEvent}if(~event.type.indexOf("touch")){return{x:event.touches[0].pageX,y:event.touches[0].pageY}}else if(~event.type.indexOf("mouse")){return{x:event.pageX,y:event.pageY}}},isSingleFinger=function isSingleFinger(event){return!event.touches||event.touches.length===1},getDiffValXY=function getDiffValXY(a,b){return{x:a.x-b.x,y:a.y-b.y}},UNDEF;var InputPan=function(_Base){_inherits(InputPan,_Base);function InputPan(){_classCallCheck(this,InputPan);var _this=_possibleConstructorReturn(this,_Base.call(this));var input=_this;input.controlArr=[{nativeInteraction:["dragstart","dragmove"],callback:input.onDrag.bind(input),component:input},{nativeInteraction:["dragend"],callback:input.onDragEnd.bind(input),component:input}];_lib.isFirefox&&input.controlArr.push({nativeInteraction:["mousedown"],callback:InputPan.mousedown,component:input});return _this}InputPan.mousedown=function mousedown(event){event&&event.preventDefault()};InputPan.prototype.configure=function configure(){_Base.prototype.configure.call(this);var input=this,config=input.config;!config.skipGraphics&&input.addGraphicalElement("button",input.createButton({icon:"panModeIcon",handlers:{click:function click(){input.toggle()},tooltext:input.config.tooltext}}));input.getLinkedParent().registerDependancy([{derivedInteraction:["zoomin","zoomout","dragzoomenabled","dragzoomdisabled"],callback:input.dependancyFn,component:input}]);input.disable(UNDEF,false)};InputPan.prototype.getName=function getName(){return"dragPan"};InputPan.prototype.enable=function enable(event,dontFireExtEvt){var input=this;if(input._checkStackLen()&&input.config.enabled!==true){input.config.enabled=true;input.config.state="pressed";input.fireEvent("panenabled");!dontFireExtEvt&&input.getFromEnv("chart").fireChartInstanceEvent("zoommodechanged",{panModeActive:true},event&&event.originalEvent);input.addJob("settingControl",function(){input.setControl()},_schedular.priorityList.draw)}};InputPan.prototype.disable=function disable(event,dontFireExtEvt){var input=this;if(input.config.enabled!==false){input.config.enabled=false;input.config.state=input._checkStackLen()?"activated":"disabled";input.fireEvent("pandisabled");!dontFireExtEvt&&input.getFromEnv("chart").fireChartInstanceEvent("zoommodechanged",{panModeActive:false},event&&event.originalEvent);input.addJob("settingControl",function(){input.setControl()},_schedular.priorityList.draw)}};InputPan.prototype.setControl=function setControl(){var input=this,manager=input.getLinkedParent(),button=input.getGraphicalElement("button"),controlArr=input.controlArr;manager.releaseControl(controlArr);if(input.isEnabled()){manager.getControl(controlArr);button&&button.enable()}else{button&&button.disable()}};InputPan.prototype.setDrag=function setDrag(val){this.config.isDragging=!!val};InputPan.prototype.isDragging=function isDragging(){return!!this.config.isDragging};InputPan.prototype.onDragEnd=function onDragEnd(){this.setDrag(false);this.getFromEnv("chart").getContainer("parentgroup").attr({cursor:"default"})};InputPan.prototype.onDrag=function onDrag(event){var inputPan=this,min,max,shiftVal,visibleDiff,axis,range,scale,scaleRange,scaleDomain,pvr,currentXY=fetchCoordFromEvent(event.originalEvent),diffOb;if(!isSingleFinger(event.originalEvent)){return}inputPan.getFromEnv("chart").getContainer("parentgroup").attr({cursor:"move"});this.getFromEnv("animationManager").setAnimationState("drag");if(!inputPan.isDragging()){inputPan.getFromEnv("axesObArr").forEach(function(axesOb){axesOb.origConfig=axesOb.axis.getVisibleConfig();axesOb.startCoord=currentXY});inputPan.setDrag(true)}else{event&&event.preventDefault();inputPan.getFromEnv("axesObArr").forEach(function(axesOb){min=axesOb.origConfig.minValue;max=axesOb.origConfig.maxValue;axis=axesOb.axis;range=axis.config.axisRange;scale=axis.getScale();scaleRange=scale.getRange();scaleDomain=scale.getDomain();pvr=(scaleRange[1]-scaleRange[0])/(scaleDomain[1]-scaleDomain[0]);diffOb=getDiffValXY(currentXY,axesOb.startCoord);visibleDiff=max-min;if(axesOb.isY){shiftVal=diffOb.y/pvr}else{shiftVal=diffOb.x/pvr}shiftVal=-shiftVal;if(shiftVal>0){shiftVal=Math.min(range.max-max,shiftVal)}else if(shiftVal<0){shiftVal=-Math.min(min-range.min,-shiftVal)}else{return}min=min+shiftVal;max=min+visibleDiff;axis.setVisibleConfig(min,max)})}};InputPan.prototype.dependancyFn=function dependancyFn(eventOb){var input=this;if(eventOb.type==="zoomout"){!input._checkStackLen()&&input.disable()}else if(eventOb.type==="zoomin"){input.enable(eventOb)}else if(eventOb.type==="dragzoomdisabled"){input._checkStackLen()&&input.enable(eventOb)}else if(eventOb.type==="dragzoomenabled"){input.disable(eventOb)}};return InputPan}(_inputBase2["default"]);exports["default"]=InputPan},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _inputBase=__webpack_require__(222);var _inputBase2=_interopRequireDefault(_inputBase);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var getTouchDistance=function getTouchDistance(touch1,touch2,isY){var select=isY?"pageY":"pageX";return touch2[select]-touch1[select]},correctZoomRatio=function correctZoomRatio(val){if(val<0){return-val}return val},max=Math.max,min=Math.min,getZoomRange=function getZoomRange(axis,center,zoomTimes,isY,zoomLimit){var visibleRange=axis.getVisibleConfig(),val=axis.getValue(center[isY?"y":"x"]+axis.getTranslation()),left=val-visibleRange.minValue,right=visibleRange.maxValue-val,range=axis.config.axisRange;return{min:Math.round(max(range.min,val-left/zoomTimes)*zoomLimit)/zoomLimit,max:Math.round(min(range.max,val+right/zoomTimes)*zoomLimit)/zoomLimit}};var InputPinchZoom=function(_Base){_inherits(InputPinchZoom,_Base);function InputPinchZoom(){_classCallCheck(this,InputPinchZoom);var _this=_possibleConstructorReturn(this,_Base.call(this));var input=_this;input.controlArr=[{nativeInteraction:["touchend"],callback:input.touchend.bind(input),component:input},{nativeInteraction:["touchstart","touchmove"],callback:input.touch.bind(input),component:input}];return _this}InputPinchZoom.prototype.getName=function getName(){return"pinchZoom"};InputPinchZoom.prototype.configure=function configure(){_Base.prototype.configure.call(this);this.enable()};InputPinchZoom.prototype.getCenter=function getCenter(touch1,touch2){var chart=this.getFromEnv("chart"),coord=(0,_lib.getMouseCoordinate)(chart.getLinkedItem("container"),{pageX:(touch1.pageX+touch2.pageX)/2,pageY:(touch1.pageY+touch2.pageY)/2},chart);return{x:coord.chartX,y:coord.chartY}};InputPinchZoom.prototype.drag=function drag(event){var input=this,touch1=event.touches[0],touch2=event.touches[1],distanceX,distanceY,config=input.config,touchConfig=config.touchConfig,zoomRatioX,zoomRatioY,axis,events={},zoomed=false,axisZoomed,startX,endX,eventArgs={},startY,endY,chart=input.getFromEnv("chart"),axesObArr=input.getFromEnv("axesObArr"),level,zoomLimit=Math.pow(10,config.zoomDecimalLimit)||1,container=chart.getChildContainer().plotGroup;if(!touchConfig){touchConfig=config.touchConfig={finger0:touch1,finger1:touch2,center:this.getCenter(touch1,touch2),distanceX:getTouchDistance(touch1,touch2),distanceY:getTouchDistance(touch1,touch2,true)};axesObArr.forEach(function(axisOb){axis=axisOb.axis;axisOb.visibleConfig=axis.getVisibleConfig();axisOb.centerVal=axis.getValue(axisOb.isY?touchConfig.center.y:touchConfig.center.x)})}else{distanceX=getTouchDistance(touch1,touch2);distanceY=getTouchDistance(touch1,touch2,true);zoomRatioX=correctZoomRatio(distanceX/touchConfig.distanceX);zoomRatioY=correctZoomRatio(distanceY/touchConfig.distanceY);axesObArr.forEach(function(){container.transform("");container.scale(zoomRatioX,zoomRatioY,touchConfig.center.x,touchConfig.center.y)});clearTimeout(config.chartDraw);config.chartDraw=setTimeout(function(){container.transform("");axesObArr.forEach(function(axisOb){var axis=axisOb.axis,zoomRange=getZoomRange(axis,touchConfig.center,axisOb.isY?zoomRatioY:zoomRatioX,axisOb.isY,zoomLimit),min=zoomRange.min,max=zoomRange.max,stack=axisOb.stack,visibleConfig=axis.getVisibleConfig(),axisLimits=axis.getLimit(),stackLength=stack.length-1,lastState=stack[stackLength],isNoZoom=Math.floor(min)===axisLimits.min&&Math.ceil(max)===axisLimits.max,isMaxZoomed=axis.getZoom()>=zoomLimit;if(lastState){if(isNoZoom){axisOb.stack=[];events.zoomout=true}else if(lastState.minValue>min&&lastState.maxValue<max){while(lastState&&lastState.minValue>min&&lastState.maxValue<max){stack.pop();lastState=stack[--stackLength]}events.zoomout=true}else{if(!isMaxZoomed){stack.push(visibleConfig);events.zoomin=true}}}else if(!isNoZoom){if(!isMaxZoomed){stack.push(visibleConfig);events.zoomin=true}}if(axisOb.isY){startY=min;endY=max}else{startX=min;endX=max;eventArgs=input.constructor._getZoomInfo(startX,endX,axis)}level=axisOb.stack.length+1;axisZoomed=axis.setVisibleConfig(min,max);zoomed=zoomed||axisZoomed});input.touchend();if(zoomed){events.zoomout&&input._raiseZoomEvents("zoomout","zoomedout",Object.assign(eventArgs,{level:level,startX:startX,endX:endX,startY:startY,endY:endY}));events.zoomin&&input._raiseZoomEvents("zoomin","zoomedin",Object.assign(eventArgs,{level:level,startX:startX,endX:endX,startY:startY,endY:endY}))}config.chartDraw=null},250)}};InputPinchZoom.prototype.touch=function touch(event){var input=this;this.getFromEnv("animationManager").setAnimationState("touch");if(event.originalEvent.touches.length===2){input.drag(event.originalEvent);event&&event.preventDefault()}else{input.touchend()}};InputPinchZoom.prototype.touchend=function touchend(){this.config.touchConfig=null};InputPinchZoom.prototype.setControl=function setControl(){var input=this,manager=input.getLinkedParent(),controlArr=input.controlArr;manager.releaseControl(controlArr);if(input.isEnabled()){manager.getControl(controlArr)}};return InputPinchZoom}(_inputBase2["default"]);exports["default"]=InputPinchZoom},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _inputBase=__webpack_require__(222);var _inputBase2=_interopRequireDefault(_inputBase);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var InputSwipeGesture=function(_Base){_inherits(InputSwipeGesture,_Base);function InputSwipeGesture(){_classCallCheck(this,InputSwipeGesture);var _this=_possibleConstructorReturn(this,_Base.call(this));var input=_this;input.controlArr=[{nativeInteraction:["dragend"],callback:input.end.bind(input),component:input},{nativeInteraction:["dragmove"],callback:input.move.bind(input),component:input},{nativeInteraction:["dragstart"],callback:input.start.bind(input),component:input}];return _this}InputSwipeGesture.prototype.getName=function getName(){return"swipeGesture"};InputSwipeGesture.prototype.configure=function configure(){_Base.prototype.configure.call(this);this.enable()};InputSwipeGesture.prototype.getPresentScrollValue=function getPresentScrollValue(){var input=this,xAxis=input.config.xAxis,visibleConfig=xAxis.getVisibleConfig(),limit=xAxis.getLimit(),visibleLength=visibleConfig.maxValue-visibleConfig.minValue,totalLength=limit.max-limit.min;return(visibleConfig.minValue-limit.min)/(totalLength-visibleLength)};InputSwipeGesture.prototype.start=function start(e){var input=this,chart=input.getFromEnv("chart"),coordinate,config=input.config,presentScrollValue;coordinate=(0,_lib.getMouseCoordinate)(chart.getFromEnv("chart-container"),e.originalEvent,chart);config.previousX=coordinate.chartX;config.presentScrollValue=presentScrollValue=input.getPresentScrollValue();chart.fireChartInstanceEvent("scrollStart",{scrollPosition:presentScrollValue})};InputSwipeGesture.prototype.move=function move(e){var input=this,config=input.config,chart=input.getFromEnv("chart"),xAxis=config.xAxis,coordinate=(0,_lib.getMouseCoordinate)(chart.getFromEnv("chart-container"),e.originalEvent,chart),presentX=coordinate.chartX,diffX=(presentX-config.previousX)/config.plotDifference,visibleConfig=xAxis.getVisibleConfig(),previousScrollValue=config.previousScrollValue=config.presentScrollValue,minX=visibleConfig.minValue-diffX,axisMin=config.axisMin,axisMax=config.axisMax,maxX=visibleConfig.maxValue-diffX;if(minX<axisMin&&axisMin===visibleConfig.minValue||maxX>axisMax&&axisMax===visibleConfig.maxValue){return}if(minX<axisMin){maxX+=diffX;diffX=visibleConfig.minValue-axisMin;maxX-=diffX;minX=axisMin}else if(axisMax<maxX){minX+=diffX;diffX=axisMax-visibleConfig.maxValue;minX+=diffX;maxX=axisMax}chart.getFromEnv("animationManager").setAnimationState("scroll");xAxis.setVisibleConfig(minX,maxX);chart.fireChartInstanceEvent("onScroll",{scrollPosition:previousScrollValue});config.previousX=presentX;config.presentScrollValue=input.getPresentScrollValue()};InputSwipeGesture.prototype.end=function end(){var input=this,config=input.config,chart=input.getFromEnv("chart");chart.fireChartInstanceEvent("scrollEnd",{previousScrollPosition:config.previousScrollValue,scrollPosition:config.presentScrollValue})};InputSwipeGesture.prototype.setControl=function setControl(){var input=this,manager=input.getLinkedParent(),controlArr=input.controlArr,config=input.config,xAxisArr=input.getFromEnv("canvas").getAxes().filter(function(axisObj){return!axisObj.isY}),xAxis=config.xAxis=xAxisArr&&xAxisArr[0]&&xAxisArr[0].axis,axisRange=xAxis.config.axisRange;config.plotDifference=xAxis.getPixel(1)-xAxis.getPixel(0);config.axisMin=axisRange.min;config.axisMax=axisRange.max;manager.releaseControl(controlArr);if(input.isEnabled()){manager.getControl(controlArr)}};return InputSwipeGesture}(_inputBase2["default"]);exports["default"]=InputSwipeGesture},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports["default"]=function(R){var win=window,userAgent=win.navigator.userAgent,UNDEF,isIE=/msie/i.test(userAgent)&&!win.opera,math=Math,mathMin=math.min,mathRound=math.round,toFloat=win.parseFloat,toStr=String,OBJECT="object",BLANK="",NONE="none",STROKE="stroke",TRACKER_FILL="rgba(192,192,192,"+(isIE?.002:1e-6)+")",buttonDisabledAttrs={enabled:false,"false":false,0:false,disabled:true,"true":true,1:true};R.define&&R.define([{name:"button",button:function button(x,y,labelText,symbolName,options,parent){if((typeof x==="undefined"?"undefined":_typeof(x))==="object"&&x.button){var _x$button=x.button;x=_x$button[0];y=_x$button[1];labelText=_x$button[2];symbolName=_x$button[3];options=_x$button[4];parent=_x$button[5]}var paper=this,o=paper.group("button",parent),a;o._.button={bound:paper.rect(o),tracker:paper.rect(o).attr({fill:TRACKER_FILL,stroke:TRACKER_FILL,cursor:"pointer"}).data("compositeButton",o)};!R.is(options,OBJECT)&&(options={});for(a in R.fn.button.fn){o[a]=R.fn.button.fn[a]}for(a in R.fn.button.ca){o.ca[a]=R.fn.button.ca[a]}return o.attr({"button-padding":[options.horizontalPadding,options.verticalPadding],"button-label":labelText,"button-symbol":symbolName,"button-disabled":options.disabled||"false","button-symbol-position":options.symbolPosition,"button-symbol-padding":options.symbolPadding}).attr("button-repaint",[x,y,options.width,options.height,options.r])},data:{hoverin:function hoverin(){var o=this,button=o._.button,callback=button.hoverbackIn,hover=o._hover||{};if(hover.fill||hover["fill-symbol"]||hover.stroke||hover["stroke-width"]||hover.cursor){hover.fill&&o.bottom.attr("fill",hover.fill)&&!hover["fill-symbol"]&&button.symbol.attr("fill",hover.fill);hover["fill-symbol"]&&button.symbol.attr("fill",hover["fill-symbol"]);hover.stroke&&o.bottom.attr("stroke",hover.stroke)&&button.symbol.attr("stroke",hover.stroke);hover["stroke-width"]&&o.bottom.attr("stroke-width",hover["stroke-width"])&&button.symbol.attr("stroke-width",hover["stroke-width"]);hover.cursor&&button.tracker.attr("cursor",hover.cursor);callback&&callback()}else{callback&&callback(arguments)===false||o.attr("fill","hover")}o.hovered=true},hoverout:function hoverout(){var o=this,button=o._.button,callback=button.hoverbackOut,normal=o._normal||{};if(normal.fill||normal["fill-symbol"]||normal.stroke||normal["stroke-width"]||normal.cursor){normal.fill&&o.bottom.attr("fill",normal.fill)&&!normal["fill-symbol"]&&button.symbol.attr("fill",normal.fill);normal.stroke&&o.bottom.attr("stroke",normal.stroke)&&button.symbol.attr("stroke",normal.stroke);normal["fill-symbol"]&&button.symbol.attr("fill",normal["fill-symbol"]);normal["stroke-width"]&&o.bottom.attr("stroke-width",normal["stroke-width"])&&button.symbol.attr("stroke-width",normal["stroke-width"]);normal.cursor&&button.tracker.attr("cursor",normal.cursor);callback&&callback()}else{callback&&callback(arguments)===false||o.attr("fill",(o.pressed||o.active)&&"active"||"normal")}o.hovered=false},mousedown:function mousedown(){var o=this,button=o._.button,pressed=o._pressed||{};if(pressed.fill||pressed["fill-symbol"]||pressed.stroke||pressed["stroke-width"]||pressed.cursor){pressed.fill&&o.bottom.attr("fill",pressed.fill)&&!pressed["fill-symbol"]&&button.symbol.attr("fill",pressed.fill);pressed.stroke&&o.bottom.attr("stroke",pressed.stroke)&&button.symbol.attr("stroke",pressed.stroke);pressed["fill-symbol"]&&button.symbol.attr("fill",pressed["fill-symbol"]);pressed["stroke-width"]&&o.bottom.attr("stroke-width",pressed["stroke-width"])&&button.symbol.attr("stroke-width",pressed["stroke-width"]);pressed.cursor&&button.tracker.attr("cursor",pressed.cursor)}else{o.attr("fill","active")}o.pressed=true},mouseup:function mouseup(){var o=this,button=o._.button,callback=button.callback,normal=o._normal||{};if(normal.fill||normal["fill-symbol"]||normal.stroke||normal["stroke-width"]||normal.cursor){normal.fill&&o.bottom.attr("fill",normal.fill)&&!normal["fill-symbol"]&&button.symbol.attr("fill",normal.fill);normal.stroke&&o.bottom.attr("stroke",normal.stroke)&&button.symbol.attr("stroke",normal.stroke);normal["fill-symbol"]&&button.symbol.attr("fill",normal["fill-symbol"]);normal["stroke-width"]&&o.bottom.attr("stroke-width",normal["stroke-width"])&&button.symbol.attr("stroke-width",normal["stroke-width"]);normal.cursor&&button.tracker.attr("cursor",normal.cursor)}else{o.attr("fill",o.hovered&&"hover"||o.active&&"active"||"normal")}o.pressed=false;callback&&callback(arguments)},mousemove:function mousemove(){var o=this,button=o._.button,callback=button.mousemove;callback&&callback(arguments)}},fn:{tooltip:function tooltip(){R.el.tooltip&&R.el.tooltip.apply(this._.button.tracker,arguments);return this},buttonclick:function buttonclick(callback,scope){var o=this,button=o._.button;scope=scope||o;button.callback=function(){return callback.apply(scope,arguments)};return o},labelcss:function labelcss(){var button=this._.button,label=button.label;button.cssArg=arguments;label&&label.css.apply(label,arguments);return this.attr("button-repaint",this.attrs["button-repaint"])},buttonhover:function buttonhover(callbackIn,callbackOut,scopeIn,scopeOut,callbackMove,scopeMove){var o=this,button=o._.button;scopeIn=scopeIn||o;scopeOut=scopeOut||o;scopeMove=scopeMove||o;callbackMove&&(button.mousemove=function(){return callbackMove.apply(scopeMove,arguments)});button.hoverbackIn=function(){return callbackIn.apply(scopeIn,arguments)};button.hoverbackOut=function(){return callbackOut.apply(scopeOut,arguments)};return o},remove:function remove(){var o=this,button=o._.button,key;o.attr("button-disabled","true");for(key in button){button[key]&&button[key].remove&&button[key].remove();button[key]=null}delete o._.button;R.el.remove.apply(o,arguments)}},ca:{"button-active":function buttonActive(value){var o=this;o.attr("fill",(o.active=!!value)?"active":o.hovered&&"hover"||"normal")},"button-disabled":function buttonDisabled(value){var o=this,paper=o.paper,button=o._.button,tracker=button.tracker,attr=o.attrs["button-disabled"],events=paper.button.data,disabled=o._disabled||{};value=buttonDisabledAttrs[value];attr=buttonDisabledAttrs[attr];if(value===UNDEF||value===attr){return}switch(value){case true:if(disabled.fill||disabled.stroke||disabled["stroke-width"]||disabled.cursor){disabled.fill&&o.bottom.attr("fill",disabled.fill)&&button.symbol.attr("fill",disabled.fill);disabled.stroke&&o.bottom.attr("stroke",disabled.stroke)&&button.symbol.attr("stroke",disabled.stroke);disabled["stroke-width"]&&o.bottom.attr("stroke-width",disabled["stroke-width"]&&button.symbol.attr("fill",disabled.fill));disabled.cursor&&button.tracker.attr("cursor",disabled.cursor)}else{tracker.attr("fill","rgba(204,204,205,.5)")}tracker.unmousedown(events.mousedown).unmouseup(events.mouseup).unhover(events.hoverin,events.hoverout).unmousemove(events.mousemove);break;case false:tracker.attr("fill",TRACKER_FILL).mousedown(events.mousedown,o).mouseup(events.mouseup,o,true).hover(events.hoverin,events.hoverout,o,o).mousemove(events.mousemove,o);break}},"button-label":function buttonLabel(text){var o=this,button=o._.button,attrs=o.attrs,label=button.label,cssArg=button.cssArg,repaint=o.attrs["button-repaint"];text=toStr(text||BLANK);if(text===NONE){label&&(button.label=label.remove())}else if(text){!label&&(label=button.label=o.paper.text(o).insertBefore(button.tracker));label.attr({text:text,"text-anchor":"middle","vertical-align":"middle"});cssArg&&cssArg.length&&label.css.apply(label,cssArg)}if(repaint&&attrs["button-label"]!==text){o.attr("button-repaint",repaint)}},"button-symbol":function buttonSymbol(name){var o=this,button=o._.button,symbol=button.symbol,repaint=o.attrs["button-repaint"];name=toStr(name||BLANK);if(name===NONE){symbol&&(button.symbol=symbol.remove());delete button.symbol}else if(name&&!symbol){symbol=button.symbol=o.paper.symbol(o).insertAfter(button.bound)}if(repaint){o.attr("button-repaint",repaint)}},"button-symbol-position":function buttonSymbolPosition(position){return{"button-symbol-position":{top:"top",right:"right",bottom:"bottom",left:"left",none:"none"}[toStr(position).toLowerCase()]||NONE}},"button-symbol-padding":function buttonSymbolPadding(value){return{"button-symbol-padding":toFloat(value)}},"button-padding":function buttonPadding(px,py){return{"button-padding":[(px===null||px===UNDEF)&&(px=5)||toFloat(px),(py===null||py===UNDEF)&&px||toFloat(py)]}},"button-repaint":function buttonRepaint(x,y,w,h,r){var o=this,button=o._.button,bound=button.bound,label=button.label,symbol=button.symbol,attrs=o.attrs,attrPads=attrs["button-padding"],padX=attrPads[0],padY=attrPads[1],symX,symY,symD,symR,padSym,bbox,obj;x===UNDEF&&(x=0);y===UNDEF&&(y=0);if(w===UNDEF||h===UNDEF){bbox=label&&label.getBBox()||{width:0,height:0};w===UNDEF&&(w=padX*2+bbox.width);h===UNDEF&&(h=padY*2+bbox.height)}obj=R.crispBound(x,y,w,h,bound.attr("stroke-width"));obj.r=r=(0,_lib.pluck)(r,mathRound(mathMin(h,w)*.1));x=obj.x;y=obj.y;w=obj.width;h=obj.height;label&&label.attr({x:x+w/2,y:y+h/2});if(symbol){!R.is(padSym=attrs["button-symbol-padding"],"finite")&&(padSym=h*.2);symD=h-padY;symR=symD*.5;switch(attrs["button-symbol-position"]+(label&&"+"||"-")){case"right+":w+=symR*2+padY;symX=x+w-symR-padX;symY=y+h*.5;label.attr("transform",["t",-(symD+padSym),0]);break;case"left+":w+=symR*2+padY;symX=x+padX+symR;symY=y+h*.5;label.attr("transform",["t",symD+padSym,0]);break;case"top+":h+=symR*2+padSym;symX=x+w*.5;symY=y+attrPads[1]+symR;label.attr("transform",["t",0,symD+padSym]);break;case"bottom+":h+=symR*2+padSym;symX=x+w*.5;symY=y+h-padY-symR;label.attr("transform",["t",0,-(symD+padSym)]);break;default:symX=x+w*.5;symY=y+h*.5}symbol.attr("symbol",[attrs["button-symbol"],symX,symY,symR])}button.bound.attr(obj);button.tracker.attr(obj)},fill:function fill(color,labelFill,symbolFill,hover){var disableGradient=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;var o=this,button=o._.button,bound=button.bound,symbol=button.symbol,label=button.label,state={normal:button.gradient,active:button.gradientActive,hover:button.gradientHover}[color];if(!state){if(!disableGradient){color=R.getRGB(color);color.error&&(color=R.color("#cccccc"));color="opacity"in color?"rgba("+[color.r,color.g,color.b,color.opacity]+")":"rgb("+[color.r,color.g,color.b]+")"}button.gradient=disableGradient?color:[90,R.tintshade(color,-.8).rgba+":0",R.tintshade(color,.8).rgba+":100"].join("-");button.gradientActive=[270,R.tintshade(color,-.8).rgba+":0",R.tintshade(color,.8).rgba+":100"].join("-");hover=R.getRGB(hover);hover.error&&(hover=color)||(hover="opacity"in hover?"rgba("+[hover.r,hover.g,hover.b,hover.opacity]+")":"rgb("+[hover.r,hover.g,hover.b]+")");button.gradientHover=disableGradient?hover:[90,R.tintshade(hover,-.9).rgba+":0",R.tintshade(hover,.7).rgba+":100"].join("-");symbolFill=symbolFill||R.tintshade(color,.2).rgba;labelFill=labelFill||R.tintshade(color,-.2).rgba;button.symbolFill=symbolFill;button.labelFill=labelFill;state=(o.pressed||o.active)&&button.gradientActive||o.hovered&&button.gradienthover||button.gradient}bound.attr("fill",state);symbol&&symbol.attr("fill",button.symbolFill);label&&label.attr("fill",button.labelFill);return false},stroke:function stroke(color,forSymbol){var button=this._.button,symbol=button.symbol;color=R.color(color);color.error&&(color=R.color("#999999"));button.bound.attr(STROKE,color);symbol&&symbol.attr(STROKE,forSymbol||color);return false},"stroke-width":function strokeWidth(value,forSymbol){var button=this._.button,symbol=button.symbol;button.bound.attr("stroke-width",value);button.tracker.attr("stroke-width",value);symbol&&symbol.attr("stroke-width",forSymbol);return false},config:function config(obj){var o=this;obj.hover&&(o._hover={fill:obj.hover.fill,stroke:obj.hover.stroke,"stroke-width":obj.hover["stroke-width"],cursor:obj.hover.cursor,"fill-symbol":obj.hover["fill-symbol"]});obj.disabled&&(o._disabled={fill:obj.disabled.fill,stroke:obj.disabled.stroke,"stroke-width":obj.disabled["stroke-width"],cursor:obj.disabled.cursor});obj.pressed&&(o._pressed={fill:obj.pressed.fill,stroke:obj.pressed.stroke,"stroke-width":obj.pressed["stroke-width"],cursor:obj.pressed.cursor,"fill-symbol":obj.pressed["fill-symbol"]});obj.normal&&(o._normal={fill:obj.normal.fill,stroke:obj.normal.stroke,"stroke-width":obj.normal["stroke-width"],cursor:obj.normal.cursor,"fill-symbol":obj.normal["fill-symbol"]});obj.symbol&&(obj.symbol={stroke:obj.normal.stroke,"stroke-width":obj.normal["stroke-width"]})}}}])};var _lib=__webpack_require__(118)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var fireAssociatedEvent=function fireAssociatedEvent(e,eName){var legendItem=e.sender,owner=legendItem.getLinkedItem("owner"),chart=legendItem.getFromEnv("chart"),eventArgs=owner&&owner.getEventArgs?owner.getEventArgs(legendItem):{},coordinate=(0,_lib.getMouseCoordinate)(legendItem.getFromEnv("chart-container"),e,chart);eventArgs.chartX=coordinate.chartX;eventArgs.chartY=coordinate.chartY;eventArgs.pageX=coordinate.pageX;eventArgs.pageY=coordinate.pageY;eventArgs.id=chart.getId();eventArgs.legendItemId=legendItem.getId();eventArgs.legendItemIndex=legendItem.config.index;chart.fireChartInstanceEvent(eName,eventArgs,e)},manageLedendItemsEvent=function manageLedendItemsEvent(legendItem){var handler;legendItem.addExtEventListener("click",function(e){fireAssociatedEvent(e,"legendItemClicked")},legendItem);if(_lib.touchEnabled){legendItem.addEventListener("touchstart",function(e){handler=setTimeout(function(){e.preventDefault();fireAssociatedEvent(e,"legendItemRollover")},600)});legendItem.addEventListener("touchend",function(e){e.preventDefault();clearTimeout(handler);fireAssociatedEvent(e,"legendItemRollout")})}legendItem.addEventListener("mouseout",function(e){fireAssociatedEvent(e,"legendItemRollout")});legendItem.addEventListener("mouseover",function(e){fireAssociatedEvent(e,"legendItemRollover")})},legendEventManagerLinker=function legendEventManagerLinker(FC){var sender=void 0;FC.addEventListener("instantiated",function(event){sender=event.sender;sender.getType()==="legendItem"&&manageLedendItemsEvent(sender)})};exports["default"]={extension:legendEventManagerLinker,name:"legendEventManagerLinker",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _export=__webpack_require__(234);var _export2=_interopRequireDefault(_export);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var isChartAPI=function isChartAPI(component){return component.getType()==="chartAPI"},exportModule=void 0,UNDEF=void 0;function exportChart(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(exportModule!==UNDEF){exportModule.exportChart(options);return true}else{return false}}function exporter(FusionCharts){FusionCharts.addEventListener("instantiated",function(event){var component=event.sender;if(isChartAPI(component)){component.registerFactory("export",function(chartComponent){var chartInstance=component.getFromEnv("chartInstance");chartInstance.exportChart=exportChart;if(!chartComponent.getChildren("export")&&Number(chartComponent.getFromEnv("dataSource").chart.exportenabled)){exportModule=new _export2["default"];chartComponent.attachChild(exportModule,"exportModule");exportModule.addToEnv("chartInstance",chartComponent.getFromEnv("chartInstance"));exportModule.addToEnv("chartMenuList",chartComponent.getFromEnv("chartMenuList"));exportModule.configure({chartConfig:chartComponent.getFromEnv("dataSource").chart})}if(chartComponent.getChildren("export")&&exportModule){exportModule.configure({chartConfig:chartComponent.getFromEnv("dataSource").chart})}})}})}exports["default"]={extension:exporter,name:"Export",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};
/** !
 * @license FusionCharts JavaScript Library
 * Copyright FusionCharts Technologies LLP
 * License Information at <http://www.fusioncharts.com/license>
 *
 * @version //? write(JSON.parse(require('fs').readFileSync('./package.json')).version);
 */var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _libSvgToCanvas=__webpack_require__(235);var _jpegToPdf=__webpack_require__(237);var _exportUtils=__webpack_require__(238);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var isObject=function isObject(obj){return(typeof obj==="undefined"?"undefined":_typeof(obj))==="object"},getBackgroundColor=function getBackgroundColor(chartInstance){var DEFAULT_BG_COLOR="#FFFFFF";var containerBgOpacity=(0,_lib.pluckNumber)(chartInstance.options.containerBackgroundOpacity,1);if(chartInstance.jsVars.transparent||containerBgOpacity===0){return""}else{return chartInstance.options.containerBackgroundColor||DEFAULT_BG_COLOR}},getBackgroundAlpha=function getBackgroundAlpha(chartInstance){if(chartInstance.jsVars.transparent){return 0}else{return(0,_lib.pluckNumber)(chartInstance.options.containerBackgroundOpacity,1)+""}},IMAGEDATA="IMAGE-DATA",xAttrRegx=/\s\bx\b=['"][^'"]+?['"]/gi,yAttrRegx=/\s\by\b=['"][^'"]+?['"]/gi,win=window,doc=win.document,DEFAULT_EXPORT_URL=win.location.protocol==="https:"?"https://export.api3.fusioncharts.com/":"http://export.api3.fusioncharts.com/",DEFAULT_LOG_URL=win.location.protocol==="https:"?"https://export.api3.fusioncharts.com/api/v1.0/logs":"http://export.api3.fusioncharts.com/api/v1.0/logs",isIOS=win.navigator.userAgent.match(/ (iPad|iPhone|iPod)/g);var ExportModule=function(_FCExtensionInterface){_inherits(ExportModule,_FCExtensionInterface);function ExportModule(){_classCallCheck(this,ExportModule);var _this=_possibleConstructorReturn(this,_FCExtensionInterface.call(this));_this.config={exportOption:{},chartConfig:{caption:"",subcaption:"",width:"",height:""}};return _this}ExportModule.prototype.getName=function getName(){return"exportModule"};ExportModule.prototype.getType=function getType(){return"extension"};ExportModule.prototype.configureMenuBar=function configureMenuBar(exportMenu){var exporter=this,isbtoaSupported=!!win.btoa,exportString="Export As ",exportFormats=exporter.getFromEnv("chart-attrib").exportformats,exportTypes=void 0,exportParam=void 0,type=void 0,i=void 0,length=void 0,fn=void 0,exportMap={PNG:exportString+_exportUtils.EXPORTFORMAT.PNG.toUpperCase(),JPG:exportString+_exportUtils.EXPORTFORMAT.JPG.toUpperCase(),PDF:exportString+_exportUtils.EXPORTFORMAT.PDF.toUpperCase(),SVG:exportString+_exportUtils.EXPORTFORMAT.SVG.toUpperCase(),XLS:exportString+_exportUtils.EXPORTFORMAT.XLS.toUpperCase()},exportOptionObj=void 0,list=[],usrExportType=void 0;if(exporter.config.exportOption.exportenabled){fn=function fn(exportTypeName){return function(){exporter.config.exportOption.exportformat=exportTypeName;exporter.exportChart({})}};if(exportFormats){exportTypes=exportFormats.split("|");for(i=0,length=exportTypes.length;i<length;i++){exportParam=exportTypes[i].split("=");type=exportParam[0].toUpperCase();exportMap[type]&&(exportMap[type]=exportParam[1]||exportMap[type]);exportMap[type]&&(usrExportType||(usrExportType={}))&&(usrExportType[type]=true)}}for(type in exportMap){if(type==="XLS"&&!isbtoaSupported||usrExportType&&!usrExportType[type]){continue}exportOptionObj={};exportOptionObj[exportMap[type]]={handler:fn(type),action:"click"};list.push(exportOptionObj)}exportMenu.appendAsList(list)}};ExportModule.prototype.configure=function configure(config){var chartMenuList=this.getFromEnv("chartMenuList"),chartInstance=this.getFromEnv("chartInstance"),exportConfig=this.config,exportChartConfig=exportConfig.chartConfig,exportOption=exportConfig.exportOption;config=config.chartConfig;config.caption&&(exportChartConfig.caption=(0,_lib.pluck)(config.caption,""));config.subcaption&&(exportChartConfig.subcaption=(0,_lib.pluck)(config.subcaption,""));exportOption.exportenabled=(0,_lib.pluckNumber)(config.exportenabled,0);exportOption.exportshowmenuitem=(0,_lib.pluckNumber)(config.exportshowmenuitem,1);exportOption.exportformat=(0,_lib.pluck)(config.exportformat,_exportUtils.EXPORTFORMAT.PNG);exportOption.exporthandler=(0,_lib.pluck)(config.html5exporthandler,config.exporthandler,DEFAULT_EXPORT_URL);exportOption.exportaction=function(){var exportAction=void 0;if(config.exportaction&&typeof config.exportaction==="string"){exportAction=config.exportaction.toLowerCase();return[_exportUtils.EXPORTACTION.DOWNLOAD,_exportUtils.EXPORTACTION.SAVE,_exportUtils.EXPORTACTION.DOWNLOADSAVE].indexOf(exportAction)>=0?exportAction:_exportUtils.EXPORTACTION.DOWNLOAD}else{return _exportUtils.EXPORTACTION.DOWNLOAD}}();exportOption.exporttargetwindow=(0,_lib.pluck)(config.exporttargetwindow,isIOS?"_blank":"_self");exportOption.exportfilename=(0,_lib.pluck)(config.exportfilename,"FusionCharts");exportOption.exportparameters=(0,_lib.pluck)(config.exportparameters,"");exportOption.exportcallback=(0,_lib.pluck)(config.exportcallback,"");exportOption.exportwithimages=(0,_lib.pluckNumber)(config.exportwithimages,1);exportOption.exportmode=function(){var exportMode=void 0;if(typeof config.exportatclientside!=="undefined"){exportMode={1:_exportUtils.EXPORTMODE.AUTO,0:_exportUtils.EXPORTMODE.AUTO}[config.exportatclientside]}exportMode=config.exportmode||exportMode||_exportUtils.EXPORTMODE.AUTO;exportMode=exportMode.toLowerCase();return exportMode}();exportOption.logenabled=(0,_lib.pluckNumber)(config.logenabled,0);exportOption.loghandler=(0,_lib.pluck)(config.html5loghandler,config.loghandler,DEFAULT_LOG_URL);exportOption.logmode=function(){var logMode=config.logmode;if(typeof logMode!=="undefined"&&typeof logMode==="string"&&logMode.toUpperCase()in _exportUtils.LOGMODE){return _exportUtils.LOGMODE[logMode.toUpperCase()]}else{return _exportUtils.LOGMODE.AUTO}}();exportOption.bgcolor=getBackgroundColor(chartInstance);exportOption.bgalpha=getBackgroundAlpha(chartInstance);if(exportOption.exportshowmenuitem&&chartMenuList){this.configureMenuBar(chartMenuList)}};ExportModule.prototype.exportChart=function exportChart(exportOption){var chartInstance=this.getFromEnv("chartInstance"),chart=this.getFromEnv("chart"),options=this.config.exportOption,exportOptionsLowerKeys=isObject(exportOption)&&function(object){var newObject={},key=void 0;for(key in object){newObject[key.toLowerCase()]=object[key]}return newObject}(exportOption)||{},optionsExport=(0,_lib.extend2)((0,_lib.extend2)({},options),exportOptionsLowerKeys),exportFormat=(optionsExport.exportformat||_exportUtils.EXPORTFORMAT.PNG).toLowerCase(),exportHandler=optionsExport.exporthandler,exportAction=optionsExport.exportaction,exportTargetWindow=optionsExport.exporttargetwindow||"",exportFileName=optionsExport.exportfilename,exportParameters=optionsExport.exportparameters,exportCallback=optionsExport.exportcallback,exportWithImages=optionsExport.exportwithimages,exportMode=optionsExport.exportmode,logEnabled=optionsExport.logenabled,logHandler=optionsExport.loghandler,logMode=optionsExport.logmode,xlsArr=void 0,csv=void 0,excelUri=void 0,self=this,undef=void 0;chart.fireChartInstanceEvent("beforeExport",optionsExport,undef,function(){var chartId=chartInstance.id,chartCaption=self.config.chartConfig.caption,chartSubcaption=self.config.chartConfig.subcaption,paper=this.apiInstance.getFromEnv("paper"),useCanvas=this.apiInstance.getFromEnv("core-options")["export"].useCanvas,postData=void 0,svg=void 0,svgForClientSideExport=void 0,chartMenuBar=chart.getChildren("chartMenuBar"),chartMenuBarGroup=void 0,isCanvasSupported=(0,_libSvgToCanvas.isCanvasElemSupported)(),clientSideExportedEventsParam={DOMId:chartId,height:paper.height,width:paper.width,fileName:exportFileName+"."+exportFormat,statusCode:undef,statusMessage:undef,notice:undef},exportOptionObject={exportAction:exportAction,exportTargetWindow:exportTargetWindow,exportCallback:exportCallback,fusionCharts:chartInstance,paper:paper,chartId:chartId,exportHandler:exportHandler,logEnabled:logEnabled,logMode:logMode,logHandler:logHandler},createPostDataForExport=function createPostDataForExport(streamType,streamValue,configuredExportAction){var exportActionNewStr=void 0,exportActionOldStr=void 0,parameters=void 0,_logEnabled=void 0;configuredExportAction=configuredExportAction||exportAction;exportActionNewStr=exportAction;exportActionOldStr=(0,_exportUtils.createExportActionOldString)(exportAction);parameters=["exportfilename="+exportFileName,"exportformat="+exportFormat,"exportaction="+exportActionOldStr,"exportactionnew="+exportActionNewStr,"configuredexportaction="+configuredExportAction,"exportparameters="+exportParameters].join("|");_logEnabled=!!logEnabled;if(logMode===_exportUtils.LOGMODE.CLIENT){_logEnabled=false}return{charttype:chartInstance.chartType(),stream_type:streamType||"",stream:streamValue||"",meta_bgColor:optionsExport.bgcolor||"",meta_bgAlpha:optionsExport.bgalpha||"1",meta_DOMId:chartInstance.id,meta_width:paper.width||self.config.chartConfig.width,meta_height:paper.height||self.config.chartConfig.height,chart_caption:chartCaption,chart_sub_caption:chartSubcaption,is_single_export:true,is_full_version:!true,version:_lib.PROJECT_VERSION,user_time_zone:-(new Date).getTimezoneOffset(),log_enabled:_logEnabled,parameters:parameters}},createPostDataForLog=function createPostDataForLog(){var exportActionNewStr=exportAction;return{chartType:chartInstance.chartType(),chartCaption:chartCaption,chartSubCaption:chartSubcaption,isSingleExport:true,isFullVersion:!true,exportAction:exportActionNewStr,userTimeZone:-(new Date).getTimezoneOffset(),exportFileName:[exportFileName,exportFormat].join("."),exportFormat:exportFormat,version:_lib.PROJECT_VERSION}},noPrepareAndExportData=function noPrepareAndExportData(svg){var postData=createPostDataForExport(_exportUtils.EXPORTFORMAT.SVG,svg);(0,_libSvgToCanvas.downloadCharts)(null,null,null,postData,exportOptionObject)},prepareAndExportData=function prepareAndExportData(svg){var canvas=void 0,postData=void 0,undownloadableImageFlag=(0,_exportUtils.hasUndownloadableImage)(svg);if(_libSvgToCanvas.browserDetails.hasCanvas&&typeof win.btoa!=="undefined"){canvas=doc.createElement("canvas");canvas.width=paper.width;canvas.height=paper.height;svg=(0,_exportUtils.embedImagesWithNonDataURL)(svg);svgForClientSideExport=(0,_exportUtils.replaceImagesWithNonDataUrl)(svgForClientSideExport);if(undownloadableImageFlag||exportFormat===_exportUtils.EXPORTFORMAT.SVG){postData=createPostDataForExport(_exportUtils.EXPORTFORMAT.SVG,svg);(0,_libSvgToCanvas.downloadCharts)(null,null,null,postData,exportOptionObject)}else{(0,_libSvgToCanvas.drawSvgOnCanvas)({svg:svgForClientSideExport,canvas:canvas,x:0,y:0,width:paper.width,height:paper.height,useCanvas:useCanvas},function(){var dataURI=void 0;switch(exportFormat){case _exportUtils.EXPORTFORMAT.PNG:dataURI=canvas.toDataURL("image/png");break;case _exportUtils.EXPORTFORMAT.JPEG:dataURI=canvas.toDataURL("image/jpeg");break;case _exportUtils.EXPORTFORMAT.PDF:(0,_jpegToPdf.JpegToPdf)(paper.height,paper.width);(0,_jpegToPdf.addImage)(canvas.toDataURL("image/jpeg"));dataURI=(0,_jpegToPdf.getDataUrl)();break;default:dataURI=canvas.toDataURL("image/jpeg");break}postData=createPostDataForExport(IMAGEDATA,dataURI);(0,_libSvgToCanvas.downloadCharts)(null,null,null,postData,exportOptionObject)})}}else{noPrepareAndExportData(svg)}},getImageDataUrl=function getImageDataUrl(type,callback,options){var canvas=void 0;canvas=doc.createElement("canvas");canvas.width=paper.width;canvas.height=paper.height;(0,_libSvgToCanvas.drawSvgOnCanvas)({svg:svgForClientSideExport,canvas:canvas,x:0,y:0,width:paper.width,height:paper.height,useCanvas:useCanvas},function(){switch(type){case _exportUtils.EXPORTFORMAT.PNG:callback(type,canvas.toDataURL("image/png"),exportFileName,options);break;case _exportUtils.EXPORTFORMAT.JPEG:callback(type,canvas.toDataURL("image/jpeg"),exportFileName,options);break;case _exportUtils.EXPORTFORMAT.PDF:callback(type,canvas.toDataURL("image/jpeg"),exportFileName,options);break;default:callback(type,canvas.toDataURL("image/jpeg"),exportFileName,options);break}})},prepareClientSideDownload=function prepareClientSideDownload(exportFormat,imageUrl,exportFileName,options,exportMode){var imageName=exportFileName+"."+exportFormat;if(exportFormat===_exportUtils.EXPORTFORMAT.PDF){(0,_jpegToPdf.JpegToPdf)(paper.height,paper.width);(0,_jpegToPdf.addImage)(imageUrl);imageUrl=(0,_jpegToPdf.getDataUrl)()}if(exportMode===_exportUtils.EXPORTMODE.AUTO){postData=createPostDataForExport(IMAGEDATA,imageUrl)}else{postData=null}(0,_libSvgToCanvas.downloadCharts)("url",imageUrl,imageName,postData,options)},saveAfterProcessingAtClientSide=function saveAfterProcessingAtClientSide(svg,options,callback){var svgDataURI=void 0,callbackModified=void 0;if(exportFormat===_exportUtils.EXPORTFORMAT.SVG){svgDataURI=(0,_exportUtils.svgStrToDataUrl)(svg);callback(svgDataURI,options)}else{callbackModified=function callbackModified(){callback(arguments[1],options)};getImageDataUrl(exportFormat,callbackModified,options)}},exportAtClientSide=function exportAtClientSide(svg,options,exportMode){var imageName=void 0,svgDataURI=void 0,prepareClientSideDownloadModified=void 0;imageName=exportFileName+"."+exportFormat;if(exportFormat===_exportUtils.EXPORTFORMAT.SVG){svgDataURI=(0,_exportUtils.svgStrToDataUrl)(svg);if(exportMode===_exportUtils.EXPORTMODE.AUTO){postData=createPostDataForExport(IMAGEDATA,svgDataURI)}else{postData=null}(0,_libSvgToCanvas.downloadCharts)("url",svgDataURI,imageName,postData,options)}else{prepareClientSideDownloadModified=function prepareClientSideDownloadModified(){prepareClientSideDownload(arguments[0],arguments[1],arguments[2],arguments[3],exportMode)};getImageDataUrl(exportFormat,prepareClientSideDownloadModified,options)}},createXlsArr=function createXlsArr(){var count=0;xlsArr=[];csv.replace(/[^\r\n]+/g,function(match){xlsArr[count]=[];xlsArr[count]=match.split(",").map(function(x){return x.replace(/"/g,"")});count+=1})},getExcelData=function getExcelData(){var base64=function base64(s){return win.btoa(win.unescape(encodeURIComponent(s)))},uri="data:application/vnd.ms-excel;base64,";function getData(){var tags=void 0,thead=void 0,tbody=void 0,i=void 0,j=void 0,length=void 0,len=void 0;if(!xlsArr.length){return""}tags="<table align='center' >";for(i=0,len=xlsArr.length;i<len;i+=1){if(i===0){thead="<thead valign='top'><tr>";for(j=0,length=xlsArr[i].length;j<length;j+=1){thead+="<th>"+xlsArr[i][j]+"</th>"}thead+="</tr></thead>";tbody="<tbody>"}else{tbody+="<tr>";for(j=0,length=xlsArr[i].length;j<length;j+=1){tbody+="<td>"+xlsArr[i][j]+"</td>"}tbody+="</tr>"}}tbody+="</tbody>";return tags+thead+tbody+"</table>"}return uri+base64('<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">'+"<html xmlns:o='urn:schemas-microsoft-com:office:office'"+"xmlns:x='urn:schemas-microsoft-com:office:excel'"+"xmlns='http://www.w3.org/TR/REC-html40'><head>\x3c!--[if gte mso 9]><xml>"+"<x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name>"+"<x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet>"+"</x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e"+'<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body>'+getData()+"</body></html>")},raiseEventExportDataReady=function raiseEventExportDataReady(postData){chart.fireChartInstanceEvent("exportDataReady",postData)},logSeparatelyIfLogModeCLient=function logSeparatelyIfLogModeCLient(logMode){if(logMode===_exportUtils.LOGMODE.CLIENT){(0,_exportUtils.logCharts)(createPostDataForLog(),exportOptionObject)}},browserCanSelfDownload=void 0,configuredExportAction=void 0,dontCacheImages=void 0;if(exportFormat==="xls"){if(typeof win.btoa!=="undefined"){csv=chartInstance.getCSVData()}else{chart.fireChartInstanceEvent("exportCancelled",optionsExport);return false}raiseEventExportDataReady();createXlsArr();excelUri=getExcelData();browserCanSelfDownload=typeof win.btoa!=="undefined"&&(_libSvgToCanvas.browserDetails.name==="Chrome"||_libSvgToCanvas.browserDetails.name==="Firefox"||_libSvgToCanvas.browserDetails.name==="Edge"||_libSvgToCanvas.browserDetails.name==="ie");if(browserCanSelfDownload){if(exportAction===_exportUtils.EXPORTACTION.DOWNLOAD||exportAction===_exportUtils.EXPORTACTION.DOWNLOADSAVE){(0,_libSvgToCanvas.downloadCharts)("url",excelUri,exportFileName+"."+exportFormat,null,exportOptionObject);chart.fireChartInstanceEvent("exported",clientSideExportedEventsParam)}if(exportAction===_exportUtils.EXPORTACTION.SAVE||exportAction===_exportUtils.EXPORTACTION.DOWNLOADSAVE){configuredExportAction=exportAction;if(exportAction===_exportUtils.EXPORTACTION.DOWNLOADSAVE){exportAction=_exportUtils.EXPORTACTION.SAVE}postData=createPostDataForExport(IMAGEDATA,excelUri,configuredExportAction);(0,_libSvgToCanvas.downloadCharts)(null,null,null,postData,exportOptionObject);logSeparatelyIfLogModeCLient(logMode)}else if(logMode!==_exportUtils.LOGMODE.SERVER){(0,_exportUtils.logCharts)(createPostDataForLog(),exportOptionObject)}}else{postData=createPostDataForExport(IMAGEDATA,excelUri);(0,_libSvgToCanvas.downloadCharts)(null,null,null,postData,exportOptionObject);logSeparatelyIfLogModeCLient(logMode)}}else{chartMenuBarGroup=chartMenuBar.config.group;chartMenuBarGroup.attr("visibility","hidden");svg=paper.toSVG(exportWithImages);svgForClientSideExport=paper.toSVG(exportWithImages&&isCanvasSupported);chartMenuBarGroup.attr("visibility","visible");svg=svg.replace(/(\sd\s*=\s*["'])[M\s\d\.]*(["'])/gi,"$1M 0 0 L 0 0$2");svg=svg.replace(/NS\d+:/gi,"xlink:");svgForClientSideExport=svgForClientSideExport.replace(/NS\d+:/gi,"xlink:");svgForClientSideExport=svgForClientSideExport.replace(/(\sd\s*=\s*["'])[M\s\d\.]*(["'])/gi,"$1M 0 0 L 0 0$2");svgForClientSideExport=svgForClientSideExport.replace(/(xlink:title\s*=\s*)['"].*["']/gi,"");svg=svg.replace(/[\w\-]+\=\"undefined\"/gi,"");svg=svg.replace(/(xlink:title\s*=\s*)['"].*["']/gi,"");svg=svg.replace(/rgba\(([^\)]+)\)/gi,function(RGBStr){return"#"+new _libGraphics.RGBtoHex(RGBStr.split(","))});svg=svg.replace(/<svg[^>]+/i,function(str){if(!str.match(/height/i)&&(paper.height||self.config.chartConfig.height)){str+=' height="'+(paper.height||self.config.chartConfig.height)+'"'}if(!str.match(/width/i)&&(paper.width||self.config.chartConfig.width)){str+=' width="'+(paper.width||self.config.chartConfig.width)+'"'}return str});svg=svg.replace(/(([\w]+\-)?opacity\s*=\s*)['"][\d\.]+e[\-\+][\d]+["']/gi,'$1"0.001"');svg=svg.replace(/(([\w]+\-)?opacity\s*:\s*)[\d\.]+e[\-\+][\d]+/gi,"$10.001");svg=svg.replace(/<text[^\>]+/gi,function(fullText){fullText=fullText.replace(/stroke\=[\"\']([a-z0-9\#]+)?[\"\']/gi,"");fullText=fullText.replace(/stroke\s*\:\s*([a-z0-9\#]+)?;?/gi,"");fullText=fullText.replace(/stroke-width\=[\"\']([a-z0-9\#]+)?[\"\']/gi,"");fullText=fullText.replace(/stroke-width\s*\:\s*([a-z0-9\#]+)?;?/gi,"");fullText=fullText.replace(/stroke-opacity\=[\"\']([a-z0-9\#]+)?[\"\']/gi,"");fullText=fullText.replace(/stroke-opacity\s*\:\s*([a-z0-9\#]+)?;?/gi,"");fullText=fullText.replace(/(<text[^\>]+fill\=)([\"\'][^\"\']+[\"\'])([^\>]+)/gi,'$1$2 stroke=$2 stroke-width="0.2"$3');fullText=fullText.replace(/(<text[^\>]+fill-opacity\=)([\"\'][^\"\']+[\"\'])([^\>]+)/gi,"$1$2 stroke-opacity=$2 $3");return fullText});svg=svg.replace(/<(\b[^<>s\s]+\b)[^\>]+?opacity\s*=\s*['"][^1][^\>]+?(\/>|>[\s\r\n]*?<\/\1>)/gi,function(fullText,tagName){var recrXCommand=xAttrRegx.exec(fullText)||"",recrYCommand=yAttrRegx.exec(fullText)||"",prop=void 0;prop=' opacity="1" stroke-opacity="1" fill="#cccccc" stroke-width="0" r="0"';prop+=' height="0.5" width="0.5" d="M 0 0 L 1 1" />';return fullText+"<"+tagName+recrXCommand+recrYCommand+prop});svg=(0,_exportUtils.makeImageUrlsAbsolute)(svg);svgForClientSideExport=(0,_exportUtils.makeImageUrlsAbsolute)(svgForClientSideExport);dontCacheImages=exportMode===_exportUtils.EXPORTMODE.SERVER;(0,_exportUtils.cacheAllImages)(svg,dontCacheImages,function(){postData=createPostDataForExport(_exportUtils.EXPORTFORMAT.SVG,svg);raiseEventExportDataReady(postData);postData=null;var configuredExportAction=void 0,browserCanSelfDownload=typeof win.btoa!=="undefined"&&(_libSvgToCanvas.browserDetails.name==="Chrome"||_libSvgToCanvas.browserDetails.name==="Firefox"||_libSvgToCanvas.browserDetails.name==="Edge"||_libSvgToCanvas.browserDetails.name==="ie"),undownloadableImageFlag=(0,_exportUtils.hasUndownloadableImage)(svg);if((exportMode===_exportUtils.EXPORTMODE.CLIENT||exportMode===_exportUtils.EXPORTMODE.AUTO&&!undownloadableImageFlag)&&browserCanSelfDownload){svgForClientSideExport=(0,_exportUtils.replaceImagesWithNonDataUrl)(svgForClientSideExport);if(exportAction===_exportUtils.EXPORTACTION.DOWNLOAD||exportAction===_exportUtils.EXPORTACTION.DOWNLOADSAVE){exportAtClientSide(svgForClientSideExport,exportOptionObject,exportMode);chart.fireChartInstanceEvent("exported",clientSideExportedEventsParam)}if(exportAction===_exportUtils.EXPORTACTION.SAVE||exportAction===_exportUtils.EXPORTACTION.DOWNLOADSAVE){configuredExportAction=exportAction;if(exportAction===_exportUtils.EXPORTACTION.DOWNLOADSAVE){exportAction=_exportUtils.EXPORTACTION.SAVE}saveAfterProcessingAtClientSide(svgForClientSideExport,exportOptionObject,function(dataUri,exportOptionObject){postData=createPostDataForExport(IMAGEDATA,dataUri,configuredExportAction);(0,_libSvgToCanvas.downloadCharts)(null,null,null,postData,exportOptionObject);logSeparatelyIfLogModeCLient(logMode)});chart.fireChartInstanceEvent("exported",clientSideExportedEventsParam)}else if(logMode!==_exportUtils.LOGMODE.SERVER){(0,_exportUtils.logCharts)(createPostDataForLog(),exportOptionObject)}}else if(exportMode===_exportUtils.EXPORTMODE.AUTO){prepareAndExportData(svg);logSeparatelyIfLogModeCLient(logMode)}else if(exportMode===_exportUtils.EXPORTMODE.SERVER){noPrepareAndExportData(svg);logSeparatelyIfLogModeCLient(logMode)}})}},function(){chart.fireChartInstanceEvent("exportCancelled",optionsExport)})};return ExportModule}(_componentInterface2["default"]);exports["default"]=ExportModule},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.isCanvasElemSupported=exports.drawSvgOnCanvas=exports.browserDetails=exports.downloadCharts=undefined;var _svgdecanvo=__webpack_require__(236);var _svgdecanvo2=_interopRequireDefault(_svgdecanvo);var _lib=__webpack_require__(118);var _eventApi=__webpack_require__(124);var _ajax=__webpack_require__(166);var _ajax2=_interopRequireDefault(_ajax);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var win=window,Image=win.Image,doc=document,UNDEF=void 0,EXPORTACTION={DOWNLOAD:"download",SAVE:"save",DOWNLOADSAVE:"download-save"},isCanvasElemSupported=function isCanvasElemSupported(){var elem=doc.createElement("canvas");return!!(elem.getContext&&elem.getContext("2d"))},getBrowserDetails=function getBrowserDetails(){var userAgent=win.navigator.userAgent,index;if((index=userAgent.indexOf("Edge"))!==-1){return{name:"Edge",version:userAgent.substring(index+5,index+11)}}if((index=userAgent.indexOf("Chrome"))!==-1){return{name:"Chrome",version:userAgent.substring(index+7,index+11)}}if((index=userAgent.indexOf("MSIE"))!==-1){return{name:"ie",version:userAgent.substring(index+5,index+9)}}if((index=userAgent.indexOf("rv"))!==-1&&userAgent.indexOf("Trident")!==-1){return{name:"ie",version:userAgent.substring(index+5,index+9)}}if((index=userAgent.indexOf("Firefox"))!==-1){return{name:"Firefox",version:userAgent.substring(index+8,index+12)}}if((index=userAgent.indexOf("Safari"))!==-1){return{name:"Safari",version:userAgent.substring(index+7,index+11)}}return{name:"default",version:"Not Known"}},browserDetails=getBrowserDetails(),sendExportData=function sendExportData(postData,options){var item,form,frameid,iframe,ajax,FORM="form",POST="POST",INPUT="input",HIDDEN="hidden",exportAction=options.exportAction,exportTargetWindow=options.exportTargetWindow,exportCallback=options.exportCallback,fusionCharts=options.fusionCharts,chart=fusionCharts.apiInstance,paper=options.paper,chartId=options.chartId,exportHandler=options.exportHandler,parameters=postData.parameters,exportFileName,exportFormat,exportIframe;if(exportAction===EXPORTACTION.DOWNLOAD||exportAction===EXPORTACTION.DOWNLOADSAVE){if(/(webkit|gecko)/gi.test(win.navigator.userAgent)&&exportTargetWindow==="_self"){exportTargetWindow=frameid=chartId+"export_iframe";if(!exportIframe){exportIframe=iframe=(0,_lib.createElement)("IFRAME",{name:frameid,width:"1px",height:"1px"},doc.body);iframe.style.cssText="position:absolute;left:-10px;top:-10px;"}}form=(0,_lib.createElement)(FORM,{method:POST,action:exportHandler,target:exportTargetWindow,style:"display:none;"},doc.body);for(item in postData){(0,_lib.createElement)(INPUT,{type:HIDDEN,name:item,value:postData[item]},form)}form.submit();doc.body.removeChild(form);form=UNDEF;exportFileName=parameters.match(/exportfilename=([^|]+)/)[1];exportFormat=parameters.match(/exportformat=([^|]+)/)[1];(0,_eventApi.triggerEvent)("exported",chart,{DOMId:chartId,height:paper.height,width:paper.width,fileName:exportFileName+"."+exportFormat,statusCode:UNDEF,statusMessage:UNDEF,notice:UNDEF});exportCallback&&win[exportCallback]&&typeof win[exportCallback]==="function"&&win[exportCallback]({statusCode:1,statusMessage:"success",DOMId:chartId,width:paper&&paper.width,height:paper&&paper.height});return true}else{ajax=new _ajax2["default"](function(resp){var responseObj={};resp.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function($0,$1,$2,$3){responseObj[$1]=$3});exportCallback&&win[exportCallback]&&typeof win[exportCallback]==="function"&&win[exportCallback](responseObj);(0,_eventApi.triggerEvent)("exported",chart,responseObj)},function(err){var responseObj={statusCode:0,statusMessage:"failure",error:err,DOMId:chartId,width:paper&&paper.width,height:paper&&paper.height};exportCallback&&win[exportCallback]&&typeof win[exportCallback]==="function"&&win[exportCallback](responseObj);(0,_eventApi.triggerEvent)("exported",chart,responseObj,[responseObj])});for(item in postData){postData.hasOwnProperty(item)&&(postData[item]=encodeURIComponent(postData[item]))}ajax.post(exportHandler,postData)}},dataurlToBlob=function dataurlToBlob(dataURI){var byteString,mimeString,ia,i;if(dataURI.split(",")[0].indexOf("base64")>=0){byteString=win.atob(dataURI.split(",")[1])}else{byteString=win.unescape(dataURI.split(",")[1])}mimeString=dataURI.split(",")[0].split(":")[1].split(";")[0];ia=new Uint8Array(byteString.length);for(i=0;i<byteString.length;i++){ia[i]=byteString.charCodeAt(i)}return new win.Blob([ia],{type:mimeString})},makeClientSideDownload=function makeClientSideDownload(type,data,name){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var browser=getBrowserDetails(),chartId=options.chartId,exportCallback=options.exportCallback,paper=options.paper,blobObject,a;if(browser.name==="Chrome"||browser.name==="Firefox"){if(type==="blob"){data=win.URL.createObjectURL(data)}a=doc.createElement("a");a.download=name;a.href=data;doc.body.appendChild(a);a.onclick=function(){exportCallback&&win[exportCallback]&&typeof win[exportCallback]==="function"&&win[exportCallback]({statusCode:1,statusMessage:"success",DOMId:chartId,width:paper&&paper.width,height:paper&&paper.height});a.parentNode.removeChild(a)};a.click()}else if(browser.name==="ie"||browser.name==="Edge"){if(win.navigator.msSaveBlob){if(type==="url"){blobObject=dataurlToBlob(data)}else{blobObject=data}if(win.navigator.msSaveBlob(blobObject,name)){exportCallback&&win[exportCallback]&&typeof win[exportCallback]==="function"&&win[exportCallback]({statusCode:1,statusMessage:"success",DOMId:chartId,width:paper&&paper.width,height:paper&&paper.height})}}}},byteLength=function byteLength(str){var s,code,i;s=str.length;for(i=str.length-1;i>=0;i--){code=str.charCodeAt(i);if(code>127&&code<=2047){s++}else if(code>2047&&code<=65535){s+=2}if(code>=56320&&code<=57343){i--}}return s},isDataURITooLong=function isDataURITooLong(datauri){var maxChromeByteSize;if(browserDetails.name.toLowerCase()==="Chrome".toLowerCase()){if(byteLength(datauri)>maxChromeByteSize){return true}}return false},downloadCharts=function downloadCharts(type,data,name,postData,options){if(data&&!isDataURITooLong(data)){makeClientSideDownload(type,data,name,options)}else if(postData){sendExportData(postData,options)}},addSVGHeader=function addSVGHeader(svgStr){var doctype='<?xml version="1.0" standalone="no"?>'+'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"'+' "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',finalSvgStr=doctype+svgStr;return finalSvgStr},svgStrToDataUrl=function svgStrToDataUrl(svgStr){var finalSvgStr=addSVGHeader(svgStr);finalSvgStr="data:image/svg+xml;base64,"+win.btoa(win.unescape(encodeURIComponent(finalSvgStr)));return finalSvgStr},drawSvgOnCanvas=function drawSvgOnCanvas(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var callback=arguments[1];var svg=options.svg,canvas=options.canvas,x=options.x,y=options.y,width=options.width,height=options.height,useCanvas=options.useCanvas;if(browserDetails.name==="ie"||browserDetails.name==="Edge"||useCanvas){new _svgdecanvo2["default"](svg,canvas,x,y,width,height,function(){callback()})}else{var ctx,image,svgDataURI;svgDataURI=svgStrToDataUrl(svg);ctx=canvas.getContext("2d");image=new Image;image.onload=function(){ctx.drawImage(image,x,y,width,height);callback()};image.onerror=function(){(0,_eventApi.raiseWarning)(this,"","run","libSVGToCanvas:drawSvgOnCanvas","Unable to load image for canvas drawing. Aborting attempt.")};image.src=svgDataURI}};browserDetails.hasCanvas=isCanvasElemSupported();browserDetails.hasSvg=_lib.hasSVG;exports.downloadCharts=downloadCharts;exports.browserDetails=browserDetails;exports.drawSvgOnCanvas=drawSvgOnCanvas;exports.isCanvasElemSupported=isCanvasElemSupported},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var win=typeof window!=="undefined"?window:null,doc=win.document,drawLib={},utilLib={},_SvgDeCanvo;_SvgDeCanvo=function SvgDeCanvo(svgElem,canvasElem,x,y,width,height,callback){var BLANK="",store={svg:BLANK,context:BLANK,callBack:BLANK,imageArr:[],canvas:BLANK,dimention:{}};if(!(this instanceof _SvgDeCanvo)){throw new Error("This function should be used as class")}this._getStore=function(param){if(typeof store[param]!=="undefined"){return store[param]}else{return false}};this._setStore=function(param,value){if(typeof store[param]!=="undefined"){store[param]=value}};this._setStore("dimention",{x:x,y:y,width:width,height:height});if(svgElem){this.setSVG(svgElem)}if(canvasElem){this.setContext(canvasElem)}if(callback){this.setCallback(callback)}this.drawOnCanvas()};_SvgDeCanvo.prototype.setContext=function(canvasElem){var context;if(canvasElem.getContext&&canvasElem.getContext("2d")){context=canvasElem.getContext("2d");this._setStore("canvas",canvasElem);this._setStore("context",context)}else{throw new Error("Please provide valid canvas")}};_SvgDeCanvo.prototype.getContext=function(){return this._getStore("context")};_SvgDeCanvo.prototype.setSVG=function(svgElem){var svg;if(typeof svgElem.documentElement!=="undefined"){svg=svgElem;this._setStore("svg",svg)}else if(svgElem.substr(0,1)==="<"){svg=utilLib.StrToDom(svgElem);this._setStore("svg",svg)}else{throw new Error("Please provide valid SVG")}};_SvgDeCanvo.prototype.getSVG=function(){return this._getStore("svg")};_SvgDeCanvo.prototype.setCallback=function(callback){if(typeof callback==="function"){this._setStore("callBack",callback)}};_SvgDeCanvo.prototype.getCallback=function(){return this._getStore("callBack")};_SvgDeCanvo.prototype.drawOnCanvas=function(svgElem,canvasElem,x,y,width,height,callback){var context,svg,oriWidth,oriHeight,scaleX,scaleY,dimention,oriDimention;if(svgElem){this.setSVG(svgElem)}if(canvasElem){this.setContext(canvasElem)}if(callback){this.setCallback(callback)}canvasElem=canvasElem||this._getStore("canvas");dimention=this._getStore("dimention");callback=this.getCallback();context=this.getContext();svg=this.getSVG();if(!svg||!context){return}oriDimention=utilLib.getSvgDimention(svg);oriWidth=oriDimention.width;oriHeight=oriDimention.height;x=x||dimention.x||0;y=y||dimention.y||0;width=width||dimention.width||oriWidth;height=height||dimention.height||oriHeight;scaleX=oriDimention.width?width/oriWidth:1;scaleY=oriDimention.height?height/oriHeight:1;utilLib.startTransform("translate("+x+","+y+") scale("+scaleX+","+scaleY+")",context);context.save();context.fillStyle="#ffffff";context.fillRect(0,0,width,height);context.restore();utilLib.storeImagesInArr(this);utilLib.drawNodes([svg],[],this,context,function(){typeof callback==="function"&&callback();utilLib.resetTransform(context)})};drawLib.common=function(node,attrib,svgDeCanvo,context,callBack){var children=node.childNodes,fnName,i,styleArr,styleName,callBackFn=function callBackFn(){if(node.attributes){context.restore()}callBack&&callBack()};for(i in attrib){if(!attrib.hasOwnProperty(i)){continue}if(attrib[i].name==="class"||attrib[i].name==="id"){continue}if(attrib[i].name==="transform"||attrib[i].name==="clip-path"){continue}if(_typeof(attrib[i])==="object"&&node.attributes&&!node.attributes[attrib[i].name]){node.setAttribute([attrib[i].name],attrib[i].value)}}if(node.attributes&&node.attributes.style){styleArr=node.attributes.style.value.replace(/;$/,"").split(";");for(i in styleArr){if(!styleArr.hasOwnProperty(i)){continue}styleName=styleArr[i].split(":")[0].trim();if(!node.attributes[styleName]||node.attributes[styleName].value==="undefined"){try{node.setAttribute(styleName,styleArr[i].split(":")[1].trim())}catch(e){}}}}if(node.attributes){context.save();if(node.attributes.transform){utilLib.startTransform(node.attributes.transform.value,context)}if(node.attributes["clip-path"]){utilLib.applyClip(node.attributes["clip-path"].value,context,svgDeCanvo)}}if(children.length===0||children.length===1&&!children[0].tagName){if(typeof node.tagName!=="undefined"){fnName="draw"+node.tagName;if(drawLib[fnName]){if(node.attributes.display&&node.attributes.display.value==="none"){callBackFn()}else{drawLib[fnName](node,context,svgDeCanvo,"draw",callBackFn)}}else{callBackFn()}}else{callBackFn()}}else{utilLib.drawNodes(children,node.tagName==="svg"?[]:node.attributes,svgDeCanvo,context,callBackFn)}};drawLib.drawtext=function(elem,context,svgDeCanvo,pps,callBackFn){this.drawtspan(elem,context,svgDeCanvo,pps,callBackFn)};drawLib.drawtspan=function(elem,context,svgDeCanvo,pps,callBackFn){var text=elem.innerHTML||elem.textContent,x=elem.attributes.x?elem.attributes.x.value:0,y=elem.attributes.y?elem.attributes.y.value:0,dx=elem.attributes.dx?elem.attributes.dx.value:0,dy=elem.attributes.dy?elem.attributes.dy.value:0,defFontFamily="serief",defFontWeight="normal",defFontSize="16px",bBox=[],defCSSprop,fontFamily,fontWeight,textAlign,fontSize;if(doc.getElementsByTagName("body")[0]){defCSSprop=win.getComputedStyle(doc.getElementsByTagName("body")[0],null);if(defCSSprop.getPropertyValue("font-family")){defFontFamily=defCSSprop.getPropertyValue("font-family")}if(defCSSprop.getPropertyValue("font-weight")){defFontWeight=defCSSprop.getPropertyValue("font-weight")}if(defCSSprop.getPropertyValue("font-size")){defFontSize=defCSSprop.getPropertyValue("font-size")}}fontFamily=elem.attributes["font-family"]?elem.attributes["font-family"].value:defFontFamily;fontWeight=elem.attributes["font-weight"]?elem.attributes["font-weight"].value:defFontWeight;textAlign=elem.attributes["text-anchor"]?elem.attributes["text-anchor"].value:"start";fontSize=elem.attributes["font-size"]?elem.attributes["font-size"].value:defFontSize;x=Number(x)+Number(dx);y=Number(y)+Number(dy);text=text.trim();textAlign=textAlign==="middle"?"center":textAlign;context.save();context.font=fontWeight+" "+fontSize+" "+fontFamily;context.textAlign=textAlign;if(pps==="draw"){if(!elem.attributes.fill||elem.attributes.fill&&elem.attributes.fill.value!=="none"){utilLib.applyFillEffect(elem,context,svgDeCanvo,bBox);context.fillText(text,x,y);utilLib.endFillEffect(elem,context)}if(!elem.attributes.stroke||elem.attributes.stroke&&elem.attributes.stroke.value!=="none"){utilLib.applyStrokeEffect(elem,context,svgDeCanvo,bBox);context.strokeText(text,x,y);utilLib.endStrokeEffect(elem,context)}}context.restore();if(typeof callBackFn==="function"){callBackFn()}};drawLib.drawcircle=function(elem,context,svgDeCanvo,pps,callBackFn){var cx=Number(elem.attributes.cx.value),cy=Number(elem.attributes.cy.value),r=Number(elem.attributes.r.value),bBox=[];context.beginPath();context.arc(cx,cy,r,0,Math.PI*2);utilLib.bBoxFromPoint([cx,cx*1+r*1,cx*1-r*1],[cy,cy*1+r*1,cy*1-r*1],bBox);if(pps==="draw"){if(!elem.attributes.fill||elem.attributes.fill&&elem.attributes.fill.value!=="none"){utilLib.applyFillEffect(elem,context,svgDeCanvo,bBox);context.fill();utilLib.endFillEffect(elem,context)}if(!elem.attributes.stroke||elem.attributes.stroke&&elem.attributes.stroke.value!=="none"){utilLib.applyStrokeEffect(elem,context,svgDeCanvo,bBox);context.stroke();utilLib.endStrokeEffect(elem,context)}}context.closePath();if(typeof callBackFn==="function"){callBackFn()}};drawLib.drawrect=function(elem,context,svgDeCanvo,pps,callBackFn){var x=Number(elem.attributes.x.value),y=Number(elem.attributes.y.value),rx=elem.attributes.rx?Number(elem.attributes.rx.value):0,ry=elem.attributes.ry?Number(elem.attributes.ry.value):0,height=Number(elem.attributes.height.value),width=Number(elem.attributes.width.value),bBox=[];utilLib.bBoxFromPoint([x,x+width],[y,y+height],bBox);context.beginPath();context.moveTo(x+rx,y);context.lineTo(x+width-rx,y);context.quadraticCurveTo(x+width,y,x+width,y+ry);context.lineTo(x+width,y+height-ry);context.quadraticCurveTo(x+width,y+height,x+width-rx,y+height);context.lineTo(x+rx,y+height);context.quadraticCurveTo(x,y+height,x,y+height-ry);context.lineTo(x,y+ry);context.quadraticCurveTo(x,y,x+rx,y);if(pps==="draw"){if(!elem.attributes.fill||elem.attributes.fill&&elem.attributes.fill.value!=="none"){utilLib.applyFillEffect(elem,context,svgDeCanvo,bBox);context.fill();utilLib.endFillEffect(elem,context)}if(!elem.attributes.stroke||elem.attributes.stroke&&elem.attributes.stroke.value!=="none"){utilLib.applyStrokeEffect(elem,context,svgDeCanvo,bBox);context.stroke();utilLib.endStrokeEffect(elem,context)}}context.closePath();if(typeof callBackFn==="function"){callBackFn()}};drawLib.drawellipse=function(elem,context,svgDeCanvo,pps,callBackFn){var kappa=.5522848,cx=Number(elem.attributes.cx.value),cy=Number(elem.attributes.cy.value),rx=Number(elem.attributes.rx.value),ry=Number(elem.attributes.ry.value),ox=rx*kappa,oy=ry*kappa,xe=cx+rx,ye=cy+ry,bBox=[];context.beginPath();context.moveTo(cx-rx,cy);context.bezierCurveTo(cx-rx,cy-oy,cx-ox,cy-ry,cx,cy-ry);context.bezierCurveTo(cx+ox,cy-ry,xe,cy-oy,xe,cy);context.bezierCurveTo(xe,cy+oy,cx+ox,ye,cx,ye);context.bezierCurveTo(cx-ox,ye,cx-rx,cy+oy,cx-rx,cy);utilLib.bBoxFromPoint([cx+rx,cx-rx],[cy+ry,cy-ry],bBox);if(pps==="draw"){if(!elem.attributes.fill||elem.attributes.fill&&elem.attributes.fill.value!=="none"){utilLib.applyFillEffect(elem,context,svgDeCanvo,bBox);context.fill();utilLib.endFillEffect(elem,context)}if(!elem.attributes.stroke||elem.attributes.stroke&&elem.attributes.stroke.value!=="none"){utilLib.applyStrokeEffect(elem,context,svgDeCanvo,bBox);context.stroke();utilLib.endStrokeEffect(elem,context)}}context.closePath();if(typeof callBackFn==="function"){callBackFn()}};drawLib.drawimage=function(elem,context,svgDeCanvo,pps,callBackFn){var x=elem.attributes.x?Number(elem.attributes.x.value):0,y=elem.attributes.y?Number(elem.attributes.y.value):0,height=elem.attributes.height?Number(elem.attributes.height.value):0,width=elem.attributes.width?Number(elem.attributes.width.value):0,imgUrl,imageArr=svgDeCanvo._getStore("imageArr");context.save();if(elem.attributes.opacity){context.globalAlpha=elem.attributes.opacity.value}if(elem.attributes["xlink:href"]){imgUrl=elem.attributes["xlink:href"].value;if(imageArr[imgUrl].status==="complete"){context.drawImage(imageArr[imgUrl].obj,x,y,width,height);context.globalAlpha=1;context.restore();if(typeof callBackFn==="function"){callBackFn()}}else if(imageArr[imgUrl].status==="error"){context.globalAlpha=1;context.restore();if(typeof callBackFn==="function"){callBackFn()}}else if(imageArr[imgUrl].status==="progress"){imageArr[imgUrl].callback=function(){context.drawImage(imageArr[imgUrl].obj,x,y,width,height);context.globalAlpha=1;context.restore();if(typeof callBackFn==="function"){callBackFn()}};imageArr[imgUrl].errCallback=function(){context.globalAlpha=1;context.restore();if(typeof callBackFn==="function"){callBackFn()}}}else{context.globalAlpha=1;context.restore();if(typeof callBackFn==="function"){callBackFn()}}}else{context.globalAlpha=1;context.restore();if(typeof callBackFn==="function"){callBackFn()}}};drawLib.drawpath=function(elem,context,svgDeCanvo,pps,callBackFn){var subPath=elem.attributes.d.value.match(/[a-z][^a-z"]*/gi),bBox=[],a,cmdName,cmdDetails,cx=0,cy=0,lastPosition={},i;context.beginPath();for(a in subPath){if(!subPath.hasOwnProperty(a)){continue}cmdName=subPath[a].substring(0,1);cmdDetails=utilLib.getArgsAsArray(subPath[a].substring(1,subPath[a].length));switch(cmdName){case"M":cx=Number(cmdDetails[0]);cy=Number(cmdDetails[1]);context.moveTo(cx,cy);lastPosition.cx=cx;lastPosition.cy=cy;break;case"m":cx+=Number(cmdDetails[0]);cy+=Number(cmdDetails[1]);context.moveTo(cx,cy);lastPosition.cx=cx;lastPosition.cy=cy;break;case"L":for(i=0;cmdDetails[i];i+=2){utilLib.bBoxFromPoint([cx,cmdDetails[i]],[cy,cmdDetails[i+1]],bBox);cx=Number(cmdDetails[i]);cy=Number(cmdDetails[i+1]);context.lineTo(cx,cy)}break;case"l":for(i=0;cmdDetails[i];i+=2){utilLib.bBoxFromPoint([cx,cx*1+1*cmdDetails[i]],[cy,cy*1+1*cmdDetails[i+1]],bBox);cx+=Number(cmdDetails[i]);cy+=Number(cmdDetails[i+1]);context.lineTo(cx,cy)}break;case"V":for(i=0;cmdDetails[i];i+=1){utilLib.bBoxFromPoint([cx],[cy,cmdDetails[i]],bBox);cy=Number(cmdDetails[i]);context.lineTo(cx,cy)}break;case"v":for(i=0;cmdDetails[i];i+=1){utilLib.bBoxFromPoint([cx],[cy,cy*1+1*cmdDetails[i]],bBox);cy+=Number(cmdDetails[i]);context.lineTo(cx,cy)}break;case"H":for(i=0;cmdDetails[i];i+=1){utilLib.bBoxFromPoint([cx,cmdDetails[i]],[cy],bBox);cx=Number(cmdDetails[i]);context.lineTo(cx,cy)}break;case"h":for(i=0;cmdDetails[i];i+=1){utilLib.bBoxFromPoint([cx,cx*1+1*cmdDetails[i]],[cy],bBox);cx+=Number(cmdDetails[i]);context.lineTo(cx,cy)}break;case"Q":for(i=0;cmdDetails[i];i+=4){utilLib.qBezierBBox(cx,cy,cmdDetails[i],cmdDetails[i+1],cmdDetails[i+2],cmdDetails[i+3],bBox);context.quadraticCurveTo(Number(cmdDetails[i]),Number(cmdDetails[i+1]),Number(cmdDetails[i+2]),Number(cmdDetails[i+3]));cx=Number(cmdDetails[i+2]);cy=Number(cmdDetails[i+3])}break;case"q":for(i=0;cmdDetails[i];i+=4){utilLib.qBezierBBox(cx,cy,cx+1*cmdDetails[i],cy+1*cmdDetails[i+1],cx*1+1*cmdDetails[i+2],cy*1+1*cmdDetails[i+3],bBox);context.quadraticCurveTo(cx+1*cmdDetails[i],cy+1*cmdDetails[i+1],cx+=Number(cmdDetails[i+2]),cy+=Number(cmdDetails[i+3]))}break;case"C":for(i=0;cmdDetails[i];i+=6){utilLib.cBezierBBox(cx,cy,cmdDetails[i],cmdDetails[i+1],cmdDetails[i+2],cmdDetails[i+3],cmdDetails[i+4],cmdDetails[i+5],bBox);context.bezierCurveTo(cmdDetails[i],cmdDetails[i+1],cmdDetails[i+2],cmdDetails[i+3],cmdDetails[i+4],cmdDetails[i+5]);cx=Number(cmdDetails[i+4]);cy=Number(cmdDetails[i+5])}break;case"c":for(i=0;cmdDetails[i];i+=6){utilLib.cBezierBBox(cx,cy,cx+1*cmdDetails[i],cy*1+1*cmdDetails[i+1],cx+1*cmdDetails[i+2],cy*1+1*cmdDetails[i+3],cx+1*cmdDetails[i+4],cy*1+1*cmdDetails[i+5],bBox);context.bezierCurveTo(cx+Number(cmdDetails[i]),cy+Number(cmdDetails[i+1]),cx+Number(cmdDetails[i+2]),cy+Number(cmdDetails[i+3]),cx+=Number(cmdDetails[i+4]),cy+=Number(cmdDetails[i+5]))}break;case"a":case"A":for(i=0;cmdDetails[i];i+=7){var rx=Number(cmdDetails[i]),ry=Number(cmdDetails[i+1]),xAngle,aFlag,sFlag,ex,ey,x1,y1,signValue,s2sqrt,centx1,centy1,centx,centy,startAngle,dAngle,rErrFlag,radius,xShift,yShift;xAngle=Number(cmdDetails[i+2])*(Math.PI/180);aFlag=Number(cmdDetails[i+3]);sFlag=Number(cmdDetails[i+4]);ex=Number(cmdDetails[i+5]);ey=Number(cmdDetails[i+6]);x1=Math.cos(xAngle)*(cx-ex)/2+Math.sin(xAngle)*(cy-ey)/2;y1=-Math.sin(xAngle)*(cx-ex)/2+Math.cos(xAngle)*(cy-ey)/2;rx=rx<0?-rx:rx;ry=ry<0?-ry:ry;rErrFlag=Math.pow(x1,2)/Math.pow(rx,2)+Math.pow(y1,2)/Math.pow(ry,2);if(rErrFlag>1){rx*=Math.sqrt(rErrFlag);ry*=Math.sqrt(rErrFlag)}radius=rx>ry?rx:ry;xShift=rx>ry?1:rx/ry;yShift=rx>ry?ry/rx:1;signValue=aFlag===sFlag?-1:1;s2sqrt=signValue*Math.sqrt((Math.pow(rx,2)*Math.pow(ry,2)-Math.pow(rx,2)*Math.pow(y1,2)-Math.pow(ry,2)*Math.pow(x1,2))/(Math.pow(rx,2)*Math.pow(y1,2)+Math.pow(ry,2)*Math.pow(x1,2)));if(isNaN(s2sqrt)){s2sqrt=0}centx1=s2sqrt*(rx*y1)/ry;centy1=-s2sqrt*(ry*x1)/rx;centx=centx1*Math.cos(xAngle)-centy1*Math.sin(xAngle)+(cx+ex)/2;centy=centx1*Math.sin(xAngle)+centy1*Math.cos(xAngle)+(cy+ey)/2;startAngle=utilLib.angleBetweenVectors(1,0,(x1-centx1)/rx,(y1-centy1)/ry);dAngle=utilLib.angleBetweenVectors((x1-centx1)/rx,(y1-centy1)/ry,(-x1-centx1)/rx,(-y1-centy1)/ry);if(sFlag===0&&dAngle>0){dAngle-=360*(Math.PI/180)}if(sFlag===1&&dAngle<0){dAngle+=360*(Math.PI/180)}if(rx===0&&ry===0){context.lineTo(ex,ey);break}context.save();var transformMatrix=utilLib.combineTransformMatrix([[1,0,centx,0,1,centy],[Math.cos(xAngle),Math.sin(xAngle),0,Math.sin(xAngle),Math.cos(xAngle),0],[xShift,0,0,0,yShift,0]]);context.transform(transformMatrix[0],transformMatrix[3],transformMatrix[1],transformMatrix[4],transformMatrix[2],transformMatrix[5]);context.arc(0,0,radius,startAngle,startAngle+dAngle,1-sFlag);context.restore();utilLib.arcBBox(0,0,radius,startAngle,startAngle+dAngle,1-sFlag,[transformMatrix[0],transformMatrix[3],transformMatrix[1],transformMatrix[4],transformMatrix[2],transformMatrix[5]],bBox);if(cmdName==="A"){cx=Number(cmdDetails[i+5]);cy=Number(cmdDetails[i+6])}else{cx+=Number(cmdDetails[i+5]);cy+=Number(cmdDetails[i+6])}}break;case"Z":case"z":context.closePath();cx=lastPosition.cx;cy=lastPosition.cy;break;default:}}if(pps==="draw"){if(!elem.attributes.fill||elem.attributes.fill&&elem.attributes.fill.value!=="none"){utilLib.applyFillEffect(elem,context,svgDeCanvo,bBox);context.fill();utilLib.endFillEffect(elem,context)}if(!elem.attributes.stroke||elem.attributes.stroke&&elem.attributes.stroke.value!=="none"){utilLib.applyStrokeEffect(elem,context,svgDeCanvo,bBox);context.stroke();utilLib.endStrokeEffect(elem,context)}callBackFn()}};utilLib.drawNodes=function(nodeArr,attrib,svgDeCanvo,context,callBack){var l=nodeArr.length,i=-1,dx=0,dy=0,callBackFn=function callBackFn(){var node;i=i+1;if(i<l){node=nodeArr[i];if(node.tagName&&node.tagName==="defs"){i=i+1;node=nodeArr[i]}if(node.attributes){if(node.attributes.dy){dy=node.attributes.dy.value=node.attributes.dy.value*1+dy*1}if(node.attributes.dx){dx=node.attributes.dx.value=node.attributes.dx.value*1+dx*1}}drawLib.common(node,attrib,svgDeCanvo,context,callBackFn)}else{callBack&&callBack()}};callBackFn()};utilLib.getSvgDimention=function(svg){var ret={width:0,height:0},node;node=svg.childNodes&&svg.childNodes[0]&&svg.childNodes[0].attributes;ret.width=Number(node.width&&node.width.value||0);ret.height=Number(node.height&&node.height.value||0);return ret};utilLib.storeImagesInArr=function(svgDeCanvo){var svg=svgDeCanvo.getSVG(),imgElem,imgUrl,imageArr,i;imageArr=svgDeCanvo._getStore("imageArr");imgElem=svg.getElementsByTagName("image");for(i in imgElem){if(!imgElem.hasOwnProperty(i)){continue}if(imgElem[i].attributes&&imgElem[i].attributes["xlink:href"]){imgUrl=imgElem[i].attributes["xlink:href"].value;if(!imageArr[imgUrl]){imageArr[imgUrl]=[];imageArr[imgUrl].status="progress";imageArr[imgUrl].callback=null;imageArr[imgUrl].obj=new Image;imageArr[imgUrl].obj.onload=function(imgUrl){return function(){var callback=imageArr[imgUrl].callback;if(callback){imageArr[imgUrl].status="complete";callback()}else{imageArr[imgUrl].status="complete"}}}(imgUrl);imageArr[imgUrl].obj.onerror=function(imgUrl){return function(){var errCallback=imageArr[imgUrl].errCallback;if(errCallback){imageArr[imgUrl].status="error";errCallback()}else{imageArr[imgUrl].status="error"}}}(imgUrl);imageArr[imgUrl].obj.src=imgUrl}}}};utilLib.startTransform=function(data,context){var t=data.match(/[^\s][a-z,0-9.\-(\s]+\)/gi),args,i;for(i in t){if(!t.hasOwnProperty(i)){continue}if(t[i].indexOf("matrix")>-1){args=utilLib.stringToArgs(t[i]);context.transform(args[0],args[1],args[2],args[3],args[4],args[5])}if(t[i].indexOf("translate")>-1){args=utilLib.stringToArgs(t[i]);context.translate(args[0]||0,args[1]||0)}if(t[i].indexOf("rotate")>-1){args=utilLib.stringToArgs(t[i]);if(args.length===3){context.translate(args[1],args[2]);context.rotate(args[0]*(Math.PI/180));context.translate(-args[1],-args[2])}else{context.rotate(args[0]*(Math.PI/180))}}if(t[i].indexOf("scale")>-1){args=utilLib.stringToArgs(t[i]);if(args.length===1){context.scale(args[0]||1,args[0]||1)}else{context.scale(args[0]||1,args[1]||1)}}if(t[i].indexOf("skewX")>-1){args=utilLib.stringToArgs(t[i]);context.transform(1,0,Math.tan(args[0]*(Math.PI/180)),1,0,0)}if(t[i].indexOf("skewY")>-1){args=utilLib.stringToArgs(t[i]);context.transform(1,Math.tan(args[0]*(Math.PI/180)),0,1,0,0)}}};utilLib.resetTransform=function(context){context.setTransform(1,0,0,1,0,0)};utilLib.stringToArgs=function(data){var insideBracket=/\(([^)]+)/.exec(data)[1];return utilLib.getArgsAsArray(insideBracket)};utilLib.getArgsAsArray=function(data){var i;data=data.trim().split(/[\s,]+/);for(i=0;i<data.length;i++){data[i].trim();if(data[i].length===0){data.splice(i,1)}}return data};utilLib.applyFillEffect=function(elem,context,svgDeCanvo,bBox){var fillValue;if(elem.attributes["fill-opacity"]&&elem.attributes["fill-opacity"].value!=="none"){context.globalAlpha=elem.attributes["fill-opacity"].value}else{context.globalAlpha=1}if(elem.attributes.fill&&elem.attributes.fill.value.indexOf("url(")>-1){fillValue=utilLib.getFillStyleById(/url\(.*#([^)'"]+)/.exec(elem.attributes.fill.value)[1],context,svgDeCanvo,bBox);context.fillStyle=fillValue}else{if(elem.attributes.fill){context.fillStyle=elem.attributes.fill.value}else{context.fillStyle="#000000"}}};utilLib.endFillEffect=function(elem,context){context.globalAlpha=1};utilLib.applyStrokeEffect=function(elem,context,svgDeCanvo,bBox){if(elem.attributes["stroke-opacity"]&&elem.attributes["stroke-opacity"].value!=="none"){context.globalAlpha=elem.attributes["stroke-opacity"].value}if(elem.attributes["stroke-width"]){context.lineWidth=elem.attributes["stroke-width"].value;if(elem.attributes["stroke-width"].value==="0"){context.globalAlpha=0}}if(elem.attributes["stroke-linecap"]&&elem.attributes["stroke-linecap"].value!=="none"){context.lineCap=elem.attributes["stroke-linecap"].value}if(elem.attributes["stroke-linejoin"]&&elem.attributes["stroke-linejoin"].value!=="none"){context.lineJoin=elem.attributes["stroke-linejoin"].value}if(elem.attributes["stroke-dasharray"]&&elem.attributes["stroke-dasharray"].value!=="none"&&context.setLineDash){context.setLineDash(utilLib.getArgsAsArray(elem.attributes["stroke-dasharray"].value))}if(elem.attributes.stroke){context.strokeStyle=elem.attributes.stroke.value}else{context.strokeStyle="#000000"}};utilLib.endStrokeEffect=function(elem,context){if(elem.attributes["stroke-opacity"]&&elem.attributes["stroke-opacity"].value!=="none"){context.globalAlpha=1;if(context.setLineDash){context.setLineDash([])}context.lineWidth=1}context.globalAlpha=1};utilLib.applyClip=function(id,context,svgDeCanvo){var svg=svgDeCanvo.getSVG(),elemId,elem,chldrn,a,fncName;if(id.indexOf("url(")===-1){return}elemId=/url\(.*#([^)'"]+)/.exec(id)[1];elem=svg.getElementById(elemId);if(elem.attributes){context.save();if(elem.attributes.transform){utilLib.startTransform(elem.attributes.transform.value,context)}}chldrn=elem.childNodes;for(a in chldrn){if(!chldrn.hasOwnProperty(a)){continue}if(!chldrn[a].tagName){continue}if(chldrn[a].constructor!==Array){fncName="draw"+chldrn[a].tagName;if(chldrn[a].attributes){context.save();if(chldrn[a].attributes.transform){utilLib.startTransform(chldrn[a].attributes.transform.value,context)}}if(drawLib[fncName]){drawLib[fncName](chldrn[a],context,svgDeCanvo,"clip");context.closePath()}if(chldrn[a].attributes){context.restore()}}}if(elem.attributes){context.restore()}context.clip()};utilLib.getFillStyleById=function(id,context,svgDeCanvo,bBox){var svg=svgDeCanvo.getSVG(),gradElem=svg.getElementById(id);if(gradElem.tagName==="linearGradient"){return utilLib.getLinearGradient(gradElem,context,bBox)}if(gradElem.tagName==="radialGradient"){return utilLib.getRadialGradient(gradElem,context,bBox)}return"#FFFFFF"};utilLib.getLinearGradient=function(element,context,bBox){var sx=element.attributes.x1?utilLib.getPercentValue(element.attributes.x1.value,bBox.xMax-bBox.xMin,bBox.xMin):0,sy=element.attributes.y1?utilLib.getPercentValue(element.attributes.y1.value,bBox.yMax-bBox.yMin,bBox.yMin):0,ex=element.attributes.x2?utilLib.getPercentValue(element.attributes.x2.value,bBox.xMax-bBox.xMin,bBox.xMin):0,ey=element.attributes.y2?utilLib.getPercentValue(element.attributes.y2.value,bBox.yMax-bBox.yMin,bBox.yMin):0,linGrad,children,a,color,opacity;linGrad=context.createLinearGradient(sx,sy,ex,ey);children=element.childNodes;for(a in children){if(!children.hasOwnProperty(a)){continue}if(children[a].attributes&&children[a].attributes["stop-color"]){color=utilLib.toRGB(children[a].attributes["stop-color"].value);opacity=children[a].attributes["stop-opacity"]?children[a].attributes["stop-opacity"].value:1;if(color.status){linGrad.addColorStop(utilLib.getPercentValue(children[a].attributes.offset.value,1,0),"rgba("+color.r+","+color.g+","+color.b+","+Number(opacity)+")")}else{linGrad.addColorStop(utilLib.getPercentValue(children[a].attributes.offset.value,1,0),children[a].attributes["stop-color"].value)}}}return linGrad};utilLib.getRadialGradient=function(element,context,bBox){var cx=element.attributes.cx?utilLib.getPercentValue(element.attributes.cx.value,bBox.xMax-bBox.xMin,bBox.xMin):bBox.xMin+(bBox.xMax-bBox.xMin)*.5,cy=element.attributes.cy?utilLib.getPercentValue(element.attributes.cy.value,bBox.yMax-bBox.yMin,bBox.yMin):bBox.yMin+(bBox.yMax-bBox.yMin)*.5,fx=element.attributes.fx?utilLib.getPercentValue(element.attributes.fx.value,bBox.xMax-bBox.xMin,bBox.xMin):bBox.xMin+(bBox.xMax-bBox.xMin)*.5,fy=element.attributes.fy?utilLib.getPercentValue(element.attributes.fy.value,bBox.yMax-bBox.yMin,bBox.yMin):bBox.yMin+(bBox.yMax-bBox.yMin)*.5,r=element.attributes.r?utilLib.getPercentValue(element.attributes.r.value,(bBox.yMax-bBox.yMin+bBox.xMax-bBox.xMin)/2,0):utilLib.getPercentValue("50%",(bBox.yMax-bBox.yMin+bBox.xMax-bBox.xMin)/2,0),radGrad,children,a,color,opacity;radGrad=context.createRadialGradient(fx,fy,0,cx,cy,r);children=element.childNodes;for(a in children){if(!children.hasOwnProperty(a)){continue}if(children[a].attributes&&children[a].attributes["stop-color"]){color=utilLib.toRGB(children[a].attributes["stop-color"].value);opacity=children[a].attributes["stop-opacity"]?children[a].attributes["stop-opacity"].value:1;if(color.status){radGrad.addColorStop(utilLib.getPercentValue(children[a].attributes.offset.value,1,0),"rgba("+color.r+","+color.g+","+color.b+","+Number(opacity)+")")}else{radGrad.addColorStop(utilLib.getPercentValue(children[a].attributes.offset.value,1,0),children[a].attributes["stop-color"].value)}}}return radGrad};utilLib.getPercentValue=function(percent,value,correction){var mVal;if(percent.indexOf("%")!==-1){mVal=/(\d.*)%/.exec(percent)[1];if(mVal>100){mVal=100}return mVal*value/100+correction*1}else{if(percent>1){return percent}return percent*value+correction*1}};utilLib.bBoxFromPoint=function(xPointArr,yPointArr,bBox){if(typeof bBox.xMin!=="undefined"){xPointArr.push(bBox.xMin,bBox.xMax);yPointArr.push(bBox.yMin,bBox.yMax)}bBox.xMin=Math.min.apply(this,xPointArr);bBox.xMax=Math.max.apply(this,xPointArr);bBox.yMin=Math.min.apply(this,yPointArr);bBox.yMax=Math.max.apply(this,yPointArr)};utilLib.arcBBox=function(cx,cy,r,sa,ea,cc,transform,bBox){var rsa,rea,startArcX,endArcX,startArcY,endArcY,xMin,yMin,xMax,yMax,xArr,yArr,isBetween;if(transform instanceof Array){cx=cx*transform[0]+cx*transform[2]+transform[4];cy=cy*transform[1]+cy*transform[3]+transform[5]}isBetween=function isBetween(start,end,angle){start=(start+2*Math.PI)%(2*Math.PI);end=(end+2*Math.PI)%(2*Math.PI);if(start<=end){if(start<=angle&&angle<=end){return true}else{return false}}else if(start>=end){if(start>=angle&&angle>=end){return false}else{return true}}};rsa=sa%(2*Math.PI);rea=ea%(2*Math.PI);if(cc){rsa=ea%(2*Math.PI);rea=sa%(2*Math.PI)}startArcX=cx+r*Math.cos(rsa);startArcY=cy+r*Math.sin(rsa);endArcX=cx+r*Math.cos(rea);endArcY=cy+r*Math.sin(rea);xArr=[startArcX,endArcX];yArr=[startArcY,endArcY];if(isBetween(rsa,rea,0)){xArr.push(cx*1+r*1);yArr.push(cy)}if(isBetween(rsa,rea,.5*Math.PI)){xArr.push(cx);yArr.push(cy*1+r*1)}if(isBetween(rsa,rea,Math.PI)){xArr.push(cx-r*1);yArr.push(cy)}if(isBetween(rsa,rea,1.5*Math.PI)){xArr.push(cx);yArr.push(cy-r*1)}xMax=Math.max.apply(this,xArr);xMin=Math.min.apply(this,xArr);yMax=Math.max.apply(this,yArr);yMin=Math.min.apply(this,yArr);if(typeof bBox.xMin!=="undefined"){bBox.xMin=Math.min(xMin,bBox.xMin);bBox.xMax=Math.max(xMax,bBox.xMax);bBox.yMin=Math.min(yMin,bBox.yMin);bBox.yMax=Math.max(yMax,bBox.yMax)}else{bBox.xMin=xMin;bBox.xMax=xMax;bBox.yMin=yMin;bBox.yMax=yMax}};utilLib.qBezierBBox=function(sx,sy,cx,cy,ex,ey,bBox){var txd=sx*1-2*cx+ex*1,tyd=sy*1-2*cy+ey*1,tx,ty,xMin,yMin,xMax,yMax,curveX,curveY;if(txd===0||tyd===0){xMax=Math.max(sx,ex);xMin=Math.min(sx,ex);yMax=Math.max(sy,ey);yMin=Math.min(sy,ey)}else{tx=(sx-cx)/txd;ty=(sy-cy)/tyd;curveX=sx*Math.pow(1-tx,2)+2*cx*(1-tx)*tx+ex*Math.pow(tx,2);curveY=sy*Math.pow(1-ty,2)+2*cy*(1-ty)*ty+ey*Math.pow(ty,2);xMax=Math.max(sx,ex,curveX);xMin=Math.min(sx,ex,curveX);yMax=Math.max(sy,ey,curveY);yMin=Math.min(sy,ey,curveY)}if(typeof bBox.xMin!=="undefined"){bBox.xMin=Math.min(xMin,bBox.xMin);bBox.xMax=Math.max(xMax,bBox.xMax);bBox.yMin=Math.min(yMin,bBox.yMin);bBox.yMax=Math.max(yMax,bBox.yMax)}else{bBox.xMin=xMin;bBox.xMax=xMax;bBox.yMin=yMin;bBox.yMax=yMax}};utilLib.cBezierBBox=function(sx,sy,cx,cy,c1x,c1y,ex,ey,bBox){var xMin,xMax,yMin,yMax,a,b,c,root,t1,t2,calculateBound,xTemp,yTemp;if(c1x===null&&c1y===null){cx=sx+2/3*(cx-sx);c1x=sy+2/3*(cy-sy);cy=cx+1/3*(ex-sx);c1y=c1x+1/3*(ey-sy)}calculateBound=function calculateBound(a,b,c,d,t){return a*Math.pow(1-t,3)+3*b*t*Math.pow(1-t,2)+3*c*t*t*(1-t)+d*t*t*t};a=3*ex-9*c1x+9*cx-3*sx;b=6*sx-12*cx+6*c1x;c=3*cx-3*sx;root=Math.pow(b,2)-4*a*c;xMin=sx;xMax=sx;if(ex<xMin){xMin=ex}if(ex>xMax){xMax=ex}if(root>=0){t1=(-b+Math.sqrt(root))/(2*a);if(t1>0&&t1<1){xTemp=calculateBound(sx,cx,c1x,ex,t1);if(xTemp<xMin){xMin=xTemp}if(xTemp>xMax){xMax=xTemp}}t2=(-b-Math.sqrt(root))/(2*a);if(t2>0&&t2<1){xTemp=calculateBound(sx,cx,c1x,ex,t2);if(xTemp<xMin)xMin=xTemp;if(xTemp>xMax)xMax=xTemp}}a=3*ey-9*c1y+9*cy-3*sy;b=6*sy-12*cy+6*c1y;c=3*cy-3*sy;root=Math.pow(b,2)-4*a*c;yMin=sy;yMax=sy;if(ey<yMin)yMin=ey;if(ey>yMax)yMax=ey;if(root>=0){t1=(-b+Math.sqrt(root))/(2*a);if(t1>0&&t1<1){yTemp=calculateBound(sy,cy,c1y,ey,t1);if(yTemp<yMin){yMin=yTemp}if(yTemp>yMax){yMax=yTemp}}t2=(-b-Math.sqrt(root))/(2*a);if(t2>0&&t2<1){yTemp=calculateBound(sy,cy,c1y,ey,t2);if(yTemp<yMin){yMin=yTemp}if(yTemp>yMax){yMax=yTemp}}}if(typeof bBox.xMin!=="undefined"){bBox.xMin=Math.min(xMin,bBox.xMin);bBox.xMax=Math.max(xMax,bBox.xMax);bBox.yMin=Math.min(yMin,bBox.yMin);bBox.yMax=Math.max(yMax,bBox.yMax)}else{bBox.xMin=xMin;bBox.xMax=xMax;bBox.yMin=yMin;bBox.yMax=yMax}};utilLib.combineTransformMatrix=function(matrices){var mlast=matrices.length-1,i,resMatrix;if(mlast<=0){return matrices[0]}resMatrix=matrices[0];for(i=1;i<=mlast;i++){resMatrix[0]=resMatrix[0]*matrices[i][0]+resMatrix[1]*matrices[i][3];resMatrix[1]=resMatrix[0]*matrices[i][1]+resMatrix[1]*matrices[i][4];resMatrix[2]=resMatrix[0]*matrices[i][2]+resMatrix[1]*matrices[i][5]+resMatrix[2]*1;resMatrix[3]=resMatrix[3]*matrices[i][0]+resMatrix[4]*matrices[i][3];resMatrix[4]=resMatrix[3]*matrices[i][1]+resMatrix[4]*matrices[i][4];resMatrix[5]=resMatrix[3]*matrices[i][2]+resMatrix[4]*matrices[i][5]+resMatrix[5]*1}return resMatrix};utilLib.angleBetweenVectors=function(ux,uy,vx,vy){var sign=ux*vy<uy*vx?-1:1,dotProduct=ux*vx+uy*vy,uMagnitude=Math.sqrt(Math.pow(ux,2)+Math.pow(uy,2)),vMagnitude=Math.sqrt(Math.pow(vx,2)+Math.pow(vy,2));return sign*Math.acos(dotProduct/(uMagnitude*vMagnitude))};utilLib.toRGB=function(color){var rgb={r:0,g:0,b:0,status:0},tmpVar,prepareRGB,a;prepareRGB=function prepareRGB(arr){for(a in arr){if(!arr.hasOwnProperty(a)){continue}if(arr[a]<0||isNaN(arr[a])){arr[a]=0}else if(arr[a]>255){arr[a]=255}}rgb={r:arr[0],g:arr[1],b:arr[2],status:1};return rgb};color=color.trim();if(color.match(/^rgb\(|^rgba\(/i)){tmpVar=/\(\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})/.exec(color);prepareRGB([parseInt(tmpVar[1]),parseInt(tmpVar[2]),parseInt(tmpVar[3])])}else if(color.match(/^#/)){tmpVar=/(\w{2})(\w{2})(\w{2})/.exec(color);prepareRGB([parseInt(tmpVar[1],16),parseInt(tmpVar[2],16),parseInt(tmpVar[3],16)])}return rgb};utilLib.StrToDom=function(str){var parser,doc;if(win.DOMParser){parser=new DOMParser;doc=parser.parseFromString(str,"text/xml")}else{doc=new win.ActiveXObject("Microsoft.XMLDOM");doc.async=false;doc.loadXML(str)}return doc};exports["default"]=_SvgDeCanvo},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var body=[],bodyLength=0,pageHeight=void 0,paperWidth=void 0,imageData=void 0,defaultPageH=500,defaultPageW=500;function JpegToPdf(pH,pW){pageHeight=pH||defaultPageH;paperWidth=pW||defaultPageW}function addImage(dataUrl){var dataFragment=/base64,(.+?)$/g.exec(dataUrl);imageData=atob(dataFragment[1])}function getDataUrl(){return"data:application/pdf;base64,"+btoa(getThePdfString())}function pdfWrite(data){bodyLength+=data.length+1;body.push(data)}function getThePdfString(){var offset=[],length,i;pdfWrite("%PDF-1.7");offset[1]=bodyLength;pdfWrite("1 0 obj");pdfWrite("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]");pdfWrite("endobj");offset[4]=bodyLength;pdfWrite("4 0 obj");pdfWrite("<< /Length 36>>");pdfWrite("stream");pdfWrite("q "+paperWidth+" 0 0 "+pageHeight+" 0 0 cm /Im3 Do Q");pdfWrite("endstream");pdfWrite("endobj");offset[5]=bodyLength;pdfWrite("5 0 obj");pdfWrite("<</Type /Page /Parent 2 0 R /MediaBox [0 0 "+paperWidth+" "+pageHeight+"] /Contents [4 0 R ] /Resources <</ProcSet 1 0 R /Font <<>> /XObject <</Im3 3 0 R >> >> >>");pdfWrite("endobj");offset[3]=bodyLength;pdfWrite("3 0 obj");pdfWrite("<</Type /XObject /Subtype /Image /Width "+paperWidth+" /Height "+pageHeight+" /ColorSpace /DeviceRGB /BitsPerComponent 8 /Filter /DCTDecode /Length "+imageData.length+">>");pdfWrite("stream");pdfWrite(imageData);pdfWrite("endstream");pdfWrite("endobj");offset[2]=bodyLength;pdfWrite("2 0 obj");pdfWrite("<</Type /Pages /Kids [5 0 R ] /Count 1>>");pdfWrite("endobj");offset[6]=bodyLength;pdfWrite("6 0 obj");pdfWrite("<</Type /Catalog /Pages 2 0 R >>");pdfWrite("endobj");length=bodyLength;pdfWrite("xref");pdfWrite("0 7");pdfWrite("0000000000 65535 f ");for(i=1;i<=6;i++){pdfWrite(("0000000000"+offset[i]).slice(-10)+" 00000 n ")}pdfWrite("trailer");pdfWrite("<</Size 7 /Root 6 0 R >>");pdfWrite("startxref");pdfWrite(length);pdfWrite("%%EOF");return body.join("\n")}exports.JpegToPdf=JpegToPdf;exports.addImage=addImage;exports.getDataUrl=getDataUrl},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.svgStrToDataUrl=exports.logCharts=exports.extractNonDataImageFromSVG=exports.parseUrl=exports.extractNonDataURLFromSVG=exports.removeImagesWithNonDataURL=exports.hasUndownloadableImage=exports.replaceImagesWithNonDataUrl=exports.embedImagesWithNonDataURL=exports.makeImageUrlsAbsolute=exports.isCacheAllImagesCompleted=exports.getImageCachedDetails=exports.cacheAllImages=exports.objCacheFunctions=exports.createExportActionOldString=exports.LOGMODE=exports.EXPORTFORMAT=exports.EXPORTMODE=exports.EXPORTACTION=undefined;var _libSvgToCanvas=__webpack_require__(235);var _ajax=__webpack_require__(166);var _ajax2=_interopRequireDefault(_ajax);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var extractNonDataImageFromSVG=function extractNonDataImageFromSVG(svgStr){var URLRegex,dataURIRegex,arrImageStr,match,tmpImageStr,tmpUrl;URLRegex=/(<image [^\>]*href=["']([^\>'"]*)["'][^\>]*\>)/g;dataURIRegex=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i;arrImageStr=[];do{match=URLRegex.exec(svgStr);if(match!==null){tmpImageStr=match[1];tmpUrl=match[2];if(!dataURIRegex.test(tmpUrl)){arrImageStr.push(tmpImageStr)}}}while(match&&match!==null);return arrImageStr},removeImagesWithNonDataURL=function removeImagesWithNonDataURL(svgStr){var arrImageStr=void 0,i=void 0,currentImageStr=void 0;arrImageStr=extractNonDataImageFromSVG(svgStr);for(i=0;i<arrImageStr.length;i++){currentImageStr=arrImageStr[i];svgStr=svgStr.replace(currentImageStr,"")}return svgStr},extractNonDataURLFromSVG=function extractNonDataURLFromSVG(svgStr,returnURLAsAbsolute){var anyImageURLRegex,dataURIRegex,arrUrl,match,tmpUrl;returnURLAsAbsolute=returnURLAsAbsolute===undefined?true:returnURLAsAbsolute;anyImageURLRegex=/<image [^\>]*href=["']([^\>'"]*)["'][^\>]*\>/g;dataURIRegex=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i;arrUrl=[];do{match=anyImageURLRegex.exec(svgStr);if(match!==null){tmpUrl=match[1];if(dataURIRegex.test(tmpUrl)){continue}if(returnURLAsAbsolute){tmpUrl=parseUrl(tmpUrl).href}arrUrl.push(tmpUrl)}}while(match&&match!==null);return arrUrl},parseUrl=function parseUrl(url){var div=document.createElement("div");div.innerHTML="<a></a>";div.firstChild.href=url;div.innerHTML=div.innerHTML;return div.firstChild},EXPORTACTION={DOWNLOAD:"download",SAVE:"save",DOWNLOADSAVE:"download-save"},EXPORTMODE={CLIENT:"client",SERVER:"server",AUTO:"auto"},EXPORTFORMAT={PNG:"png",SVG:"svg",JPEG:"jpeg",JPG:"jpg",PDF:"pdf",XLS:"xls"},LOGMODE={CLIENT:"client",SERVER:"server",AUTO:"auto"},createExportActionOldString=function createExportActionOldString(exportAction){var exportActionOldStr={download:EXPORTACTION.DOWNLOAD,"download-save":EXPORTACTION.DOWNLOAD,save:EXPORTACTION.SAVE}[exportAction];return exportActionOldStr},objCacheFunctions=function(){var imgCache=void 0,cacheAllImages=void 0,getImageCachedDetails=void 0,isCacheAllImagesCompleted=void 0;imgCache={};imgCache.cacheCompleted=false;cacheAllImages=function cacheAllImages(svgStr,noOP,callback){var arrUrl,arrLength,countCompletedImages,i;noOP=noOP||false;arrUrl=extractNonDataURLFromSVG(svgStr);arrLength=arrUrl.length;if((0,_libSvgToCanvas.isCanvasElemSupported)()&&!noOP&&arrLength){countCompletedImages=0;for(i=0;i<arrLength;i++){(function(){var j,currentUrl,img;j=i;currentUrl=arrUrl[j];if(currentUrl in imgCache){countCompletedImages++;if(arrLength===countCompletedImages){imgCache.cacheCompleted=true;callback()}return}img=new Image;img.crossOrigin="";img.onload=function(){var canvas,ctx,imageUri;canvas=document.createElement("canvas");canvas.width=img.width;canvas.height=img.height;ctx=canvas.getContext("2d");ctx.drawImage(this,0,0);try{imageUri=canvas.toDataURL("image/png");imgCache[currentUrl]={loaded:true,notCORS:true,imageUri:imageUri}}catch(err){imgCache[currentUrl]={loaded:true,notCORS:false}}finally{countCompletedImages++;if(arrLength===countCompletedImages){imgCache.cacheCompleted=true;callback()}}};img.onerror=function(){imgCache[currentUrl]={loaded:false};countCompletedImages++;if(arrLength===countCompletedImages){imgCache.cacheCompleted=true;callback()}};img.src=currentUrl})()}}else{callback()}};getImageCachedDetails=function getImageCachedDetails(url){return imgCache[url]};isCacheAllImagesCompleted=function isCacheAllImagesCompleted(){return imgCache.cacheCompleted};return{cacheAllImages:cacheAllImages,getImageCachedDetails:getImageCachedDetails,isCacheAllImagesCompleted:isCacheAllImagesCompleted}}(),cacheAllImages=objCacheFunctions.cacheAllImages,getImageCachedDetails=objCacheFunctions.getImageCachedDetails,isCacheAllImagesCompleted=objCacheFunctions.isCacheAllImagesCompleted,makeImageUrlsAbsolute=function makeImageUrlsAbsolute(svgStr){svgStr=svgStr.replace(/<image [^\>]*\>/gi,function(matchStr){matchStr=matchStr.replace(/(:href=")([^"]*)(")/gi,function(matchSubStr,p1,p2,p3){var imageName=p2;return p1+parseUrl(imageName).href+p3});return matchStr});return svgStr},embedImagesWithNonDataURL=function embedImagesWithNonDataURL(svgStr){var arrURL=void 0,i=void 0,currentURL=void 0,currentURLDetails=void 0;svgStr=makeImageUrlsAbsolute(svgStr);arrURL=extractNonDataURLFromSVG(svgStr);for(i=0;i<arrURL.length;i++){currentURL=arrURL[i];currentURLDetails=getImageCachedDetails(currentURL);if(currentURLDetails!==undefined&&currentURLDetails.loaded&&currentURLDetails.notCORS&&currentURLDetails.imageUri){svgStr=svgStr.replace(currentURL,currentURLDetails.imageUri)}}return svgStr},replaceImagesWithNonDataUrl=function replaceImagesWithNonDataUrl(svgStr){svgStr=embedImagesWithNonDataURL(svgStr);svgStr=removeImagesWithNonDataURL(svgStr);return svgStr},hasUndownloadableImage=function hasUndownloadableImage(svgStr){svgStr=embedImagesWithNonDataURL(svgStr);return svgStr!==removeImagesWithNonDataURL(svgStr)},logChartsWithoutCheck=function logChartsWithoutCheck(postData,options){var ajaxLog=new _ajax2["default"](function(){},function(){});for(var item in postData){postData.hasOwnProperty(item)&&(postData[item]=encodeURIComponent(postData[item]))}ajaxLog.post(options.logHandler,postData)},logCharts=function logCharts(postData,options){if(options.logEnabled&&options.logMode!==LOGMODE.SERVER){logChartsWithoutCheck(postData,options)}},addSVGHeader=function addSVGHeader(svgStr){var doctype='<?xml version="1.0" standalone="no"?>'+'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"'+' "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',finalSvgStr=doctype+svgStr;return finalSvgStr},svgStrToDataUrl=function svgStrToDataUrl(svgStr){var finalSvgStr=addSVGHeader(svgStr);finalSvgStr="data:image/svg+xml;base64,"+window.btoa(window.unescape(encodeURIComponent(finalSvgStr)));return finalSvgStr};exports.EXPORTACTION=EXPORTACTION;exports.EXPORTMODE=EXPORTMODE;exports.EXPORTFORMAT=EXPORTFORMAT;exports.LOGMODE=LOGMODE;exports.createExportActionOldString=createExportActionOldString;exports.objCacheFunctions=objCacheFunctions;exports.cacheAllImages=cacheAllImages;exports.getImageCachedDetails=getImageCachedDetails;exports.isCacheAllImagesCompleted=isCacheAllImagesCompleted;exports.makeImageUrlsAbsolute=makeImageUrlsAbsolute;exports.embedImagesWithNonDataURL=embedImagesWithNonDataURL;exports.replaceImagesWithNonDataUrl=replaceImagesWithNonDataUrl;exports.hasUndownloadableImage=hasUndownloadableImage;exports.removeImagesWithNonDataURL=removeImagesWithNonDataURL;exports.extractNonDataURLFromSVG=extractNonDataURLFromSVG;exports.parseUrl=parseUrl;exports.extractNonDataImageFromSVG=extractNonDataImageFromSVG;exports.logCharts=logCharts;exports.svgStrToDataUrl=svgStrToDataUrl},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _libSvgToCanvas=__webpack_require__(235);var _jpegToPdf=__webpack_require__(237);var _lib=__webpack_require__(118);var _exportUtils=__webpack_require__(238);var _eventApi=__webpack_require__(124);var win=window,math=Math,UNDEF=void 0,mathMax=math.max,Image=win.Image,isIOS=win.navigator.userAgent.match(/ (iPad|iPhone|iPod)/g),IMAGEDATA="IMAGE-DATA",DEFAULT_LOG_URL=win.location.protocol==="https:"?"https://export.api3.fusioncharts.com/api/v1.0/logs":"http://export.api3.fusioncharts.com/api/v1.0/logs",DEFAULT_EXPORT_URL=win.location.protocol==="https:"?"https://export.api3.fusioncharts.com/":"http://export.api3.fusioncharts.com/",BLANKSTRING="",FCGlobal=void 0;function batchExport(){var input=arguments[0],exportArgs=input||{},chart=void 0,chartArr=void 0,canvas=void 0,canvasContext=void 0,svgString=void 0,chartCounter=0,allChartDrawingComplete=false,len=void 0,img=void 0,chartObj=void 0,exportOption={exportTargetWindow:(0,_lib.pluck)(exportArgs.exportTargetWindow,isIOS?"_blank":"_self"),exportAction:function(){var exportActionTemp;if(exportArgs.exportAction&&typeof exportArgs.exportAction==="string"){exportActionTemp=exportArgs.exportAction.toLowerCase();return[_exportUtils.EXPORTACTION.DOWNLOAD,_exportUtils.EXPORTACTION.SAVE,_exportUtils.EXPORTACTION.DOWNLOADSAVE].indexOf(exportActionTemp)>=0?exportActionTemp:_exportUtils.EXPORTACTION.DOWNLOAD}else{return _exportUtils.EXPORTACTION.DOWNLOAD}}(),exportFileName:(0,_lib.pluck)(exportArgs.exportFileName,"FusionCharts"),exportHandler:(0,_lib.pluck)(exportArgs.exportHandler,DEFAULT_EXPORT_URL),exportParameters:(0,_lib.pluck)(exportArgs.exportParameters,BLANKSTRING),exportFormat:(0,_lib.pluck)(exportArgs.exportFormat,_exportUtils.EXPORTFORMAT.PNG),exportCallback:(0,_lib.pluck)(exportArgs.exportCallback,BLANKSTRING),exportAtClientSide:(0,_lib.pluckNumber)(exportArgs.exportAtClientSide,1),exportMode:function(){var _exportMode;if(typeof exportArgs.exportAtClientSide!=="undefined"){_exportMode={1:_exportUtils.EXPORTMODE.AUTO,0:_exportUtils.EXPORTMODE.SERVER}[exportArgs.exportAtClientSide]}_exportMode=exportArgs.exportMode||_exportMode||_exportUtils.EXPORTMODE.AUTO;_exportMode=_exportMode.toLowerCase();return _exportMode}(),logEnabled:(0,_lib.pluckNumber)(exportArgs.logEnabled,0),logMode:function(){var _logMode=exportArgs.logMode;if(typeof _logMode!=="undefined"&&typeof _logMode==="string"&&_logMode.toUpperCase()in _exportUtils.LOGMODE){return _exportUtils.LOGMODE[_logMode.toUpperCase()]}else{return _exportUtils.LOGMODE.AUTO}}(),logHandler:(0,_lib.pluck)(exportArgs.logHandler,DEFAULT_LOG_URL)},exportFormat=exportOption.exportFormat.toLowerCase(),imageHeight=0,imageWidth=0,imagePadding=10,imagePaddingByTwo=imagePadding/2,i=void 0,document=win.document,items=FCGlobal.items,isImageSafe=function isImageSafe(imageUrl){if(imageUrl.match(/http:\/\/|https:\/\//)){if(/(http:\/\/|https:\/\/)([^\/\:]*)/.exec(imageUrl)[2]){if(win.location.hostname!==/(http:\/\/|https:\/\/)([^\/\:]*)/.exec(imageUrl)[2]){return false}}}return true},aspectWidthHeight=function aspectWidthHeight(userWidth,userHeight,oriWidth,oriHeight){var retW=userWidth,retH=userHeight;if(isNaN(retW)){retW=(0,_lib.pluckNumber)(userHeight,oriHeight)*(oriWidth/oriHeight)}if(isNaN(retH)){retH=(0,_lib.pluckNumber)(userWidth,oriWidth)*(oriHeight/oriWidth)}return{width:retW,height:retH}},createPostDataForExport=function createPostDataForExport(streamType,streamValue,configuredExportAction){var exportActionNewStr,exportActionOldStr,parameters,_logEnabled;configuredExportAction=configuredExportAction||exportOption.exportAction;exportActionNewStr=exportOption.exportAction;exportActionOldStr=(0,_exportUtils.createExportActionOldString)(exportOption.exportAction);parameters=["exportfilename="+exportOption.exportFileName,"exportformat="+exportOption.exportFormat,"exportaction="+exportActionOldStr,"exportactionnew="+exportActionNewStr,"configuredexportaction="+configuredExportAction,"exportparameters="+exportOption].join("|");_logEnabled=!!exportOption.logEnabled;if(exportOption.logMode===_exportUtils.LOGMODE.CLIENT){_logEnabled=false}return{charttype:"combined",stream_type:streamType||"",stream:streamValue||"",is_single_export:false,is_full_version:!true,version:_lib.PROJECT_VERSION,user_time_zone:-(new Date).getTimezoneOffset(),log_enabled:_logEnabled,parameters:parameters}},createPostDataForLog=function createPostDataForLog(){var exportActionNewStr=exportOption.exportAction;return{chartType:"combined",isSingleExport:false,isFullVersion:!true,exportAction:exportActionNewStr,userTimeZone:-(new Date).getTimezoneOffset(),exportFileName:[exportOption.exportFileName,exportOption.exportFormat].join("."),exportFormat:exportOption.exportFormat,version:_lib.PROJECT_VERSION}},logSeparatelyIfLogModeCLient=function logSeparatelyIfLogModeCLient(logMode){if(logMode===_exportUtils.LOGMODE.CLIENT){(0,_exportUtils.logCharts)(createPostDataForLog(),exportOption)}},exportChart=function exportChart(dataUri){var postData,browserCanSelfDownload,configuredExportAction;(0,_eventApi.triggerEvent)("beforeexport",UNDEF,UNDEF,UNDEF,function(){browserCanSelfDownload=typeof win.btoa!=="undefined"&&(_libSvgToCanvas.browserDetails.name==="Chrome"||_libSvgToCanvas.browserDetails.name==="Firefox"||_libSvgToCanvas.browserDetails.name==="Edge"||_libSvgToCanvas.browserDetails.name==="ie");if(exportOption.exportMode===_exportUtils.EXPORTMODE.CLIENT||exportOption.exportMode===_exportUtils.EXPORTMODE.AUTO&&browserCanSelfDownload){if(exportOption.exportAction===_exportUtils.EXPORTACTION.DOWNLOAD||exportOption.exportAction===_exportUtils.EXPORTACTION.DOWNLOADSAVE){if(exportOption.exportMode===_exportUtils.EXPORTMODE.AUTO){postData=createPostDataForExport(IMAGEDATA,dataUri)}else{postData=null}(0,_libSvgToCanvas.downloadCharts)("url",dataUri,exportOption.exportFileName+"."+exportFormat,postData,exportOption);(0,_eventApi.triggerEvent)("exported",UNDEF,{fileName:exportOption.exportFileName+"."+exportFormat})}if(exportOption.exportAction===_exportUtils.EXPORTACTION.SAVE||exportOption.exportAction===_exportUtils.EXPORTACTION.DOWNLOADSAVE){configuredExportAction=exportOption.exportAction;if(exportOption.exportAction===_exportUtils.EXPORTACTION.DOWNLOADSAVE){exportOption.exportAction=_exportUtils.EXPORTACTION.SAVE}postData=createPostDataForExport(IMAGEDATA,dataUri,configuredExportAction);exportOption.paper={width:undefined,height:undefined};exportOption.fusionCharts={};(0,_libSvgToCanvas.downloadCharts)(null,null,null,postData,exportOption);delete exportOption.paper;delete exportOption.fusioncharts;logSeparatelyIfLogModeCLient(exportOption.logMode)}else if(exportOption.logMode!==_exportUtils.LOGMODE.SERVER){(0,_exportUtils.logCharts)(createPostDataForLog(),exportOption)}}else{postData=createPostDataForExport(IMAGEDATA,dataUri);exportOption.paper={width:undefined,height:undefined};exportOption.fusionCharts={};(0,_libSvgToCanvas.downloadCharts)(null,null,null,postData,exportOption);delete exportOption.paper;delete exportOption.fusioncharts;logSeparatelyIfLogModeCLient(exportOption.logMode)}},function(){(0,_eventApi.triggerEvent)("exportcancelled")})},drawChart=function drawChart(){var item=this;(0,_libSvgToCanvas.drawSvgOnCanvas)({svg:arguments[0],canvas:canvas,x:item.x,y:item.y,width:item.width,height:item.height,useCanvas:arguments[1]},function(){chartCounter-=1;if(chartCounter===0&&allChartDrawingComplete){switch(exportFormat){case"png":exportChart(canvas.toDataURL("image/png"));break;case"jpeg":exportChart(canvas.toDataURL("image/jpeg"));break;case"pdf":(0,_jpegToPdf.JpegToPdf)(imageHeight,imageWidth);(0,_jpegToPdf.addImage)(canvas.toDataURL("image/jpeg"));exportChart((0,_jpegToPdf.getDataUrl)());break;default:exportChart(canvas.toDataURL("image/png"));break}}})},createCanvas=function createCanvas(callback){var background=exportArgs.background;canvas=document.createElement("canvas");canvas.id="newCanvas";canvas.width=imageWidth;canvas.height=imageHeight;canvas.style.border="1px solid black";canvasContext=canvas.getContext("2d");canvasContext.fillStyle=background&&background.bgColor||"#ffffff";canvasContext.fillRect(0,0,imageWidth,imageHeight);if(background&&background.bgImage&&isImageSafe(background.bgImage)){img=new Image;img.src=background.bgImage;img._userData=background;canvasContext.globalAlpha=(0,_lib.pluckNumber)(background.bgImageAlpha,100)/100;img.onload=function(){var userData=this._userData,x=(0,_lib.pluckNumber)(userData.bgImageX,0),y=(0,_lib.pluckNumber)(userData.bgImageY,0),widthHeight=aspectWidthHeight(Number(userData.bgImageWidth),Number(userData.bgImageHeight),this.width,this.height),width=widthHeight.width,height=widthHeight.height;try{canvasContext.drawImage(this,x,y,width,height)}finally{canvasContext.globalAlpha=1;callback()}};img.onerror=function(){callback()}}else{callback()}},preDrawChart=function preDrawChart(chartID,ObjectInput){chart=FCGlobal.items[chartID];svgString=chart.jsVars.instanceAPI.getFromEnv("paper").toSVG(true);svgString=svgString.replace(/NS\d+:/gi,"xlink:");svgString=svgString.replace(/(\sd\s*=\s*["'])[M\s\d\.]*(["'])/gi,"$1M 0 0 L 0 0$2");svgString=svgString.replace(/(xlink:title\s*=\s*)['"].*["']/gi,"");chartCounter+=1;(function(){var localSvgString=svgString,useCanvas=FCGlobal.options["export"].useCanvas;(0,_exportUtils.cacheAllImages)(localSvgString,false,function(){localSvgString=(0,_exportUtils.replaceImagesWithNonDataUrl)(localSvgString);drawChart.call(ObjectInput||chart,localSvgString,useCanvas)})})()},createChartArr=function createChartArr(){var charts=exportArgs.charts,item,chart,i,widthHeight;chartArr=[];if(charts){for(i in charts){if(charts.hasOwnProperty(i)&&(item=items[charts[i].id])){chart=charts[i];widthHeight=aspectWidthHeight(Number(chart.width),Number(chart.height),item.width,item.height);chartArr.push({id:item.id,width:widthHeight.width,height:widthHeight.height,x:chart.x,y:chart.y})}}}else{for(i in items){if(items.hasOwnProperty(i)){item=items[i];chartArr.push({id:item.id,width:item.width,height:item.height})}}}};(function(){var exportMode,mappingObject;exportMode=exportOption.exportMode;mappingObject={};mappingObject[_exportUtils.EXPORTMODE.CLIENT]=1;mappingObject[_exportUtils.EXPORTMODE.AUTO]=0;mappingObject[_exportUtils.EXPORTMODE.SERVER]=0;exportOption.exportatclientside=mappingObject[exportMode]})();if(!_libSvgToCanvas.browserDetails.hasCanvas){return}createChartArr();for(i=0,len=chartArr.length;i<len;i+=1){chartObj=chartArr[i];chartObj.x=(0,_lib.pluckNumber)(chartObj.x,imagePaddingByTwo);chartObj.y=(0,_lib.pluckNumber)(chartObj.y,imageHeight+imagePaddingByTwo);chartObj.height=(0,_lib.pluckNumber)(chartObj.height);chartObj.width=(0,_lib.pluckNumber)(chartObj.width);imageHeight=mathMax(imageHeight,chartObj.y+chartObj.height);imageWidth=mathMax(imageWidth,chartObj.x+chartObj.width)}imageHeight=exportArgs.imageHeight||imageHeight+imagePaddingByTwo;imageWidth=exportArgs.imageWidth||imageWidth+imagePaddingByTwo;createCanvas(function(){return function(){for(i=0,len=chartArr.length;i<len;i+=1){chartObj=chartArr[i];if(i===len-1){allChartDrawingComplete=true}preDrawChart(chartObj.id,chartObj)}}}())}function batchExportLinker(FC){FC.batchExport=batchExport;FCGlobal=FC}exports["default"]={extension:batchExportLinker,name:"batchExportLinker",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _logoExtension=__webpack_require__(241);var _logoExtension2=_interopRequireDefault(_logoExtension);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var isRequiredComponent=function isRequiredComponent(component,componentName){return component.getType()===componentName};exports["default"]={extension:function extension(FusionCharts){FusionCharts.addEventListener("instantiated",function(event){var component=event.sender;if(isRequiredComponent(component,"chartAPI")){component.registerFactory("logo",function(chartComponent){var chartAttrs=chartComponent.getFromEnv("chart-attrib"),logoURL=(0,_lib.getValidValue)(chartAttrs.logourl,"");(0,_lib.componentFactory)(chartComponent,_logoExtension2["default"],"logo",logoURL?1:0,[chartAttrs])})}})},name:"LogoExtension",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var NONE="none",UNDEF=void 0,POSITION_TOP="top",POSITION_BOTTOM="bottom",POSITION_MIDDLE="middle",POSITION_RIGHT="right",POSITION_LEFT="left",POINTER="pointer",TL="tl",NORMAL="normal",LOGOROLLOUT="LogoRollout",LOGOROLLOVER="LogoRollover",LOGOCLICK="LogoClick",LOGOLOADED="LogoLoaded",LOGOLOADERROR="LogoLoadError",defaultPosition={vAlign:POSITION_TOP,hAlign:POSITION_LEFT},pointerCSS={link:{cursor:POINTER,_cursor:POINTER},normal:{cursor:"default",_cursor:NORMAL}},position={tr:{vAlign:POSITION_TOP,hAlign:POSITION_RIGHT},bl:{vAlign:POSITION_BOTTOM,hAlign:POSITION_LEFT},br:{vAlign:POSITION_BOTTOM,hAlign:POSITION_RIGHT},cc:{vAlign:POSITION_MIDDLE,hAlign:POSITION_MIDDLE}},isVML=!!(window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")),getHandler=function getHandler(logo){var config=logo.config;return{load:function load(){var logoImageAttr=void 0,chartLogoImage=logo.getGraphicalElement("logoImage"),chartConfig=logo.getFromEnv("chartConfig"),chartBorderWidth=chartConfig.borderWidth||0,chart=logo.getFromEnv("chart"),chartHeight=chartConfig.height,chartWidth=chartConfig.width,logoPosition=config.logoPosition,logoScale=config.logoScale,logoLeftMargin=config.logoLeftMargin,logoTopMargin=config.logoTopMargin,logoURL=config.logoURL,logoAlpha=config.logoAlpha,logoPositionSTR=config.logoPositionSTR,logoLink=config.logoLink;chartLogoImage.show();logoImageAttr=(0,_lib.setImageDisplayMode)(NONE,logoPosition.vAlign,logoPosition.hAlign,logoScale,chartBorderWidth,chartWidth,chartHeight,chartLogoImage._.RefImg);if(isVML){logoImageAttr.w=logoImageAttr.width||0;logoImageAttr.h=logoImageAttr.height||0}logoImageAttr.transform="T"+logoLeftMargin+","+logoTopMargin;chartLogoImage.attr(logoImageAttr);chart.fireChartInstanceEvent(LOGOLOADED,{logoURL:logoURL,logoAlpha:logoAlpha,logoPosition:logoPositionSTR,logoScale:logoScale,logoLink:logoLink})},error:function error(e){var logoURL=config.logoURL,logoAlpha=config.logoAlpha,logoPositionSTR=config.logoPositionSTR,logoScale=config.logoScale,logoLink=config.logoLink,chart=logo.getFromEnv("chart");chart.fireChartInstanceEvent(LOGOLOADERROR,{logoURL:logoURL,logoAlpha:logoAlpha,logoPosition:logoPositionSTR,logoScale:logoScale,logoLink:logoLink,error:e})},mouseover:function mouseover(e){var chartInstance=logo.getFromEnv("chartInstance"),cord=(0,_lib.getMouseCoordinate)(chartInstance.ref,e),chart=logo.getFromEnv("chart"),logoURL=config.logoURL,logoAlpha=config.logoAlpha,logoPositionSTR=config.logoPositionSTR,logoScale=config.logoScale,logoLink=config.logoLink;chart.fireChartInstanceEvent(LOGOROLLOVER,{logoURL:logoURL,logoAlpha:logoAlpha,logoPosition:logoPositionSTR||TL,logoScale:logoScale,logoLink:logoLink,chartX:cord.chartX,chartY:cord.chartY,pageX:cord.pageX,pageY:cord.pageY})},mouseout:function mouseout(e){var chartInstance=logo.getFromEnv("chartInstance"),cord=(0,_lib.getMouseCoordinate)(chartInstance.ref,e),chart=logo.getFromEnv("chart"),logoURL=config.logoURL,logoAlpha=config.logoAlpha,logoPositionSTR=config.logoPositionSTR,logoScale=config.logoScale,logoLink=config.logoLink;chart.fireChartInstanceEvent(LOGOROLLOUT,{logoURL:logoURL,logoAlpha:logoAlpha,logoPosition:logoPositionSTR||TL,logoScale:logoScale,logoLink:logoLink,chartX:cord.chartX,chartY:cord.chartY,pageX:cord.pageX,pageY:cord.pageY})},click:function click(e){var chartInstance=logo.getFromEnv("chartInstance"),cord=(0,_lib.getMouseCoordinate)(chartInstance.ref,e),chart=logo.getFromEnv("chart"),logoURL=config.logoURL,logoAlpha=config.logoAlpha,logoPositionSTR=config.logoPositionSTR,logoScale=config.logoScale,logoLink=config.logoLink;chart.fireChartInstanceEvent(LOGOCLICK,{logoURL:logoURL,logoAlpha:logoAlpha,logoPosition:logoPositionSTR||TL,logoScale:logoScale,logoLink:logoLink,chartX:cord.chartX,chartY:cord.chartY,pageX:cord.pageX,pageY:cord.pageY},UNDEF,config.linkClickFN)}}};var Logo=function(_ComponentInterface){_inherits(Logo,_ComponentInterface);function Logo(){_classCallCheck(this,Logo);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));var logo=_this;logo.config._context={};logo.config.handler=getHandler(logo);logo.config.linkClickFN=function(){var logoLink=logo.config.logoLink;logoLink&&logo.getFromEnv("linkClickFN").call({link:logoLink},true)};return _this}Logo.prototype.configureAttributes=function configureAttributes(){var logo=this,config=logo.config,chartAttrs=logo.getFromEnv("chart-attrib");config.logoURL=(0,_lib.getValidValue)(chartAttrs.logourl,"");config.logoPositionSTR=(0,_lib.pluck)(chartAttrs.logoposition,TL).toLowerCase();config.logoPosition=position[config.logoPositionSTR]||defaultPosition;config.logoAlpha=(0,_lib.pluckNumber)(chartAttrs.logoalpha,100);config.logoLink=(0,_lib.getValidValue)(chartAttrs.logolink);config.logoScale=(0,_lib.pluckNumber)(chartAttrs.logoscale,100);config.logoLeftMargin=(0,_lib.pluckNumber)(chartAttrs.logoleftmargin,0);config.logoTopMargin=(0,_lib.pluckNumber)(chartAttrs.logotopmargin,0);logo.setState("dirty",true)};Logo.prototype._contextChanged=function _contextChanged(){var logo=this,config=logo.config,chartConfig=logo.getFromEnv("chartConfig"),chartBorderWidth=chartConfig.borderWidth,chartWidth=chartConfig.width,chartHeight=chartConfig.height,status=void 0;if(chartBorderWidth!==config._context.chartBorderWidth){config._context.chartBorderWidth=chartBorderWidth;status=true}if(chartWidth!==config._context.chartWidth){config._context.chartWidth=chartWidth;status=true}if(chartHeight!==config._context.chartHeight){config._context.chartHeight=chartHeight;status=true}return status};Logo.prototype.draw=function draw(){var logo=this,config=logo.config,animationManager=logo.getFromEnv("animationManager"),chartLogoImage=logo.getGraphicalElement("logoImage"),logoGroup=logo.getLinkedParent().getChildContainer("logoGroup"),logoAlpha=config.logoAlpha,logoURL=config.logoURL,logoLink=config.logoLink,isNotRemoved=!logo.getState("removed"),isContextChanged=logo._contextChanged();if(isNotRemoved&&!(logo.getState("dirty")||isContextChanged)){return}if(logoURL&&isNotRemoved){chartLogoImage=animationManager.setAnimation({el:chartLogoImage||"image",attr:{opacity:logoAlpha*.01||1,src:logoURL},component:logo,container:logoGroup});if(!logo.getGraphicalElement("logoImage")){logo.addGraphicalElement("logoImage",chartLogoImage);chartLogoImage.on("load",config.handler.load);chartLogoImage.on("error",config.handler.error);chartLogoImage.click(config.handler.click);chartLogoImage.mouseover(config.handler.mouseover);chartLogoImage.mouseout(config.handler.mouseout)}chartLogoImage.css(pointerCSS[logoLink?"link":"normal"])}};return Logo}(_componentInterface2["default"]);exports["default"]=Logo},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function FCPlugger(FusionCharts){FusionCharts.addEventListener("register",function(event,data){var i=void 0,type=data[0],registry=data[1],THEME="Theme";if(type&&typeof type==="string"&&type==="theme"&&registry&&(typeof registry==="undefined"?"undefined":_typeof(registry))==="object"){if(registry instanceof Array){for(i=0;i<registry.length;i++){FusionCharts.addDep({extension:registry[i],name:registry[i].name+THEME,type:"theme"})}}else{FusionCharts.addDep({extension:registry,name:registry.name+THEME,type:"theme"})}event.preventDefault()}})}exports["default"]={extension:FCPlugger,name:"ThemeEngine",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _eventApi=__webpack_require__(124);var UNDEF,DEFAULT_OUTPUT_HELPER="text",DEBUGGER="debugger",logger;logger={outputHelpers:{text:function text(e,a){var sender=(e.sender.id||e.sender).toString();logger.outputTo("#"+e.eventId+" ["+sender+'] fired "'+e.eventType+'" event. '+(e.eventType==="error"||e.eventType==="warning"?a.message:""))},event:function event(e,a){this.outputTo(e,a)},verbose:function verbose(e,a){logger.outputTo(e.eventId,e.sender.id,e.eventType,a)}},outputHandler:function outputHandler(e,a){if(typeof logger.outputTo!=="function"){return}logger.currentOutputHelper(e,a)},currentOutputHelper:UNDEF,outputTo:UNDEF,enabled:false};logger.currentOutputHelper=logger.outputHelpers[DEFAULT_OUTPUT_HELPER];exports["default"]={extension:function extension(FusionCharts){FusionCharts["debugger"]={outputFormat:function outputFormat(format){if(format&&typeof format.toLowerCase==="function"&&typeof logger.outputHelpers[format=format.toLowerCase()]==="function"){logger.currentOutputHelper=logger.outputHelpers[format];return true}return false},outputTo:function outputTo(debuggerCallback){if(typeof debuggerCallback==="function"){logger.outputTo=debuggerCallback}else if(debuggerCallback===null){FusionCharts[DEBUGGER].enable(false);delete logger.outputTo}},enable:function enable(state,outputTo,outputFormat){var config;if((typeof state==="undefined"?"undefined":_typeof(state))==="object"&&arguments.length===1){config=state;state=config.state;outputTo=config.outputTo;outputFormat=config.outputFormat}if(typeof state==="function"){if(typeof outputTo==="string"&&(arguments.length===2||config)){outputFormat=outputTo}outputTo=state;state=true}if(typeof state==="boolean"&&state!==logger.enabled){logger.enabled=state;if(logger.enabled){(0,_eventApi.addListener)("*",logger.outputHandler)}else{(0,_eventApi.removeListener)("*",logger.outputHandler)}}if(typeof outputTo==="function"){logger.outputTo=outputTo}FusionCharts[DEBUGGER].outputFormat(outputFormat);return logger.enabled}}},name:"Debugger",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _ajax=__webpack_require__(166);var _ajax2=_interopRequireDefault(_ajax);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={name:"Ajax",type:"extension",requiresFusionCharts:true,extension:function extension(FusionCharts){FusionCharts.ajax=_ajax2["default"]}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _centerLabelExtension=__webpack_require__(246);var _centerLabelExtension2=_interopRequireDefault(_centerLabelExtension);var _lib=__webpack_require__(118);var _schedular=__webpack_require__(129);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var isDoughnut2D=function isDoughnut2D(component){return component.getName()==="Doughnut2D"},isMultiLevelPie=function isMultiLevelPie(component){return component.getName()==="MultilevelPie"},isChartAPI=function isChartAPI(component){return component.getType()==="chartAPI"},isDataset=function isDataset(component){return component.getType()==="dataset"},count=0,UNDEF=void 0;function centerLabel(labelText,options){var chart=this.apiInstance,dataset=chart.getChildren("dataset")[0],children=dataset.getChildren(),centerLabelComp=children.centerLabel&&children.centerLabel[0],chartConfig=chart.config,_helperFn=function _helperFn(){var seriesData=chart.getDatasets()[0],config=seriesData.config,piePlotOptions=config.piePlotOptions,innerSize=piePlotOptions.innerSize,centerLabelConfig,key;centerLabelConfig=centerLabelComp.config;if((typeof options==="undefined"?"undefined":_typeof(options))!=="object"){options=centerLabelConfig}else{for(key in centerLabelConfig){options[key]===UNDEF&&(options[key]=centerLabelConfig[key])}centerLabelConfig=Object.assign(centerLabelConfig,options)}options.label=labelText;centerLabelConfig.label=labelText;seriesData.centerLabelConfig=centerLabelConfig;innerSize&&centerLabelComp&&centerLabelComp.draw(labelText||"")};if(centerLabelComp===UNDEF){(0,_lib.componentFactory)(dataset,_centerLabelExtension2["default"],"centerLabel",1,[chartConfig]);centerLabelComp=children.centerLabel&&children.centerLabel[0]}chart.addJob("eiMethods-center-lebel"+count++,_helperFn,_schedular.priorityList.postRender)}exports["default"]={extension:function extension(FusionCharts){var isApplicableChart;FusionCharts.addEventListener("instantiated",function(event){var component=event.sender;!isApplicableChart&&(isApplicableChart=isChartAPI(component)&&(isDoughnut2D(component)||isMultiLevelPie(component)));if(isApplicableChart&&isDataset(component)){component.registerFactory("centerLabel",function(){var chartConfig=component.getFromEnv("chartConfig"),chartInstance=component.getFromEnv("chartInstance"),hasCenterLabel=!!(chartConfig.centerlabel||chartConfig.defaultcenterlabel);chartInstance.centerLabel=centerLabel;(0,_lib.componentFactory)(component,_centerLabelExtension2["default"],"centerLabel",hasCenterLabel?1:0,[chartConfig]);isApplicableChart=UNDEF})}})},name:"CenterLabelExtension",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _centerLabelAnimation=__webpack_require__(247);var _centerLabelAnimation2=_interopRequireDefault(_centerLabelAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,HIDDEN="hidden",VISIBLE="visible";function replaceMacros(text,macrosArr,valuesArr){if(text){var i=macrosArr.length||0,regExpression;while(i--){regExpression=new RegExp(macrosArr[i],"gi");text=text.replace(regExpression,valuesArr[i])}}return text}(0,_dependencyManager.addDep)({name:"centerLabelAnimation",type:"animationRule",extension:_centerLabelAnimation2["default"]});var CenterLabel=function(_ComponentInterface){_inherits(CenterLabel,_ComponentInterface);function CenterLabel(){_classCallCheck(this,CenterLabel);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}CenterLabel.prototype.getName=function getName(){return"centerLabel"};CenterLabel.prototype.getType=function getType(){return"centerLabel"};CenterLabel.prototype.configure=function configure(config){var chartAttr=this.getFromEnv("chart-attrib"),numberFormatter=this.getFromEnv("number-formatter"),dataLabelStyle=config.dataLabelStyle,centerLabel=this;centerLabel.config={label:(0,_lib.parseUnsafeString)((0,_lib.pluck)(chartAttr.defaultcenterlabel,"")),font:(0,_lib.pluck)(chartAttr.centerlabelfont,dataLabelStyle.fontFamily),fontSize:(0,_lib.pluckNumber)(chartAttr.centerlabelfontsize,parseInt(dataLabelStyle.fontSize,10)),color:(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.centerlabelcolor,chartAttr.valuefontcolor,config.style.inCanvasStyle.color,"555555")),alpha:(0,_lib.pluckNumber)(chartAttr.centerlabelalpha,100),bold:(0,_lib.pluckNumber)(chartAttr.centerlabelbold,dataLabelStyle.fontWeight),italic:(0,_lib.pluckNumber)(chartAttr.centerlabelitalic,dataLabelStyle.style),bgColor:(0,_lib.pluck)(chartAttr.centerlabelbgcolor,""),bgAlpha:(0,_lib.pluckNumber)(chartAttr.centerlabelbgalpha,100),borderColor:(0,_lib.pluck)(chartAttr.centerlabelbordercolor,dataLabelStyle.borderColor),borderAlpha:(0,_lib.pluckNumber)(chartAttr.centerlabelborderalpha,100),borderThickness:(0,_lib.pluckNumber)(chartAttr.centerlabelborderthickness,dataLabelStyle.borderThickness),borderRadius:(0,_lib.pluckNumber)(chartAttr.centerlabelborderradius,dataLabelStyle.borderRadius),textPadding:(0,_lib.pluckNumber)(chartAttr.centerlabeltextpadding,dataLabelStyle.borderPadding),padding:(0,_lib.pluckNumber)(chartAttr.centerlabelpadding,2),bgOval:(0,_lib.pluckNumber)(chartAttr.centerlabelbgoval,0),shadow:(0,_lib.pluckNumber)(chartAttr.showcenterlabelshadow,0),hoverColor:chartAttr.centerlabelhovercolor&&(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.centerlabelhovercolor)),hoverAlpha:(0,_lib.pluckNumber)(chartAttr.centerlabelhoveralpha),toolText:(0,_lib.parseUnsafeString)((0,_lib.pluck)(chartAttr.centerlabeltooltext,_lib.BLANKSTRING))};centerLabel.addExtEventListener("datasetrollover",function(event){var dataJSON=event.sender.getFromEnv("dataSource"),data=event.data,label=(0,_lib.pluck)(replaceMacros(dataJSON.chart.centerlabel,["\\$value","\\$percentValue","\\$displayValue","\\$label"],[numberFormatter.scale(data.value),data.pValue,data.displayValue,data.label]),"");centerLabel.draw(label,false)},this.getFromEnv("chart").getDatasets()[0]);centerLabel.addExtEventListener("datasetrollout",function(event){var centerlabel=event.sender.config.label,label=(0,_lib.pluck)(centerlabel,"");centerLabel.draw(label,false)},this.getFromEnv("chart").getDatasets()[0])};CenterLabel.prototype.draw=function draw(labelText){var centerLabel=this,chart=centerLabel.getFromEnv("chart"),cx=chart.config.canvasLeft+chart.config.canvasWidth*.5,cy=chart.config.canvasTop+chart.config.canvasHeight*.5,dx=chart.getDatasets()[0].config.innerSize,dy=chart.getDatasets()[0].config.innerSize,dataSet=chart.getDatasets()[0],seriesData=dataSet.config,labelConfig=this.config,animationManager=centerLabel.getFromEnv("animationManager"),smartLabel=centerLabel.getFromEnv("smartLabel"),centerLabelGraphics=this.getGraphicalElement("centerLabel"),centerLabelBgGraphics=this.getGraphicalElement("centerLabelBg"),grp=chart.getChildContainer("plotGroup"),labelPadding=labelConfig.padding,textpadding=labelConfig.textPadding*2,cssObj={fontFamily:labelConfig.font,fontSize:labelConfig.fontSize+"px",lineHeight:1.2*labelConfig.fontSize+"px",fontWeight:labelConfig.bold?"bold":"",fontStyle:labelConfig.italic?"italic":""},txtW=(dx*.5-labelPadding)*1.414-textpadding,txtH=(dy*.5-labelPadding)*1.414-textpadding,smartLabelObj,toolTipController=centerLabel.getFromEnv("toolTipController");labelText=(0,_lib.pluck)(labelText,labelConfig.label);smartLabel.setStyle(cssObj);smartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);smartLabelObj=smartLabel.getSmartText(labelText,txtW,txtH);if(!centerLabelGraphics){centerLabel.addEventListener("mouseover",function(){centerLabel._centerLabelRollover(chart)});centerLabel.addEventListener("mouseout",function(){centerLabel._centerLabelRollout(chart)});centerLabel.addEventListener("click",function(){centerLabel._centerLabelClick(chart)})}else{centerLabelGraphics.attr("text")!==labelText&&centerLabel.centerLabelChange(labelText)}if(labelText){if(labelConfig.bgOval){centerLabelBgGraphics=animationManager.setAnimation({el:centerLabelBgGraphics||"circle",attr:{cx:cx,cy:cy,r:dx*.5-labelPadding,visibility:VISIBLE,container:grp,fill:(0,_lib.hashify)(labelConfig.bgColor),"fill-opacity":labelConfig.bgAlpha/100,stroke:(0,_lib.hashify)(labelConfig.borderColor),"stroke-width":labelConfig.borderThickness,"stroke-opacity":labelConfig.borderAlpha/100},component:centerLabel})}centerLabelGraphics=animationManager.setAnimation({el:centerLabelGraphics||"text",component:centerLabel,container:grp,css:cssObj,attr:{x:cx,y:cy,text:smartLabelObj.text,visibility:VISIBLE,direction:chart.config.textDirection,fill:(0,_lib.toRaphaelColor)({FCcolor:{color:labelConfig.color,alpha:labelConfig.alpha}}),"text-bound":labelConfig.bgOval?"none":[(0,_lib.toRaphaelColor)({FCcolor:{color:labelConfig.bgColor,alpha:labelConfig.bgAlpha}}),(0,_lib.toRaphaelColor)({FCcolor:{color:labelConfig.borderColor,alpha:labelConfig.borderAlpha}}),labelConfig.borderThickness,labelConfig.textPadding,labelConfig.borderRadius]},label:"text"});toolTipController.enableToolTip(centerLabelGraphics,labelConfig.toolText||smartLabelObj.tooltext)}else{centerLabelGraphics&&animationManager.setAnimation({el:centerLabelGraphics,attr:{visibility:HIDDEN},component:centerLabel});centerLabelBgGraphics&&animationManager.setAnimation({el:centerLabelBgGraphics,attr:{visibility:HIDDEN},component:centerLabel})}centerLabel.addGraphicalElement("centerLabel",centerLabelGraphics);centerLabel.addGraphicalElement("centerLabelBg",centerLabelBgGraphics);seriesData.lastCenterLabelConfig=labelConfig;seriesData.centerLabelConfig=labelConfig};CenterLabel.prototype.centerLabelChange=function centerLabelChange(labelText){var centerLabelapi=this,chart=centerLabelapi.getFromEnv("chart"),chartConfig=chart.config,chartInstance=centerLabelapi.getFromEnv("chartInstance"),eventArgs={height:chartConfig.height,width:chartConfig.width,pixelHeight:chart.getFromEnv("chartWidth"),pixelWidth:chart.getFromEnv("chartHeight"),id:chartInstance.id,renderer:chartInstance.args.renderer,container:centerLabelapi.getFromEnv("chart-container"),centerLabelText:labelText};chart.fireChartInstanceEvent("centerLabelChanged",eventArgs)};CenterLabel.prototype._centerLabelRollover=function _centerLabelRollover(chart){var chartConfig=chart.config,chartInstance=chart.getFromEnv("chartInstance"),labelConfig=this.config,cLabel=this,eventArgs={height:chartConfig.height,width:chartConfig.width,pixelHeight:chart.getFromEnv("chartWidth"),pixelWidth:chart.getFromEnv("chartHeight"),id:chartInstance.id,renderer:chartInstance.args.renderer,container:this.getFromEnv("chart-container"),centerLabelText:labelConfig&&labelConfig.label};this.getFromEnv("paper").attr("text")&&chart.fireChartInstanceEvent("centerLabelRollover",eventArgs,UNDEF,cLabel.hoverOnCenterLabel.bind(cLabel,chart))};CenterLabel.prototype._centerLabelRollout=function _centerLabelRollout(chart){var chartConfig=chart.config,cLabel=this,chartInstance=chart.getFromEnv("chartInstance"),labelConfig=this.config,eventArgs={height:chartConfig.height,width:chartConfig.width,pixelHeight:chart.getFromEnv("chartWidth"),pixelWidth:chart.getFromEnv("chartHeight"),id:chartInstance.id,renderer:chartInstance.args.renderer,container:this.getFromEnv("chart-container"),centerLabelText:labelConfig&&labelConfig.label};this.getFromEnv("paper").attr("text")&&chart.fireChartInstanceEvent("centerLabelRollout",eventArgs,UNDEF,cLabel.hoverOffCenterLabel.bind(cLabel,chart))};CenterLabel.prototype._centerLabelClick=function _centerLabelClick(chart){var chartConfig=chart.config,chartInstance=chart.getFromEnv("chartInstance"),eventArgs={height:chartConfig.height,width:chartConfig.width,pixelHeight:chart.getFromEnv("chartWidth"),pixelWidth:chart.getFromEnv("chartHeight"),id:chartInstance.id,renderer:chartInstance.args.renderer,container:this.getFromEnv("chart-container")},labelConfig=void 0;labelConfig=this.config;eventArgs.centerLabelText=labelConfig&&labelConfig.label;this.getFromEnv("paper").attr("text")&&chart.fireChartInstanceEvent("centerLabelClick",eventArgs)};CenterLabel.prototype.hoverOnCenterLabel=function hoverOnCenterLabel(chart){var dataSet=chart.getChildren("dataset")[0],seriesData=dataSet.config,labelConfig=seriesData.lastCenterLabelConfig;if(labelConfig.hoverColor||labelConfig.hoverAlpha){this.getGraphicalElement("centerLabel").attr({fill:(0,_lib.toRaphaelColor)({FCcolor:{color:labelConfig.hoverColor||labelConfig.color,alpha:labelConfig.hoverAlpha||labelConfig.alpha}})})}};CenterLabel.prototype.hoverOffCenterLabel=function hoverOffCenterLabel(chart){var dataSet=chart.getChildren("dataset")[0],seriesData=dataSet.config,labelConfig=seriesData.lastCenterLabelConfig;if(labelConfig.hoverColor||labelConfig.hoverAlpha){this.getGraphicalElement("centerLabel").attr({fill:(0,_lib.toRaphaelColor)({FCcolor:{color:labelConfig.color,alpha:labelConfig.alpha}})})}};return CenterLabel}(_componentInterface2["default"]);exports["default"]=CenterLabel},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.centerLabel.centerLabel.text.appearing":function initialCenterLabelCenterLabelTextAppearing(json){if(json.attr){return[{initialAttr:{x:json.attr.x,y:json.attr.y}}]}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _crossline=__webpack_require__(249);var _crossline2=_interopRequireDefault(_crossline);var _crosslineManagerBandCategoryAxis=__webpack_require__(251);var _crosslineManagerBandCategoryAxis2=_interopRequireDefault(_crosslineManagerBandCategoryAxis);var _domEvent=__webpack_require__(120);var _domEvent2=_interopRequireDefault(_domEvent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var CANVAS="canvas",CHARTAPI="chartAPI",CROSSLINEMANAGER="crossline-manager",win=window,doc=win.document,chartExclusionList={dragnode:true,hlineargauge:true,column3d:true,mscolumn3d:true,bar3d:true,pareto3d:true,msbar3d:true,stackedcolumn3d:true,stackedbar3d:true,mscombi3d:true,mscolumnline3d:true,stackedcolumn3dline:true,mscolumn3dlinedy:true,stackedcolumn3dlinedy:true,realtimearea:true,realtimecolumn:true,realtimeline:true,realtimestackedarea:true,realtimestackedcolumn:true,angulargauge:true,realtimelinedy:true,kagi:true,scrollcolumn2d:true,scrollline2d:true,scrollarea2d:true,scrollstackedcolumn2d:true,scrollcombi2d:true,scrollcombidy2d:true,scrollcombi2dspline:true,treemap:true,heatmap:true,boxandwhisker2d:true,scatter:true,bubble:true,errorscatter:true,sparkwinloss:true,zoomscatter:true,zoomline:true,zoomlinedy:true};exports["default"]={extension:function extension(Fusioncharts){Fusioncharts.addEventListener("preconfigure",function(event){if(event.sender.getType()===CHARTAPI){var chart=event.sender,chartObj=chart.getFromEnv("chartInstance");chartObj.drawCrossline=function(value){chartObj.drawConsolidatedToolTip(value);chart.iterateComponents(function(component){if(component.getType()===CROSSLINEMANAGER){if(value){component.show({value:value})}else{component.hide()}}})}}});Fusioncharts.addEventListener("instantiated",function(event){if(event.sender.getName()===CANVAS){var canvas=event.sender,crosslineManagerBand=void 0,handlerAPI=void 0;canvas.registerFactory("crossLineManager",function(){var chart=event.sender.getFromEnv("chart"),chartName=chart&&chart.getName();if(chartName&&!chartExclusionList[chartName.toLowerCase()]){(0,_lib.componentFactory)(canvas,_crosslineManagerBandCategoryAxis2["default"],"crosslineManagerBand");crosslineManagerBand=canvas.getChildren("crosslineManagerBand")[0];handlerAPI=crosslineManagerBand._handlerAPI;crosslineManagerBand.configure();(0,_lib.componentFactory)(crosslineManagerBand,_crossline2["default"],"crossline");crosslineManagerBand.addExtEventListener("touchstart",handlerAPI.onhover,canvas);crosslineManagerBand.addExtEventListener("touchmove",handlerAPI.onhover,canvas);crosslineManagerBand.addExtEventListener("touchend",handlerAPI.onhoverout,canvas);crosslineManagerBand.addExtEventListener("mouseover",handlerAPI.onhover,canvas);crosslineManagerBand.addExtEventListener("mousemove",handlerAPI.onhover,canvas);crosslineManagerBand.addExtEventListener("mouseout",handlerAPI.onhoverout,canvas);_domEvent2["default"].unlisten(doc,"touchstart",handlerAPI.onhoverout);chart.getFromEnv("eventListeners").push(_domEvent2["default"].listen(doc,"touchstart",handlerAPI.onhoverout))}})}})},name:"crossline-manager",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);var _dependencyManager=__webpack_require__(125);var _crosslineAnimation=__webpack_require__(250);var _crosslineAnimation2=_interopRequireDefault(_crosslineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var M="M",L="L",DEFAULTCOLOR="#EEEEEE",DEFAULTALPHA=50,BAND="band";var CrossLine=function(_ComponentInterface){_inherits(CrossLine,_ComponentInterface);function CrossLine(){_classCallCheck(this,CrossLine);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));(0,_dependencyManager.addDep)({name:"crosslineAnimation",type:"animationRule",extension:_crosslineAnimation2["default"]});return _this}CrossLine.prototype.getName=function getName(){return"crossline"};CrossLine.prototype.getType=function getType(){return"crossline"};CrossLine.prototype.show=function show(){var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var crossline=this,onTop=!!config.onTop,type=config.type,prevRenderedOnTop=crossline.config.prevRenderedOnTop;!(onTop===prevRenderedOnTop)&&crossline.hide();!crossline[type]&&(type=BAND);crossline[type](config);crossline.config.prevRenderedOnTop=onTop};CrossLine.prototype.band=function band(){var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var crossline=this,managerId=config.managerId,x1=config.x1,y1=config.y1,x2=config.x2,y2=config.y2,thickness=config.thickness,onTop=!!config.onTop,fillcolor=(0,_lib.pluck)(config.fillcolor,DEFAULTCOLOR),alpha=(0,_lib.pluckNumber)(config.alpha,DEFAULTALPHA),fcColor=(0,_lib.toRaphaelColor)({color:fillcolor,alpha:alpha}),crosslineElem=void 0,containerBellow=crossline.getLinkedParent().getChildContainer("crosslineBottom"),containerTop=crossline.getLinkedParent().getChildContainer("crosslineTop"),container=void 0;container=onTop?containerTop:containerBellow;crosslineElem=crossline.getGraphicalElement("crosslineBand"+managerId);if(!crosslineElem){crossline.addGraphicalElement("crosslineBand"+managerId,crossline.getFromEnv("paper").path({path:[M,x1,y1,L,x2,y2],stroke:fcColor,fill:fcColor,"stroke-width":thickness,"stroke-linecap":"butt"},container))}else{config.animDuration?crosslineElem.animate({path:[M,x1,y1,L,x2,y2]},config.animDuration,"ease-in"):crosslineElem.attr({path:[M,x1,y1,L,x2,y2]})}};CrossLine.prototype.hide=function hide(){var graphicElems=this.getGraphicalElement(),keys=Object.keys(graphicElems);for(var i=keys.length-1;i>-1;i--){graphicElems[keys[i]].stop(undefined,true,true);graphicElems[keys[i]].remove();delete graphicElems[keys[i]]}};return CrossLine}(_componentInterface2["default"]);exports["default"]=CrossLine},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={crossline:{crossline:{path:{updating:function updating(input){var path=input.attr.path;return[{initialAttr:{path:input.el.attr("path")},finalAttr:{path:path}}]}}}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _domEvent=__webpack_require__(120);var _domEvent2=_interopRequireDefault(_domEvent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var DEFAULTCOLOR="#EEEEEE",DEFAULTALPHA=50,UNDEF=void 0,win=window,doc=win.document,docBody=doc.body||doc.getElementsByTagName("body")[0],crispFixer=_lib.hasSVG?0:.5,crisping=function crisping(x,s){return Math.round(x+(s%2/2+crispFixer))-(s%2/2+crispFixer)},handlers=function handlers(crossLineManagerBand){return{onhover:function onhover(event,o){crossLineManagerBand.show(o.axes?{axesInfo:o.axes}:{event:event})},onhoverout:function onhoverout(event){crossLineManagerBand.hide({event:event})}}},createRaphaelGroup=function createRaphaelGroup(groupName,parentContainer,manager){var animationManager=manager.getFromEnv("animationManager");return animationManager.setAnimation({el:"group",attr:{name:groupName},container:parentContainer,state:"appearing",component:manager,label:"group"})};var CrossLineManagerBand=function(_ComponentInterface){_inherits(CrossLineManagerBand,_ComponentInterface);function CrossLineManagerBand(){_classCallCheck(this,CrossLineManagerBand);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this._handlerAPI=handlers(_this);return _this}CrossLineManagerBand.prototype.getAttachedAxisInfo=function getAttachedAxisInfo(){var event=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var manager=this,canvas=manager.getLinkedParent(),listOfAxes=canvas.getAxes(),i=void 0,axis=void 0,isY=void 0,isVertical=void 0,coordinate=event.originalEvent&&(0,_lib.getMouseCoordinate)(manager.getFromEnv("chart-container"),event.originalEvent,manager.getFromEnv("chart")),chartX=coordinate&&coordinate.chartX||0,chartY=coordinate&&coordinate.chartY||0;for(i=listOfAxes.length-1;i>=0;i--){axis=listOfAxes[i].axis;isY=listOfAxes[i].isY;if(!isY){isVertical=!!axis.config.isVertical;return{value:isVertical?axis.getValue(chartY):axis.getValue(chartX),axis:axis,isVertical:isVertical,isY:false}}}};CrossLineManagerBand.prototype.configure=function configure(){var manager=this,conf=manager.config,chartConfig=manager.getFromEnv("chartConfig"),chartAttr=manager.getFromEnv("chart-attrib"),fillcolor=(0,_lib.pluck)(chartAttr.crosslinecolor,chartConfig.crosslinecolor,DEFAULTCOLOR),thickness=(0,_lib.pluckNumber)(chartConfig.defaultcrosslinethickness),crosslineanimation=(0,_lib.pluckNumber)(chartAttr.crosslineanimation,0),animduration=crosslineanimation&&(0,_lib.pluckNumber)(chartAttr.crosslineanimationduration,.09)*1e3,onTop=(0,_lib.pluckNumber)(chartAttr.drawcrosslineontop,chartConfig.drawcrosslineontop,0),alpha=(0,_lib.pluckNumber)(chartAttr.crosslinealpha,chartConfig.crosslinealpha,DEFAULTALPHA);conf.drawCrossLine=(0,_lib.pluckNumber)(chartAttr.drawcrossline,chartConfig.drawcrossline,0);conf.bandStyle={fillcolor:fillcolor,alpha:alpha,thickness:thickness,managerId:manager.getId(),onTop:onTop,cursor:"pointer",animDuration:animduration}};CrossLineManagerBand.prototype.createGroup=function createGroup(){var manager=this,crosslineBottom=manager.getLinkedParent().getChildContainer("crosslineBottom"),crosslineTop=manager.getLinkedParent().getChildContainer("crosslineTop");!manager.getChildContainer("crosslineTop")&&manager.addChildContainer("crosslineTop",createRaphaelGroup("crosslineTop",crosslineTop,manager));!manager.getChildContainer("crosslineBottom")&&manager.addChildContainer("crosslineBottom",createRaphaelGroup("crosslineBottom",crosslineBottom,manager))};CrossLineManagerBand.prototype.show=function show(){var info=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var manager=this,event=info.event,conf=manager.config;conf.attachedCanvasAxisInfo=manager.getAttachedAxisInfo(event);manager._setAptAxesInfo(info.axesInfo,info.value);manager._show(event)};CrossLineManagerBand.prototype._setAptAxesInfo=function _setAptAxesInfo(){var extAttachedAxesInfo=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var value=arguments[1];var manager=this,infoLength=extAttachedAxesInfo.length,extAttachedAxis=void 0,attachedCanvasAxisInfo=manager.config.attachedCanvasAxisInfo,i=void 0;if(extAttachedAxesInfo.length){for(i=0;i<infoLength;i++){extAttachedAxis=extAttachedAxesInfo[i];if(extAttachedAxis.axis===attachedCanvasAxisInfo.axis){attachedCanvasAxisInfo.value=extAttachedAxis.value;break}}}if(value){attachedCanvasAxisInfo.value=value}};CrossLineManagerBand.prototype._show=function _show(event){var manager=this,conf=manager.config,chartConfig=manager.getFromEnv("chartConfig"),crossline=manager.getChildren("crossline")[0],attachedCanvasAxisInfo=conf.attachedCanvasAxisInfo,axisValue=attachedCanvasAxisInfo.value,activeAxis=attachedCanvasAxisInfo.axis,isVertical=attachedCanvasAxisInfo.isVertical,endPad=activeAxis.config.endPad,limit=activeAxis.getVisibleConfig().maxValue-endPad,xAxisIndex=Math.round(axisValue),xAxisPos=attachedCanvasAxisInfo.axis.getPixel(xAxisIndex),xAxisZeroPos=void 0,xAxisOnePos=void 0,thickness=void 0,bandAttrs=Object.assign({},conf.bandStyle),crispedValue=void 0,canvasConfig=manager.getFromEnv("canvasConfig"),canvasTop=canvasConfig.canvasTop,canvasLeft=canvasConfig.canvasLeft,canvasWidth=canvasConfig.canvasWidth,canvasHeight=canvasConfig.canvasHeight,canvasBottom=canvasTop+canvasHeight,drawCrossLine=conf.drawCrossLine;if(xAxisIndex<0||xAxisIndex>limit){return}if(manager.config.lastIndex!==xAxisIndex&&drawCrossLine){if((thickness=bandAttrs.thickness)===UNDEF){if(chartConfig._hascolumn===false){thickness=1}else{xAxisZeroPos=activeAxis.getPixel(0);xAxisOnePos=activeAxis.getPixel(1);thickness=Math.abs(xAxisOnePos-xAxisZeroPos)}}crispedValue=crisping(xAxisPos,thickness);manager.createGroup();bandAttrs.thickness=thickness;if(isVertical){bandAttrs=Object.assign(bandAttrs,{x1:canvasLeft,y1:crispedValue,x2:canvasLeft+canvasWidth,y2:crispedValue})}else{bandAttrs=Object.assign(bandAttrs,{x1:crispedValue,y1:canvasTop,x2:crispedValue,y2:canvasBottom})}crossline.show(bandAttrs);manager.fireEvent("onChangeCrossLine",{currentIndex:xAxisIndex,lastIndex:manager.config.lastIndex,source:event?"mouse interaction":"public API"});manager.config.lastIndex=xAxisIndex}};CrossLineManagerBand.prototype.hide=function hide(){var info=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var manager=this,canvas=manager.getLinkedParent(),event=info.event,coordinate=event.originalEvent&&(0,_lib.getMouseCoordinate)(canvas.getFromEnv("chart-container"),event&&event.originalEvent,canvas.getFromEnv("chart")),chartX=coordinate&&coordinate.chartX||0,chartY=coordinate&&coordinate.chartY||0;if(!canvas.isWithinCanvas(chartX,chartY)){delete this.config.lastIndex;this.getChildren("crossline")[0].hide()}};CrossLineManagerBand.prototype.getType=function getType(){return"crossline-manager"};CrossLineManagerBand.prototype.getName=function getName(){return"crossline-manager-band-category-axis"};CrossLineManagerBand.prototype._dispose=function _dispose(){_domEvent2["default"].unlisten(docBody||(docBody=doc.body||doc.getElementsByTagName("body")[0]),"touchstart",this._handlerAPI.onhoverout);_ComponentInterface.prototype._dispose.call(this)};return CrossLineManagerBand}(_componentInterface2["default"]);exports["default"]=CrossLineManagerBand},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var inclusionList={candlestick:true};var manageMultiCanvasCrossline=function(_ComponentInterface){_inherits(manageMultiCanvasCrossline,_ComponentInterface);function manageMultiCanvasCrossline(){_classCallCheck(this,manageMultiCanvasCrossline);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this._handlers=function(manager){return{onhover:function onhover(event){event.originalEvent&&manager.show(event)},onhoverout:function onhoverout(event){event.originalEvent&&manager.hide(event)}}}(_this);return _this}manageMultiCanvasCrossline.prototype.getAxesInfo=function getAxesInfo(){var event=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var targetCanvas=arguments[1];var manager=this,listOfAxes=targetCanvas.getAxes(),i=void 0,info=[],axis=void 0,isY=void 0,isVertical=void 0,coordinate=(0,_lib.getMouseCoordinate)(manager.getFromEnv("chart-container"),event.originalEvent,manager.getFromEnv("chart")),chartX=coordinate.chartX||0,chartY=coordinate.chartY||0;for(i=listOfAxes.length-1;i>=0;i--){axis=listOfAxes[i].axis;isY=listOfAxes[i].isY;isVertical=!!axis.config.isVertical;info.push({value:isVertical?axis.getValue(chartY):axis.getValue(chartX),axis:axis,isVertical:isVertical,isY:isY})}return info};manageMultiCanvasCrossline.prototype.getName=function getName(){return"multiCanvasCrosslineManager"};manageMultiCanvasCrossline.prototype.getType=function getType(){return"multiCanvasCrosslineManager"};manageMultiCanvasCrossline.prototype.show=function show(event){var targetCanvas=event.sender,attachedAxesInfo=void 0,chart=this.getFromEnv("chart");attachedAxesInfo=this.getAxesInfo(event,targetCanvas);chart.iterateComponents(function(component){if(component.getName()==="canvas"&&component!==targetCanvas){component.fireEvent("mousemove",{axes:attachedAxesInfo})}})};manageMultiCanvasCrossline.prototype.hide=function hide(event){var targetCanvas=event.sender,coordinate=(0,_lib.getMouseCoordinate)(targetCanvas.getFromEnv("chart-container"),event&&event.originalEvent,targetCanvas.getFromEnv("chart")),chartX=coordinate.chartX,chartY=coordinate.chartY;if(!targetCanvas.isWithinCanvas(chartX,chartY)){this.getFromEnv("chart").iterateComponents(function(component){if(component.getName()==="canvas"&&component!==targetCanvas){component.fireEvent("mouseout")}})}};return manageMultiCanvasCrossline}(_componentInterface2["default"]);exports["default"]={extension:function extension(Fusioncharts){Fusioncharts.addEventListener("instantiated",function(event){if(event.sender.getType&&event.sender.getType()==="chartAPI"&&inclusionList[event.sender.getName&&event.sender.getName()]){var chart=event.sender,manager=void 0,handlersAPI=void 0;chart.registerFactory("multiCanvasCrossline",function(){(0,_lib.componentFactory)(chart,manageMultiCanvasCrossline,"multiCanvasCrosslineManager");manager=chart.getChildren("multiCanvasCrosslineManager")[0];handlersAPI=manager._handlers;chart.iterateComponents(function(child){if(child.getName()==="canvas"){child.addEventListener("mouseover",handlersAPI.onhover);child.addEventListener("mousemove",handlersAPI.onhover);child.addEventListener("mouseout",handlersAPI.onhoverout)}})},["canvas"])}})},name:"multi-canvas-crossline-manager",type:"extension",requiresFusionCharts:true}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={column2d:"charts",column3d:"charts",bar2d:"charts",bar3d:"charts",pie2d:"charts",pie3d:"charts",line:"charts",area2d:"charts",doughnut2d:"charts",doughnut3d:"charts",pareto2d:"charts",pareto3d:"charts",mscolumn2d:"charts",mscolumn3d:"charts",msline:"charts",msarea:"charts",msbar2d:"charts",msbar3d:"charts",stackedcolumn2d:"charts",marimekko:"charts",stackedcolumn3d:"charts",stackedarea2d:"charts",stackedcolumn2dline:"charts",stackedcolumn3dline:"charts",stackedbar2d:"charts",stackedbar3d:"charts",msstackedcolumn2d:"charts",mscombi2d:"charts",mscombi3d:"charts",mscolumnline3d:"charts",mscombidy2d:"charts",mscolumn3dlinedy:"charts",stackedcolumn3dlinedy:"charts",msstackedcolumn2dlinedy:"charts",scatter:"charts",bubble:"charts",ssgrid:"charts",scrollcolumn2d:"charts",scrollcolumn3d:"charts",scrollline2d:"charts",scrollarea2d:"charts",scrollstackedcolumn2d:"charts",scrollcombi2d:"charts",scrollcombidy2d:"charts",spline:"charts",splinearea:"charts",msspline:"charts",mssplinearea:"charts",mssplinedy:"charts",multiaxisline:"powercharts",multilevelpie:"powercharts",waterfall2d:"powercharts",msstepline:"powercharts",inversemsline:"powercharts",inversemscolumn2d:"powercharts",inversemsarea:"powercharts",errorbar2d:"powercharts",errorscatter:"powercharts",errorline:"powercharts",logmsline:"powercharts",logmscolumn2d:"powercharts",logstackedcolumn2d:"powercharts",radar:"powercharts",dragnode:"powercharts",candlestick:"powercharts",selectscatter:"powercharts",dragcolumn2d:"powercharts",dragline:"powercharts",dragarea:"powercharts",boxandwhisker2d:"powercharts",kagi:"powercharts",heatmap:"powercharts",angulargauge:"widgets",bulb:"widgets",cylinder:"widgets",drawingpad:"widgets",funnel:"widgets",hbullet:"widgets",hled:"widgets",hlineargauge:"widgets",vlineargauge:"widgets",pyramid:"widgets",realtimearea:"widgets",realtimecolumn:"widgets",realtimeline:"widgets",realtimelinedy:"widgets",realtimestackedarea:"widgets",realtimestackedcolumn:"widgets",sparkcolumn:"widgets",sparkline:"widgets",sparkwinloss:"widgets",thermometer:"widgets",vbullet:"widgets",vled:"widgets",zoomline:"zoomline",zoomlinedy:"zoomline",gantt:"gantt",treemap:"treemap",zoomscatter:"zoomscatter",overlappedbar2d:"overlappedbar2d",overlappedcolumn2d:"overlappedcolumn2d",msstackedcolumn2dsplinedy:"msstackedcolumn2dsplinedy"}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var SCRIPT_LOAD_TIMEOUT=12e4;var loadedScripts={};function loadScript(scriptSrc){if(!loadedScripts[scriptSrc]){var head=document.getElementsByTagName("head")[0],script=document.createElement("script"),timeout=setTimeout(function(){script.onerror({type:"timeout",target:script})},SCRIPT_LOAD_TIMEOUT);script.charset="utf-8";script.timeout=SCRIPT_LOAD_TIMEOUT;loadedScripts[scriptSrc]=new Promise(function(resolve,reject){script.onload=function(e){script.onerror=script.onload=null;clearTimeout(timeout);resolve(e)};script.onerror=function(e){script.onerror=script.onload=null;clearTimeout(timeout);reject(e)}});if(!(0,_lib.isXSSSafe)(scriptSrc,false)){scriptSrc=typeof window.encodeURIComponent==="function"?window.encodeURIComponent(scriptSrc):window.escape(scriptSrc)}script.src=scriptSrc;head.appendChild(script)}return loadedScripts[scriptSrc]}exports["default"]=loadScript},function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(this,{})}])["default"]});
//# sourceMappingURL=http://localhost:3052/3.13.1/map/eval/fusioncharts.js.map
(window["webpackJsonpFusionCharts"]=window["webpackJsonpFusionCharts"]||[]).push([[2],Array(258).concat([function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _cartesian=__webpack_require__(259);var _cartesian2=_interopRequireDefault(_cartesian);var _singleseriesDataset=__webpack_require__(330);var _singleseriesDataset2=_interopRequireDefault(_singleseriesDataset);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var SSCartesian=function(_Cartesian){_inherits(SSCartesian,_Cartesian);function SSCartesian(){_classCallCheck(this,SSCartesian);var _this=_possibleConstructorReturn(this,_Cartesian.call(this));_this.registerFactory("dataset",_singleseriesDataset2["default"],["vCanvas"]);return _this}SSCartesian.getName=function getName(){return"SSCartesian"};SSCartesian.prototype.getName=function getName(){return"SSCartesian"};SSCartesian.prototype.__setDefaultConfig=function __setDefaultConfig(){_Cartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.hasLegend=false;config.linethickness=4};SSCartesian.prototype._checkInvalidSpecificData=function _checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource"),data=jsonData.data;if(!data||!data.length){return true}};SSCartesian.prototype._setCategories=function _setCategories(){var iapi=this,dataObj=iapi.getFromEnv("dataSource"),xAxis=iapi.getChildren("xAxis"),dataset=dataObj.dataset,categories=dataObj.data||dataset&&dataset[0].data;xAxis[0].setTickValues(categories)};return SSCartesian}(_cartesian2["default"]);exports["default"]=SSCartesian},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _commonspacemanager=__webpack_require__(260);var _commonspacemanager2=_interopRequireDefault(_commonspacemanager);var _lib=__webpack_require__(118);var _cartesianAxis=__webpack_require__(291);var _cartesianAxis2=_interopRequireDefault(_cartesianAxis);var _canvasAxisRefCartesian=__webpack_require__(323);var _canvasAxisRefCartesian2=_interopRequireDefault(_canvasAxisRefCartesian);var _vcanvas=__webpack_require__(326);var _vcanvas2=_interopRequireDefault(_vcanvas);var _mouseTracker=__webpack_require__(328);var _mouseTracker2=_interopRequireDefault(_mouseTracker);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var mathMax=Math.max,mathMin=Math.min,UNDEF=void 0;var Cartesian=function(_CommonSpaceManager){_inherits(Cartesian,_CommonSpaceManager);function Cartesian(){_classCallCheck(this,Cartesian);var _this=_possibleConstructorReturn(this,_CommonSpaceManager.call(this));_this.registerFactory("axis",_cartesianAxis2["default"],["canvas"]);_this.registerFactory("canvas",_canvasAxisRefCartesian2["default"]);_this.registerFactory("vCanvas",_vcanvas2["default"],["axis"]);_this.registerFactory("mouseTracker",_mouseTracker2["default"],["canvas"]);return _this}Cartesian.getName=function getName(){return"Cartesian"};Cartesian.prototype.getName=function getName(){return"Cartesian"};Cartesian.prototype.getType=function getType(){return"chartAPI"};Cartesian.prototype._allocateXAxisLabelSpace=function _allocateXAxisLabelSpace(axis){var iapi=this,config=iapi.config,dimensions=axis.getAxisEndLabelDisplaySpace(),left=dimensions.left,right=dimensions.right,top=dimensions.top,sum,bottom=dimensions.bottom,availableWidth=config.availableWidth,availableHeight=config.availableHeight,canvasLeft=config.canvasLeft,canvasRight=config.canvasRight,canvasTop=config.canvasTop,canvasBottom=config.canvasBottom,width=config.width,height=config.height,setDimension=function setDimension(dimension1,dimension2){if(dimension1<dimension2&&dimension2>0){return dimension2-dimension1}else{return 0}};if(top+bottom>availableHeight){sum=top+bottom;top=availableHeight*top/sum;bottom=availableHeight*bottom/sum}if(left+right>availableWidth){sum=left+right;left=availableWidth*left/sum;right=availableWidth*right/sum}left=setDimension(canvasLeft,left);right=setDimension(width-canvasRight,right);top=setDimension(canvasTop,top);bottom=setDimension(height-canvasBottom,bottom);iapi._allocateSpace({left:left,right:right,top:top,bottom:bottom})};Cartesian.prototype._setCategories=function _setCategories(){var iapi=this,dataObj=iapi.getFromEnv("dataSource"),xAxis=iapi.getChildren("xAxis"),categories=dataObj.categories&&dataObj.categories.length&&dataObj.categories[0].category;xAxis&&xAxis[0].setTickValues(categories)};Cartesian.prototype._feedAxesRawData=function _feedAxesRawData(){var iapi=this,chartConfig=iapi.config,dataObj=iapi.getFromEnv("dataSource"),xAxisConf,yAxisConf;xAxisConf=iapi.getSpecificxAxisConf();yAxisConf=iapi.getSpecificyAxisConf();xAxisConf.vtrendlines=(0,_lib.extend2)([],dataObj.vtrendlines);yAxisConf.trendlines=(0,_lib.extend2)([],dataObj.trendlines);if(chartConfig.isstacked){yAxisConf.isPercent=(0,_lib.pluckNumber)(chartConfig.stack100percent,0)}return{yAxisConf:[yAxisConf],xAxisConf:[xAxisConf]}};Cartesian.prototype.getSpecificxAxisConf=function getSpecificxAxisConf(){var iapi=this,chartAttrs=iapi.getFromEnv("chart-attrib"),chartConfig=iapi.config,is3D=iapi.config.is3D,xAxisConf=iapi.getBasexAxisConf();xAxisConf.isReverse=chartConfig.reverseXAxis;xAxisConf.axisLineColor=(0,_lib.pluck)(chartAttrs.xaxislinecolor,chartAttrs.axislinecolor,"#000000");xAxisConf.showAlternateGridColor=(0,_lib.pluckNumber)(chartAttrs.showalternatevgridcolor,0);xAxisConf.numDivLines=(0,_lib.pluckNumber)(chartAttrs.numvdivlines,chartConfig.numVDivLines);xAxisConf.axisName=chartAttrs.xaxisname;xAxisConf.setAdaptiveMin=(0,_lib.pluckNumber)(chartAttrs.setadaptivexmin,chartConfig.setadaptivexmin,chartConfig.setadaptivexmin);xAxisConf.showLimits=(0,_lib.pluckNumber)(chartAttrs.showvlimits,chartConfig.showvlimits);xAxisConf.showDivLineValues=(0,_lib.pluckNumber)(chartAttrs.showvdivlinevalues,chartAttrs.showvdivlinevalues,chartConfig.showvdivlinevalues);xAxisConf.zeroPlaneThickness=(0,_lib.pluckNumber)(chartAttrs.vzeroplanethickness,chartAttrs.vdivlinethickness,chartConfig.zeroplanethickness,2);xAxisConf.zeroPlaneAlpha=(0,_lib.pluckNumber)(chartAttrs.vzeroplanealpha,chartAttrs.vdivlinealpha,chartConfig.zeroplanealpha);xAxisConf.showZeroPlaneValue=(0,_lib.pluckNumber)(chartAttrs.showvzeroplanevalue,chartConfig.showzeroplanevalue);xAxisConf.showAxisLine=is3D?0:(0,_lib.pluckNumber)(chartAttrs.showxaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,chartConfig.showxaxisline,0);xAxisConf.maxLabelHeight=chartAttrs.maxlabelheight;xAxisConf.showZeroPlane=(0,_lib.pluckNumber)(chartAttrs.showvzeroplane,chartConfig.showzeroplane);return xAxisConf};Cartesian.prototype.getSpecificyAxisConf=function getSpecificyAxisConf(){var iapi=this,chartAttrs=iapi.getFromEnv("chart-attrib"),chartConfig=iapi.config,is3D=iapi.config.is3D,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D,isReverse=chartConfig.isInverse,colorM=iapi.getFromEnv("color-manager"),showYAxisZeroPlane=(0,_lib.pluckNumber)(chartAttrs.showzeroplane,chartConfig.showzeroplane,1),showYAxisZeroPlaneValue=(0,_lib.pluckNumber)(chartAttrs.showzeroplanevalue,chartConfig.showzeroplanevalue);if(!showYAxisZeroPlane&&showYAxisZeroPlaneValue===UNDEF){showYAxisZeroPlaneValue=0}return{isVertical:true,isReverse:!isReverse,isOpposit:false,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,"Verdana,sans"),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisBreaks:chartAttrs.yaxisbreaks,axisNamePadding:chartAttrs.yaxisnamepadding,axisValuePadding:chartAttrs.yaxisvaluespadding,axisNameFont:chartAttrs.yaxisnamefont,axisNameFontSize:chartAttrs.yaxisnamefontsize,axisNameFontColor:chartAttrs.yaxisnamefontcolor,axisNameFontBold:chartAttrs.yaxisnamefontbold,axisNameFontItalic:chartAttrs.yaxisnamefontitalic,axisNameBgColor:chartAttrs.yaxisnamebgcolor,axisNameBorderColor:chartAttrs.yaxisnamebordercolor,axisNameAlpha:chartAttrs.yaxisnamealpha,axisNameFontAlpha:chartAttrs.yaxisnamefontalpha,axisNameBgAlpha:chartAttrs.yaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.yaxisnameborderalpha,axisNameBorderPadding:chartAttrs.yaxisnameborderpadding,axisNameBorderRadius:chartAttrs.yaxisnameborderradius,axisNameBorderThickness:chartAttrs.yaxisnameborderthickness,axisNameBorderDashed:chartAttrs.yaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.yaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.yaxisnameborderdashgap,axisNameWidth:chartAttrs.yaxisnamewidth,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,rotateAxisName:(0,_lib.pluckNumber)(chartAttrs.rotateyaxisname,1),axisName:chartAttrs.yaxisname,divLineColor:(0,_lib.pluck)(chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.divlinealpha,is3D?colorM.getColor("divLineAlpha3D"):colorM.getColor("divLineAlpha")),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.divlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.divlinedashed,chartAttrs.divlineisdashed,0)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.divlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.divlinedashgap,2),showAlternateGridColor:(0,_lib.pluckNumber)(chartAttrs.showalternatehgridcolor,1),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatehgridcolor,colorM.getColor("altHGridColor")),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatehgridalpha,colorM.getColor("altHGridAlpha")),numDivLines:(0,_lib.pluckNumber)(chartAttrs.numdivlines,chartConfig.numDivLines),axisMinValue:chartConfig.yRangeMin||chartAttrs.yaxisminvalue,axisMaxValue:chartConfig.yRangeMax||chartAttrs.yaxismaxvalue,setAdaptiveMin:(0,_lib.pluckNumber)(chartAttrs.setadaptivesymin,chartAttrs.setadaptiveymin,chartConfig.setAdaptiveMin),adjustDiv:chartAttrs.adjustdiv,labelStep:chartAttrs.yaxisvaluesstep,showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showyaxisvalues,chartAttrs.showyaxisvalue,chartConfig.showyaxisvalues),showLimits:(0,_lib.pluckNumber)(chartAttrs.showyaxislimits,chartAttrs.showlimits,iapi.showLimits),showDivLineValues:(0,_lib.pluckNumber)(chartAttrs.showdivlinevalues,chartAttrs.showdivlinevalue,chartConfig.showdivlinevalues),showZeroPlane:showYAxisZeroPlane,zeroPlaneColor:chartAttrs.zeroplanecolor,zeroPlaneThickness:(0,_lib.pluckNumber)(chartAttrs.zeroplanethickness,chartAttrs.divlinethickness,chartConfig.zeroplanethickness,2),zeroPlaneAlpha:(0,_lib.pluckNumber)(chartAttrs.zeroplanealpha,chartAttrs.divlinealpha,chartConfig.zeroplanealpha),showZeroPlaneValue:showYAxisZeroPlaneValue,showZeroPlaneOnTop:chartConfig.showzeroplaneontop,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,showAxisLine:is3D?0:(0,_lib.pluckNumber)(chartAttrs.showyaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,chartConfig.showyaxisline,0),axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.yaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.yaxislinealpha,chartAttrs.axislinealpha,100),axisLineColor:(0,_lib.pluck)(chartAttrs.yaxislinecolor,chartAttrs.axislinecolor,"#000000"),forceTrendBelow:!!chartConfig.is3D}};Cartesian.prototype.getBasexAxisConf=function getBasexAxisConf(){var iapi=this,chartAttrs=iapi.getFromEnv("chart-attrib"),is3D=iapi.config.is3D,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D,colorM=iapi.getFromEnv("color-manager");return{isVertical:false,isOpposit:false,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,"Verdana,sans"),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisNamePadding:chartAttrs.xaxisnamepadding,axisValuePadding:chartAttrs.labelpadding,axisNameFont:chartAttrs.xaxisnamefont,axisNameFontSize:chartAttrs.xaxisnamefontsize,axisNameFontColor:chartAttrs.xaxisnamefontcolor,axisNameFontBold:chartAttrs.xaxisnamefontbold,axisNameFontItalic:chartAttrs.xaxisnamefontitalic,axisNameBgColor:chartAttrs.xaxisnamebgcolor,axisNameBorderColor:chartAttrs.xaxisnamebordercolor,axisNameAlpha:chartAttrs.xaxisnamealpha,axisNameFontAlpha:chartAttrs.xaxisnamefontalpha,axisNameBgAlpha:chartAttrs.xaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.xaxisnameborderalpha,axisNameBorderPadding:chartAttrs.xaxisnameborderpadding,axisNameBorderRadius:chartAttrs.xaxisnameborderradius,axisNameBorderThickness:chartAttrs.xaxisnameborderthickness,axisNameBorderDashed:chartAttrs.xaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.xaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.xaxisnameborderdashgap,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,divLineColor:(0,_lib.pluck)(chartAttrs.vdivlinecolor,chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.vdivlinealpha,chartAttrs.divlinealpha,is3D?colorM.getColor("divLineAlpha3D"):colorM.getColor("divLineAlpha")),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.vdivlinethickness,chartAttrs.divlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.vdivlinedashed,chartAttrs.vdivlineisdashed,chartAttrs.divlinedashed,chartAttrs.divlineisdashed,0)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.vdivlinedashlen,chartAttrs.divlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.vdivlinedashgap,chartAttrs.divlinedashgap,2),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatevgridcolor,colorM.getColor("altVGridColor")),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatevgridalpha,colorM.getColor("altVGridAlpha")),labelFont:chartAttrs.labelfont,labelFontSize:chartAttrs.labelfontsize,labelFontColor:chartAttrs.labelfontcolor,labelFontAlpha:chartAttrs.labelalpha,labelFontBold:chartAttrs.labelfontbold,labelFontItalic:chartAttrs.labelfontitalic,axisMinValue:chartAttrs.xaxisminvalue,axisMaxValue:chartAttrs.xaxismaxvalue,adjustDiv:chartAttrs.adjustvdiv,labelDisplay:chartAttrs.labeldisplay,showLabels:chartAttrs.showlabels,rotateLabels:chartAttrs.rotatelabels,slantLabel:(0,_lib.pluckNumber)(chartAttrs.slantlabels,chartAttrs.slantlabel),labelStep:(0,_lib.pluckNumber)(chartAttrs.labelstep,chartAttrs.xaxisvaluesstep),showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showxaxisvalues,chartAttrs.showxaxisvalue),zeroPlaneColor:chartAttrs.vzeroplanecolor,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.xaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.xaxislinealpha,chartAttrs.axislinealpha,100)}};Cartesian.prototype.getConfig=function getConfig(confName){return confName?this.config[confName]:this.config};Cartesian.prototype._getSumValueSpace=function _getSumValueSpace(maxAvailableSpace){var iapi=this,dim={},isBar=iapi.isBar,chartAttr=iapi.getFromEnv("dataSource").chart,showSum=iapi.showsum!==0?(0,_lib.pluckNumber)(chartAttr.showsum,iapi.showsum,0):0,stack100Percent=(0,_lib.pluckNumber)(iapi.config.stack100percent),isStacked=iapi.config.isstacked,width=0,i,stackManagers=[],height=0;iapi.iterateComponents(function(child){if(child.getName()==="cartesianStackGroup"||child.getName()==="marimekkoStackgroup"){stackManagers.push(child)}});if(showSum&&stack100Percent&&isStacked&&stackManagers.length){for(i=stackManagers.length-1;i>=0;i--){dim=stackManagers[i].getMaxSumValueSpace();if(!isBar){height=Math.max(height,dim.maxHeight)}else{width=Math.max(width,dim.maxWidth)}}if(height>maxAvailableSpace){height=maxAvailableSpace}if(width>maxAvailableSpace){width=maxAvailableSpace}}return{top:height,right:width}};Cartesian.prototype.setAxisDimention=function setAxisDimention(){var iapi=this,xAxis=iapi.getChildren("xAxis")&&iapi.getChildren("xAxis")[0],yAxis=iapi.getChildren("yAxis")&&iapi.getChildren("yAxis")[0],chartConfig=iapi.getFromEnv("chartConfig"),xDepth=chartConfig.xDepth,canvasConfig=iapi.getChildren("canvas")&&iapi.getChildren("canvas")[0].config,canvasBorderWidth=canvasConfig&&canvasConfig.canvasBorderWidth,canvasPadding=canvasConfig&&canvasConfig.canvasPadding,canvasLeft=canvasConfig.canvasLeft,canvasPaddingLeft=canvasConfig&&canvasConfig.canvasPaddingLeft,canvasPaddingRight=canvasConfig&&canvasConfig.canvasPaddingRight,canvasTop=canvasConfig.canvasTop,canvasPaddingTop=canvasConfig&&canvasConfig.canvasPaddingTop;xAxis&&xAxis.setAxisConfig({canvasPaddingLeft:Math.max(canvasPaddingLeft,canvasPadding),canvasPaddingRight:Math.max(canvasPaddingRight,canvasPadding)});xAxis&&xAxis.setAxisDimention({x:canvasLeft+(xDepth||0)+Math.max(canvasPaddingLeft,canvasPadding),y:chartConfig.canvasBottom+(chartConfig.shift||0)+canvasBorderWidth,opposite:canvasTop-canvasBorderWidth,axisLength:canvasConfig.canvasWidth-(xDepth||0)-Math.max(canvasPaddingLeft,canvasPadding)-Math.max(canvasPaddingRight,canvasPadding)});yAxis&&yAxis.setAxisDimention({x:canvasLeft-canvasBorderWidth,y:canvasTop+canvasPaddingTop,opposite:chartConfig.canvasRight+canvasBorderWidth,axisLength:chartConfig.canvasHeight-canvasPaddingTop-canvasConfig.canvasPaddingBottom})};Cartesian.prototype._getTrendLineMinMax=function _getTrendLineMinMax(type,axisType){var iapi=this,trendLines=type==="v"?iapi.getFromEnv("dataSource").vtrendlines:iapi.getFromEnv("dataSource").trendlines,retObj={max:-Infinity,min:Infinity},trendLineObj,i,ii,ln,lnn;axisType=axisType||"p";if(trendLines){for(i=0,ln=trendLines.length;i<ln;i+=1){for(ii=0,lnn=trendLines[i].line?trendLines[i].line.length:0;ii<lnn;ii+=1){trendLineObj=trendLines[i].line[ii];if(axisType==="s"&&trendLineObj.parentyaxis!=="s"||axisType!=="s"&&trendLineObj.parentyaxis==="s"){continue}retObj.max=mathMax(trendLineObj.startvalue||-Infinity,trendLineObj.endvalue||-Infinity,retObj.max);retObj.min=mathMin(trendLineObj.startvalue||Infinity,trendLineObj.endvalue||Infinity,retObj.min)}}}return retObj};return Cartesian}(_commonspacemanager2["default"]);exports["default"]=Cartesian},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _commonchartapi=__webpack_require__(261);var _commonchartapi2=_interopRequireDefault(_commonchartapi);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var CommonSpaceManager=function(_CommonAPI){_inherits(CommonSpaceManager,_CommonAPI);function CommonSpaceManager(){_classCallCheck(this,CommonSpaceManager);return _possibleConstructorReturn(this,_CommonAPI.apply(this,arguments))}CommonSpaceManager.prototype._spaceManager=function _spaceManager(){var availableWidth,availableHeight,iapi=this,config=iapi.config,xAxis=iapi.getChildren("xAxis")&&iapi.getChildren("xAxis")[0],yAxisArr=iapi.getChildren("yAxis")&&iapi.getChildren("yAxis")||[],yAxis,len,legendPosition=config.legendposition,xDepth=config.xDepth,yDepth=config.yDepth,canvasBgDepth=config.canvasBgDepth,allottedSpace,canvasBaseDepth=config.canvasBaseDepth,canvasBasePadding=config.canvasBasePadding,canvas=iapi.getChildren("canvas")[0],canvasBorderWidth=canvas.config.canvasBorderWidth,showRTValue=config.realTimeConfig&&config.realTimeConfig.showRTValue,chartBorderWidth=config.borderWidth,canvasMarginTop=config.canvasMarginTop,canvasMarginBottom=config.canvasMarginBottom,canvasMarginLeft=config.canvasMarginLeft,canvasMarginRight=config.canvasMarginRight,minCanvasHeight=config.minCanvasHeight,minCanvasWidth=config.minCanvasWidth,minChartWidth=config.minChartWidth,minChartHeight=config.minChartHeight,height=config.height,width=config.width,diff,heightAdjust=false,widthAdjust=false,top,bottom,left,right,i,currentCanvasHeight,currentCanvasWidth,origCanvasTopMargin=config.origCanvasTopMargin,origCanvasBottomMargin=config.origCanvasBottomMargin,origCanvasLeftMargin=config.origCanvasLeftMargin,origCanvasRightMargin=config.origCanvasRightMargin,chartBorderHorizontal,chartBorderVertical,canvasBorderHorizontal,canvasBorderVertical,yAxisSpaceAllocation=[],xAxisSpaceAllocation,spaceTakenByAxis,sum;if(config.canvasWidth-2*chartBorderWidth<minChartWidth){chartBorderVertical=(config.canvasWidth-minChartWidth)/2}if(config.canvasHeight-2*chartBorderWidth<minChartHeight){chartBorderHorizontal=(config.canvasHeight-minChartHeight)/2}iapi._allocateSpace({top:chartBorderHorizontal||chartBorderWidth,bottom:chartBorderHorizontal||chartBorderWidth,left:chartBorderVertical||chartBorderWidth,right:chartBorderVertical||chartBorderWidth});for(i=0,len=yAxisArr.length;i<len;i++){yAxis=yAxisArr[i];availableWidth=config.availableWidth*.7;spaceTakenByAxis=yAxis&&yAxis.placeAxis(availableWidth)||{};yAxisSpaceAllocation.push({axisIndex:i,spaceTaken:spaceTakenByAxis});yAxis&&iapi._allocateSpace(spaceTakenByAxis)}config.yAxisSpaceAllocation=yAxisSpaceAllocation;iapi._allocateSpace(iapi._manageActionBarSpace&&iapi._manageActionBarSpace(config.availableHeight*.225)||{});iapi._manageLegendSpace&&config.showLegend&&iapi._manageLegendSpace(allottedSpace);availableHeight=legendPosition===_lib.POSITION_BOTTOM?config.availableHeight*.6:config.availableWidth*.6;if(yDepth){iapi._allocateSpace({bottom:yDepth});config.shift=xDepth+canvasBasePadding+canvasBaseDepth}if(canvasBgDepth){iapi._allocateSpace({right:canvasBgDepth})}if(config.canvasWidth-2*canvasBorderWidth<minCanvasWidth){canvasBorderVertical=(config.canvasWidth-minCanvasWidth)/2}iapi._allocateSpace({left:canvasBorderVertical||canvasBorderWidth,right:canvasBorderVertical||canvasBorderWidth});if(minCanvasWidth>width-canvasMarginLeft-canvasMarginRight){widthAdjust=true;diff=config.canvasWidth-minCanvasWidth;sum=canvasMarginLeft+canvasMarginRight;canvasMarginLeft=config.canvasMarginLeft=diff*canvasMarginLeft/sum;canvasMarginRight=config.canvasMarginRight=diff*canvasMarginRight/sum}left=canvasMarginLeft>config.canvasLeft?canvasMarginLeft-config.canvasLeft:0;right=canvasMarginRight>width-config.canvasRight?canvasMarginRight+config.canvasRight-width:0;iapi._allocateSpace({left:left,right:right});if(widthAdjust){sum=origCanvasLeftMargin+origCanvasRightMargin;currentCanvasWidth=config.canvasWidth;if(currentCanvasWidth>minCanvasWidth){diff=currentCanvasWidth-minCanvasWidth;left=diff*origCanvasLeftMargin/sum;right=diff*origCanvasRightMargin/sum}iapi._allocateSpace({left:left,right:right})}config.actualCanvasMarginRight=right;config.actualCanvasMarginBottom=bottom;iapi._manageChartMenuBar(availableHeight);availableHeight=config.availableHeight*.2;iapi._getSumValueSpace&&iapi._allocateSpace(iapi._getSumValueSpace(availableHeight));availableHeight=config.availableHeight*.3;if(config.realtimeEnabled){if(showRTValue){iapi._allocateSpace(iapi._realTimeValuePositioning(availableHeight))}else{iapi._hideRealTimeValue()}}iapi._resetViewPortConfig&&iapi._resetViewPortConfig();iapi._setAxisScale&&iapi._setAxisScale();availableHeight=config.availableHeight*.6;config.xAxisSpaceAllocation=xAxisSpaceAllocation=xAxis&&xAxis.placeAxis(availableHeight);xAxis&&iapi._allocateSpace(xAxisSpaceAllocation);if(config.canvasHeight-2*canvasBorderWidth<minCanvasHeight){canvasBorderHorizontal=(config.canvasHeight-minCanvasHeight)/2}iapi._allocateSpace({top:canvasBorderHorizontal||canvasBorderWidth,bottom:canvasBorderHorizontal||canvasBorderWidth});iapi._allocateSpace({bottom:canvasBaseDepth});if(minCanvasHeight>height-canvasMarginTop-canvasMarginBottom){heightAdjust=true;diff=config.canvasHeight-minCanvasHeight;sum=canvasMarginTop+canvasMarginBottom;canvasMarginTop=config.canvasMarginTop=diff*canvasMarginTop/sum;canvasMarginBottom=config.canvasMarginBottom=diff*canvasMarginBottom/sum}top=canvasMarginTop>config.canvasTop?canvasMarginTop-config.canvasTop:0;bottom=canvasMarginBottom>height-config.canvasBottom?canvasMarginBottom+config.canvasBottom-height:0;iapi._allocateSpace({top:top,bottom:bottom});if(heightAdjust){sum=origCanvasTopMargin+origCanvasBottomMargin;currentCanvasHeight=config.canvasHeight;if(currentCanvasHeight>minCanvasHeight){diff=currentCanvasHeight-minCanvasHeight;top=diff*origCanvasTopMargin/sum;bottom=diff*origCanvasBottomMargin/sum}iapi._allocateSpace({top:top,bottom:bottom})}config.actualCanvasMarginTop=top;config.actualCanvasMarginLeft=left;canvas.setDimension({top:config.canvasTop,left:config.canvasLeft,width:config.canvasWidth,height:config.canvasHeight})};CommonSpaceManager.prototype._postSpaceManagement=function _postSpaceManagement(){var iapi=this,config=iapi.config,components=iapi.getChildren(),xAxis=components.xAxis&&components.xAxis[0],legend=components.legend&&components.legend[0],xDepth=config.xDepth,i,canvas,canvasArr=iapi.getChildren("canvas");iapi.setAxisDimention&&iapi.setAxisDimention();xAxis&&iapi._allocateXAxisLabelSpace(xAxis);xAxis&&xAxis.shiftLabels(-xDepth,0);legend&&legend.postSpaceManager();for(i=0;i<(canvasArr&&canvasArr.length);i++){canvas=canvasArr[i];canvas.setCanvasPadding()}iapi.setAxisDimention&&iapi.setAxisDimention()};return CommonSpaceManager}(_commonchartapi2["default"]);exports["default"]=CommonSpaceManager},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.configurer=exports._createToolBox=exports._drawDataset=undefined;var _basechart=__webpack_require__(151);var _basechart2=_interopRequireDefault(_basechart);var _canvas=__webpack_require__(262);var _canvas2=_interopRequireDefault(_canvas);var _dependencyManager=__webpack_require__(125);var _caption=__webpack_require__(265);var _caption2=_interopRequireDefault(_caption);var _subCaption=__webpack_require__(267);var _subCaption2=_interopRequireDefault(_subCaption);var _background=__webpack_require__(269);var _background2=_interopRequireDefault(_background);var _colormanager=__webpack_require__(271);var _colormanager2=_interopRequireDefault(_colormanager);var _numberformatter=__webpack_require__(137);var _numberformatter2=_interopRequireDefault(_numberformatter);var _symbolWithContext=__webpack_require__(273);var _symbolWithContext2=_interopRequireDefault(_symbolWithContext);var _eventApi=__webpack_require__(124);var _commonAnimation=__webpack_require__(281);var _commonAnimation2=_interopRequireDefault(_commonAnimation);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _libAttr=__webpack_require__(119);var _domEvent=__webpack_require__(120);var _domEvent2=_interopRequireDefault(_domEvent);var _toolbox=__webpack_require__(282);var _toolbox2=_interopRequireDefault(_toolbox);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var Raphael=(0,_dependencyManager.getDep)("redraphael","plugin"),isVML=Raphael.type==="VML",TRACKER_FILL="rgba(255,0,0,"+(_lib.isIE?.002:1e-6)+")",mathMax=Math.max,mathMin=Math.min,mathRound=Math.round,eventMap={datalabelclick:true,connectorclick:true,categoryclick:true,processclick:true,milestoneclick:true,labelclick:true,dataplotclick:true},SEVENTYSTRING=_lib.preDefStr.SEVENTYSTRING,AUTO=_lib.preDefStr.AUTOSTRING,BOLD="bold",NORMAL="normal",POSITION_RIGHT="right",supportsTouch="createTouch"in window.document,supportsOnlyTouch=supportsTouch&&!(window.navigator.maxTouchPoints||window.navigator.msMaxTouchPoints),POSITION_START="start",POSITION_END="end",createGroup=function createGroup(attrs,parentContainer,chart){var animationManager=chart.getFromEnv("animationManager");return animationManager.setAnimation({el:"group",attr:attrs,container:parentContainer,state:"appearing",component:chart,label:"group"})},onContainerClick=function onContainerClick(e){var chart=e.data,fusionCharts=chart.getFromEnv("chartInstance"),oriEvent=e.originalEvent,config=chart.config,coordinate=(0,_lib.getMouseCoordinate)(chart.getFromEnv("chart-container"),oriEvent,chart),args;if(!fusionCharts.ref||config.chartLinkTriggered){config.chartLinkTriggered=false;return}args=(0,_lib.extend2)({height:fusionCharts.args.height,width:fusionCharts.args.width,pixelHeight:chart.getFromEnv("chartWidth"),pixelWidth:chart.getFromEnv("chartHeight"),id:fusionCharts.args.id,renderer:fusionCharts.args.renderer,container:fusionCharts.options.containerElement},coordinate);chart.fireChartInstanceEvent("chartclick",args);config.link&&(config.hotElemClicked?config.clickURLOverridesPlotLinks:true)&&chart.getFromEnv("linkClickFN").call({link:config.link});config.hotElemClicked=false},onContainerTouchStart=function onContainerTouchStart(e){var chart=e.data,config=chart.config;config.containerTapStartedAt=(new Date).getTime();config.chartLinkTriggered=false},onContainerTouchEnd=function onContainerTouchEnd(e){var chart=e.data,config=chart.config;if((new Date).getTime()-config.containerTapStartedAt<600){onContainerClick(e)}config.containerTapStartedAt=0;config.chartLinkTriggered=true},chartHoverManager=function chartHoverManager(e){var type=e.type,chart=e.data,listeners=chart.getFromEnv("eventListeners");if((type==="mouseover"||type==="touchstart")&&chart.config.mouseStateIn===false){chart.config.mouseStateIn=true;CommonAPI.onContainerRollOver(e);listeners.push(_domEvent2["default"].listen(isVML?document:window,"mouseover",CommonAPI.winMouseHover,chart))}};function _createToolBox2(){this.getFromEnv("chartMenuTools").reset(this.getFromEnv("toolbox"),this);var tb,sCon,conf,list,group,toolBoxAPI,SymbolStore,ComponentGroup,SymbolWithContext,HorizontalToolbar,horizontalToolbarInstance,pId,symbolWithContextInstance,iapi=this,chartMenuTools=iapi.getFromEnv("chartMenuTools"),chartId=iapi.getFromEnv("chartInstance").id,getChartTools=chartMenuTools.get,setChartTools=chartMenuTools.set,iapiComponents=this.components,iapiConfig=iapi.config,chartMenuBar=iapi.getChildren("chartMenuBar"),actionBar=iapi.getChildren("actionBar"),printEnabled=iapiConfig.printOption.enabled,rtConfig=iapi.config.realTimeConfig||{};if(chartMenuBar&&chartMenuBar.drawn||actionBar&&actionBar.drawn){return}(0,_lib.componentFactory)(iapi,_toolbox2["default"],"tb",1,[{graphics:iapi.graphics||(iapi.graphics={}),chart:iapi,components:iapiComponents}]);tb=iapi.getChildren("tb")[0];pId=tb.getICount();iapi.addToEnv("toolbox",tb);!iapi.getFromEnv("toolBoxAPI")&&iapi.addToEnv("toolBoxAPI",tb.getAPIInstances(tb.config.ALIGNMENT_HORIZONTAL));toolBoxAPI=iapi.getFromEnv("toolBoxAPI");SymbolWithContext=toolBoxAPI.SymbolWithContext;SymbolStore=toolBoxAPI.SymbolStore;ComponentGroup=toolBoxAPI.ComponentGroup;HorizontalToolbar=toolBoxAPI.Toolbar;tb.idCount=tb.idCount||0;tb.pId=pId;conf=tb.getDefaultConfiguration();SymbolStore.register("ContextIcon",function(posx,posy,rad){var x=posx,y=posy,r=rad*2,space=mathRound(r/4),halfWidth=mathRound(r/2)*.7,startX=x-halfWidth,endX=x+halfWidth,startY=y+space,endY=y-space;return["M",startX,y,"L",endX,y,"M",startX,startY,"L",endX,startY,"M",startX,endY,"L",endX,endY]});symbolWithContextInstance=new SymbolWithContext;symbolWithContextInstance.configure("ContextIcon",tb.idCount++,pId,chartId);sCon=symbolWithContextInstance;list=sCon.getListRefernce();iapi.addToEnv("chartMenuList",list);printEnabled&&setChartTools([{Print:{handler:function handler(){iapi.getFromEnv("chartInstance").print()},action:"click"}}]);iapi._setRTmenu&&iapi._setRTmenu(rtConfig.showRTmenuItem,rtConfig.useMessageLog);list.appendAsList(getChartTools());group=new ComponentGroup;group.configure(tb.idCount++,pId,chartId);group.setConfiguaration({buttons:conf,group:{fill:TRACKER_FILL,borderColor:TRACKER_FILL}});group.addSymbol(sCon);if(group.config.btnConfig.vAlign==="t"){horizontalToolbarInstance=new HorizontalToolbar;chartMenuBar=iapi.attachChild(horizontalToolbarInstance,"chartMenuBar",false);horizontalToolbarInstance.configure(tb.idCount++,tb.pId,chartId);chartMenuBar.addComponent(group)}else{horizontalToolbarInstance=new HorizontalToolbar;chartMenuBar=iapi.attachChild(horizontalToolbarInstance,"actionBar",false);horizontalToolbarInstance.configure(tb.idCount++,tb.pId,chartId);chartMenuBar.addComponent(group)}}function _drawDataset(){var iapi=this,canvas=iapi.getChildren("canvas")[0];canvas._mapChildren(function(child){child.syncDraw()})}function configurer(dataObj){var iapi=this;iapi.config.skipConfigureIteration={};iapi.parseChartAttr(dataObj);iapi.createComponent(dataObj);iapi._createToolBox();iapi.setTooltipStyle();iapi.configureChildren()}(0,_dependencyManager.addDep)({name:"commonAnimation",type:"animationRule",extension:_commonAnimation2["default"]});var CommonAPI=function(_BaseChart){_inherits(CommonAPI,_BaseChart);CommonAPI.getName=function getName(){return"CommonAPI"};CommonAPI.prototype.plotEventHandler=function plotEventHandler(elem){var event=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var eventName=arguments[2];var eventArguments=arguments[3];var chart=this,eventType=event.type,coordinate=(0,_lib.getMouseCoordinate)(chart.getFromEnv("chart-container"),event,chart),eventArgs=elem&&elem.data("eventArgs")||eventArguments,args=(0,_lib.extend2)(coordinate,eventArgs),fireGroupEvent=chart.fireGroupEvent,env,linkClickFN,id=elem&&elem.data("groupId"),cancelHover=function cancelHover(c,a){event.FusionChartsPreventEvent=true},minTimeForNextClick=400,lastClickTimeStamp;if("index"in args&&!("dataIndex"in args)){args.dataIndex=args.index}if("value"in args&&!("dataValue"in args)){args.dataValue=args.value}eventName=(0,_lib.pluck)(eventName,"dataplotclick").toLowerCase();if(eventName==="dataplotrollover"){event.FusionChartsPreventEvent=false;if(fireGroupEvent){(0,_eventApi.raiseEventGroup)(id,eventName,args,chart.getFromEnv("chartInstance"),_lib.UNDEF,_lib.UNDEF,cancelHover)}else{chart.fireChartInstanceEvent(eventName,args,_lib.UNDEF,_lib.UNDEF,cancelHover)}}else{if(fireGroupEvent&&!eventMap[eventName]){(0,_eventApi.raiseEventGroup)(id,eventName,args,chart.getFromEnv("chartInstance"))}else{chart.fireChartInstanceEvent(eventName,args)}}if((eventType==="click"||eventType==="mouseup"||eventType==="touchend")&&/click/i.test(eventName)){if(supportsTouch&&!supportsOnlyTouch){lastClickTimeStamp=(new Date).getTime();if(elem&&elem.lastClickTimeStamp&&lastClickTimeStamp-elem.lastClickTimeStamp<minTimeForNextClick){event&&(event.originalEvent||event).preventDefault();return}elem&&(elem.lastClickTimeStamp=lastClickTimeStamp)}env=chart.getFromEnv();linkClickFN=env&&env.linkClickFN;args.link&&linkClickFN&&linkClickFN.call({link:args.link},true)}};function CommonAPI(){_classCallCheck(this,CommonAPI);var _this=_possibleConstructorReturn(this,_BaseChart.call(this));_this.addToEnv("stringConstants",{COMPONENT:"component",CANVAS:"canvas",CAPTION:"caption"});_this.addToEnv("chartMenuTools",CommonAPI.chartMenuTools());_this.addToEnv("getMouseCoordinate",_lib.getMouseCoordinate);_this._drawDataset=_drawDataset;_this.config.mouseStateIn=false;_this.registerFactory("canvas",_canvas2["default"]);_this._firstConfigure=true;return _this}CommonAPI.prototype.getName=function getName(){return"Cartesian"};CommonAPI.prototype.preConfigure=function preConfigure(dataObj){var nf=this.getFromEnv("number-formatter");this.addToEnv("chart-attrib",dataObj.chart);nf?nf.configure():this.addToEnv("number-formatter",new _numberformatter2["default"](this));_BaseChart.prototype.preConfigure.call(this,dataObj)};CommonAPI.prototype.postConfigure=function postConfigure(dataObj){_BaseChart.prototype.postConfigure.call(this,dataObj);this._firstConfigure=false};CommonAPI.prototype.setDefaults=function setDefaults(){_BaseChart.prototype.setDefaults.call(this);var nf=this.getFromEnv("number-formatter");nf&&nf.setDefaults&&nf.setDefaults()};CommonAPI.prototype.getType=function getType(){return"chartAPI"};CommonAPI.prototype.parseChartAttr=function parseChartAttr(dataObj){var iapi=this,jsonData=dataObj||iapi.getFromEnv("dataSource"),chartAttrs=void 0,is3D=iapi.config.is3D,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D,config=void 0,isBar=iapi.isBar,inCanfontFamily=void 0,inCanfontSize=void 0,inCancolor=void 0,fontSize=void 0,colorM=iapi.getFromEnv("color-manager"),style=void 0,zeroPlaneColor=void 0,zeroPlaneAlpha=void 0,inCanvasStyle=void 0,inCanLineHeight=void 0,dataLabelStyle=void 0,fontBdrColor=void 0,showCanvasBase=void 0;if(!colorM){colorM=new _colormanager2["default"](iapi);iapi.addToEnv("color-manager",colorM)}jsonData.chart=jsonData.chart||jsonData.graph||jsonData.map||{};delete jsonData.map;delete jsonData.graph;chartAttrs=jsonData.chart;!chartAttrs&&(chartAttrs=jsonData.chart={});config=iapi.config||(iapi.config={});(0,_libAttr.parseConfiguration)(chartAttrs,config,{},{showvalues:true,crosslinecolor:true,drawcrosslineontop:true,crosslinealpha:true,drawcrossline:true});config.showValues=(0,_lib.pluckNumber)(chartAttrs.showvalues,config.showvalues);config.viewPortConfig={scaleY:1,scaleX:1,x:0,y:0};if(is3D){if(isBar){config.xDepth=5;config.yDepth=5}else{config.xDepth=10;config.yDepth=10}config.showCanvasBase=showCanvasBase=Boolean((0,_lib.pluckNumber)(chartAttrs.showcanvasbase,1));config.canvasBasePadding=(0,_lib.pluckNumber)(chartAttrs.canvasbasepadding,2);config.canvasBaseDepth=showCanvasBase?(0,_lib.pluckNumber)(chartAttrs.canvasbasedepth,10):0;config.canvasBgDepth=(0,_lib.pluckNumber)(chartAttrs.canvasbgdepth,3)}colorM&&colorM.configure();config.placeAxisLabelsOnTop=(0,_lib.pluckNumber)(chartAttrs.placexaxislabelsontop,0);config.enableAnimation=(0,_lib.pluckNumber)(chartAttrs.animation,chartAttrs.defaultanimation,1);config.showToolTip=(0,_lib.pluckNumber)(chartAttrs.showtooltip,1);config.printOption={enabled:(0,_lib.pluckNumber)(chartAttrs.printshowbutton,chartAttrs.showprintmenuitem,0)};config.drawCrossLineOnTop=(0,_lib.pluckNumber)(chartAttrs.drawcrosslineontop,1);style=config.style={};iapi.addToEnv("style",style);config.textDirection=chartAttrs.hasrtltext==="1"?"rtl":_lib.BLANKSTRING;style.inCanfontFamily=inCanfontFamily=(0,_lib.pluck)(chartAttrs.basefont,"Verdana,sans");style.inCanfontSize=inCanfontSize=(0,_lib.pluckFontSize)(chartAttrs.basefontsize,10);style.inCancolor=inCancolor=(0,_lib.pluck)(chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor));style.outCanfontFamily=(0,_lib.pluck)(chartAttrs.outcnvbasefont,inCanfontFamily);style.fontSize=fontSize=(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,inCanfontSize);style.outCanfontSize=fontSize+_lib.PXSTRING;style.outCancolor=(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,inCancolor).replace(/^#? ([a-f0-9]+)/gi,"#$1");style.baseFontSize=inCanfontSize;style.inCanfontSize=inCanfontSize+_lib.PXSTRING;style.inCancolor=inCancolor.replace(/^#? ([a-f0-9]+)/gi,"#$1");style.inCanvasStyle=inCanvasStyle={fontFamily:inCanfontFamily,fontSize:inCanfontSize,color:inCancolor};style.inCanLineHeight=inCanLineHeight=(0,_lib.setLineHeight)(inCanvasStyle);fontBdrColor=(0,_lib.getFirstValue)(chartAttrs.valuebordercolor,_lib.BLANKSTRING);fontBdrColor=fontBdrColor?(0,_libGraphics.convertColor)(fontBdrColor,(0,_lib.pluckNumber)(chartAttrs.valueborderalpha,chartAttrs.valuealpha,100)):_lib.BLANKSTRING;config.reverseXAxis=iapi.config.allowreversexaxis&&(0,_lib.pluckNumber)(chartAttrs.reversexaxis,0);config.showBorder=(0,_lib.pluckNumber)(chartAttrs.showborder,is3D?0:1);config.borderWidth=mathMax(config.showBorder?(0,_lib.pluckNumber)(chartAttrs.borderthickness,1):0,0);config.useplotgradientcolor=(0,_lib.pluckNumber)(chartAttrs.plotgradientcolor,config.useplotgradientcolor,0);config.valuefontbold=(0,_lib.pluckNumber)(chartAttrs.valuefontbold,config.valuefontbold);config.dataLabelStyle=dataLabelStyle={fontFamily:(0,_lib.pluck)(chartAttrs.valuefont,inCanfontFamily),fontSize:(0,_lib.pluck)(chartAttrs.valuefontsize,(0,_lib.pInt)(inCanfontSize,10))+_lib.PXSTRING,lineHeight:inCanLineHeight,color:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.valuefontcolor,inCancolor),(0,_lib.pluckNumber)(chartAttrs.valuefontalpha,chartAttrs.valuealpha,100)),fontWeight:config.valuefontbold?BOLD:NORMAL,fontStyle:(0,_lib.pluckNumber)(chartAttrs.valuefontitalic)?"italic":NORMAL,border:fontBdrColor||chartAttrs.valuebgcolor?(0,_lib.pluckNumber)(chartAttrs.valueborderthickness,1)+"px solid":_lib.BLANKSTRING,borderColor:fontBdrColor,borderThickness:(0,_lib.pluckNumber)(chartAttrs.valueborderthickness,1),borderPadding:(0,_lib.pluckNumber)(chartAttrs.valueborderpadding,2),borderRadius:(0,_lib.pluckNumber)(chartAttrs.valueborderradius,0),backgroundColor:chartAttrs.valuebgcolor?(0,_libGraphics.convertColor)(chartAttrs.valuebgcolor,(0,_lib.pluckNumber)(chartAttrs.valuebgalpha,chartAttrs.valuealpha,100)):_lib.BLANKSTRING,borderDash:(0,_lib.pluckNumber)(chartAttrs.valueborderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(chartAttrs.valueborderdashlen,4),(0,_lib.pluckNumber)(chartAttrs.valueborderdashgap,2)):_lib.DASH_DEF};(0,_lib.setLineHeight)(dataLabelStyle);config.legendposition=(0,_lib.pluck)(chartAttrs.legendposition,_lib.POSITION_BOTTOM);config.alignLegendWithCanvas=(0,_lib.pluckNumber)(chartAttrs.alignlegendwithcanvas,1);config.origMarginTop=(0,_lib.pluckNumber)(chartAttrs.charttopmargin,iapi.chartTopMargin,15);config.origMarginLeft=(0,_lib.pluckNumber)(chartAttrs.chartleftmargin,iapi.chartLeftMargin,15);config.origMarginBottom=(0,_lib.pluckNumber)(chartAttrs.chartbottommargin,iapi.chartBottomMargin,15);config.origMarginRight=(0,_lib.pluckNumber)(chartAttrs.chartrightmargin,iapi.chartRightMargin,15);config.origCanvasLeftMargin=(0,_lib.pluckNumber)(chartAttrs.canvasleftmargin,0);config.origCanvasRightMargin=(0,_lib.pluckNumber)(chartAttrs.canvasrightmargin,0);config.origCanvasTopMargin=(0,_lib.pluckNumber)(chartAttrs.canvastopmargin,0);config.origCanvasBottomMargin=(0,_lib.pluckNumber)(chartAttrs.canvasbottommargin,0);config.minChartWidthPercent=(0,_lib.pluckNumber)(chartAttrs.minchartwidth,iapi.minChartWidth,50)/100;config.minChartHeightPercent=(0,_lib.pluckNumber)(chartAttrs.minchartheight,iapi.minChartHeight,50)/100;config.minCanvasWidthPercent=(0,_lib.pluckNumber)(chartAttrs.mincanvaswidth,iapi.minCanvasWidth,60)/100;config.minCanvasHeightPercent=(0,_lib.pluckNumber)(chartAttrs.mincanvasheight,iapi.minCanvasHeight,30)/100;zeroPlaneColor=(0,_lib.pluck)(chartAttrs.zeroplanecolor,chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor));zeroPlaneAlpha=(0,_lib.pluck)(chartAttrs.zeroplanealpha,chartAttrs.divlinealpha,colorM.getColor("divLineAlpha"));config.zeroPlaneColor=(0,_libGraphics.convertColor)(zeroPlaneColor,zeroPlaneAlpha);config.zeroPlaneBorderColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.zeroplanebordercolor,zeroPlaneColor),(0,_lib.pluckNumber)(chartAttrs.zeroplaneshowborder,1)?zeroPlaneAlpha:0);config.zeroPlaneShowBorder=(0,_lib.pluckNumber)(chartAttrs.zeroplaneshowborder,1);config.realtimeEnabled=(0,_lib.pluckNumber)(chartAttrs.realtimeenabled,iapi.isRealTime);config.showLegend=(0,_lib.pluckNumber)(chartAttrs.showlegend,iapi.showLegend,1);config.link=chartAttrs.clickurl;config.transposeAxis=(0,_lib.pluckNumber)(iapi.transposeAxis,chartAttrs.transposeaxis,0);config.useEllipsesWhenOverflow=(0,_lib.pluckNumber)(chartAttrs.useellipseswhenoverflow,chartAttrs.useellipsewhenoverflow,1);config.drawTrendRegion=(0,_lib.pluckNumber)(chartAttrs.drawcrossline,0);config.plotcolorintooltip=(0,_lib.pluckNumber)(chartAttrs.plotcolorintooltip,iapi.config.singleseries?0:1);config.plotbinsize=mathMin((0,_lib.pluckNumber)(chartAttrs.plotbinsize,iapi.plotbinsize,.5),1);config.labelbinsize=mathMin((0,_lib.pluckNumber)(chartAttrs.labelbinsize,1),1);config.labelbinsize=config.plotbinsize>config.labelbinsize?config.plotbinsize:config.labelbinsize;config.enableMouseOutEvent=(0,_lib.pluckNumber)(chartAttrs.enablemouseoutevent,iapi.enableMouseOutEvent,1);config.plotSpacePercent=Math.max((0,_lib.pluckNumber)(chartAttrs.plotspacepercent,iapi.plotSpacePercent),0);config.maxColWidth=Math.abs((0,_lib.pluckNumber)(chartAttrs.maxcolwidth,50));config.maxBarHeight=Math.abs((0,_lib.pluckNumber)(chartAttrs.maxbarheight,50));config.overlapColumns=(0,_lib.pluckNumber)(chartAttrs.overlapcolumns,chartAttrs.overlapbars,config.is3D?0:1);config.plotPaddingPercent=chartAttrs.plotpaddingpercent;config.tooltipgrayoutcolor=(0,_lib.pluck)(chartAttrs.tooltipgrayoutcolor,_lib.preDefStr.colors.AAAAAA);config.clickURLOverridesPlotLinks=(0,_lib.pluckNumber)(chartAttrs.clickurloverridesplotlinks,0);iapi.addToEnv("chartConfig",config);iapi.addToEnv("linkClickFN",(0,_lib.getLinkAction)(iapi.getFromEnv("dataSource"),iapi));iapi.addToEnv("dataLabelStyle",dataLabelStyle)};CommonAPI.prototype.createComponent=function createComponent(){var iapi=this,config=iapi.config,skipConfigureIteration=void 0;skipConfigureIteration=config.skipConfigureIteration;iapi.createBaseComponent();iapi.getFromEnv("animationManager").setAnimationState(iapi._firstConfigure?"initial":"update");(0,_lib.componentFactory)(iapi,_caption2["default"],"caption");skipConfigureIteration.caption=true;(0,_lib.componentFactory)(iapi,_subCaption2["default"],"subCaption");skipConfigureIteration.subCaption=true;(0,_lib.componentFactory)(iapi,_background2["default"],"background");skipConfigureIteration.background=true;iapi._createConfigurableComponents&&iapi._createConfigurableComponents();if(iapi.config.realtimeEnabled){iapi._realTimeConfigure&&iapi._realTimeConfigure()}};CommonAPI.prototype.configureChildren=function configureChildren(){var iapi=this;iapi._mapChildren(function(child){if(!child.getState("removed")&&iapi.config.skipConfigureIteration[child.getName()]){child.configure&&child.configure()}})};CommonAPI.prototype._createToolBox=function _createToolBox(){_createToolBox2.call(this)};CommonAPI.prototype.configureAttributes=function configureAttributes(dataObj){configurer.call(this,dataObj)};CommonAPI.prototype.setTooltipStyle=function setTooltipStyle(){var chartConfig=this.config,toolTipController=this.getFromEnv("toolTipController");toolTipController.setStyle({bgColor:(0,_libGraphics.convertColor)(chartConfig.tooltipbgcolor||"FFF",chartConfig.tooltipbgalpha||100),rawBgColor:(chartConfig.tooltipbgcolor||"FFF").replace(/\s+/g,"").replace(/^#?([a-f0-9]+)/gi,"#$1"),fontColor:(chartConfig.tooltipcolor||chartConfig.basefontcolor||"545454").replace(/\s+/g,"").replace(/^#?([a-f0-9]+)/gi,"#$1"),borderColor:(0,_libGraphics.convertColor)(chartConfig.tooltipbordercolor||"666",chartConfig.tooltipborderalpha||100),rawBorderColor:(chartConfig.tooltipbordercolor||"666").replace(/\s+/g,"").replace(/^#?([a-f0-9]+)/gi,"#$1"),bgAlpha:(0,_lib.pluckNumber)(chartConfig.tooltipbgalpha,100),borderThickness:(0,_lib.pluckNumber)(chartConfig.tooltipborderthickness,1),showToolTipShadow:(0,_lib.pluckNumber)(chartConfig.showtooltipshadow,chartConfig.showshadow,1),borderRadius:(0,_lib.pluckNumber)(chartConfig.tooltipborderradius,0),"font-size":chartConfig.basefontsize||10,"font-family":chartConfig.basefont||this.getFromEnv("style").inCanfontFamily,padding:(0,_lib.pluckNumber)(chartConfig.tooltippadding||3),borderAlpha:(0,_lib.pluckNumber)(chartConfig.tooltipborderalpha,100)})};CommonAPI.prototype.__setDefaultConfig=function __setDefaultConfig(){_BaseChart.prototype.__setDefaultConfig.call(this);var config=this.config;config.valuefontbold=0;config.stickytracking=1;config.usemessagelog=0;config.zeroplanethickness=_lib.UNDEF;config.animationeffect="linear";config.showshadow=1;config.showhovereffect=_lib.UNDEF;config.plothovereffect=_lib.UNDEF;config.anchorhovereffect=_lib.UNDEF;config.plotborderdashed=_lib.UNDEF;config.stack100percent=_lib.UNDEF;config.showpercentvalues=_lib.UNDEF;config.showpercentintooltip=_lib.UNDEF;config.plotbordercolor=_lib.UNDEF;config.showtooltip=1;config.seriesnameintooltip=1;config.rotatevalues=0;config.minimizetendency=0;config.plotfillangle=270;config.valuepadding=2;config.useplotgradientcolor=1;config.plotborderthickness=1;config.plotfillalpha=SEVENTYSTRING;config.showvalues=1;config.valueposition=AUTO;config.drawcrossline=_lib.UNDEF;config.tooltipsepchar=", ";config.usedataplotcolorforlabels=0;config.placevaluesinside=0;config.showplotborder=1;config.use3dlighting=1;config.useroundedges=0;config.plotspacepercent=20;config.plotpaddingpercent=_lib.UNDEF;config.plotfillratio=_lib.UNDEF;config.maxcolwidth=50;config.plotborderdashlen=5;config.plotborderdashgap=4;config.useScaleRecursively=true;config.formatnumberscale=1;config.decimals=2;config.decimalprecision=10;config.tooltipbgcolor="FFF";config.tooltipcolor=_lib.UNDEF;config.tooltipbordercolor="666";config.tooltipbgalpha=100;config.tooltipborderthickness=1;config.showtooltipshadow=_lib.UNDEF;config.basefontsize=10;config.basefont="Verdana, sans";config.tooltipborderradius=0;config.tooltippadding=3;config.tooltipborderalpha=100;config.origw=_lib.UNDEF;config.origh=_lib.UNDEF};CommonAPI.prototype.configure=function configure(dataObj){dataObj.chart=dataObj.chart||dataObj.graph||dataObj.map||{};_BaseChart.prototype.configure.call(this,dataObj)};CommonAPI.prototype._checkInvalidData=function _checkInvalidData(){var iapi=this,dataObj=iapi.getFromEnv("dataSource"),chartInstance=iapi.getFromEnv("chartInstance");if(!iapi.isWidget&&!iapi.isMap&&!(dataObj.data&&dataObj.data.length!==0)&&!dataObj.dataset&&!dataObj.value&&!dataObj.lineset&&!dataObj.annotations&&!dataObj.category&&!(dataObj.tasks||dataObj.process)&&!dataObj.axis){iapi.setChartMessage();iapi.drawChartMessage();chartInstance.__state.dataReady=false;chartInstance.jsVars.hasNativeMessage=true;chartInstance.jsVars.drawCount+=1;return true}};CommonAPI.prototype._checkInvalidSpecificData=function _checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset,categories=jsonData.categories;if(!datasetsJSON||!categories||categories.length===0||!categories[0].category){return true}};CommonAPI.prototype.setChartEvents=function setChartEvents(){var chart=this,listeners=chart.getFromEnv("eventListeners"),dataSource=chart.getFromEnv("dataSource"),chartAttrs=dataSource&&dataSource.chart,canvas=chart.getFromEnv("paper")&&chart.getFromEnv("paper").canvas,container=chart.getFromEnv("chart-container"),enableMouseMove=chartAttrs&&(0,_lib.pluckNumber)(chartAttrs.enablechartmousemoveevent,0);if(!(chartAttrs||canvas)){return}if(_lib.touchEnabled){_domEvent2["default"].unlisten(container,"touchstart",onContainerTouchStart);_domEvent2["default"].unlisten(container,"touchend",onContainerTouchEnd);listeners.push(_domEvent2["default"].listen(container,"touchstart",onContainerTouchStart,chart));listeners.push(_domEvent2["default"].listen(container,"touchend",onContainerTouchEnd,chart))}_domEvent2["default"].unlisten(container,"click",onContainerClick);listeners.push(_domEvent2["default"].listen(container,"click",onContainerClick,chart));_domEvent2["default"].unlisten(canvas,"mouseover",chartHoverManager,chart);_domEvent2["default"].unlisten(canvas,"touchstart",chartHoverManager,chart);_domEvent2["default"].unlisten(canvas,"mouseout",chartHoverManager,chart);_domEvent2["default"].unlisten(canvas,"touchend",chartHoverManager,chart);listeners.push(_domEvent2["default"].listen(canvas,"mouseover touchstart mouseout touchend",chartHoverManager,chart));_domEvent2["default"].unlisten(container,"mousemove",CommonAPI.onContainerMouseMove,chart);_domEvent2["default"].unlisten(container,"touchmove",CommonAPI.onContainerMouseMove,chart);if(enableMouseMove){listeners.push(_domEvent2["default"].listen(container,"mousemove touchmove",CommonAPI.onContainerMouseMove,chart))}};CommonAPI.chartMenuTools=function chartMenuTools(){var toolSet=[];return{get:function get(){return toolSet},set:function set(buttonArgsArr){var i,len=buttonArgsArr.length||0;for(i=0;i<len;i+=1){toolSet.push(buttonArgsArr[i])}},reset:function reset(tb,iapi){var actionBar=iapi.getChildren("actionBar"),chartMenuBar=iapi.getChildren("chartMenuBar");chartMenuBar&&iapi.detachChild(chartMenuBar.getId())&&(chartMenuBar.drawn=false);actionBar&&iapi.detachChild(actionBar.getId())&&(actionBar.drawn=false);toolSet.length=0;if(!tb){return}tb.idCount=0;tb.clean()},update:function update(id,newId,iapi){var chartMenuBar=iapi.getChildren("chartMenuBar")||iapi.getChildren("actionBar"),componentGroups=chartMenuBar.config.componentGroups,lists,list,contextMenu,symbolList,index,length,i,l,group;for(index=0,length=componentGroups.length;index<length;index++){group=componentGroups[index];symbolList=group.config.symbolList||[];for(i=0,l=symbolList.length;i<l;i++){if(!(symbolList[i]instanceof _symbolWithContext2["default"])){continue}contextMenu=symbolList[i];lists=contextMenu.getListRefernce().getFirstContainer().config.atomicLists}}lists=lists||[];for(index=0,length=lists.length;index<length;index++){list=lists[index];if(list.config.name===id){list.updateName(newId);break}}}}};CommonAPI.prototype.get=function get(where,what){var place=this[where];return what?place&&place[what]:place};CommonAPI.prototype.prepareAttributes=function prepareAttributes(){if(this.config.hasChartMessage){return}_BaseChart.prototype.prepareAttributes.call(this)};CommonAPI.prototype.disposeChartStyleSheet=function disposeChartStyleSheet(){var chart=this,paper=chart.getFromEnv("paper");paper&&paper.cssClear()};CommonAPI.prototype.createChartStyleSheet=function createChartStyleSheet(){var chart=this,paper=chart.getFromEnv("paper");paper.cssRender()};CommonAPI.prototype._dispose=function _dispose(){var listeners=this.getFromEnv("eventListeners"),len=listeners&&listeners.length;while(len--){listeners[len].unlisten()}_BaseChart.prototype._dispose.call(this)};CommonAPI.prototype._allocateSpace=function _allocateSpace(dimensions){var iapi=this,canvas=iapi.getChildren("canvas"),canvasConfig=canvas&&canvas[0].config,config=iapi.config,canvasHeight=config.canvasHeight,canvasWidth=config.canvasWidth,canvasTop,canvasLeft,availableHeight=config.availableHeight,availableWidth=config.availableWidth;canvasLeft=config.canvasLeft+=dimensions.left||0;canvasTop=config.canvasTop+=dimensions.top||0;canvasWidth=config.canvasWidth=mathMax(canvasWidth-((dimensions.left||0)+(dimensions.right||0)),0);canvasHeight=config.canvasHeight=mathMax(canvasHeight-((dimensions.top||0)+(dimensions.bottom||0)),0);config.availableHeight=mathMax(availableHeight-((dimensions.top||0)+(dimensions.bottom||0)),0);config.availableWidth=mathMax(availableWidth-((dimensions.left||0)+(dimensions.right||0)),0);config.canvasRight=canvasLeft+canvasWidth;config.canvasBottom=canvasTop+canvasHeight;if(canvasConfig){canvasConfig.canvasPaddingLeft=mathMax(canvasConfig.canvasPaddingLeft,dimensions.paddingLeft||0);canvasConfig.canvasPaddingRight=mathMax(canvasConfig.canvasPaddingRight,dimensions.paddingRight||0);canvasConfig.canvasPaddingTop=mathMax(canvasConfig.canvasPaddingTop,dimensions.paddingTop||0);canvasConfig.canvasPaddingBottom=mathMax(canvasConfig.canvasPaddingBottom,dimensions.paddingBottom||0)}canvas&&canvas[0].setDimension({top:canvasTop,left:canvasLeft,width:canvasWidth,height:canvasHeight})};CommonAPI.prototype._fetchCaptionPos=function _fetchCaptionPos(centerX){var extraSpace,iapi=this,iapiConfig=iapi.config,totalWidth=iapiConfig.width,chartMenuBar=iapi.getChildren("chartMenuBar"),btnConfig=chartMenuBar.config.componentGroups[0].config.btnConfig,chartMenuLogicalSpace=chartMenuBar.getLogicalSpace(),toolBoxWidth=chartMenuLogicalSpace.width,caption=iapi.getChildren("caption")&&iapi.getChildren("caption")[0],captionConfig=caption.config,captionWidth=captionConfig.width,isHalign=btnConfig.hAlign==="l",rightWidth=iapiConfig.width-centerX,availableWidth=isHalign?centerX:rightWidth,origMarginRight=iapiConfig.origMarginRight,origMarginLeft=iapiConfig.origMarginLeft,offsetX=isHalign?origMarginLeft:origMarginRight;if(captionConfig.align===_lib.POSITION_MIDDLE){extraSpace=availableWidth-captionWidth/2-offsetX-toolBoxWidth}else if(captionConfig.align==="start"){extraSpace=isHalign?-1:totalWidth-iapiConfig.canvasLeft-offsetX-captionWidth-toolBoxWidth+captionConfig.horizontalPadding}else{extraSpace=isHalign?totalWidth-(origMarginRight+origMarginLeft+toolBoxWidth+captionWidth):-1}return extraSpace};CommonAPI.prototype._manageCaptionSpacing=function _manageCaptionSpacing(availableHeight,availableWidth){var iapi=this,caption=iapi.getChildren("caption")[0],dimension;dimension=caption.manageSpace(availableHeight,availableWidth);return dimension};CommonAPI.prototype._manageChartMenuBar=function _manageChartMenuBar(availableHeight){var captionDimensions,iapi=this,iapiConfig=iapi.config,chartMenuBar=iapi.getChildren("chartMenuBar"),chartMenuLogicalSpace=chartMenuBar&&chartMenuBar.getLogicalSpace(),caption=iapi.getChildren("caption")&&iapi.getChildren("caption")[0],captionConfig=caption.config,isCaptionOnTop=captionConfig.isOnTop,chartCenterX=iapiConfig.width/2,canvasRight=iapiConfig.canvasRight,canvasCenterX=canvasRight?(iapiConfig.canvasLeft+canvasRight)/2:chartCenterX,extraSpace=0,availableWidth,centerX=captionConfig.alignWithCanvas?canvasCenterX:chartCenterX,btnConfig=chartMenuBar&&chartMenuBar.config.componentGroups.length&&chartMenuBar.config.componentGroups[0].config.btnConfig,manageToolBox=chartMenuLogicalSpace&&btnConfig.spaceNotHardCoded;if(btnConfig&&btnConfig.spaceNotHardCoded){btnConfig.x=(0,_lib.pluckNumber)(btnConfig.hAlign==="l"?0:iapiConfig.width);btnConfig.y=(0,_lib.pluckNumber)(btnConfig.vAlign==="t"?0:iapiConfig.height)}delete captionConfig._offsetHeight;availableWidth=captionConfig.alignWithCanvas?iapiConfig.canvasWidth:iapiConfig.width-iapiConfig.origMarginLeft-iapiConfig.origMarginRight;if(isCaptionOnTop){captionDimensions=iapi._manageCaptionSpacing(availableHeight,availableWidth);if(manageToolBox){extraSpace=iapi._fetchCaptionPos(centerX);captionConfig._offsetHeight=extraSpace<0?chartMenuLogicalSpace.height:0;captionDimensions.top=extraSpace<0?(0,_lib.pluckNumber)(captionDimensions.top,0)+chartMenuLogicalSpace.height:mathMax(captionDimensions.top,chartMenuLogicalSpace.height)}iapi._allocateSpace(captionDimensions)}else{iapi._allocateSpace({top:manageToolBox?chartMenuLogicalSpace.height:0});captionDimensions=iapi._manageCaptionSpacing(availableHeight,availableWidth);iapi._allocateSpace(captionDimensions)}return{top:chartMenuLogicalSpace?mathMax(chartMenuLogicalSpace.height,captionDimensions.top):captionDimensions.top,bottom:captionDimensions.bottom}};CommonAPI.prototype._manageSpace=function _manageSpace(){var iapi=this,canvas=iapi.getChildren("canvas")&&iapi.getChildren("canvas")[0],canvasConfig=canvas&&canvas.config,config=iapi.config,width=iapi.getFromEnv("chartWidth"),height=iapi.getFromEnv("chartHeight"),minCanvasWidth,minCanvasHeight,marginTop,marginLeft,marginBottom,marginRight,canvasHeight,canvasWidth,minChartHeight,minChartWidth,diff,sum;config.width=width;config.height=height;config.minChartHeight=minChartHeight=config.minChartHeightPercent*height;config.minChartWidth=minChartWidth=config.minChartWidthPercent*width;config.minCanvasWidth=minCanvasWidth=config.minCanvasWidthPercent*minChartWidth;config.minCanvasHeight=minCanvasHeight=config.minCanvasHeightPercent*minChartHeight;config.marginTop=marginTop=config.origMarginTop;config.marginLeft=marginLeft=config.origMarginLeft;config.marginBottom=marginBottom=config.origMarginBottom;config.marginRight=marginRight=config.origMarginRight;config.canvasMarginTop=config.origCanvasTopMargin;config.canvasMarginLeft=config.origCanvasLeftMargin;config.canvasMarginBottom=config.origCanvasBottomMargin;config.canvasMarginRight=config.origCanvasRightMargin;config.canvasHeight=canvasHeight=config.height-config.marginTop-config.marginBottom;config.canvasWidth=canvasWidth=config.width-config.marginLeft-config.marginRight;config.availableHeight=canvasHeight-minCanvasHeight;config.availableWidth=canvasWidth-minCanvasWidth;if(canvasHeight<minChartHeight){diff=height-minChartHeight;config.canvasHeight=minChartHeight;sum=marginTop+marginBottom;config.marginTop=diff*marginTop/sum;config.marginBottom=diff*marginBottom/sum;config.availableHeight=minChartHeight-minCanvasHeight}if(canvasWidth<minChartWidth){diff=width-minChartWidth;sum=marginRight+marginLeft;config.canvasWidth=minChartWidth;config.marginLeft=diff*marginLeft/sum;config.marginRight=diff*marginRight/sum;config.availableWidth=minChartWidth-minCanvasWidth}config.canvasLeft=config.marginLeft;config.canvasTop=config.marginTop;if(canvasConfig){canvasConfig.canvasPaddingLeft=mathMin(canvasConfig.origCanvasLeftPad,mathRound(.1*config.height));canvasConfig.canvasPaddingRight=mathMin(canvasConfig.origCanvasRightPad,mathRound(.1*config.height));canvasConfig.canvasPaddingTop=mathMin(canvasConfig.origCanvasTopPad,mathRound(.1*config.height));canvasConfig.canvasPaddingBottom=mathMin(canvasConfig.origCanvasBottomPad,mathRound(.1*config.height))}iapi._spaceManager()};CommonAPI.prototype._preDraw=function _preDraw(){var iapi=this;iapi._mapChildren(function(child){if(!child.getState("removed")){child.preDraw&&child.preDraw()}});iapi._setAxisLimits&&iapi._setAxisLimits();iapi._createToolBoxGantt&&iapi._createToolBoxGantt()};CommonAPI.prototype._clearTimers=function _clearTimers(){var iapi=this,realTimeConfig=iapi.config&&iapi.config.realTimeConfig,timers=iapi.config.timers,setTimeout=timers&&timers.setTimeout,setInterval=timers&&timers.setInterval,timer;realTimeConfig&&(realTimeConfig.refreshIntervalFlag=false);for(timer in setTimeout){clearTimeout(setTimeout[timer])}for(timer in setInterval){clearInterval(setInterval[timer])}};CommonAPI.prototype.setChartCursor=function setChartCursor(){var chart=this,link=chart.config.link,style=chart.getFromEnv("paper").canvas.style;if(Raphael.svg){style.cursor=link?_lib.POINTER:"default"}else{chart.getFromEnv("paper").canvas.style.cursor=link?_lib.HAND:"default"}};CommonAPI.prototype._createLayers=function _createLayers(){var iapi=this,parentGroup,animationManager=iapi.getFromEnv("animationManager");parentGroup=iapi.getContainer("parentgroup")||iapi.addContainer("parentgroup",animationManager.setAnimation({el:"group",attr:{name:"parentgroup"},component:iapi}));!iapi.getChildContainer("backgroundGroup")&&iapi.addChildContainer("backgroundGroup",createGroup({name:"background"},parentGroup,iapi));!iapi.getChildContainer("axisBottomGroup")&&iapi.addChildContainer("axisBottomGroup",createGroup({name:"axisbottom"},parentGroup,iapi));!iapi.getChildContainer("belowPlotGroup")&&iapi.addChildContainer("belowPlotGroup",createGroup({name:"belowplot"},parentGroup,iapi));!iapi.getChildContainer("lowerAnnotationGroup")&&iapi.addChildContainer("lowerAnnotationGroup",createGroup({name:"lowerannotations"},iapi.getChildContainer("belowPlotGroup"),iapi));!iapi.getChildContainer("plotGroup")&&iapi.addChildContainer("plotGroup",createGroup({name:"plots"},parentGroup,iapi));!iapi.getChildContainer("axisTopGroup")&&iapi.addChildContainer("axisTopGroup",createGroup({name:"axistop"},parentGroup,iapi));!iapi.getChildContainer("sumLabelsLayer")&&iapi.addChildContainer("sumLabelsLayer",createGroup({name:"sumlabels","class":"fusioncharts-datalabels"},parentGroup,iapi));!iapi.getChildContainer("datalabelsGroup")&&iapi.addChildContainer("datalabelsGroup",createGroup({name:"datalabel"},parentGroup,iapi));!iapi.getChildContainer("abovePlotGroup")&&iapi.addChildContainer("abovePlotGroup",createGroup({name:"aboveplot"},parentGroup,iapi));!iapi.getChildContainer("upperAnnotationGroup")&&iapi.addChildContainer("upperAnnotationGroup",createGroup({name:"upperannotations"},iapi.getChildContainer("abovePlotGroup"),iapi));!iapi.getChildContainer("captionGroup")&&iapi.addChildContainer("captionGroup",createGroup({name:"caption"},parentGroup,iapi));!iapi.getChildContainer("defaultGroup")&&iapi.addChildContainer("defaultGroup",createGroup({name:"chartdefault"},parentGroup,iapi));!iapi.getChildContainer("defaultShadowGroup")&&iapi.addChildContainer("defaultShadowGroup",createGroup({name:"chartdefault-shadow"},parentGroup,iapi));!iapi.getChildContainer("trackerGroup")&&iapi.addChildContainer("trackerGroup",createGroup({name:"tracker"},parentGroup,iapi));!iapi.getChildContainer("buttonGroup")&&iapi.addChildContainer("buttonGroup",animationManager.setAnimation({el:"group",container:parentGroup,attr:{name:"buttons"},component:iapi}));!iapi.getChildContainer("logoGroup")&&iapi.addChildContainer("logoGroup",animationManager.setAnimation({el:"group",attr:{name:"logo"},component:iapi}))};CommonAPI.prototype._setDataLabelStyle=function _setDataLabelStyle(){var iapi=this,style=iapi.config.dataLabelStyle,labelCSS={fontFamily:style.fontFamily,fontSize:style.fontSize,fontWeight:style.fontWeight,fontStyle:style.fontStyle},datalabelsGroup=iapi.getChildContainer("datalabelsGroup");datalabelsGroup.css(labelCSS)};CommonAPI.prototype._manageCaptionPosition=function _manageCaptionPosition(){var iapi=this,chartConfig=iapi.config,components=iapi.getChildren(),caption=components.caption&&components.caption[0],subCaption=components.subCaption&&components.subCaption[0],captionConfig=caption.config,widgetValueHeight=captionConfig.widgetValueHeight||0,subCaptionConfig=subCaption.config,captionX=void 0,captionY=void 0,subCaptionY=void 0,canvasWidth=chartConfig.canvasWidth,capAlign=captionConfig.align,hasCaption=captionConfig.text,alignWtCanvas=captionConfig.alignWithCanvas,hPadding=captionConfig.horizontalPadding,width=chartConfig.width,canvasLeft=chartConfig.canvasLeft,canvasRight=chartConfig.canvasRight,marginRight=chartConfig.marginRight,marginLeft=chartConfig.marginLeft,marginTop=chartConfig.marginTop,canvasCentre=(mathRound(canvasLeft)||0)+(0,_lib.pluckNumber)(canvasWidth,width)/2,interCaptionGap=2,captionLineHeight=captionConfig.height,subCaptionLineHeight=subCaptionConfig.height,legendConfig=components.legend&&components.legend[0]&&components.legend[0].config||{},legendHeight=legendConfig.height||0,legendPadding=legendConfig.legendPadding||0,legendPos=chartConfig.legendposition,gradientLegend=iapi.getFromEnv("gLegend")||{},gradientLegendHeight=0,showLegendAttr=!!(gradientLegend.conf||{}).showLegend,borderWidth=iapi.config.borderWidth,actionBar=components.actionBar,actionBarHeight=0,actionBarSpace=void 0;if(!legendConfig.isActive){legendHeight=0}if(showLegendAttr&&iapi.config.gLegendEnabled){gradientLegendHeight=gradientLegend.getLogicalSpace().height}switch(capAlign){case POSITION_END:captionX=alignWtCanvas?canvasRight-hPadding:width-hPadding;break;case POSITION_START:captionX=alignWtCanvas?canvasLeft+hPadding:hPadding;break;default:captionX=alignWtCanvas?canvasCentre:marginLeft+(width-marginLeft-marginRight)*.5||width/2}if(captionConfig.isOnTop){captionY=(borderWidth||0)+(marginTop||0)}else{if(legendPos.toLowerCase()===POSITION_RIGHT){legendPadding=0;legendHeight=0;gradientLegendHeight=0}if(actionBar){actionBarSpace=actionBar.getLogicalSpace()||{};actionBarHeight=actionBarSpace.height;if(actionBarHeight===_lib.UNDEF||actionBarHeight===Infinity||actionBarHeight<0){actionBarHeight=0}}captionY=iapi.config.height-iapi.config.marginBottom-captionLineHeight-(subCaptionLineHeight||0)-(borderWidth||0)-(legendPadding||0)-(legendHeight||0)-gradientLegendHeight-widgetValueHeight-actionBarHeight}captionY+=captionConfig._offsetHeight||0;caption.setDimention({x:captionX,y:captionY});subCaptionY=hasCaption?captionY+captionLineHeight+interCaptionGap:captionY||marginTop||0;subCaption.setDimention({x:captionX,y:subCaptionY})};CommonAPI.prototype._updateVisuals=function _updateVisuals(){var iapi=this,coreOptions=iapi.getFromEnv("core-options"),paper=iapi.getFromEnv("paper"),animationManager=iapi.getFromEnv("animationManager"),config=iapi.config,toolbar,attr,width=iapi.getFromEnv("chartWidth"),height=iapi.getFromEnv("chartHeight");if(coreOptions&&!coreOptions._SVGDefinitionURLUpdated){if(/^\s*absolute\s*$/i.test(coreOptions.SVGDefinitionURL)){Raphael._url=(Raphael._g&&Raphael._g.win||window).location.href.replace(/#.*?$/,_lib.BLANKSTRING)}coreOptions._SVGDefinitionURLUpdated=true}if(!paper){paper=new Raphael(iapi.getFromEnv("chart-container"),width,height);paper.setHTMLClassName("fusioncharts-div");iapi.addToEnv("paper",paper);paper.setConfig("stroke-linecap",_lib.ROUND)}else{if(!_lib.hasSVG&&(config._prevWidth||config._prevHeight)){paper.setSize(config._prevWidth,config._prevHeight)}attr={width:width,height:height};animationManager.setAnimation({el:paper,attr:attr,component:iapi})}config._prevWidth=width;config._prevHeight=height;iapi.setChartCursor();iapi._createLayers();iapi._setDataLabelStyle();toolbar=iapi.getChildren("chartMenuBar")?"chartMenuBar":iapi.getChildren("actionBar")?"actionBar":_lib.UNDEF;toolbar&&iapi.allocateDimensionOfChartMenuBar(toolbar);iapi.getChildren("chartMenuBar")&&(iapi.getChildren("chartMenuBar").config.parentLayer=iapi.getContainer("parentgroup"));iapi._drawCreditLabel()};CommonAPI.prototype.allocateDimensionOfChartMenuBar=function allocateDimensionOfChartMenuBar(toolBarName){var iapi=this,config=iapi.config,toolBar=iapi.getChildren(toolBarName),logicalSpace=toolBar.getLogicalSpace(),toolbarConfig=toolBar.config.toolbarConfig,btnConfig=toolBar.config.componentGroups[0].config.btnConfig,vDirection=btnConfig.vDirection,hDirection=btnConfig.hDirection,y=btnConfig.y,x=btnConfig.x;toolbarConfig.fill=TRACKER_FILL;toolbarConfig.borderColor=TRACKER_FILL;if(btnConfig.spaceNotHardCoded){if(toolBarName==="chartMenuBar"){y+=btnConfig.vMargin*vDirection+mathMin(0,logicalSpace.height*vDirection);x+=btnConfig.hMargin*hDirection-mathMax(0,logicalSpace.width*hDirection);x=btnConfig.hAlign==="l"?x+logicalSpace.width:x-logicalSpace.width}else{y=config.height-config.marginBottom-logicalSpace.height;x=btnConfig.vAlign==="b"&&btnConfig.hAlign==="r"?config.width-config.marginRight-logicalSpace.width:config.marginLeft}}toolBar.setMenuBarDimension(x,y)};CommonAPI.prototype.draw=function draw(){var iapi=this,chartObj=iapi.getFromEnv("chartInstance");if(iapi.config.hasChartMessage){iapi._hide();iapi.drawChartMessage();iapi.fireChartInstanceEvent("nodatatodisplay",{},[chartObj.id]);chartObj.jsVars.drawCount+=1;chartObj.__state.dataReady=false;chartObj.jsVars.hasNativeMessage=true}else{iapi._hideChartMessage();iapi._clearTimers&&iapi._clearTimers();iapi.config.plotOverFlow=false;iapi._show();iapi._updateVisuals();iapi.setState("initiated",true);chartObj.jsVars.drawCount+=1;chartObj.jsVars.hasNativeMessage=false}};CommonAPI.prototype.manageSpace=function manageSpace(){var iapi=this;if(iapi.config.hasChartMessage){return}iapi._preDraw();iapi.addToolbar&&iapi.addToolbar();iapi._manageSpace();iapi._postSpaceManagement&&iapi._postSpaceManagement()};CommonAPI.prototype._show=function _show(){this.getContainer("parentgroup")&&this.getContainer("parentgroup").show()};CommonAPI.prototype._manageActionBarSpace=function _manageActionBarSpace(){var iapi=this,config=iapi.config,actionBar=iapi.getChildren("actionBar"),actionBarSpace=actionBar&&actionBar.getLogicalSpace()||{},actionBarHeight=actionBarSpace.height||0;config.actionBarHeight=actionBarHeight;return{bottom:actionBarHeight}};CommonAPI.prototype._hide=function _hide(){this.getContainer("parentgroup")&&this.getContainer("parentgroup").hide()};CommonAPI.onContainerMouseMove=function onContainerMouseMove(e){var chart=e.data,fusionCharts=chart.getFromEnv("chartInstance"),oriEvent=e.originalEvent,coordinate=(0,_lib.getMouseCoordinate)(chart.getFromEnv("chart-container"),oriEvent,chart),args;if(!fusionCharts.ref){return}args=(0,_lib.extend2)({height:fusionCharts.args.height,width:fusionCharts.args.width,pixelHeight:chart.getFromEnv("chartWidth"),pixelWidth:chart.getFromEnv("chartHeight"),id:fusionCharts.args.id,renderer:fusionCharts.args.renderer,container:fusionCharts.options.containerElement},coordinate);chart.fireChartInstanceEvent("chartMouseMove",args)};CommonAPI.onContainerRollOver=function onContainerRollOver(e){var chart=e.data,fusionCharts=chart.getFromEnv("chartInstance"),oriEvent=e.originalEvent,coordinate=(0,_lib.getMouseCoordinate)(chart.getFromEnv("chart-container"),oriEvent,chart),args;if(!fusionCharts.ref){return}args=(0,_lib.extend2)({height:fusionCharts.args.height,width:fusionCharts.args.width,pixelHeight:chart.getFromEnv("chartWidth"),pixelWidth:chart.getFromEnv("chartHeight"),id:fusionCharts.args.id,renderer:fusionCharts.args.renderer,container:fusionCharts.options.containerElement},coordinate);chart.fireChartInstanceEvent("chartRollOver",args)};CommonAPI.onContainerRollOut=function onContainerRollOut(e){var chart=e.chart,fusionCharts=chart.getFromEnv("chartInstance"),oriEvent=e.event,coordinate=(0,_lib.getMouseCoordinate)(chart.getFromEnv("chart-container"),oriEvent,chart),args;if(!fusionCharts.ref){return}args=(0,_lib.extend2)({height:fusionCharts.args.height,width:fusionCharts.args.width,pixelHeight:chart.getFromEnv("chartWidth"),pixelWidth:chart.getFromEnv("chartHeight"),id:fusionCharts.args.id,renderer:fusionCharts.args.renderer,container:fusionCharts.options.containerElement},coordinate);chart.fireChartInstanceEvent("chartRollOut",args)};CommonAPI.winMouseHover=function winMouseHover(e){var event=e.originalEvent,tgt=event.target||event.originalTarget||event.srcElement||event.relatedTarget||event.fromElement,chart=e.data,paper=chart.getFromEnv("paper"),eve={chart:chart,event:e.originalEvent};if(isVML){if(!paper.getById(tgt.parentNode.raphaelid)){CommonAPI.onContainerRollOut(eve);chart.config.mouseStateIn=false;_domEvent2["default"].unlisten(document,"mouseover",CommonAPI.winMouseHover)}}else{if(!tgt.viewportElement){chart.config.mouseStateIn=false;CommonAPI.onContainerRollOut(eve);_domEvent2["default"].unlisten(window,"mouseover",CommonAPI.winMouseHover)}}};return CommonAPI}(_basechart2["default"]);exports["default"]=CommonAPI;exports._drawDataset=_drawDataset;exports._createToolBox=_createToolBox2;exports.configurer=configurer},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var canvas=void 0;(0,_lib.componentFactory)(chart,_canvas2["default"],"canvas",chart.config.showVolumeChart?2:1);canvas=chart.getChildren("canvas");for(var i=0,len=canvas.length;i<len;i++){canvas[i].configure()}};var _canvas=__webpack_require__(263);var _canvas2=_interopRequireDefault(_canvas);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _canvasAnimation=__webpack_require__(264);var _canvasAnimation2=_interopRequireDefault(_canvasAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var mathMax=Math.max,MAX_MITER_LINEJOIN=2,miterStr=_lib.preDefStr.miterStr,NONE=_lib.preDefStr.noneStr,ROUND=_lib.preDefStr.ROUND,clipSumValue="clip-sum-value",clipCanvasInitStr="clip-canvas-init",clipCanvasStr="clip-canvas",_createGroup=function _createGroup(groupName,parentContainer,canvas){var animationManager=canvas.getFromEnv("animationManager");return animationManager.setAnimation({el:"group",attr:{name:groupName},container:parentContainer,component:canvas,label:"group"})};(0,_dependencyManager.addDep)({name:"canvasAnimation",type:"animationRule",extension:_canvasAnimation2["default"]});var Canvas=function(_ComponentInterface){_inherits(Canvas,_ComponentInterface);function Canvas(){_classCallCheck(this,Canvas);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));var canvas=_this;canvas.config={};canvas.config.axes=canvas.config.axes||[];canvas.setLinkedItem("axes",[]);canvas.setLinkedItem("primaryAxis",{});canvas.addToEnv("canvasConfig",_this.config);return _this}Canvas.prototype.getName=function getName(){return"canvas"};Canvas.prototype.getType=function getType(){return"canvas"};Canvas.prototype.createGroup=function createGroup(){var canvas=this,chart=canvas.getFromEnv("chart"),chartChildContainer=chart.getChildContainer(),parentGroup=chart.getContainer("parentgroup"),canvasDimensions=canvas.getEffectiveDimensions(),chartAttr=canvas.getFromEnv("chart-attrib"),isAreaOverColumns=(0,_lib.pluckNumber)(chartAttr.areaovercolumns,1),floorContainer=canvas.getChildContainer("axisReferenceVisualsFloor"),bottomContainer=canvas.getChildContainer("axisReferenceVisualsBottom"),middleContainer=canvas.getChildContainer("axisReferenceVisualsMiddle"),topContainer=canvas.getChildContainer("axisReferenceVisualsTop"),ceilContainer=canvas.getChildContainer("axisReferenceVisualsCeil"),areaContainer=canvas.getChildContainer("areaGroup"),areaShadowContainer=canvas.getChildContainer("areaShadowGroup"),columnContainer=canvas.getChildContainer("columnGroup"),columnShadowContainer=canvas.getChildContainer("columnShadowGroup"),plotGroup=chartChildContainer.plotGroup,clipPath=[canvasDimensions.left,canvasDimensions.top,canvasDimensions.width,canvasDimensions.height].toString();!canvas.getContainer("canvasGroup")&&canvas.addContainer("canvasGroup",_createGroup("canvas",parentGroup,canvas)).insertAfter(chartChildContainer.backgroundGroup);if(!bottomContainer){bottomContainer=canvas.addChildContainer("axisReferenceVisualsBottom",_createGroup("axisReferenceVisualsBottom",parentGroup,canvas)).insertAfter(chartChildContainer.axisBottomGroup)}if(!floorContainer){floorContainer=canvas.addChildContainer("axisReferenceVisualsFloor",_createGroup("axisReferenceVisualsFloor",parentGroup,canvas)).insertAfter(chartChildContainer.axisBottomGroup)}floorContainer.attr({"clip-rect":clipPath});!canvas.getChildContainer("crossline")&&canvas.addChildContainer("crossline",_createGroup("crossline",parentGroup,canvas)).insertBefore(chartChildContainer.plotGroup);!canvas.getChildContainer("crosslineBottom")&&canvas.addChildContainer("crosslineBottom",_createGroup("crosslineBottom",parentGroup,canvas)).insertBefore(chartChildContainer.plotGroup);!canvas.getChildContainer("crosslineTop")&&canvas.addChildContainer("crosslineTop",_createGroup("crosslineTop",parentGroup,canvas)).insertBefore(chartChildContainer.abovePlotGroup);!canvas.getChildContainer("datalabelsGroup")&&canvas.addChildContainer("datalabelsGroup",_createGroup("canvasdatalabel",chart.getChildContainer("datalabelsGroup"),canvas));if(!middleContainer){middleContainer=canvas.addChildContainer("axisReferenceVisualsMiddle",_createGroup("axisReferenceVisualsMiddle",parentGroup,canvas)).insertBefore(chartChildContainer.plotGroup)}middleContainer.attr({"clip-rect":clipPath});if(!topContainer){topContainer=canvas.addChildContainer("axisReferenceVisualsTop",_createGroup("axisReferenceVisualsTop",parentGroup,canvas)).insertBefore(chartChildContainer.datalabelsGroup)}!canvas.getChildContainer("quadrantGroup")&&canvas.addChildContainer("quadrantGroup",_createGroup("quadrant",parentGroup,canvas)).insertAfter(middleContainer);if(!ceilContainer){canvas.addChildContainer("axisReferenceVisualsCeil",_createGroup("axisReferenceVisualsCeil",parentGroup,canvas)).insertBefore(chartChildContainer.datalabelsGroup)}!canvas.getChildContainer("sumLabelsLayer")&&canvas.addChildContainer("sumLabelsLayer",chartChildContainer.sumLabelsLayer);if(!columnShadowContainer){columnShadowContainer=canvas.addChildContainer("columnShadowGroup",_createGroup("column-shadow-group",plotGroup,canvas))}if(!columnContainer){columnContainer=canvas.addChildContainer("columnGroup",_createGroup("column",plotGroup,canvas))}if(!areaShadowContainer){areaShadowContainer=canvas.addChildContainer("areaShadowGroup",_createGroup("area-shadow-group",plotGroup,canvas))}if(!areaContainer){areaContainer=canvas.addChildContainer("areaGroup",_createGroup("area",plotGroup,canvas))}if(!isAreaOverColumns){areaShadowContainer.insertBefore(columnShadowContainer);areaContainer.insertBefore(columnShadowContainer)}else{columnShadowContainer.insertBefore(areaShadowContainer);columnContainer.insertBefore(areaShadowContainer)}!canvas.getChildContainer("lineShadowGroup")&&canvas.addChildContainer("lineShadowGroup",_createGroup("line-shadow-group",plotGroup,canvas));!canvas.getChildContainer("lineGroup")&&canvas.addChildContainer("lineGroup",_createGroup("line",plotGroup,canvas));!canvas.getChildContainer("defaultShadowGroup")&&canvas.addChildContainer("defaultShadowGroup",_createGroup("default-shadow-group",plotGroup,canvas));!canvas.getChildContainer("defaultGroup")&&canvas.addChildContainer("defaultGroup",_createGroup("default",plotGroup,canvas))};Canvas.prototype.isWithinCanvas=function isWithinCanvas(x,y){var canvas=this,conf=canvas.config,left=conf.canvasLeft,right=left+conf.canvasWidth,top=conf.canvasTop,bottom=top+conf.canvasHeight;return x>=left&&x<=right&&y>=top&&y<=bottom};Canvas.prototype.setCanvasPadding=function setCanvasPadding(){var iapi=this,canvasConfig=iapi.config,dimensions;dimensions=iapi.getCanvasPadding();canvasConfig.canvasPaddingLeft=mathMax(canvasConfig.canvasPaddingLeft,dimensions.paddingLeft||0);canvasConfig.canvasPaddingRight=mathMax(canvasConfig.canvasPaddingRight,dimensions.paddingRight||0);canvasConfig.canvasPaddingTop=mathMax(canvasConfig.canvasPaddingTop,dimensions.paddingTop||0);canvasConfig.canvasPaddingBottom=mathMax(canvasConfig.canvasPaddingBottom,dimensions.paddingBottom||0)};Canvas.prototype.getEffectiveDimensions=function getEffectiveDimensions(){var canvas=this,config=canvas.config,left=config.canvasLeft,top=config.canvasTop,width=config.canvasWidth,height=config.canvasHeight,paddingLeft=config.canvasPaddingLeft,paddingTop=config.canvasPaddingTop,paddingRight=config.canvasPaddingRight,paddingBottom=config.canvasPaddingBottom;return{left:left,top:top,width:width,height:height,paddingLeft:paddingLeft,paddingTop:paddingTop,paddingRight:paddingRight,paddingBottom:paddingBottom}};Canvas.prototype.setDimension=function setDimension(dim){var canvas=this,config=canvas.config;config.canvasTop=dim.top;config.canvasLeft=dim.left;config.canvasWidth=dim.width;config.canvasHeight=dim.height};Canvas.prototype.getCanvasPadding=function getCanvasPadding(){var iapi=this,dim,key,chartConfig=iapi.getFromEnv("chartConfig"),canvasWidth=chartConfig.canvasWidth,canvasConfig=iapi.config,paddingLeft,paddingRight,spaceLimit=canvasConfig.maxPaddingPercent*canvasWidth/100,returnDimension={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0};iapi._mapChildren(function(child){dim=child.getCanvasPadding&&child.getCanvasPadding()||{};for(key in dim){if(dim.hasOwnProperty(key)){returnDimension[key]=mathMax(dim[key],returnDimension[key])}}});paddingLeft=returnDimension.paddingLeft||0;paddingRight=returnDimension.paddingRight||0;if(spaceLimit<paddingLeft){returnDimension.paddingLeft=spaceLimit}if(spaceLimit<paddingRight){returnDimension.paddingRight=spaceLimit}return returnDimension};Canvas.prototype.configureAttributes=function configureAttributes(){var overrideConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var canvas=this,chart=canvas.getLinkedParent(),chartConfig=canvas.getFromEnv("chartConfig"),canvasBorderThickness,canBGAlpha,showCanvasBorder,shadow,canvasConfig=canvas.config,chartAttrs=canvas.getFromEnv("chart-attrib"),colorM=canvas.getFromEnv("color-manager"),is3D=chartConfig.is3D,oriCanvasBorderThickness,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D,isRoundEdges=canvasConfig.isRoundEdges=(0,_lib.pluckNumber)(chartAttrs.useroundedges,0),showAxisLine=(0,_lib.pluckNumber)(chartAttrs.showxaxisline,chartAttrs.showyaxisline,chartAttrs.showaxislines,0),hideAxisLine=showAxisLine?0:1;canvasConfig.canvasBorderRadius=(0,_lib.pluckNumber)(chartAttrs.plotborderradius,isRoundEdges?2:0);showCanvasBorder=canvasConfig.showCanvasBorder=Boolean((0,_lib.pluckNumber)(chartAttrs.showcanvasborder,hideAxisLine,canvasBorderThickness,isRoundEdges?0:1));oriCanvasBorderThickness=canvasConfig.oriCanvasBorderThickness=mathMax((0,_lib.pluckNumber)(chartAttrs.canvasborderthickness,isRoundEdges?0:(0,_lib.pluckNumber)(chart.canvasborderthickness,2),0));canvasBorderThickness=canvasConfig.canvasBorderWidth=is3D?0:showCanvasBorder?oriCanvasBorderThickness:0;canvasConfig.canvasBorderColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.canvasbordercolor,colorM.getColor(_lib.canvasBorderColorStr)),(0,_lib.pluck)(chartAttrs.canvasborderalpha,colorM.getColor("canvasBorderAlpha")));canBGAlpha=canvasConfig.canBGAlpha=(0,_lib.pluck)(chartAttrs.canvasbgalpha,colorM.getColor(_lib.canvasBGAlphaStr));canvasConfig.canBGColor={FCcolor:{color:(0,_lib.pluck)(chartAttrs.canvasbgcolor,colorM.getColor(palleteString.canvasBgColor)),alpha:(0,_lib.pluck)(chartAttrs.canvasbgalpha,100),angle:(0,_lib.pluck)(chartAttrs.canvasbgangle,0),ratio:(0,_lib.pluck)(chartAttrs.canvasbgratio)}};shadow=canvasConfig.shadow=(0,_lib.pluckNumber)(chartAttrs.showshadow,isRoundEdges,0)&&isRoundEdges?{enabled:true,opacity:canBGAlpha/100}:0;canvasConfig.shadowOnCanvasFill=shadow&&shadow.enabled;canvasConfig.canvasPadding=(0,_lib.pluckNumber)(chartAttrs.canvaspadding,0);canvasConfig.origCanvasTopPad=(0,_lib.pluckNumber)(chartAttrs.canvastoppadding,0);canvasConfig.origCanvasBottomPad=(0,_lib.pluckNumber)(chartAttrs.canvasbottompadding,0);canvasConfig.origCanvasLeftPad=(0,_lib.pluckNumber)(chartAttrs.canvasleftpadding,0);canvasConfig.origCanvasRightPad=(0,_lib.pluckNumber)(chartAttrs.canvasrightpadding,0);Object.assign(canvasConfig,overrideConfig);canvas.config.inputComponents=[];canvas.config.maxPaddingPercent=12.5;canvas._mapChildren(function(child){if(child.getState("removed")||child.getType&&child.getType()==="dataset"||child.getType()==="axisRefVisuals"){return}child.configure&&child.configure()})};Canvas.prototype.disposeAllInputs=function disposeAllInputs(){this.config.inputComponents.forEach(function(input){input.dispose()});this.config.inputComponents.length=0};Canvas.prototype.axisExists=function axisExists(axis){var axisArr=this.getLinkedItem("axes"),i=void 0,ii=void 0,status=false;for(i=0,ii=axisArr.length;i<ii;i++){if(axisArr[i].axis===axis){status=true;break}}return status};Canvas.prototype.attachAxis=function attachAxis(axis,isY,config){var axisArr=this.getLinkedItem("axes"),axisType=isY?"yAxis":"xAxis",axes=this.getFromEnv(axisType)||[];if(!this.axisExists(axis)){axisArr.push({axis:axis,isY:isY,config:config||{}});axes.push(axis);this.addToEnv(axisType,axes)}return this};Canvas.prototype.setPrimaryAxis=function setPrimaryAxis(type,axis){var primaryAxis=this.getLinkedItem("primaryAxis");primaryAxis[type]=this.getLinkedItem("axes").find(function(obj){return obj.axis===axis})};Canvas.prototype.getAxes=function getAxes(){var primaryAxis;if(Object.keys(primaryAxis=this.getLinkedItem("primaryAxis")).length){return[primaryAxis.xAxis,primaryAxis.yAxis]}return this.getLinkedItem("axes").slice(0)};Canvas.prototype.detachAxis=function detachAxis(axis,_index){var axisArr=this.getLinkedItem("axes"),index=Infinity;if(_index){return axisArr.splice(_index,1)}axisArr.forEach(function(axisOb,i){if(axisOb.axis===axis){index=i}});return axisArr.splice(index,1)};Canvas.prototype.preDraw=function preDraw(){this._mapChildren(function(child){if(!child.getState("removed")){child.preDraw&&child.preDraw()}})};Canvas.prototype.draw=function draw(){this.createGroup();!this.getFromEnv("chart").config.skipCanvasDrawing&&this.drawCanvas()};Canvas.prototype.drawCanvas=function drawCanvas(){var canvas=this,chart=canvas.getFromEnv("chart"),isBar=chart.isBar,jsonData=chart.getFromEnv("dataSource"),chartAttrs=jsonData.chart,animationManager=canvas.getFromEnv("animationManager"),chartConfig=chart.config,config=canvas.config,clip=config.clip={},clipCanvas=void 0,dsGroup=chart.getChildContainer("plotGroup"),dataLabelsLayer=chart.getChildContainer("datalabelsGroup"),canvasBorderElementCheck=canvas.getGraphicalElement("canvasBorderElement"),canvasBorderElement=void 0,canvasElementCheck=canvas.getGraphicalElement("canvasElement"),canvasElement=void 0,canvasLeft=config.canvasLeft||(config.canvasLeft=chartConfig.canvasLeft),canvasTop=config.canvasTop||(config.canvasTop=chartConfig.canvasTop),canvasWidth=config.canvasWidth||(config.canvasWidth=chartConfig.canvasWidth),canvasHeight=config.canvasHeight||(config.canvasHeight=chartConfig.canvasHeight),xDepth=config.xDepth=chartConfig.xDepth||0,yDepth=config.yDepth=chartConfig.yDepth||0,canvasGroup=canvas.getContainer("canvasGroup"),quadrantGroup=canvas.getChildContainer("quadrantGroup"),canvasBorderRadius=config.canvasBorderRadius,canvasBorderWidth=config.canvasBorderWidth,borderWHlf=canvasBorderWidth*.5,canvasBorderColor=config.canvasBorderColor,canBGColor=config.canBGColor,canBGAlpha=config.canBGAlpha,shadow=config.shadow,canvasBgColor=void 0,attr=void 0,showCanvasBg=config.showCanvasBG=Boolean((0,_lib.pluckNumber)(chartAttrs.showcanvasbg,1)),shadowOnCanvasFill=config.shadowOnCanvasFill,showCanvasBorder=config.showCanvasBorder,gutter=void 0,clipAniamtionFn=void 0;canvasBgColor=canBGColor;attr={x:canvasLeft-borderWHlf,y:canvasTop-borderWHlf,width:canvasWidth+canvasBorderWidth,height:canvasHeight+canvasBorderWidth,r:canvasBorderRadius,"stroke-width":canvasBorderWidth,stroke:canvasBorderColor,"stroke-linejoin":canvasBorderWidth>MAX_MITER_LINEJOIN?ROUND:miterStr};if(showCanvasBorder){canvasBorderElementCheck&&canvasBorderElementCheck.show();canvasBorderElement=animationManager.setAnimation({el:canvasBorderElementCheck||"rect",component:canvas,attr:{x:canvasLeft-borderWHlf,y:canvasTop-borderWHlf,width:canvasWidth+canvasBorderWidth,height:canvasHeight+canvasBorderWidth,r:canvasBorderRadius,"stroke-width":canvasBorderWidth,stroke:canvasBorderColor,"stroke-linejoin":canvasBorderWidth>MAX_MITER_LINEJOIN?ROUND:miterStr},label:"rect",container:canvasGroup}).shadow(shadow);if(!canvasBorderElementCheck){canvas.addGraphicalElement("canvasBorderElement",canvasBorderElement)}}else if(canvasBorderElementCheck){canvas.removeGraphicalElement(canvasBorderElementCheck);animationManager.setAnimation({el:canvasBorderElementCheck,component:canvas,callback:function callback(){canvasBorderElementCheck.hide()}})}gutter=showCanvasBorder?0:config.oriCanvasBorderThickness;clip[clipCanvasStr]=[mathMax(0,canvasLeft-xDepth-gutter),mathMax(0,canvasTop-yDepth-gutter),mathMax(1,canvasWidth+xDepth*2+2*gutter),mathMax(1,canvasHeight+yDepth+2*gutter)];clip[clipSumValue]=[mathMax(0,canvasLeft-xDepth),isBar?canvasTop:0,mathMax(1,isBar?chartConfig.width-canvasLeft:canvasWidth+xDepth*2),mathMax(1,isBar?canvasHeight+yDepth:canvasTop+canvasHeight)];clip[clipCanvasInitStr]=[mathMax(0,canvasLeft-xDepth),mathMax(0,canvasTop-yDepth),1,mathMax(1,canvasHeight+yDepth*2)];clipCanvas=clip[clipCanvasStr].slice(0);clipAniamtionFn=function clipAniamtionFn(el,clipping){animationManager.setAnimation({el:el,attr:{"clip-rect":clipping},label:"container",component:canvas,state:el.attrs["clip-rect"]?"updating":"appearing"})};if(!chartConfig.skipClipping){clipAniamtionFn(dsGroup,clipCanvas);clipAniamtionFn(dataLabelsLayer,clipCanvas);clipAniamtionFn(quadrantGroup,clipCanvas);clipAniamtionFn(canvas.getChildContainer("sumLabelsLayer"),clip[clipSumValue])}if(showCanvasBg){attr={x:canvasLeft,y:canvasTop,width:canvasWidth,height:canvasHeight,r:canvasBorderRadius,"stroke-width":0,stroke:NONE,fill:(0,_lib.toRaphaelColor)(canvasBgColor)};canvasElementCheck&&canvasElementCheck.show();canvasElement=animationManager.setAnimation({el:canvasElementCheck||"rect",attr:attr,label:"rect",container:canvasGroup,component:canvas});if(!canvasElementCheck){canvas.addGraphicalElement("canvasElement",canvasElement)}if(shadowOnCanvasFill){canvasElement.shadow({opacity:canBGAlpha/100})}else{canvasElement.shadow(false)}}else{canvasElementCheck&&animationManager.setAnimation({el:canvasElementCheck,component:canvas,callback:function callback(){canvasElementCheck.hide()}})}};return Canvas}(_componentInterface2["default"]);exports["default"]=Canvas},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.canvas.canvas":function initialCanvasCanvas(){return{"rect.appearing":function rectAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"initial"}]},"*":null}},"update.canvas.canvas":{"rect.updating":[{slot:"middle"}]}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _dependencyManager=__webpack_require__(125);var _captionAnimation=__webpack_require__(266);var _captionAnimation2=_interopRequireDefault(_captionAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var mathMax=Math.max,mathMin=Math.min,mathCeil=Math.ceil,PXSTRING="px",POSITION_RIGHT="right",POSITION_LEFT="left",POSITION_CENTER="center",POSITION_TOP="top",POSITION_BOTTOM="bottom",POSITION_MIDDLE="middle",POSITION_START="start",POSITION_END="end";(0,_dependencyManager.addDep)({name:"captionAnimation",type:"animationRule",extension:_captionAnimation2["default"]});var Caption=function(_ComponentInterface){_inherits(Caption,_ComponentInterface);function Caption(){_classCallCheck(this,Caption);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}Caption.prototype.getType=function getType(){return"caption"};Caption.prototype.getName=function getName(){return"caption"};Caption.prototype.configure=function configure(){var iapi=this.getFromEnv("chart"),chartAttrs=iapi.getFromEnv("chart-attrib"),caption=this,captionConfig=caption.config||{},style=iapi.getFromEnv("style"),outCanfontFamily=style.outCanfontFamily,outCancolor=style.outCancolor,fontSize=style.fontSize,align=["top","center"];caption.config.text=(0,_lib.parseUnsafeString)(chartAttrs.caption);captionConfig.style={fontFamily:(0,_lib.pluck)(chartAttrs.captionfont,outCanfontFamily),color:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.captionfontcolor,outCancolor).replace(/^#? ([a-f0-9]+)/gi,"#$1")),fontSize:(0,_lib.pluckNumber)(chartAttrs.captionfontsize,fontSize+3)+PXSTRING,fontWeight:(0,_lib.pluckNumber)(chartAttrs.captionfontbold)===0?_lib.NORMAL:_lib.BOLD};if(!captionConfig.align){captionConfig.align=""}captionConfig.align=(0,_lib.pluck)(chartAttrs.captionposition,chartAttrs.captionalignment,POSITION_CENTER);if(captionConfig.align){align=captionConfig.align.split("-");align[0]&&(align[0]=align[0].toLowerCase());align[1]&&(align[1]=align[1].toLowerCase());if(align.length<2){align[1]=align[0]}}switch(align[0]){case POSITION_TOP:captionConfig.isOnTop=1;break;case POSITION_BOTTOM:captionConfig.isOnTop=0;break;default:captionConfig.isOnTop=(0,_lib.pluckNumber)(chartAttrs.captionontop,1)}switch(align[1]){case POSITION_RIGHT:captionConfig.align=POSITION_END;break;case POSITION_LEFT:captionConfig.align=POSITION_START;break;default:captionConfig.align=POSITION_MIDDLE}captionConfig.isOnLeft=!(0,_lib.pluckNumber)(chartAttrs.captiononright,0);captionConfig.captionPosition=(0,_lib.getValidValue)(chartAttrs.captionposition,POSITION_TOP).toLowerCase();captionConfig.alignWithCanvas=(0,_lib.pluckNumber)(chartAttrs.aligncaptionwithcanvas,iapi.config.alignCaptionWithCanvas,1);captionConfig.horizontalPadding=(0,_lib.pluckNumber)(chartAttrs.captionhorizontalpadding,captionConfig.alignWithCanvas?0:15);captionConfig.drawCaption=true;(0,_lib.setLineHeight)(captionConfig.style)};Caption.prototype.allocatePosition=function allocatePosition(){var caption=this,chart=caption.getFromEnv("chart");chart._manageCaptionPosition()};Caption.prototype.draw=function draw(){var caption=this,iapi=this.getFromEnv("chart"),chartConfig=iapi.config,animationManager=iapi.getFromEnv("animationManager"),textDirection=iapi.config.textDirection,captionGroup=iapi.getChildContainer().captionGroup,smartLabel=iapi.getFromEnv("smartLabel"),captionElement=caption.getGraphicalElement("captionElement"),toolTipController=caption.getFromEnv("toolTipController"),captionConfig=caption.config,captionStyle=captionConfig.style,hasCaption=captionConfig.text,captionX=captionConfig.x,align=captionConfig.align,captionAttrObj,captionState;if(hasCaption){captionAttrObj={text:captionConfig.text,fill:captionStyle.color,x:captionX,y:captionConfig.y,"text-anchor":align||POSITION_MIDDLE,"vertical-align":captionConfig.verticalAlign||POSITION_TOP,visibility:captionConfig.drawCaption?_lib.visibleStr:_lib.hiddenStr,direction:textDirection};captionElement=caption.addGraphicalElement("captionElement",animationManager.setAnimation({el:captionElement||"text",attr:captionAttrObj,container:captionGroup,state:captionState,component:caption,label:"text"}));captionElement.css(captionStyle);if(chartConfig.showtooltip){toolTipController.enableToolTip(captionElement,captionConfig.originalText)}else{toolTipController.disableToolTip(captionElement)}if(smartLabel){smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);smartLabel.setStyle(captionStyle)}}else if(captionElement){animationManager.setAnimation({el:captionElement,component:caption,callback:function callback(){this.hide()},doNotRemove:true})}chartConfig.savedCaption=captionElement};Caption.prototype.manageSpace=function manageSpace(availableHeight,availableWidth){var iapi=this.getFromEnv("chart"),chartConfig=iapi.config,caption=iapi.getChildren("caption")[0],subCaption=iapi.getChildren("subCaption")[0],captionConfig=caption.config,subCaptionConfig=subCaption.config,chartAttrs=iapi.getFromEnv("dataSource").chart,SmartLabel=iapi.getFromEnv("smartLabel"),allowedHeight=availableHeight,titleText=(0,_lib.parseUnsafeString)(chartAttrs.caption),subTitleText=(0,_lib.parseUnsafeString)(chartAttrs.subcaption),captionPadding=(0,_lib.pluckNumber)(chartAttrs.captionpadding,10),oriCapPadding=captionPadding,isPaddingReduced=false,captionObj,subcaptionObj,totalHeight=0,capStyle,dimensions,subCapStyle,difference=0,extraSpace=0,captionLineHeight=0,subCaptionLineHeight=0,topGutterWidth=5,canvas=iapi.getChildren("canvas"),canvasBorderThickness=mathMax(canvas&&canvas[0].config.canvasBorderThickness,0),captionWidth=0,subCaptionWidth=0;if(allowedHeight>3){if(captionPadding<canvasBorderThickness){captionPadding=canvasBorderThickness+2}if(titleText!==_lib.BLANKSTRING){capStyle=captionConfig.style;captionLineHeight=mathCeil((0,_lib.pluckNumber)(parseFloat(capStyle.fontHeight,10),parseFloat(capStyle.lineHeight,10),12))}if(subTitleText!==_lib.BLANKSTRING){subCapStyle=subCaptionConfig.style;subCaptionLineHeight=(0,_lib.pluckNumber)(parseInt(subCapStyle.fontHeight,10),parseInt(subCapStyle.lineHeight,10),12)}if(captionLineHeight>0||subCaptionLineHeight>0){allowedHeight=mathMax(allowedHeight,0);totalHeight=captionLineHeight+subCaptionLineHeight+captionPadding;if(totalHeight>allowedHeight){difference=allowedHeight-totalHeight;isPaddingReduced=true;if(difference<captionPadding){captionPadding=mathMax(difference,5)}else{difference-=captionPadding;captionPadding=0;if(subCaptionLineHeight>difference){extraSpace=subCaptionLineHeight-difference+10;subCaptionLineHeight=0;subCaptionConfig._originalText=subCaptionConfig.text;subCaptionConfig.text=_lib.BLANKSTRING}else{difference-=subCaptionLineHeight;subCaptionLineHeight=0;if(captionLineHeight>difference){extraSpace=captionLineHeight-difference}}}}else{extraSpace=allowedHeight-totalHeight}SmartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);if(captionLineHeight>0){SmartLabel.setStyle(capStyle);captionLineHeight+=extraSpace;captionObj=SmartLabel.getSmartText(titleText,availableWidth,captionLineHeight);extraSpace=captionLineHeight-captionObj.height;captionConfig.height=captionLineHeight=captionObj.height;captionConfig.text=captionObj.text;captionConfig.originalText=captionObj.tooltext?captionObj.tooltext:false;captionWidth=captionObj.width}if(subCaptionLineHeight>0){SmartLabel.setStyle(subCapStyle);subCaptionLineHeight+=extraSpace;subcaptionObj=SmartLabel.getSmartText(subTitleText,availableWidth,subCaptionLineHeight);extraSpace=subCaptionLineHeight-subcaptionObj.height;subCaptionLineHeight=subcaptionObj.height;subCaptionConfig.text=subcaptionObj.text;subCaptionConfig.height=subcaptionObj.height;subCaptionConfig.originalText=subcaptionObj.tooltext?subcaptionObj.tooltext:false;subCaptionWidth=subcaptionObj.width}if(isPaddingReduced&&extraSpace>0){captionPadding+=mathMin(oriCapPadding-captionPadding,extraSpace)}captionConfig.captionPadding=captionPadding;captionConfig.height=captionLineHeight;captionConfig.width=captionWidth;subCaptionConfig.width=subCaptionWidth;subCaptionConfig.height=subCaptionLineHeight;totalHeight=captionLineHeight+subCaptionLineHeight+captionPadding}if(totalHeight>chartConfig.canvasHeight){totalHeight=0;captionConfig.drawCaption=false}else{captionConfig.drawCaption=true}if(captionConfig.isOnTop){dimensions={top:totalHeight}}else{dimensions={bottom:totalHeight,top:topGutterWidth}}}else{dimensions={bottom:0,top:0};captionConfig.drawCaption=false}return dimensions};Caption.prototype.setDimention=function setDimention(pos){var caption=this,captionConfig=caption.config;captionConfig.x=pos.x;captionConfig.y=pos.y};return Caption}(_componentInterface2["default"]);exports["default"]=Caption},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.caption.caption":function initialCaptionCaption(){return{"text.appearing":function textAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"initial"}]}}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _caption=__webpack_require__(265);var _caption2=_interopRequireDefault(_caption);var _dependencyManager=__webpack_require__(125);var _subcaptionAnimation=__webpack_require__(268);var _subcaptionAnimation2=_interopRequireDefault(_subcaptionAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var mathMax=Math.max,PXSTRING="px",POSITION_CENTER="center",POSITION_TOP="top",POSITION_BOTTOM="bottom",POSITION_MIDDLE="middle";(0,_dependencyManager.addDep)({name:"subcaptionAnimation",type:"animationRule",extension:_subcaptionAnimation2["default"]});var SubCaption=function(_Caption){_inherits(SubCaption,_Caption);function SubCaption(){_classCallCheck(this,SubCaption);return _possibleConstructorReturn(this,_Caption.apply(this,arguments))}SubCaption.prototype.getType=function getType(){return"caption"};SubCaption.prototype.getName=function getName(){return"subCaption"};SubCaption.prototype.configure=function configure(){var subCaption=this,chart=subCaption.getFromEnv("chart"),chartAttrs=chart.getFromEnv("chart-attrib"),subCaptionConfig=subCaption.config||{},style=chart.getFromEnv("style"),caption=chart.getChildren("caption")[0],outCanfontFamily=style.outCanfontFamily,outCancolor=style.outCancolor,fontSize=style.fontSize,align=["top","center"];subCaptionConfig.text=(0,_lib.parseUnsafeString)(chartAttrs.subcaption);if(!subCaptionConfig.align){subCaptionConfig.align=""}subCaptionConfig.align=(0,_lib.pluck)(chartAttrs.captionposition,chartAttrs.captionalignment,POSITION_CENTER);if(caption.config.align){align=caption.config.align.split("-");align[0]&&(align[0]=align[0].toLowerCase());align[1]&&(align[1]=align[1].toLowerCase());if(align.length<2){align[1]=align[0]}}switch(align[0]){case POSITION_TOP:subCaptionConfig.isOnTop=1;break;case POSITION_BOTTOM:subCaptionConfig.isOnTop=0;break;default:subCaptionConfig.isOnTop=(0,_lib.pluckNumber)(chartAttrs.captionontop,1)}subCaptionConfig.alignWithCanvas=(0,_lib.pluckNumber)(chart.aligncaptionwithcanvas,chartAttrs.aligncaptionwithcanvas,1);subCaptionConfig.horizontalPadding=(0,_lib.pluckNumber)(chartAttrs.captionhorizontalpadding,caption.config.alignWithCanvas?0:15);subCaptionConfig.style={fontFamily:(0,_lib.pluck)(chartAttrs.subcaptionfont,chartAttrs.captionfont,outCanfontFamily),color:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.subcaptionfontcolor,chartAttrs.captionfontcolor,outCancolor).replace(/^#? ([a-f0-9]+)/gi,"#$1")),fontSize:(0,_lib.pluckNumber)(chartAttrs.subcaptionfontsize,(0,_lib.pluckNumber)(mathMax((0,_lib.pluckNumber)(chartAttrs.captionfontsize)-3,-1),fontSize)+(0,_lib.pluckNumber)(chart.subTitleFontSizeExtender,1))+PXSTRING,fontWeight:(0,_lib.pluckNumber)(chartAttrs.subcaptionfontbold,chart.subTitleFontWeight,chartAttrs.captionfontbold)===0?_lib.NORMAL:_lib.BOLD};(0,_lib.setLineHeight)(subCaptionConfig.style)};SubCaption.prototype.draw=function draw(){var subCaption=this,chart=subCaption.getFromEnv("chart"),animationManager=chart.getFromEnv("animationManager"),caption=chart.getChildren("caption")[0],chartConfig=chart.config,textDirection=chartConfig.textDirection,captionGroup=chart.getChildContainer().captionGroup,subCaptionElement=subCaption.getGraphicalElement("subCaptionElement"),toolTipController=subCaption.getFromEnv("toolTipController"),subCaptionConfig=subCaption.config,subCaptionStyle=subCaptionConfig.style,hasSubCaption=subCaptionConfig.text,align=caption.config.align,subCaptionAttrObj=void 0,subCaptionState=void 0;if(hasSubCaption){subCaptionAttrObj={text:subCaptionConfig.text,fill:subCaptionStyle.color,x:subCaptionConfig.x,y:subCaptionConfig.y,"text-anchor":align||POSITION_MIDDLE,"vertical-align":POSITION_TOP,direction:textDirection,visibility:caption.config.drawCaption?_lib.visibleStr:_lib.hiddenStr};subCaptionElement=subCaption.addGraphicalElement("subCaptionElement",animationManager.setAnimation({el:subCaptionElement||"text",attr:subCaptionAttrObj,container:captionGroup,state:subCaptionState,component:subCaption,hookFn:function hookFn(){this.css(subCaptionStyle)},label:"text"}));subCaptionElement.css(subCaptionStyle);if(chartConfig.showtooltip){toolTipController.enableToolTip(subCaptionElement,subCaptionConfig.originalText)}else{toolTipController.disableToolTip(subCaptionElement)}}else{subCaptionElement&&subCaption.removeGraphicalElement(subCaptionElement)}chartConfig.savedSubCaption=subCaptionElement};SubCaption.prototype.setDimention=function setDimention(pos){this.config.x=pos.x;this.config.y=pos.y};return SubCaption}(_caption2["default"]);exports["default"]=SubCaption},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _captionAnimation=__webpack_require__(266);var _captionAnimation2=_interopRequireDefault(_captionAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"initial.caption.subCaption":_captionAnimation2["default"]["initial.caption.caption"]}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _backgroundAnimation=__webpack_require__(270);var _backgroundAnimation2=_interopRequireDefault(_backgroundAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var stringConstants={BACKGROUNDLOADED:"BackgroundLoaded",BACKGROUNDLOADERROR:"BackgroundLoadError",clipRectStr:"clip-rect"},POSITION_TOP="top",POSITION_BOTTOM="bottom",POSITION_MIDDLE="middle",POSITION_RIGHT="right",POSITION_LEFT="left",TILE="tile",FILL="fill",FIT="fit",noneStr=void 0,DASH_DEF=noneStr="none",getHandler=function getHandler(_this){var config=_this.config;return{load:function load(){var bgImageDisplayMode=config.bgImageDisplayMode,bgImageVAlign=config.bgImageVAlign,bgImageHAlign=config.bgImageHAlign,bgImageScale=config.bgImageScale,bgSWFAlpha=config.bgSWFAlpha,bgSWF=config.bgSWF,backgroundImage=_this.getGraphicalElement("backgroundImage"),imgRef=backgroundImage._.RefImg,chart=_this.getFromEnv("chart");chart.fireChartInstanceEvent(stringConstants.BACKGROUNDLOADED,{url:bgSWF,bgImageAlpha:bgSWFAlpha,bgImageDisplayMode:bgImageDisplayMode,bgImageVAlign:bgImageVAlign,bgImageHAlign:bgImageHAlign,bgImageScale:bgImageScale,imageheight:imgRef.height,imagewidth:imgRef.width})},error:function error(e){var bgImageDisplayMode=config.bgImageDisplayMode,bgImageVAlign=config.bgImageVAlign,bgImageHAlign=config.bgImageHAlign,bgImageScale=config.bgImageScale,bgSWFAlpha=config.bgSWFAlpha,bgSWF=config.bgSWF,chart=_this.getFromEnv("chart");chart.fireChartInstanceEvent(stringConstants.BACKGROUNDLOADERROR,{url:bgSWF,bgImageAlpha:bgSWFAlpha,error:e,bgImageDisplayMode:bgImageDisplayMode,bgImageVAlign:bgImageVAlign,bgImageHAlign:bgImageHAlign,bgImageScale:bgImageScale})}}},COMMA=",",BLANKSTRING="";(0,_dependencyManager.addDep)({name:"backgroundAnimation",type:"animationRule",extension:_backgroundAnimation2["default"]});var Background=function(_ComponentInterface){_inherits(Background,_ComponentInterface);function Background(){_classCallCheck(this,Background);var _this2=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this2.config.handler=getHandler(_this2);return _this2}Background.prototype.getName=function getName(){return"background"};Background.prototype.getType=function getType(){return"background"};Background.prototype._getBackgroundCosmetics=function _getBackgroundCosmetics(){var backGroundComp=this,chartAttrs=backGroundComp.getFromEnv("chart-attrib"),colorM=backGroundComp.getFromEnv("color-manager"),is3D=backGroundComp.getFromEnv("chartConfig").is3D,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D;return{FCcolor:{color:(0,_lib.pluck)(chartAttrs.bgcolor,colorM.getColor(palleteString.bgColor)),alpha:(0,_lib.pluck)(chartAttrs.bgalpha,colorM.getColor(palleteString.bgAlpha)),angle:(0,_lib.pluck)(chartAttrs.bgangle,colorM.getColor(palleteString.bgAngle)),ratio:(0,_lib.pluck)(chartAttrs.bgratio,colorM.getColor(palleteString.bgRatio))}}};Background.prototype.configureAttributes=function configureAttributes(){var backGroundComp=this,config=backGroundComp.config,chartAttrs=backGroundComp.getFromEnv("chart-attrib"),chartConfig=backGroundComp.getFromEnv("chartConfig"),is3D=chartConfig.is3D,colorM=backGroundComp.getFromEnv("color-manager"),chartBorderWidth,showBorder,bgImageVAlign,bgImageHAlign,bgImageDisplayMode=config.bgImageDisplayMode=(0,_lib.pluck)(chartAttrs.bgimagedisplaymode,noneStr).toLowerCase();config.bgSWF=(0,_lib.pluck)(chartAttrs.bgimage,chartAttrs.bgswf);config.bgSWFAlpha=(0,_lib.pluckNumber)(chartAttrs.bgimagealpha,chartAttrs.bgswfalpha,100);showBorder=config.showBorder=(0,_lib.pluckNumber)(chartAttrs.showborder,chartConfig.showBorder,is3D?0:1);config.borderWidth=Math.max(showBorder?(0,_lib.pluckNumber)(chartAttrs.borderthickness,1):0,0);config.borderRadius=(0,_lib.pluckNumber)(chartAttrs.borderradius,0);config.borderDashStyle=(0,_lib.pluckNumber)(chartAttrs.borderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(chartAttrs.borderdashlen,4),(0,_lib.pluckNumber)(chartAttrs.borderdashgap,2),chartBorderWidth):DASH_DEF;config.borderAlpha=(0,_lib.pluck)(chartAttrs.borderalpha,is3D?"100":colorM&&colorM.getColor("borderAlpha"));config.borderColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.bordercolor,is3D?"#666666":colorM&&colorM.getColor("borderColor")),config.borderAlpha);config.bgImageVAlign=bgImageVAlign=(0,_lib.getValidValue)(chartAttrs.bgimagevalign,BLANKSTRING).toLowerCase();config.bgImageHAlign=bgImageHAlign=(chartAttrs.bgimagehalign||BLANKSTRING).toLowerCase();config.bgImageScale=(0,_lib.pluckNumber)(chartAttrs.bgimagescale,100);config.containerBackgroundColor=(0,_lib.getContainerBackgroundColor)(backGroundComp.getFromEnv("chartInstance"));config.backgroundColor=backGroundComp._getBackgroundCosmetics();if(bgImageDisplayMode===TILE||bgImageDisplayMode===FILL||bgImageDisplayMode===FIT){if(bgImageVAlign!==POSITION_TOP&&bgImageVAlign!==POSITION_MIDDLE&&bgImageVAlign!==POSITION_BOTTOM){config.bgImageVAlign=POSITION_MIDDLE}if(bgImageHAlign!==POSITION_LEFT&&bgImageHAlign!==POSITION_MIDDLE&&bgImageHAlign!==POSITION_RIGHT){config.bgImageHAlign=POSITION_MIDDLE}}else{if(bgImageVAlign!==POSITION_TOP&&bgImageVAlign!==POSITION_MIDDLE&&bgImageVAlign!==POSITION_BOTTOM){config.bgImageVAlign=POSITION_TOP}if(bgImageHAlign!==POSITION_LEFT&&bgImageHAlign!==POSITION_MIDDLE&&bgImageHAlign!==POSITION_RIGHT){config.bgImageHAlign=POSITION_LEFT}}};Background.prototype.draw=function draw(){var backGroundComp=this,paper=backGroundComp.getFromEnv("paper"),backgroundElementDummy=backGroundComp.getGraphicalElement("backgroundElement"),backgroundElement,borderElementDummy=backGroundComp.getGraphicalElement("borderElement"),borderElement,config=backGroundComp.config,chart=backGroundComp.getFromEnv("chart"),chartConfig=backGroundComp.getFromEnv("chartConfig"),attrObj,backgroundColor=config.backgroundColor,animationManager=backGroundComp.getFromEnv("animationManager"),backgroundImageDummy=backGroundComp.getGraphicalElement("backgroundImage"),backgroundImage,bgSWF=config.bgSWF,backgroundGroup=chart.getChildContainer("backgroundGroup"),chartWidth=chartConfig.width,chartHeight=chartConfig.height,chartBorderWidth=config.borderWidth||0,borderRadius=config.borderRadius,borderDashStyle=config.borderDashStyle,borderColor=config.borderColor,bgSWFAlpha=config.bgSWFAlpha,imgClipRect=chartBorderWidth+COMMA+chartBorderWidth+COMMA+(chartWidth-chartBorderWidth*2)+COMMA+(chartHeight-chartBorderWidth*2),bgImageDisplayMode=config.bgImageDisplayMode,bgImageVAlign=config.bgImageVAlign,bgImageHAlign=config.bgImageHAlign,bgImageScale=config.bgImageScale,height,width;paper.canvas.style.backgroundColor=config.containerBackgroundColor;width=chartWidth-chartBorderWidth*2;height=chartHeight-chartBorderWidth*2;attrObj={x:chartBorderWidth,y:chartBorderWidth,width:width<0?0:width,height:height>0?height:0,stroke:_lib.preDefStr.noneStr,fill:(0,_lib.toRaphaelColor)(backgroundColor)};backgroundElement=animationManager.setAnimation({el:backgroundElementDummy||"rect",attr:attrObj,container:backgroundGroup,component:backGroundComp,label:"rect"});backgroundElement.show();if(!backgroundElementDummy){backGroundComp.addGraphicalElement("backgroundElement",backgroundElement)}width=chartWidth-chartBorderWidth;height=chartHeight-chartBorderWidth;attrObj={x:chartBorderWidth/2,y:chartBorderWidth/2,width:width<0?0:width,height:height>0?height:0,stroke:borderColor,"stroke-width":chartBorderWidth,"stroke-dasharray":borderDashStyle,fill:_lib.preDefStr.noneStr,r:borderRadius||0};borderElement=animationManager.setAnimation({el:borderElementDummy||"rect",attr:attrObj,container:backgroundGroup,component:backGroundComp,label:"rect"});borderElement.show();if(!borderElementDummy){backGroundComp.addGraphicalElement("borderElement",borderElement)}if(bgSWF&&!backGroundComp.getState("removed")){backgroundImage=animationManager.setAnimation({el:backgroundImageDummy||"imagegrid",attr:{imagegrid:[bgImageDisplayMode,bgImageVAlign,bgImageHAlign,bgImageScale,chartBorderWidth,chartWidth,chartHeight],src:bgSWF,opacity:bgSWFAlpha*.01,"clip-rect":imgClipRect},container:backgroundGroup,component:backGroundComp,label:"imagegrid"});backgroundImage.show();if(!backgroundImageDummy){backGroundComp.addGraphicalElement("backgroundImage",backgroundImage);backgroundImage.on("load",config.handler.load);backgroundImage.on("error",config.handler.error)}}else{backgroundImageDummy&&backGroundComp.removeGraphicalElement(backgroundImageDummy)}};return Background}(_componentInterface2["default"]);exports["default"]=Background},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.background.background":function initialBackgroundBackground(){return{"rect.appearing":function rectAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"initial"}]}}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _chartPaletteColors=__webpack_require__(272);var defaultPaletteOptions=_interopRequireWildcard(_chartPaletteColors);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj["default"]=obj;return newObj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function parseColorMix(aColor,mix){var rtnArr=[],strConsts=ColorManager.stringConstants,dashIndex,intensity,tokens,colors,j,defToken,defColor,token,color,removeBrecReg,i;mix=mix.replace(/\s/g,strConsts.BLANK);mix=mix.toLowerCase();if(mix===strConsts.BLANK||mix===null||typeof mix==="undefined"){rtnArr=[aColor]}else{tokens=mix.split(strConsts.COMMASTRING);colors=aColor.split(strConsts.COMMASTRING);j=Math.max(tokens.length,colors.length,1);defToken=tokens[0];defColor=colors[0];removeBrecReg=/[\{\}]/gi;for(i=0;i<j;i++){token=(tokens[i]||defToken).replace(removeBrecReg,"");color=colors[i]||defColor;if(token==="color"){rtnArr.push(color)}else if(token.substr(0,5)==="light"){dashIndex=token.indexOf("-");intensity=dashIndex===-1?1:token.substr(dashIndex+1,token.length-dashIndex);intensity=100-intensity;rtnArr.push((0,_libGraphics.getLightColor)(color,intensity))}else if(token.substr(0,4)==="dark"){dashIndex=token.indexOf("-");intensity=dashIndex===-1?1:token.substr(dashIndex+1,token.length-dashIndex);intensity=100-intensity;rtnArr.push((0,_libGraphics.getDarkColor)(color,intensity))}else{rtnArr.push(token)}}}return rtnArr}function parseAlphaList(strAlphas,numColors){var arrInputAlphas=strAlphas.toString().split(ColorManager.stringConstants.COMMASTRING),arrAlphas=[],alpha,usedAlpha=100,i;for(i=0;i<numColors;i++){alpha=(0,_lib.pluckNumber)(arrInputAlphas[i]);if(ColorManager.defined(alpha)){usedAlpha=alpha}arrAlphas[i]=usedAlpha}return arrAlphas.join()}function parseRatioList(strRatios,numColors){var arrInputRatios=strRatios.split(ColorManager.stringConstants.COMMASTRING),arrRatios=[],sumRatio=0,ratio,i;for(i=0;i<numColors;i++){ratio=arrInputRatios[i];ratio=isNaN(ratio)||typeof ratio==="undefined"?0:Math.abs(Number(ratio));ratio=ratio>100?100:ratio;arrRatios[i]=ratio;sumRatio+=ratio}sumRatio=sumRatio>100?100:sumRatio;if(arrInputRatios.length<numColors){for(i=arrInputRatios.length;i<numColors;i++){arrRatios[i]=(100-sumRatio)/(numColors-arrInputRatios.length)}}arrRatios[-1]=0;return arrRatios.join()}var ColorManager=function(){function ColorManager(chart){_classCallCheck(this,ColorManager);this.parseColorMix=parseColorMix;this.parseAlphaList=parseAlphaList;this.parseRatioList=parseRatioList;this.linkedItems={iapi:chart};this.configure();this.paletteColors=["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"]}ColorManager.prototype.configure=function configure(){var cm=this,strConsts=ColorManager.stringConstants,iapi=cm.linkedItems.iapi,dataObj=iapi.getFromEnv("dataSource"),FCChartObj=dataObj.chart||{},pO=cm.paletteOptions=(0,_lib.extend2)((0,_lib.extend2)({},defaultPaletteOptions),iapi.defaultPaletteOptions||{},false,true),themeColor=cm.themeEnabled=FCChartObj.palettethemecolor;cm.paletteIndex=(FCChartObj.palette>0&&FCChartObj.palette<6?FCChartObj.palette:(0,_lib.pluckNumber)(iapi.paletteIndex,1))-1;cm.iterator=0;cm.paletteColors=pO.paletteColors[cm.themeEnabled?0:cm.paletteIndex];if(ColorManager.defined(FCChartObj.palettecolors)&&FCChartObj.palettecolors!==strConsts.BLANK){cm.paletteColors=FCChartObj.palettecolors.split(/\s*\,\s*/)}cm.paletteLen=cm.paletteColors.length;cm.useFlatColors=(0,_lib.pluckNumber)(FCChartObj.useflatdataplotcolor,iapi.useFlatColor,0);if(themeColor){cm.paletteIndex=5;pO.bgColor[5]=(0,_libGraphics.getLightColor)(themeColor,35)+strConsts.COMMASTRING+(0,_libGraphics.getLightColor)(themeColor,10);pO.bgAngle[5]=270;pO.bgRatio[5]=strConsts.BGRATIOSTRING;pO.bgAlpha[5]="50,50";pO.canvasBgColor[5]=strConsts.COLOR_WHITE;pO.canvasBgAngle[5]=0;pO.canvasBgAlpha[5]=strConsts.HUNDREDSTRING;pO.canvasBgRatio[5]=strConsts.BLANK;pO.canvasBorderColor[5]=(0,_libGraphics.getDarkColor)(themeColor,80);pO.canvasBorderAlpha[5]=100;pO.showShadow[5]=1;pO.divLineColor[5]=(0,_libGraphics.getDarkColor)(themeColor,20);pO.divLineAlpha[5]=40;pO.altHGridColor[5]=(0,_libGraphics.getLightColor)(themeColor,20);pO.altHGridAlpha[5]=15;pO.altVGridColor[5]=(0,_libGraphics.getLightColor)(themeColor,80);pO.altVGridAlpha[5]=10;pO.anchorBgColor[5]=strConsts.COLOR_WHITE;pO.toolTipBgColor[5]=strConsts.COLOR_WHITE;pO.toolTipBorderColor[5]=(0,_libGraphics.getDarkColor)(themeColor,80);pO.baseFontColor[5]=themeColor.split&&themeColor.split(strConsts.COMMASTRING)[0];pO.borderColor[5]=(0,_libGraphics.getDarkColor)(themeColor,60);pO.borderAlpha[5]=50;pO.legendBgColor[5]=strConsts.COLOR_WHITE;pO.legendBorderColor[5]=(0,_libGraphics.getDarkColor)(themeColor,80);pO.plotGradientColor[5]=strConsts.COLOR_WHITE;pO.plotBorderColor[5]=(0,_libGraphics.getDarkColor)(themeColor,85);pO.plotFillColor[5]=(0,_libGraphics.getDarkColor)(themeColor,85);pO.bgColor3D[5]=strConsts.COLOR_WHITE;pO.bgAlpha3D[5]=strConsts.HUNDREDSTRING;pO.bgAngle3D[5]=90;pO.bgRatio3D[5]=strConsts.BLANK;pO.canvasBgColor3D[5]=(0,_libGraphics.getLightColor)(themeColor,20);pO.canvasBaseColor3D[5]=(0,_libGraphics.getLightColor)(themeColor,40);pO.divLineColor3D[5]=(0,_libGraphics.getDarkColor)(themeColor,20);pO.divLineAlpha3D[5]=40;pO.legendBgColor3D[5]=strConsts.COLOR_WHITE;pO.legendBorderColor3D[5]=(0,_libGraphics.getDarkColor)(themeColor,80);pO.toolTipbgColor3D[5]=strConsts.COLOR_WHITE;pO.toolTipBorderColor3D[5]=(0,_libGraphics.getDarkColor)(themeColor,80);pO.baseFontColor3D[5]=themeColor.split&&themeColor.split(strConsts.COMMASTRING)[0];pO.anchorBgColor3D[5]=strConsts.COLOR_WHITE;pO.tickColor&&(pO.tickColor[5]=(0,_libGraphics.getDarkColor)(themeColor,90));pO.trendDarkColor&&(pO.trendDarkColor[5]=(0,_libGraphics.getDarkColor)(themeColor,90));pO.trendLightColor&&(pO.trendLightColor[5]=(0,_libGraphics.getLightColor)(themeColor,pO.TrendLightShadeOffset));pO.msgLogColor&&(pO.msgLogColor[5]=(0,_libGraphics.getLightColor)(themeColor,80));pO.dialColor&&(pO.dialColor[5]=(0,_libGraphics.getDarkColor)(themeColor,95)+",FFFFFF,"+(0,_libGraphics.getDarkColor)(themeColor,95));pO.dialBorderColor&&(pO.dialBorderColor[5]=(0,_libGraphics.getDarkColor)(themeColor,95)+",FFFFFF,"+(0,_libGraphics.getDarkColor)(themeColor,95));pO.pivotColor&&(pO.pivotColor[5]=(0,_libGraphics.getLightColor)(themeColor,95)+",FFFFFF,"+(0,_libGraphics.getLightColor)(themeColor,95));pO.pivotBorderColor&&(pO.pivotBorderColor[5]=(0,_libGraphics.getDarkColor)(themeColor,95)+",FFFFFF,"+(0,_libGraphics.getDarkColor)(themeColor,95));pO.pointerBorderColor&&(pO.pointerBorderColor[5]=(0,_libGraphics.getDarkColor)(themeColor,75));pO.pointerBgColor&&(pO.pointerBgColor[5]=(0,_libGraphics.getDarkColor)(themeColor,75));pO.thmBorderColor&&(pO.thmBorderColor[5]=(0,_libGraphics.getDarkColor)(themeColor,90));pO.thmFillColor&&(pO.thmFillColor[5]=(0,_libGraphics.getLightColor)(themeColor,55));pO.gaugeBorderColor&&(pO.gaugeBorderColor[5]=(0,_libGraphics.getDarkColor)(themeColor,90));pO.gaugeFillColor&&(pO.gaugeFillColor[5]=(0,_libGraphics.getLightColor)(themeColor,55));pO.cylFillColor&&(pO.cylFillColor[5]=(0,_libGraphics.getLightColor)(themeColor,55));pO.periodColor&&(pO.periodColor[5]=(0,_libGraphics.getLightColor)(themeColor,10));pO.winColor&&(pO.winColor[5]="666666");pO.lossColor&&(pO.lossColor[5]="CC0000");pO.drawColor&&(pO.drawColor[5]="666666");pO.scorelessColor&&(pO.scorelessColor[5]="FF0000");pO.gridColor&&(pO.gridColor[5]=(0,_libGraphics.getLightColor)(themeColor,30));pO.categoryBgColor&&(pO.categoryBgColor[5]=(0,_libGraphics.getLightColor)(themeColor,10));pO.dataTableBgColor&&(pO.dataTableBgColor[5]=(0,_libGraphics.getLightColor)(themeColor,10));pO.gridResizeBarColor&&(pO.gridResizeBarColor[5]=(0,_libGraphics.getDarkColor)(themeColor,90));pO.scrollBarColor&&(pO.scrollBarColor[5]=(0,_libGraphics.getLightColor)(themeColor,50))}};ColorManager.prototype.getColor=function getColor(key){return this.paletteOptions[key][this.paletteIndex]};ColorManager.prototype.getPlotColor=function getPlotColor(index){var cm=this,paletteColors=cm.paletteColors,strColor=cm.useFlatColors?cm.getColor("plotFillColor"):paletteColors[index%cm.paletteLen];if(!strColor){if(cm.iterator===cm.paletteLen){cm.iterator=0}strColor=paletteColors[cm.iterator];cm.iterator+=1}return strColor};return ColorManager}();ColorManager.stringConstants={BLANK:"",COMMASTRING:",",BGRATIOSTRING:"0,100",COLOR_WHITE:"FFFFFF",HUNDREDSTRING:"100"};ColorManager.defined=function(obj){return typeof obj!=="undefined"&&obj!==null};exports["default"]=ColorManager},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var paletteColorsArr=["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"],BGRATIOSTRING="0,100",COLOR_WHITE="FFFFFF",HUNDREDSTRING="100",BLANK="",verticalRotation=270,OPAQUE=100;var paletteColors=exports.paletteColors=[paletteColorsArr,paletteColorsArr,paletteColorsArr,paletteColorsArr,paletteColorsArr],bgColor=exports.bgColor=["CBCBCB,E9E9E9","CFD4BE,F3F5DD","C5DADD,EDFBFE","A86402,FDC16D","FF7CA0,FFD1DD"],bgAngle=exports.bgAngle=[verticalRotation,verticalRotation,verticalRotation,verticalRotation,verticalRotation],bgRatio=exports.bgRatio=[BGRATIOSTRING,BGRATIOSTRING,BGRATIOSTRING,BGRATIOSTRING,BGRATIOSTRING],bgAlpha=exports.bgAlpha=["50,50","60,50","40,20","20,10","30,30"],canvasBgColor=exports.canvasBgColor=[COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE],canvasBgAngle=exports.canvasBgAngle=[0,0,0,0,0],canvasBgAlpha=exports.canvasBgAlpha=[HUNDREDSTRING,HUNDREDSTRING,HUNDREDSTRING,HUNDREDSTRING,HUNDREDSTRING],canvasBgRatio=exports.canvasBgRatio=[BLANK,BLANK,BLANK,BLANK,BLANK],canvasBorderColor=exports.canvasBorderColor=["545454","545454","415D6F","845001","68001B"],canvasBorderAlpha=exports.canvasBorderAlpha=[OPAQUE,OPAQUE,OPAQUE,90,OPAQUE],showShadow=exports.showShadow=[0,1,1,1,1],divLineColor=exports.divLineColor=["717170","7B7D6D","92CDD6","965B01","68001B"],divLineAlpha=exports.divLineAlpha=[40,45,65,40,30],altHGridColor=exports.altHGridColor=["EEEEEE","D8DCC5","99C4CD","DEC49C","FEC1D0"],altHGridAlpha=exports.altHGridAlpha=[50,35,10,20,15],altVGridColor=exports.altVGridColor=["767575","D8DCC5","99C4CD","DEC49C","FEC1D0"],altVGridAlpha=exports.altVGridAlpha=[10,20,10,15,10],anchorBgColor=exports.anchorBgColor=[COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE],toolTipBgColor=exports.toolTipBgColor=[COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE],toolTipBorderColor=exports.toolTipBorderColor=["545454","545454","415D6F","845001","68001B"],baseFontColor=exports.baseFontColor=["555555","60634E","025B6A","A15E01","68001B"],borderColor=exports.borderColor=["767575","545454","415D6F","845001","68001B"],borderAlpha=exports.borderAlpha=[50,50,50,50,50],legendBgColor=exports.legendBgColor=[COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE],legendBorderColor=exports.legendBorderColor=["545454","545454","415D6F","845001","D55979"],plotGradientColor=exports.plotGradientColor=[COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE],plotBorderColor=exports.plotBorderColor=["333333","8A8A8A",COLOR_WHITE,COLOR_WHITE,COLOR_WHITE],plotFillColor=exports.plotFillColor=["767575","D8DCC5","99C4CD","DEC49C","FEC1D0"],bgColor3D=exports.bgColor3D=[COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE],bgAlpha3D=exports.bgAlpha3D=[HUNDREDSTRING,HUNDREDSTRING,HUNDREDSTRING,HUNDREDSTRING,HUNDREDSTRING],bgAngle3D=exports.bgAngle3D=[90,90,90,90,90],bgRatio3D=exports.bgRatio3D=[BLANK,BLANK,BLANK,BLANK,BLANK],canvasBgColor3D=exports.canvasBgColor3D=["DDE3D5","D8D8D7","EEDFCA","CFD2D8","FEE8E0"],canvasBaseColor3D=exports.canvasBaseColor3D=["ACBB99","BCBCBD","C8A06C","96A4AF","FAC7BC"],divLineColor3D=exports.divLineColor3D=["ACBB99","A4A4A4","BE9B6B","7C8995","D49B8B"],divLineAlpha3D=exports.divLineAlpha3D=[OPAQUE,OPAQUE,OPAQUE,OPAQUE,OPAQUE],legendBgColor3D=exports.legendBgColor3D=["F0F3ED","F3F3F3","F7F0E8","EEF0F2","FEF8F5"],legendBorderColor3D=exports.legendBorderColor3D=["C6CFB8","C8C8C8","DFC29C","CFD5DA","FAD1C7"],toolTipbgColor3D=exports.toolTipbgColor3D=[COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE],toolTipBorderColor3D=exports.toolTipBorderColor3D=["49563A","666666","49351D","576373","681C09"],baseFontColor3D=exports.baseFontColor3D=["49563A","4A4A4A","49351D","48505A","681C09"],anchorBgColor3D=exports.anchorBgColor3D=[COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE,COLOR_WHITE]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _helper=__webpack_require__(274);var _symbolclass=__webpack_require__(275);var _symbolclass2=_interopRequireDefault(_symbolclass);var _listContainerManager=__webpack_require__(277);var _listContainerManager2=_interopRequireDefault(_listContainerManager);var _defaultAttrs=__webpack_require__(279);var _domEvent=__webpack_require__(120);var _domEvent2=_interopRequireDefault(_domEvent);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,DEFAULT_TIMEOUT=300;var SymbolWithContext=function(_SymbolClass){_inherits(SymbolWithContext,_SymbolClass);function SymbolWithContext(){_classCallCheck(this,SymbolWithContext);return _possibleConstructorReturn(this,_SymbolClass.apply(this,arguments))}SymbolWithContext.prototype.configure=function configure(symbolName,id,poolId,chartId){var cont,selfConfig=this.config,doc=window.document,listContainerManagerInstance;_SymbolClass.prototype.configure.call(this,symbolName,UNDEF,id,poolId);selfConfig.chartId=chartId;selfConfig.rawContextDefinitation=UNDEF;listContainerManagerInstance=new _listContainerManager2["default"];listContainerManagerInstance.configure(selfConfig.position,chartId);selfConfig.listContainerManager=listContainerManagerInstance.init(poolId);cont=selfConfig.listContainerManager.getFirstContainer();selfConfig.evt.hover=[function(e){cont.show((0,_helper.normalizeTarget)(e.target||e.fromElement,e))},function(e){if(e.relatedTarget||!_lib.hasSVG){cont.hide(DEFAULT_TIMEOUT,e.target)}else if(_lib.isIE11&&!selfConfig.docEventOutput){selfConfig.docEventOutput=_domEvent2["default"].listen(doc,"mousedown",function(evnt){cont.hide(DEFAULT_TIMEOUT,evnt.target);selfConfig.docEventOutput.unlisten();selfConfig.docEventOutput=UNDEF})}}]};SymbolWithContext.prototype.getListRefernce=function getListRefernce(){return this.config.listContainerManager};SymbolWithContext.prototype.attachEventHandler=function attachEventHandler(eventMap){var evt=this.config.evt,toolText=eventMap.tooltext;if(toolText){evt.tooltext=toolText}};SymbolWithContext.prototype.getLogicalSpace=function getLogicalSpace(){var firstContainer=this.config.listContainerManager.getFirstContainer(),atomicLists=firstContainer.config.atomicLists;if(atomicLists&&atomicLists.length===0){return{width:0,height:0}}return _symbolclass2["default"].prototype.getLogicalSpace.call(this)};SymbolWithContext.prototype.draw=function draw(){var selfConfig=this.config,firstContainer=selfConfig.listContainerManager.getFirstContainer(),atomicLists=firstContainer.config.atomicLists,res;if(atomicLists&&atomicLists.length===0){this.hide();return{getBBox:function getBBox(){return{width:0,height:0}}}}res=_symbolclass2["default"].prototype.draw.apply(this,arguments);SymbolWithContext.allNodes.push(selfConfig.node);return res};SymbolWithContext.prototype.dispose=function dispose(){var selfConfig=this.config;selfConfig.listContainerManager&&selfConfig.listContainerManager.dispose();selfConfig.listContainerManager=UNDEF;_symbolclass2["default"].prototype.dispose.call(this)};return SymbolWithContext}(_symbolclass2["default"]);SymbolWithContext.POSITION_TOP=_defaultAttrs.POSITION_TOP;SymbolWithContext.POSITION_BOTTOM=_defaultAttrs.POSITION_BOTTOM;SymbolWithContext.allNodes=_defaultAttrs.allNodes;exports["default"]=SymbolWithContext},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.SymbolStore=exports.RSymbolFns=exports.getEventHandlersFor=exports.mergeConf=exports.normalizeTarget=exports.isDIV=exports.hashCode=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _domEvent=__webpack_require__(120);var _domEvent2=_interopRequireDefault(_domEvent);var _dependencyManager=__webpack_require__(125);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var Raphael=(0,_dependencyManager.getDep)("redraphael","plugin"),UNDEF=void 0,TEXTBOX_SYMBOL="Internal_CB",RSymbolFns=function(){return{CB_NOT_CHECKED:function CB_NOT_CHECKED(posx,posy,rad){var x=posx,y=posy,r=rad,x0=x-r,y0=y-r;return["M",x0,y0]},CB_CHECKED:function CB_CHECKED(posx,posy,rad){var x=posx,y=posy,r=rad,rq=r/4,rtq=3*rq,x0=x-rtq,y0=y,x1=x-rq,y1=y+r,x2=x+r,y2=y-r;return["M",x0,y0,"L",x1,y1,x2,y2]}}}(),SymbolStore=function(){Raphael.addSymbol(TEXTBOX_SYMBOL,RSymbolFns.CB_NOT_CHECKED);return{register:function register(){var symbolName,symbolDrawingFn,symbolRegObj,itrObj;if(arguments.length===1){symbolRegObj=arguments[0];if(!((symbolRegObj!==null||symbolRegObj!==UNDEF)&&(typeof symbolRegObj==="undefined"?"undefined":_typeof(symbolRegObj))==="object")){return}itrObj=symbolRegObj}else if(arguments.length>1){symbolName=arguments[0];symbolDrawingFn=arguments[1];if(typeof symbolName!=="string"||typeof symbolDrawingFn!=="function"){return}itrObj={};itrObj[symbolName]=symbolDrawingFn}else{return}for(symbolName in itrObj){symbolDrawingFn=itrObj[symbolName];if(!{}.hasOwnProperty.call(itrObj,symbolName)){continue}Raphael.addSymbol(symbolName,symbolDrawingFn)}}}}();function hashCode(str){if(typeof str==="number"){str="'"+str+"'"}return str.split("").reduce(function(a,b){a=(a<<5)-a+b.charCodeAt(0);return a&a},0)}function isDIV(ele){if(ele&&ele.nodeName&&ele.nodeName.toUpperCase()==="DIV"){return true}return false}function normalizeTarget(target,evt){var clientRect;if(target.getBBox){return target}clientRect=target.getBoundingClientRect();target.getBBox=function(){return{x:evt.x,y:evt.y,width:clientRect.right-clientRect.left,height:clientRect.bottom-clientRect.top,isArtificial:true}};return target}function mergeConf(source,sink,theirsMergeEnabled){var key,sourceVal;for(key in source){sourceVal=source[key];if(sourceVal===UNDEF||sourceVal===null){continue}if(theirsMergeEnabled){if(sink[key]){continue}sink[key]=sourceVal}else{sink[key]=sourceVal}}}function getEventHandlersFor(eventName,node){var stopPropagation=function stopPropagation(){_domEvent2["default"].listen(node,"mousemove",function(e){e.originalEvent.stopPropagation()})};switch(eventName){case"click":return function(mouseClickFn){_domEvent2["default"].listen(node,"click",function(e){e.target&&e.target.parentNode&&mouseClickFn.call(e.target)});stopPropagation()};case"hover":return function(mouseOverFn,mouseOutFn){_domEvent2["default"].listen(node,"pointerhover",function(e){e.target&&e.target.parentNode&&(e.state==="start"?mouseOverFn:mouseOutFn).call(e.target)});stopPropagation()}}}exports.hashCode=hashCode;exports.isDIV=isDIV;exports.normalizeTarget=normalizeTarget;exports.mergeConf=mergeConf;exports.getEventHandlersFor=getEventHandlersFor;exports.RSymbolFns=RSymbolFns;exports.SymbolStore=SymbolStore},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _helper=__webpack_require__(274);var _toolBarFactoryHelper=__webpack_require__(276);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,BLOCK="block",NONE="none";var SymbolClass=function(_ComponentInterface){_inherits(SymbolClass,_ComponentInterface);function SymbolClass(){_classCallCheck(this,SymbolClass);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}SymbolClass.prototype.configure=function configure(componentName,isPlaintext,idCount,poolId,chartId){var selfConfig=this.config;selfConfig.symbol=componentName;selfConfig._id="TB_SYMBOL"+(idCount||0);selfConfig.node=UNDEF;selfConfig.pId=poolId;selfConfig.isPlaintext=isPlaintext;selfConfig.chartId=chartId;selfConfig.conf={btnTextStyle:{"stroke-width":"1px",stroke:"none"}};selfConfig.evt={tooltext:UNDEF,click:_lib.stubFN,hover:[_lib.stubFN,_lib.stubFN]}};SymbolClass.prototype.registerSymbol=function registerSymbol(fn){var selfConfig=this.config;_helper.SymbolStore.register(selfConfig.symbol,fn)};SymbolClass.prototype._setConfiguaration=function _setConfiguaration(conf){var selfConfig=this.config;if(!selfConfig.conf){selfConfig.conf=conf}else{(0,_helper.mergeConf)(conf,selfConfig.conf,true)}};SymbolClass.prototype.attachEventHandlers=function attachEventHandlers(eventMap,hooks){var self=this,selfConfig=this.config,evt=self.config.evt,toolText=eventMap.tooltext,clickFn=eventMap.click||_lib.stubFN,HoverFn=eventMap.hover,clickHook=hooks&&hooks.click||_lib.stubFN,managedClickFn;if(typeof clickFn==="function"){managedClickFn=function managedClickFn(){clickHook();clickFn.apply(self,arguments)}}else{managedClickFn=function managedClickFn(){var oriFn=clickFn.fn,context=clickFn.context,args=(clickFn.args||[]).slice(0);if(clickFn.hasOwnProperty("context")){args.push(self)}else{context=self}[].push.apply(args,arguments);clickHook();oriFn.apply(context,args)}}if(toolText){evt.tooltext=toolText}evt.click=managedClickFn;if(HoverFn&&HoverFn instanceof Array){evt.hover=HoverFn}if(selfConfig.node){selfConfig.node.buttonclick(selfConfig.evt.click).hover(selfConfig.evt.hover[0],selfConfig.evt.hover[1]);self.getFromEnv("toolTipController").enableToolTip(selfConfig.node,selfConfig.evt.tooltext)}return this};SymbolClass.prototype.getLogicalSpace=function getLogicalSpace(){var selfConfig=this.config;selfConfig=selfConfig.conf||selfConfig.buttonConfig;return{width:selfConfig.width*(selfConfig.scale||1),height:selfConfig.height*(selfConfig.scale||1)}};SymbolClass.prototype.show=function show(){var selfConfig=this.config,node=selfConfig.node;selfConfig.display=BLOCK;if(node){node.css({display:BLOCK})}};SymbolClass.prototype.hide=function hide(){var selfConfig=this.config,node=selfConfig.node;selfConfig.display=NONE;if(node){node.css({display:NONE})}};SymbolClass.prototype.draw=function draw(x,y,options){var elem,selfConfig=this.config,btnConfig=selfConfig.conf||{},symbol,text,newCreated,instanceFn,componentPool=_toolBarFactoryHelper.ToolBarFactoryHelper.getComponentPool(selfConfig.chartId),keys=componentPool.getKeys(),chart=_toolBarFactoryHelper.ToolBarFactoryHelper.getOptions(selfConfig.chartId).chart,animationManager=chart.getFromEnv("animationManager"),toolTipController=chart.getFromEnv("toolTipController");if(selfConfig.isPlaintext){text=selfConfig.symbol}else{symbol=selfConfig.symbol}if(options.idCount!==UNDEF){selfConfig._id+=options.idCount}instanceFn=componentPool.getComponent(selfConfig._id,selfConfig.pId,keys.KEY_BUTTON,true);elem=selfConfig.node=instanceFn(x,y,text,symbol,{width:btnConfig.width*btnConfig.scale,height:btnConfig.height*btnConfig.scale,r:btnConfig.radius,verticalPadding:btnConfig.symbolVPadding*btnConfig.scale,horizontalPadding:btnConfig.symbolHPadding},options.parentLayer).labelcss(selfConfig.conf.btnTextStyle);selfConfig.display&&selfConfig.node.css({display:selfConfig.display})&&(selfConfig.display=UNDEF);animationManager.setAnimation({el:selfConfig.node,attr:{"button-label":text,"button-padding":[btnConfig.symbolHPadding,btnConfig.symbolVPadding*btnConfig.scale],"button-repaint":[x,y,btnConfig.width*btnConfig.scale,btnConfig.height*btnConfig.scale,btnConfig.radius*btnConfig.scale]},state:"updating",component:this,label:"button"});if(!options.isResize){if(!btnConfig.hoverFill){btnConfig.hoverFill=(0,_libGraphics.convertColor)((0,_libGraphics.getLightColor)((0,_libGraphics.rawRGBtoHEX)(btnConfig.fill),80))}else{btnConfig.hoverFill=(0,_libGraphics.convertColor)(btnConfig.hoverFill)}elem.attr({fill:[btnConfig.fill,btnConfig.labelFill,btnConfig.symbolFill,btnConfig.hoverFill,true],stroke:[btnConfig.stroke,btnConfig.symbolStroke],"stroke-width":[btnConfig.strokeWidth,btnConfig.symbolStrokeWidth]}).buttonclick(selfConfig.evt.click).hover(selfConfig.evt.hover[0],selfConfig.evt.hover[1]);newCreated=componentPool.getCreationStatus();if(!newCreated){selfConfig.node.unclick();selfConfig.node.buttonclick(selfConfig.evt.click)}}toolTipController.enableToolTip(elem,selfConfig.evt.tooltext);elem.getBBox=function(){return{x:x,y:y,width:btnConfig.width*btnConfig.scale,height:btnConfig.height*btnConfig.scale}};return elem};SymbolClass.prototype.dispose=function dispose(){var selfConfig=this.config,node=selfConfig.node;if(node){node.remove()}selfConfig.node=UNDEF};return SymbolClass}(_componentInterface2["default"]);exports["default"]=SymbolClass},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.ToolBarFactoryHelper=exports.defTextStyle=exports.defaultHToolbarConf=exports.defaultGroupConf=undefined;var _libGraphics=__webpack_require__(122);var UNDEF=void 0,defaultGroupConf={hPadding:3,vPadding:3,borderRadius:2,fill:(0,_libGraphics.convertColor)("DBDBDB",100),borderColor:(0,_libGraphics.convertColor)("B2B1B1",100),borderThickness:1,offsetAdjustment:1,radius:1,spacing:6},defaultHToolbarConf={hPadding:3,vPadding:3,borderRadius:0,fill:(0,_libGraphics.convertColor)("EBEBEB",100),borderColor:(0,_libGraphics.convertColor)("D1D0D0",100),borderThickness:1,offsetAdjustment:1,radius:0},defTextStyle={fontFamily:"Verdana,sans",fontSize:"12px",fill:UNDEF,fontStyle:"normal",fontWeight:"normal"},ToolBarFactoryHelper={setComponentPool:function setComponentPool(componentPool,id){if(!this.store[id]){this.store[id]={}}return this.store[id].componentPool=componentPool},getOptions:function getOptions(id){if(!this.store[id]){this.store[id]={options:{},componentPool:{}}}return this.store[id].options},getComponentPool:function getComponentPool(id){if(!this.store[id]){this.store[id]={options:{},componentPool:{}}}return this.store[id].componentPool},setOptions:function setOptions(options,id){if(!this.store[id]){this.store[id]={}}return this.store[id].options=options},store:{}};exports.defaultGroupConf=defaultGroupConf;exports.defaultHToolbarConf=defaultHToolbarConf;exports.defTextStyle=defTextStyle;exports.ToolBarFactoryHelper=ToolBarFactoryHelper},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _toolBarFactoryHelper=__webpack_require__(276);var _listContainer=__webpack_require__(278);var _listContainer2=_interopRequireDefault(_listContainer);var _atomicList=__webpack_require__(280);var _atomicList2=_interopRequireDefault(_atomicList);var _lib=__webpack_require__(118);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,DIV="div",doc=window.document;var ListContainerManager=function(_ComponentInterface){_inherits(ListContainerManager,_ComponentInterface);function ListContainerManager(){_classCallCheck(this,ListContainerManager);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}ListContainerManager.prototype.configure=function configure(measurement,chartId){var selfConfig=this.config;selfConfig.chartId=chartId;selfConfig.container=UNDEF;selfConfig.listContainer=UNDEF;selfConfig.measurement=measurement};ListContainerManager.prototype.init=function init(pId){var selfConfig=this.config,componentPool=_toolBarFactoryHelper.ToolBarFactoryHelper.getComponentPool(selfConfig.chartId),keys=componentPool.getKeys(),instanceFn,container;if(!selfConfig.container){instanceFn=componentPool.getComponent("div0",pId,keys.KEY_DIV);container=instanceFn();container&&(container.innerHTML="");selfConfig.container=new _listContainer2["default"];selfConfig.container.configure(container,selfConfig.measurement,selfConfig.chartId)}return this};ListContainerManager.prototype.getFirstContainer=function getFirstContainer(){return this.config.container};ListContainerManager.prototype.appendAsList=function appendAsList(rawDS,refTo){var self=this,con,listContainerInstance,hoverOverStyle=self.config.container.config.hoverOverStyle,hoverOutStyle=self.config.container.config.hoverOutStyle;(function recursiveParser(items,fCon,chartId){var listItems,index=0,length,thisItem,atomicList,key,value,handler,container,refContainer;container=fCon||self.config.container;if(items instanceof Array){listItems=items}else{listItems=[items]}for(length=listItems.length;index<length;index++){thisItem=listItems[index];atomicList=new _atomicList2["default"];atomicList.configure({hoverOverStyle:hoverOverStyle,hoverOutStyle:hoverOutStyle},chartId);for(key in thisItem){atomicList.config.name=key;value=thisItem[key];atomicList.config.action=value.action;atomicList.setStyle(value.style);if(key.search(/^<[^<]+>$/)!==-1){atomicList.config.hoverOverStyle={};atomicList.config.hoverOutStyle={};value.handler=_lib.stubFN}handler=value.handler;if(typeof handler!=="function"){listContainerInstance=new _listContainer2["default"];listContainerInstance.configure(doc.createElement(DIV),undefined,chartId);refContainer=recursiveParser(handler,listContainerInstance)}else{atomicList.config.handler=value.handler}}container.addAtomicListItem(atomicList);if(refContainer){refContainer.parentListCon=container;container.refContainers.push(refContainer);atomicList.assignSubContainer(refContainer)}refContainer=UNDEF}return con=container})(rawDS,refTo,self.config.chartId);return con};ListContainerManager.prototype.dispose=function dispose(){var selfConfig=this.config;selfConfig.container.dispose();selfConfig.container=UNDEF};return ListContainerManager}(_componentInterface2["default"]);exports["default"]=ListContainerManager},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _toolBarFactoryHelper=__webpack_require__(276);var _helper=__webpack_require__(274);var _defaultAttrs=__webpack_require__(279);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,PXSTR="px",DEFAULT_TIMEOUT=300;var ListContainer=function(_ComponentInterface){_inherits(ListContainer,_ComponentInterface);function ListContainer(){_classCallCheck(this,ListContainer);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}ListContainer.prototype.configure=function configure(containerNode,measurement,chartId){var conStyle,styleKey,top=measurement&&measurement.top||0,left=measurement&&measurement.left,right=measurement&&measurement.right,chart=_toolBarFactoryHelper.ToolBarFactoryHelper.getOptions(chartId).chart,self,selfConfig,hoverEvtListeners;self=this;selfConfig=this.config;selfConfig.container=containerNode;selfConfig.position=ListContainer.POSITION_BOTTOM;selfConfig.atomicLists=[];selfConfig.refContainers=[];selfConfig.parentListCon=UNDEF;selfConfig.hideFnIds=[];selfConfig.target=UNDEF;selfConfig.chartId=chartId;if(!(left&&right)){selfConfig.positionCalculation=true}selfConfig.hoverOverStyle={background:"#333333",color:"#FFFFFF",cursor:"pointer"};selfConfig.hoverOutStyle={background:"#FFFFFF",color:"#000000"};selfConfig._defaultStyle={position:"absolute","z-index":50,top:top===UNDEF?"auto":top+PXSTR,right:right===UNDEF?"auto":right+PXSTR,left:left===UNDEF?"auto":left+PXSTR,overflow:"hidden",background:"#ffffff",border:"1px solid #646464","box-shadow":"#999999 2px 2px 5px",padding:"5px 3px",display:"none"};conStyle=selfConfig.container.style;for(styleKey in selfConfig._defaultStyle){conStyle[styleKey]=selfConfig._defaultStyle[styleKey]}chart.getFromEnv("chart-container").appendChild(selfConfig.container);hoverEvtListeners=(0,_helper.getEventHandlersFor)("hover",selfConfig.container);hoverEvtListeners(function(){self.show(this)},function(){self.hide(DEFAULT_TIMEOUT,this)})};ListContainer.prototype.addAtomicListItem=function addAtomicListItem(item){var selfConfig=this.config;if(!(item.isAtomicList&&item.isAtomicList())){return}selfConfig.atomicLists.push(item);item.stickIntoContainer(selfConfig.container,this)};ListContainer.prototype.show=function show(target){var selfConfig=this.config,idArr=selfConfig.hideFnIds,chart=_toolBarFactoryHelper.ToolBarFactoryHelper.getOptions(selfConfig.chartId).chart,refWidth=chart.config.width,positionCalculation=selfConfig.positionCalculation,index=0,length,parentContainer,listWidth,diffScale,bBox;selfConfig.target=selfConfig.target||target;for(length=idArr.length;index<length;index++){clearTimeout(idArr[index])}idArr.length=0;parentContainer=selfConfig.parentListCon;if(parentContainer){parentContainer.show(selfConfig.target);selfConfig.container.style.left=parentContainer.container.offsetLeft+parentContainer.container.offsetWidth+PXSTR;selfConfig.container.style.top=parentContainer.container.offsetTop+selfConfig.target.offsetTop+PXSTR}else if(!(0,_helper.isDIV)(target)){bBox=target.getBBox();if(positionCalculation){selfConfig.container.style.display="block";listWidth=selfConfig.container.offsetWidth;if(listWidth+bBox.x>refWidth){selfConfig.container.style.left="auto";selfConfig.container.style.right=refWidth-bBox.x-bBox.width+PXSTR}else{selfConfig.container.style.left=bBox.x+PXSTR;selfConfig.container.style.right="auto"}selfConfig.container.style.display="none"}if(selfConfig.position===_defaultAttrs.POSITION_BOTTOM){diffScale=bBox.isArtificial?.5:1.5;selfConfig.container.style.top=bBox.y+bBox.height*diffScale+PXSTR;selfConfig.container.style.bottom="auto"}else{selfConfig.container.style.bottom=chart.config.height-bBox.y+PXSTR;selfConfig.container.style.top="auto"}}selfConfig.container.style.display="block"};ListContainer.prototype.hide=function hide(timeout){var selfConfig=this.config,con=selfConfig.container,parentContainer;parentContainer=selfConfig.parentListCon;if(parentContainer){parentContainer.hide(DEFAULT_TIMEOUT)}selfConfig.hideFnIds.push(setTimeout(function(){con.style.display="none"},timeout))};ListContainer.prototype.dispose=function dispose(){var selfConfig=this.config,atomicLists=selfConfig.atomicLists,refContainers=selfConfig.refContainers,index,length;selfConfig.hideFnIds.length=0;for(index=0,length=atomicLists.length;index<length;index++){atomicLists[index].dispose()}atomicLists.length=0;for(index=0,length=refContainers.length;index<length;index++){refContainers[index].dispose()}refContainers.length=0};ListContainer.prototype.isListContainer=function isListContainer(){return true};return ListContainer}(_componentInterface2["default"]);ListContainer.POSITION_TOP=_defaultAttrs.POSITION_TOP;ListContainer.POSITION_BOTTOM=_defaultAttrs.POSITION_BOTTOM;exports["default"]=ListContainer},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var scrollerSpecAttr={},btnSpecAttr={},contextMenuSpecAttr={},POSITION_TOP="top",POSITION_BOTTOM="bottom",allNodes=[];exports.btnSpecAttr=btnSpecAttr;exports.scrollerSpecAttr=scrollerSpecAttr;exports.contextMenuSpecAttr=contextMenuSpecAttr;exports.POSITION_TOP=POSITION_TOP;exports.POSITION_BOTTOM=POSITION_BOTTOM;exports.allNodes=allNodes},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _helper=__webpack_require__(274);var _defaultAttrs=__webpack_require__(279);var _lib=__webpack_require__(118);var _toolBarFactoryHelper=__webpack_require__(276);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var doc=window.document,UNDEF=void 0,DIV="div",PXSTR="px",CLICK="click",DEFAULT_TIMEOUT=300,HOVER="hover";var AtomicList=function(_ComponentInterface){_inherits(AtomicList,_ComponentInterface);function AtomicList(){_classCallCheck(this,AtomicList);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}AtomicList.prototype.configure=function configure(configureOptions,chartId){var options=configureOptions||{},selfConfig=this.config;selfConfig.name=options.name;selfConfig.handler=options.handler||_lib.stubFN;selfConfig.action=options.action&&options.action.toLowerCase()||CLICK;selfConfig.eventMap={};selfConfig.style={padding:"3px 8px",margin:"2px 0px",fontFamily:_defaultAttrs.contextMenuSpecAttr.baseFontFamily,fontSize:_defaultAttrs.contextMenuSpecAttr.baseFontSize+PXSTR,color:"#000000"};selfConfig.hoverOverStyle=options.hoverOverStyle||{};selfConfig.hoverOutStyle=options.hoverOutStyle||{};selfConfig.chartId=chartId;(0,_helper.mergeConf)(options.style||{},selfConfig.style);selfConfig.subConRef=UNDEF;selfConfig.node=UNDEF};AtomicList.prototype.updateName=function updateName(name){var selfConfig=this.config;selfConfig.name=name;selfConfig.node&&(selfConfig.node.innerHTML=name)};AtomicList.prototype.assignSubContainer=function assignSubContainer(container){if(!(container.isListContainer&&container.isListContainer())){return}this.config.subConRef=container};AtomicList.prototype.stickIntoContainer=function stickIntoContainer(container,listContainerInstance){var selfConfig=this.config,node=selfConfig.node=doc.createElement(DIV),style=selfConfig.style,name,nodeStyle,hoverEvtListeners,clickEvtListeners,chart=_toolBarFactoryHelper.ToolBarFactoryHelper.getOptions(selfConfig.chartId).chart,fn,self=this;if(selfConfig.handler){selfConfig.eventMap[selfConfig.action]=selfConfig.handler}container.appendChild(node);node.innerHTML=selfConfig.name;nodeStyle=node.style;for(name in style){nodeStyle[name]=style[name]}hoverEvtListeners=(0,_helper.getEventHandlersFor)(HOVER,node);clickEvtListeners=(0,_helper.getEventHandlersFor)(CLICK,node);clickEvtListeners(function(){if(self.config.handler){fn=self.config.eventMap[CLICK];fn&&fn.apply(self,[chart]);listContainerInstance.hide()}});hoverEvtListeners(function(){var key,elemStyle=node.style,hoverStyle=self.config.hoverOverStyle;for(key in hoverStyle){elemStyle[key]=hoverStyle[key]}if(self.config.subConRef){self.config.subConRef.show(this)}},function(){var key,elemStyle=node.style,hoverStyle=self.config.hoverOutStyle;for(key in hoverStyle){elemStyle[key]=hoverStyle[key]}if(self.config.subConRef){self.config.subConRef.hide(DEFAULT_TIMEOUT,this)}})};AtomicList.prototype.setStyle=function setStyle(syleObj){(0,_helper.mergeConf)(syleObj||{},this.config.style)};AtomicList.prototype.dispose=function dispose(){var selfConfig=this.config,node=selfConfig.node;if(node){node.remove&&node.remove()}selfConfig.node=UNDEF};AtomicList.prototype.isAtomicList=function isAtomicList(){return true};return AtomicList}(_componentInterface2["default"]);exports["default"]=AtomicList},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"*.*.*":{"*.disappearing":[{finalAttr:{opacity:0},slot:"initial",callback:function callback(){this.hide()}}]}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _toolBarFactoryHelper=__webpack_require__(276);var _toolbarFactory=__webpack_require__(283);var _componentPool=__webpack_require__(289);var _componentPool2=_interopRequireDefault(_componentPool);var _helper=__webpack_require__(274);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _defaultAttrs=__webpack_require__(279);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var componentInstanceCount=0;var Toolbox=function(_ComponentInterface){_inherits(Toolbox,_ComponentInterface);function Toolbox(){_classCallCheck(this,Toolbox);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}Toolbox.prototype.getICount=function getICount(){return this.config._iCount};Toolbox.prototype.getName=function getName(){return"toolbox"};Toolbox.prototype.getType=function getType(){return"horizontalToolbox"};Toolbox.prototype.configure=function configure(options){var bPosition,bHAlign,bVAlign,selfConfig=this.config,chart,chartAttrs,bSymbolPadding;!selfConfig.onceInitialized&&(selfConfig.onceInitialized=false);selfConfig.ALIGNMENT_HORIZONTAL=parseInt("0",2);selfConfig.ALIGNMENT_VERTICAL=parseInt("1",2);selfConfig.POSITION_TOP=parseInt("00",2);selfConfig.POSITION_RIGHT=parseInt("01",2);selfConfig.POSITION_BOTTOM=parseInt("10",2);selfConfig.POSITION_LEFT=parseInt("11",2);this.getDefaultConfiguration=function(){return _defaultAttrs.btnSpecAttr};if(!selfConfig.onceInitialized){selfConfig._options=options;selfConfig._chart=options.chart;selfConfig._iCount=++componentInstanceCount;selfConfig.onceInitialized=true;selfConfig.chartId=options.chart.getFromEnv("chartInstance").id}chart=selfConfig._chart;chartAttrs=chart.getFromEnv("dataSource").chart;_defaultAttrs.btnSpecAttr.scale=(0,_lib.pluckNumber)(chartAttrs.toolbarbuttonscale,1.15);_defaultAttrs.btnSpecAttr.width=(0,_lib.pluckNumber)(chartAttrs.toolbarbuttonwidth,_lib.touchEnabled?20:15);_defaultAttrs.btnSpecAttr.height=(0,_lib.pluckNumber)(chartAttrs.toolbarbuttonheight,_lib.touchEnabled?20:15);_defaultAttrs.btnSpecAttr.radius=(0,_lib.pluckNumber)(chartAttrs.toolbarbuttonradius,_lib.touchEnabled?4:2);_defaultAttrs.btnSpecAttr.spacing=(0,_lib.pluckNumber)(chartAttrs.toolbarbuttonspacing,5);_defaultAttrs.btnSpecAttr.fill=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.toolbarbuttoncolor,"ffffff"));_defaultAttrs.btnSpecAttr.labelFill=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.toolbarlabelcolor,"cccccc"));_defaultAttrs.btnSpecAttr.symbolFill=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.toolbarsymbolcolor,"ffffff"));_defaultAttrs.btnSpecAttr.hoverFill=(0,_lib.pluck)(chartAttrs.toolbarbuttonhovercolor);_defaultAttrs.btnSpecAttr.stroke=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.toolbarbuttonbordercolor,"bbbbbb"));_defaultAttrs.btnSpecAttr.symbolStroke=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.toolbarsymbolbordercolor,"9a9a9a"));_defaultAttrs.btnSpecAttr.strokeWidth=(0,_lib.pluckNumber)(chartAttrs.toolbarbuttonborderthickness,1);_defaultAttrs.btnSpecAttr.symbolStrokeWidth=(0,_lib.pluckNumber)(chartAttrs.toolbarsymbolborderthickness,1);bSymbolPadding=_defaultAttrs.btnSpecAttr.symbolPadding=(0,_lib.pluckNumber)(chartAttrs.toolbarsymbolpadding,5);_defaultAttrs.btnSpecAttr.symbolHPadding=(0,_lib.pluckNumber)(chartAttrs.toolbarsymbolhpadding,bSymbolPadding);_defaultAttrs.btnSpecAttr.symbolVPadding=(0,_lib.pluckNumber)(chartAttrs.toolbarsymbolvpadding,bSymbolPadding);bPosition=_defaultAttrs.btnSpecAttr.position=(0,_lib.pluck)(chartAttrs.toolbarposition,"tr").toLowerCase();switch(bPosition){case"tr":case"rt":case"top right":case"right top":bPosition="tr";break;case"br":case"rb":case"bottom right":case"right bottom":bPosition="br";break;case"tl":case"lt":case"top left":case"left top":bPosition="tl";break;case"bl":case"lb":case"bottom left":case"left bottom":bPosition="bl";break;default:bPosition="tr"}bHAlign=_defaultAttrs.btnSpecAttr.hAlign=(_lib.BLANKSTRING+chartAttrs.toolbarhalign).toLowerCase()==="left"?"l":bPosition.charAt(1);bVAlign=_defaultAttrs.btnSpecAttr.vAlign=(_lib.BLANKSTRING+chartAttrs.toolbarvalign).toLowerCase()==="bottom"?"b":bPosition.charAt(0);_defaultAttrs.btnSpecAttr.hDirection=(0,_lib.pluckNumber)(chartAttrs.toolbarhdirection,bHAlign==="r"?-1:1);_defaultAttrs.btnSpecAttr.vDirection=(0,_lib.pluckNumber)(chartAttrs.toolbarvdirection,bVAlign==="b"?-1:1);_defaultAttrs.btnSpecAttr.vMargin=(0,_lib.pluckNumber)(chartAttrs.toolbarvmargin,6);_defaultAttrs.btnSpecAttr.hMargin=(0,_lib.pluckNumber)(chartAttrs.toolbarhmargin,10);if(!chartAttrs.toolbary||!chartAttrs.toolbarx){_defaultAttrs.btnSpecAttr.spaceNotHardCoded=true}else{_defaultAttrs.btnSpecAttr.x=(0,_lib.pluckNumber)(chartAttrs.toolbarx);_defaultAttrs.btnSpecAttr.y=(0,_lib.pluckNumber)(chartAttrs.toolbary);delete _defaultAttrs.btnSpecAttr.spaceNotHardCoded}_defaultAttrs.scrollerSpecAttr.color=chartAttrs.scrollcolor&&(0,_libGraphics.convertColor)(chartAttrs.scrollcolor);_defaultAttrs.scrollerSpecAttr.padding=(0,_lib.pluckNumber)(chartAttrs.scrollpadding,0);_defaultAttrs.scrollerSpecAttr.height=(0,_lib.pluckNumber)(chartAttrs.scrollheight,12);_defaultAttrs.scrollerSpecAttr.width=(0,_lib.pluckNumber)(chartAttrs.scrollwidth,12);_defaultAttrs.scrollerSpecAttr.displayFlat=(0,_lib.pluckNumber)(chartAttrs.flatscrollbars,0);_defaultAttrs.scrollerSpecAttr.scrollBar3DLighting=(0,_lib.pluckNumber)(chartAttrs.scrollbar3dlighting,1);_defaultAttrs.scrollerSpecAttr.startPercent=Math.min(1,Math.max(0,parseFloat(chartAttrs.scrolltoend)||0));_defaultAttrs.scrollerSpecAttr.showButtons=!!(0,_lib.pluckNumber)(chartAttrs.scrollshowbuttons,1);_defaultAttrs.scrollerSpecAttr.buttonPadding=(0,_lib.pluckNumber)(chartAttrs.scrollbtnpadding,0);_defaultAttrs.contextMenuSpecAttr.baseFontFamily=(0,_lib.pluck)(chartAttrs.basefont,"Verdana,sans");_defaultAttrs.contextMenuSpecAttr.baseFontSize=(0,_lib.pluckNumber)(chartAttrs.basefontsize,10);_defaultAttrs.contextMenuSpecAttr.baseFontColor=(0,_lib.pluck)(chartAttrs.basefontcolor,"595959")};Toolbox.prototype.getAPIInstances=function getAPIInstances(alignmentType){var selfConfig=this.config,chart=selfConfig._chart,api={},Factory,componentPool=selfConfig.componentPool=new _componentPool2["default"];componentPool.configure(chart,selfConfig._iCount);_toolBarFactoryHelper.ToolBarFactoryHelper.setComponentPool(componentPool,selfConfig.chartId);_toolBarFactoryHelper.ToolBarFactoryHelper.setOptions(selfConfig._options,selfConfig.chartId);Factory=_toolbarFactory.ToolbarFactory.getAPIInstances();switch(alignmentType){case selfConfig.ALIGNMENT_HORIZONTAL:api.Toolbar=Factory.HorizontalToolbar;break;case selfConfig.ALIGNMENT_VERTICAL:break}api.ComponentGroup=Factory.ComponentGroup;api.Symbol=Factory.Symbol;api.Scroller=Factory.Scroller;api.SymbolWithContext=Factory.SymbolWithContext;api.SymbolStore=_helper.SymbolStore;api.CheckboxSymbol=Factory.CheckboxSymbol;return api};Toolbox.prototype.clean=function clean(){var selfConfig=this.config;selfConfig.componentPool.hideRecursive(selfConfig._iCount)};return Toolbox}(_componentInterface2["default"]);exports["default"]=Toolbox},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.ToolbarFactory=undefined;var _storeInstance=__webpack_require__(284);var _horizontalToolbar=__webpack_require__(285);var _horizontalToolbar2=_interopRequireDefault(_horizontalToolbar);var _componentgroup=__webpack_require__(286);var _componentgroup2=_interopRequireDefault(_componentgroup);var _symbolclass=__webpack_require__(275);var _symbolclass2=_interopRequireDefault(_symbolclass);var _checkboxSymbol=__webpack_require__(287);var _checkboxSymbol2=_interopRequireDefault(_checkboxSymbol);var _scroller=__webpack_require__(288);var _scroller2=_interopRequireDefault(_scroller);var _symbolWithContext=__webpack_require__(273);var _symbolWithContext2=_interopRequireDefault(_symbolWithContext);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var ToolbarFactory={getAPIInstances:function getAPIInstances(){return{HorizontalToolbar:_horizontalToolbar2["default"],ComponentGroup:_componentgroup2["default"],Symbol:_symbolclass2["default"],CheckboxSymbol:_checkboxSymbol2["default"],Scroller:_scroller2["default"],SymbolWithContext:_symbolWithContext2["default"],getInstanceById:_storeInstance.StoreInstance.getInstanceById}}};exports.ToolbarFactory=ToolbarFactory},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var StoreInstance={setNewInstance:function setNewInstance(id,newInstance){StoreInstance.instances[id]=newInstance},getInstanceById:function getInstanceById(id){return StoreInstance.instances[id]},instances:{}};exports.StoreInstance=StoreInstance},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _toolBarFactoryHelper=__webpack_require__(276);var _storeInstance=__webpack_require__(284);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0;var HorizontalToolbar=function(_ComponentInterface){_inherits(HorizontalToolbar,_ComponentInterface);function HorizontalToolbar(){_classCallCheck(this,HorizontalToolbar);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}HorizontalToolbar.prototype.configure=function configure(id,poolId,chartId){var selfConfig=this.config;selfConfig.id="TB_MASTER"+id;_storeInstance.StoreInstance.setNewInstance(selfConfig.id,this);selfConfig.toolbarRect=UNDEF;selfConfig.componentGroups=[];selfConfig.toolbarConfig=_toolBarFactoryHelper.defaultHToolbarConf;selfConfig.group=UNDEF;selfConfig.pId=poolId;selfConfig.x=0;selfConfig.y=0;selfConfig.chartId=chartId;selfConfig.configured=true};HorizontalToolbar.prototype.getId=function getId(){return this.config.id};HorizontalToolbar.prototype.getName=function getName(){return"horizontalToolbar"};HorizontalToolbar.prototype.getType=function getType(){return"toolbar"};HorizontalToolbar.prototype.addComponent=function addComponent(componentGroup){this.config.componentGroups.push(componentGroup)};HorizontalToolbar.prototype.setMenuBarDimension=function setMenuBarDimension(x,y){var selfConfig=this.config;x&&(selfConfig.x=x);y&&(selfConfig.y=y)};HorizontalToolbar.prototype.draw=function draw(options){var selfConfig=this.config,x=selfConfig.x,y=selfConfig.y,componentsGroups=selfConfig.componentGroups,group,index,length,allToolbarLayers,thisToolbarLayer,id=selfConfig.id,startX=x,startY=y,toolbarRect,toolbarConf=selfConfig.toolbarConfig,effectiveWidth,effectiveHeight,measurementTaken,groupSpacing,maxHeight=Number.NEGATIVE_INFINITY,instanceFn,componentPool=_toolBarFactoryHelper.ToolBarFactoryHelper.getComponentPool(selfConfig.chartId),keys=componentPool.getKeys();options=options||{};allToolbarLayers=selfConfig.parentLayer||options.parentGroup||{};instanceFn=componentPool.getComponent(selfConfig.id,selfConfig.pId,keys.KEY_GROUP,true);selfConfig.group=thisToolbarLayer=instanceFn(id,allToolbarLayers);instanceFn=componentPool.getComponent(selfConfig.id,selfConfig.pId,keys.KEY_RECT,true);toolbarRect=selfConfig.toolbarRect=instanceFn(thisToolbarLayer).attr({height:0,width:0,x:startX,y:startY});startX+=toolbarConf.hPadding;startY+=toolbarConf.vPadding;for(index=0,length=componentsGroups.length;index<length;index++){group=componentsGroups[index];groupSpacing=group.config.groupConfig.spacing||1;measurementTaken=group.draw(thisToolbarLayer,{x:startX,y:startY},index,!selfConfig.configured);startX+=measurementTaken.width+groupSpacing;maxHeight=maxHeight>measurementTaken.height?maxHeight:measurementTaken.height}effectiveHeight=maxHeight;effectiveWidth=startX-groupSpacing-toolbarConf.hPadding-x;isFinite(effectiveHeight)||(effectiveHeight=0);isFinite(effectiveWidth)||(effectiveWidth=0);toolbarRect.attr({height:effectiveHeight=effectiveHeight+2*toolbarConf.vPadding,width:effectiveWidth=effectiveWidth+2*toolbarConf.hPadding}).attr({fill:toolbarConf.fill,r:toolbarConf.radius,stroke:toolbarConf.borderColor,"stroke-width":toolbarConf.borderThickness});this.drawn=true;selfConfig.configured=false;return{height:effectiveHeight,width:effectiveWidth}};HorizontalToolbar.prototype.getLogicalSpace=function getLogicalSpace(){var selfConfig=this.config,componentsGroups=selfConfig.componentGroups,index,length,group,height=0,width=0,maxHeight=Number.NEGATIVE_INFINITY,groupSpacing,gLogicalSpace,groupWidth=0;for(index=0,length=componentsGroups.length;index<length;index++){group=componentsGroups[index];gLogicalSpace=group.getLogicalSpace();groupSpacing=group.config.groupConfig.spacing||1;width+=gLogicalSpace.width+groupSpacing;groupWidth+=gLogicalSpace.width;maxHeight=maxHeight<gLogicalSpace.height?gLogicalSpace.height:maxHeight}if(!groupWidth){return{width:0,height:0}}width-=groupSpacing-2*selfConfig.toolbarConfig.hPadding;height=maxHeight+2*selfConfig.toolbarConfig.vPadding;return{width:width,height:height}};HorizontalToolbar.prototype.dispose=function dispose(){var selfConfig=this.config,componentPool=_toolBarFactoryHelper.ToolBarFactoryHelper.getComponentPool(selfConfig.chartId),componentGroups=selfConfig.componentGroups,index=0,length=componentGroups.length;for(;index<length;index++){componentGroups[index].dispose()}componentGroups.length=0;selfConfig.toolbarRect&&selfConfig.toolbarRect.remove();componentPool.emptyPool(selfConfig.pId)};HorizontalToolbar.prototype._dispose=function _dispose(){this.dispose();_ComponentInterface.prototype._dispose.call(this)};return HorizontalToolbar}(_componentInterface2["default"]);exports["default"]=HorizontalToolbar},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _defaultAttrs=__webpack_require__(279);var _toolBarFactoryHelper=__webpack_require__(276);var _helper=__webpack_require__(274);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0;var ComponentGroup=function(_ComponentInterface){_inherits(ComponentGroup,_ComponentInterface);function ComponentGroup(){_classCallCheck(this,ComponentGroup);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}ComponentGroup.prototype.configure=function configure(id,poolId,chartId){var selfConfig=this.config;selfConfig.preId=id||0;selfConfig.id=UNDEF;selfConfig.symbolList=[];selfConfig.groupRect=UNDEF;selfConfig.pId=poolId;selfConfig.chartId=chartId;(0,_lib.extend2)(selfConfig.btnConfig={},_defaultAttrs.btnSpecAttr);(0,_lib.extend2)(selfConfig.groupConfig={},_toolBarFactoryHelper.defaultGroupConf)};ComponentGroup.prototype.addSymbol=function addSymbol(instance,prepend){var selfConfig=this.config,symbolList=selfConfig.symbolList;if(prepend){symbolList.unshift(instance)}else{symbolList.push(instance)}};ComponentGroup.prototype.setConfiguaration=function setConfiguaration(conf){var selfConfig=this.config,ovrdBtnConf=conf.buttons,ovrdGroupConf=conf.group;if(ovrdBtnConf){(0,_helper.mergeConf)(ovrdBtnConf,selfConfig.btnConfig)}if(ovrdGroupConf){(0,_helper.mergeConf)(ovrdGroupConf,selfConfig.groupConfig)}};ComponentGroup.prototype.draw=function draw(parentLayer,drawCoord,postId,isResize){var selfConfig=this.config,preId=selfConfig.preId,thisToolBarGroupLayers,symbolList=selfConfig.symbolList,index,length,symbol,groupConfig=selfConfig.groupConfig,btnConfig=selfConfig.btnConfig,startX=drawCoord.x,startY=drawCoord.y,groupRect,effectiveHeight=0,effectiveWidth=0,bBox,maxHeight=Number.NEGATIVE_INFINITY,extraCount,buttonElem,instanceFn,id,componentPool=_toolBarFactoryHelper.ToolBarFactoryHelper.getComponentPool(selfConfig.chartId),keys=componentPool.getKeys();id=selfConfig.id=preId.toString()+postId;instanceFn=componentPool.getComponent(selfConfig.id,selfConfig.pId,keys.KEY_GROUP);thisToolBarGroupLayers=instanceFn("toolbar-group"+id,parentLayer);instanceFn=componentPool.getComponent(selfConfig.id,selfConfig.pId,keys.KEY_RECT);groupRect=selfConfig.groupRect=instanceFn(thisToolBarGroupLayers).attr({height:0,width:0,x:startX,y:startY});startX+=groupConfig.hPadding;startY+=groupConfig.vPadding;effectiveWidth+=groupConfig.hPadding;effectiveHeight+=groupConfig.vPadding;for(index=0,length=symbolList.length;index<length;index++){symbol=symbolList[index];!isResize&&symbol._setConfiguaration(btnConfig);buttonElem=symbol.draw(startX,startY,{parentLayer:thisToolBarGroupLayers,isResize:isResize});bBox=buttonElem.getBBox();if(maxHeight<bBox.height){maxHeight=bBox.height}startX+=bBox.width+(extraCount=btnConfig.spacing)}effectiveWidth+=startX+groupConfig.hPadding-drawCoord.x-extraCount-groupConfig.offsetAdjustment;effectiveHeight+=maxHeight+groupConfig.vPadding+groupConfig.offsetAdjustment;isFinite(effectiveHeight)||(effectiveHeight=0);isFinite(effectiveWidth)||(effectiveWidth=0);groupRect.attr({height:effectiveHeight,width:effectiveWidth}).attr({fill:groupConfig.fill,r:groupConfig.radius,stroke:groupConfig.borderColor,"stroke-width":groupConfig.borderThickness});bBox=groupRect.getBBox();return{height:bBox.height,width:bBox.width}};ComponentGroup.prototype.getLogicalSpace=function getLogicalSpace(){var selfConfig=this.config,symbolList=selfConfig.symbolList,symbol,index,length,height=0,width=0,maxHeight=Number.NEGATIVE_INFINITY,symbolWidth=0,measurement;for(index=0,length=symbolList.length;index<length;index++){symbol=symbolList[index];symbol._setConfiguaration(selfConfig.btnConfig);measurement=symbol.getLogicalSpace();width+=measurement.width+selfConfig.btnConfig.spacing;symbolWidth+=measurement.width;maxHeight=maxHeight<measurement.height?measurement.height:maxHeight}if(!symbolWidth){return{width:0,height:0}}if(maxHeight!==Number.NEGATIVE_INFINITY&&width){width-=selfConfig.btnConfig.spacing-2*selfConfig.groupConfig.hPadding-selfConfig.groupConfig.offsetAdjustment;height=maxHeight+2*selfConfig.groupConfig.vPadding+selfConfig.groupConfig.offsetAdjustment}return{width:width,height:height}};ComponentGroup.prototype.dispose=function dispose(){var selfConfig=this.config,symbols=selfConfig.symbolList,index=0,length=symbols.length;for(;index<length;index++){symbols[index].dispose()}symbols.length=0;selfConfig.groupRect&&selfConfig.groupRect.remove()};return ComponentGroup}(_componentInterface2["default"]);exports["default"]=ComponentGroup},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _libGraphics=__webpack_require__(122);var _symbolclass=__webpack_require__(275);var _symbolclass2=_interopRequireDefault(_symbolclass);var _toolBarFactoryHelper=__webpack_require__(276);var _helper=__webpack_require__(274);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var TEXTBOX_SYMBOL="Internal_CB",TRANSPARENT_FILL=(0,_libGraphics.convertColor)("FFFFFF",0),UNDEF=void 0;var CheckboxSymbol=function(_SymbolClass){_inherits(CheckboxSymbol,_SymbolClass);function CheckboxSymbol(){_classCallCheck(this,CheckboxSymbol);return _possibleConstructorReturn(this,_SymbolClass.apply(this,arguments))}CheckboxSymbol.prototype.configure=function configure(text,isChecked,idCount,poolId,chartId){_SymbolClass.prototype.configure.call(this,TEXTBOX_SYMBOL);var selfConfig=this.config;selfConfig._id="TB_CBSYMBOL"+(idCount||0);selfConfig.symbol=TEXTBOX_SYMBOL;selfConfig.text={plaintext:text,node:UNDEF,style:_toolBarFactoryHelper.defTextStyle};selfConfig.pId=poolId;selfConfig.chartId=chartId;selfConfig.checked=!!isChecked;selfConfig.textNode=UNDEF;selfConfig.interPadding=3;selfConfig.pos={};selfConfig.regSymbolCmd=UNDEF;if(selfConfig.checked){this.check()}else{this.uncheck()}};CheckboxSymbol.prototype.check=function check(){var selfConfig=this.config,pos=selfConfig.pos;selfConfig.checked=true;selfConfig.regSymbolCmd=_helper.RSymbolFns.CB_CHECKED;if(selfConfig.node){this.registerSymbol(selfConfig.regSymbolCmd);selfConfig.node.attr({"button-repaint":[pos.x,pos.y,pos.width,pos.height,pos.r]})}};CheckboxSymbol.prototype.uncheck=function uncheck(){var selfConfig=this.config,pos=selfConfig.pos;selfConfig.checked=false;selfConfig.regSymbolCmd=_helper.RSymbolFns.CB_NOT_CHECKED;if(selfConfig.node){this.registerSymbol(selfConfig.regSymbolCmd);selfConfig.node.attr({"button-repaint":[pos.x,pos.y,pos.width,pos.height,pos.r]})}};CheckboxSymbol.prototype.click=function click(){var selfConfig=this.config;if(selfConfig.checked){this.uncheck()}else{this.check()}};CheckboxSymbol.prototype.attachEventHandlers=function attachEventHandlers(eventMap){var self=this,clickHandler=function clickHandler(){self.click()};_symbolclass2["default"].prototype.attachEventHandlers.apply(this,[eventMap,{click:clickHandler}])};CheckboxSymbol.prototype.getLogicalSpace=function getLogicalSpace(){var chart=_toolBarFactoryHelper.ToolBarFactoryHelper.getOptions(this.config.chartId).chart,selfConfig=this.config,smartLabel=chart.linkedItems.smartLabel,textStyle=selfConfig.text.style,smartText,symbolMeasurement;symbolMeasurement=_symbolclass2["default"].prototype.getLogicalSpace.apply(this,arguments);smartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);smartLabel.setStyle(textStyle);smartText=smartLabel.getSmartText(selfConfig.text.plaintext);return{width:smartText.width+selfConfig.interPadding+symbolMeasurement.width,height:Math.max(symbolMeasurement.height,smartText.height)}};CheckboxSymbol.prototype.draw=function draw(x,y,options){var cbElem,selfConfig=this.config,btnConfig=selfConfig.conf,bBox,smartText,chart=_toolBarFactoryHelper.ToolBarFactoryHelper.getOptions(selfConfig.chartId).chart,smartLabel=chart.getFromEnv("smartLabel"),colorManager=chart.getFromEnv("color-manager"),plaintext=selfConfig.text.plaintext,boundingheight,boundingRect,textStyle,instanceFn,componentPool=_toolBarFactoryHelper.ToolBarFactoryHelper.getComponentPool(selfConfig.chartId),keys=componentPool.getKeys();this.registerSymbol(selfConfig.regSymbolCmd);cbElem=selfConfig.node=_symbolclass2["default"].prototype.draw.apply(this,arguments);selfConfig.pos={x:x,y:y,width:btnConfig.width,height:btnConfig.height,r:btnConfig.radius};textStyle=selfConfig.text.style;textStyle.fill=textStyle.fill||"#"+colorManager.getColor("baseFontColor");smartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);smartLabel.setStyle(textStyle);smartText=smartLabel.getSmartText(plaintext);bBox=cbElem.getBBox();instanceFn=componentPool.getComponent(selfConfig._id,selfConfig.pId,keys.KEY_TEXT);selfConfig.textNode=instanceFn(options.parentLayer).attr({text:plaintext,x:bBox.x+bBox.width+smartText.width/2+selfConfig.interPadding,y:bBox.y+bBox.height/2}).css(textStyle);boundingheight=btnConfig.height>smartText.height?btnConfig.height:smartText.height;instanceFn=componentPool.getComponent(selfConfig._id,selfConfig.pId,keys.KEY_RECT);boundingRect=instanceFn(options.parentLayer).attr({height:boundingheight,width:bBox.width+smartText.width+selfConfig.interPadding,x:x,y:y,stroke:TRANSPARENT_FILL});return boundingRect};CheckboxSymbol.prototype.dispose=function dispose(){var selfConfig=this.config;selfConfig.textNode&&selfConfig.textNode.remove();selfConfig.textNode=UNDEF;_SymbolClass.prototype.dispose.call(this)};return CheckboxSymbol}(_symbolclass2["default"]);exports["default"]=CheckboxSymbol},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _symbolclass=__webpack_require__(275);var _symbolclass2=_interopRequireDefault(_symbolclass);var _defaultAttrs=__webpack_require__(279);var _toolBarFactoryHelper=__webpack_require__(276);var _helper=__webpack_require__(274);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0;var Scroller=function(_SymbolClass){_inherits(Scroller,_SymbolClass);function Scroller(){_classCallCheck(this,Scroller);return _possibleConstructorReturn(this,_SymbolClass.apply(this,arguments))}Scroller.prototype.configure=function configure(conf,id,poolId,chartId){var selfConfig=this.config;selfConfig._id="TB_SCROLLER"+(id||0);selfConfig.pId=poolId;selfConfig.conf={};selfConfig.userConf=_defaultAttrs.scrollerSpecAttr;selfConfig.chartId=chartId;this.setConfiguaration(conf);selfConfig.evt={tooltext:UNDEF,click:_lib.stubFN,hover:[_lib.stubFN,_lib.stubFN]}};Scroller.prototype.getName=function getName(){return"scroller"};Scroller.prototype.getType=function getType(){return"scroller"};Scroller.prototype.setConfiguaration=function setConfiguaration(conf){var selfConfig=this.config,chart=_toolBarFactoryHelper.ToolBarFactoryHelper.getOptions(selfConfig.chartId).chart,colorManager=chart.getFromEnv("color-manager");_defaultAttrs.scrollerSpecAttr.color||(_defaultAttrs.scrollerSpecAttr.color="#"+colorManager.getColor("altHGridColor"));(0,_helper.mergeConf)(_defaultAttrs.scrollerSpecAttr,selfConfig.conf);(0,_helper.mergeConf)(conf,selfConfig.conf)};Scroller.prototype.getLogicalSpace=function getLogicalSpace(){var selfConfig=this.config,conf=selfConfig.conf,preperaedScrollerSpecAttr={};(0,_helper.mergeConf)(_defaultAttrs.scrollerSpecAttr,preperaedScrollerSpecAttr);(0,_helper.mergeConf)(preperaedScrollerSpecAttr,conf);return _symbolclass2["default"].prototype.getLogicalSpace.call(this)};Scroller.prototype.getDefaultLayer=function getDefaultLayer(){var selfConfig=this.config,componentPool=_toolBarFactoryHelper.ToolBarFactoryHelper.getComponentPool(selfConfig.chartId),keys=componentPool.getKeys(),instanceFn,defLayer;instanceFn=componentPool.getComponent(selfConfig._id,selfConfig.pId,keys.KEY_GROUP);defLayer=instanceFn("scroll");return defLayer};Scroller.prototype.draw=function draw(){var x,y,height,width,options,isHorizontal,parentLayer,scrollRatio,showButtons,displayFlat,fullCanvasWidth,windowedCanvasWidth,color,roundEdges,createScrollerLayer,argObj,scrollLayer,startPercent,selfConfig=this.config,conf=selfConfig.conf,repaintFn,instanceFn,componentPool=_toolBarFactoryHelper.ToolBarFactoryHelper.getComponentPool(selfConfig.chartId),keys=componentPool.getKeys(),repaintObj={},newCreated,preperaedScrollerSpecAttr={},scrollPosition;if(arguments.length===1){argObj=arguments[0];x=argObj.x;y=argObj.y;parentLayer=argObj.parentLayer;createScrollerLayer=!!argObj.sepLayer}else{x=arguments[0];y=arguments[1];options=arguments[2];if(conf&&options){(0,_helper.mergeConf)(options,conf)}else{options={}}parentLayer=options.parentLayer;createScrollerLayer=!!options.sepLayer;argObj=conf}(0,_helper.mergeConf)(_defaultAttrs.scrollerSpecAttr,preperaedScrollerSpecAttr);if(argObj.isHorizontal){delete preperaedScrollerSpecAttr.width}else{delete preperaedScrollerSpecAttr.height}(0,_helper.mergeConf)(preperaedScrollerSpecAttr,argObj,true);y+=argObj.padding;height=argObj.height;width=argObj.width;isHorizontal=argObj.isHorizontal;repaintFn="scroll-repaint";startPercent=argObj.startPercent;scrollRatio=Math.max(argObj.scrollRatio,.01);showButtons=argObj.showButtons;displayFlat=argObj.displayFlat;fullCanvasWidth=argObj.fullCanvasWidth;windowedCanvasWidth=argObj.windowedCanvasWidth;color=argObj.color;roundEdges=argObj.roundEdges;scrollPosition=(0,_lib.pluckNumber)(argObj.scrollPosition,startPercent,0);repaintObj[repaintFn]=[x,y,width,height];parentLayer=parentLayer||this.getDefaultLayer();instanceFn=componentPool.getComponent(selfConfig._id,selfConfig.pId,keys.KEY_RECT);scrollLayer=createScrollerLayer?instanceFn("scroll-child"):parentLayer;instanceFn=componentPool.getComponent(selfConfig._id,selfConfig.pId,keys.KEY_SCROLLER);selfConfig.node=instanceFn(x,y,width,height,isHorizontal,{scrollPosition:scrollPosition,displayStyleFlat:displayFlat,showButtons:showButtons},scrollLayer);selfConfig.node.data("fullCanvasWidth",fullCanvasWidth).data("windowedCanvasWidth",windowedCanvasWidth).attr({"scroll-ratio":scrollRatio,fill:color,"stroke-width":1,"scroll-position":scrollPosition,r:roundEdges&&2||0}).scroll(selfConfig.evt);newCreated=componentPool.getCreationStatus();if(!newCreated){selfConfig.node.undrag();selfConfig.node.attr(repaintObj);selfConfig.node.attr({"scroll-display-style":displayFlat?"flat":"3d"}).scroll(selfConfig.evt)}return selfConfig.node};Scroller.prototype.attachEventHandlers=function attachEventHandlers(eventMap){var scroller=this,selfConfig=this.config,evt=selfConfig.evt;if(eventMap){eventMap.scroll&&typeof eventMap.scroll==="function"&&(evt.scroll=eventMap.scroll);eventMap.scrollStart&&typeof eventMap.scrollStart==="function"&&(evt.scrollStart=eventMap.scrollStart);eventMap.scrollEnd&&typeof eventMap.scrollEnd==="function"&&(evt.scrollEnd=eventMap.scrollEnd)}_SymbolClass.prototype.attachEventHandlers.call(this,arguments);return scroller};return Scroller}(_symbolclass2["default"]);Scroller.registerSymbol=UNDEF;Scroller._setConfiguaration=_lib.stubFN;exports["default"]=Scroller},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _pool2=__webpack_require__(290);var _pool3=_interopRequireDefault(_pool2);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var doc=window.document,DIV="div";var ComponentPool=function(_ComponentInterface){_inherits(ComponentPool,_ComponentInterface);function ComponentPool(){_classCallCheck(this,ComponentPool);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}ComponentPool.prototype.configure=function configure(chart,id){var actions=void 0,pool=void 0,componentPool=this,elemTypes=void 0,cachedState=void 0,cache=void 0,animationManager=chart.getFromEnv("animationManager"),selfConfig=componentPool.config;elemTypes=selfConfig.elemTypes={KEY_RECT:"rect",KEY_TEXT:"text",KEY_GROUP:"group",KEY_SCROLLER:"scroller",KEY_BUTTON:"button",KEY_PATH:"path",KEY_DIV:"div"};cachedState=selfConfig.cachedState={};actions=selfConfig.actions={};actions[elemTypes.KEY_DIV]=function(){return doc.createElement(DIV)};actions[elemTypes.KEY_RECT]=function(group){return animationManager.setAnimation({el:"rect",container:group,component:componentPool})};actions[elemTypes.KEY_TEXT]=function(group){return animationManager.setAnimation({el:"text",container:group,component:componentPool})};actions[elemTypes.KEY_GROUP]=function(groupName,parentGroup){return animationManager.setAnimation({el:"group",attr:{name:groupName},container:parentGroup,component:componentPool})};actions[elemTypes.KEY_SCROLLER]=function(x,y,width,height,isHorizontal,confObj,group){return animationManager.setAnimation({el:"scroller",attr:{scroller:[x,y,width,height,isHorizontal,confObj,group]},component:componentPool})};actions[elemTypes.KEY_BUTTON]=function(x,y,text,symbol,conf,group){return animationManager.setAnimation({el:"button",attr:{button:[x,y,text,symbol,conf,group]},component:componentPool})};actions[elemTypes.KEY_PATH]=function(pathStr,group){animationManager.setAnimation({el:"path",container:group,attr:{path:pathStr},component:componentPool})};cache=selfConfig.cache=cachedState[id]||(cachedState[id]={});ComponentPool._hideRecursive(cache.pool);if(cache.initialized){return}pool=cache.pool=(new _pool3["default"]).pool;pool._tmp=id;cache.initialized=true};ComponentPool._hideRecursive=function _hideRecursive(_pool){var keyLevel1,keyLevel2,objLevel1,val,index,length;if(!_pool){return}for(keyLevel1 in _pool){objLevel1=_pool[keyLevel1];for(keyLevel2 in objLevel1){val=objLevel1[keyLevel2];if(val instanceof Array){for(index=0,length=val.length;index<length;index++){val[index].hide&&val[index].hide()}}else{val.hide&&val.hide()}}}};ComponentPool.prototype.emptyPool=function emptyPool(id){var cache,selfConfig=this.config;cache=selfConfig.cachedState[id]||{};cache.pool&&(cache.pool={})};ComponentPool.prototype.isInitialized=function isInitialized(){return this.config.initialized};ComponentPool.prototype.getCreationStatus=function getCreationStatus(){return this.config.newCreationDataFlag};ComponentPool.prototype.hideRecursive=function hideRecursive(id){var cache;cache=this.config.cachedState[id]||{};ComponentPool._hideRecursive(cache.pool)};ComponentPool.prototype.getKeys=function getKeys(){return this.config.elemTypes};ComponentPool.prototype.getComponent=function getComponent(id,poolId,elemType,storeTillReCall){var selfConfig=this.config,cache=selfConfig.cachedState[poolId||0]||{},pool=cache.pool,idSpecificPool=pool[id],multiInstance,instance,inst,actions=selfConfig.actions,instanceRetrieved=0;if(!idSpecificPool){idSpecificPool=pool[id]={}}instance=idSpecificPool[elemType];if(instance&&!(instance instanceof Array)&&!instance.removed||instance instanceof Array&&instance.length>0){return function(){cache.newCreationDataFlag=false;if(storeTillReCall){inst=instance[instanceRetrieved++];if(inst&&!inst.removed){return inst.show()}else{return instance[instanceRetrieved]=actions[elemType].apply(cache,arguments)}}return instance.show&&typeof instance.show==="function"&&instance.show()||instance}}return function(){cache.newCreationDataFlag=true;if(storeTillReCall){multiInstance=idSpecificPool[elemType]||(idSpecificPool[elemType]=[]);instance=actions[elemType].apply(cache,arguments);multiInstance.push(instance);return instance.show&&typeof instance.show==="function"&&instance.show()||instance}return idSpecificPool[elemType]=actions[elemType].apply(cache,arguments)}};return ComponentPool}(_componentInterface2["default"]);exports["default"]=ComponentPool},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Pool=function Pool(){_classCallCheck(this,Pool);this.pool={}};exports["default"]=Pool},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var canvas=chart.getChildren("canvas")[0],axisRefVisualCartesian=canvas.getChildren("axisRefVisualCartesian")[0],zoomObj={zoomable:true,pannable:true},config=chart._feedAxesRawData(),yAxis=void 0,xAxis=void 0,redraw=function redraw(e){var sender=e.sender;axisRefVisualCartesian.addexplicitDrawItems(sender.getId(),sender);axisRefVisualCartesian.asyncDraw()};(0,_lib.componentFactory)(chart,_numeric2["default"],"yAxis",1,config.yAxisConf);(0,_lib.componentFactory)(chart,_category2["default"],"xAxis",1,config.xAxisConf);yAxis=chart.getChildren("yAxis")[0];xAxis=chart.getChildren("xAxis")[0];yAxis.setLinkedItem("canvas",canvas);xAxis.setLinkedItem("canvas",canvas);axisRefVisualCartesian.setLinkedItem(yAxis.getId(),yAxis);axisRefVisualCartesian.setLinkedItem(xAxis.getId(),xAxis);axisRefVisualCartesian.addExtEventListener("visiblerangeset",redraw,xAxis);axisRefVisualCartesian.addExtEventListener("visiblerangeset",redraw,yAxis);canvas.attachAxis(xAxis,false,chart.zoomX?zoomObj:{});canvas.attachAxis(yAxis,true,chart.zoomY?zoomObj:{});chart._setCategories()};var _lib=__webpack_require__(118);var _numeric=__webpack_require__(292);var _numeric2=_interopRequireDefault(_numeric);var _category=__webpack_require__(321);var _category2=_interopRequireDefault(_category);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _cartesianLabelManager=__webpack_require__(293);var _cartesianLabelManager2=_interopRequireDefault(_cartesianLabelManager);var _lib=__webpack_require__(118);var _range=__webpack_require__(313);var _range2=_interopRequireDefault(_range);var _linear=__webpack_require__(314);var _linear2=_interopRequireDefault(_linear);var _commonApi=__webpack_require__(301);var _domainUpdater=__webpack_require__(320);var _domainUpdater2=_interopRequireDefault(_domainUpdater);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0;var NumericAxis=function(_CartesianLabelManage){_inherits(NumericAxis,_CartesianLabelManage);function NumericAxis(){_classCallCheck(this,NumericAxis);var _this=_possibleConstructorReturn(this,_CartesianLabelManage.call(this));_this.config.scale=new _linear2["default"];return _this}NumericAxis.prototype.getName=function getName(){return"numeric"};NumericAxis.prototype.generateTicks=function generateTicks(){var scale=this.getScale(),axisConfig=this.config,divLines=axisConfig.numDivLines+1,_scale$getDomain=scale.getDomain(),scaleMin=_scale$getDomain[0],scaleMax=_scale$getDomain[1],ticks=void 0,axisRange=axisConfig.axisRange,min=axisRange.min,max=axisRange.max,dataLimit=axisConfig.dataLimit,tickInterval=void 0,diff=void 0;if(scaleMin===min&&scaleMax===max){(0,_domainUpdater2["default"])(dataLimit.min,dataLimit.max,scale,axisConfig);return axisConfig.ticks}else{ticks=scale.ticks(divLines);tickInterval=Math.abs(ticks[1]-ticks[0]);if(scaleMin===min&&ticks.indexOf(min)===-1)ticks.unshift(min);if(scaleMax===max&&ticks.indexOf(max)===-1)ticks.push(max);if(diff=Math.abs(min%tickInterval))min-=diff;if(diff=Math.abs(max%tickInterval))max-=diff;axisConfig._allTicks=(0,_range2["default"])(min,max,tickInterval).concat(max);axisRange.tickInterval=tickInterval;return ticks}};NumericAxis.prototype.setTickValues=function setTickValues(tickValues){this.config.userTicks=tickValues||[];this.config.tickValues={tickValue:[]}};NumericAxis.prototype._parseTickValues=function _parseTickValues(tickValues){var axis=this,chart=axis.getFromEnv("chart"),axisConfig=axis.config,len=tickValues&&tickValues.length,countCat=0,tickArr,tickObj,index,tickX;axisConfig.tickValues={};tickArr=axisConfig.tickValues.tickValue=[];for(index=0;index<len;index+=1){tickObj=(0,_lib.extend2)({},tickValues[index]);tickX=Number(tickObj.x);if(!tickObj.vline){(0,_commonApi.extractStyleInfo)(tickObj,chart);if(tickX||tickX===0){tickObj.x=tickX;axisConfig.irregularCatAxis=true}else{continue}tickArr.push(tickObj);tickArr[countCat].label=(0,_lib.parseUnsafeString)(tickArr[countCat].label);countCat+=1}}axisConfig.oriCatLen=countCat};NumericAxis.prototype.calculateTicksOnLabelMode=function calculateTicksOnLabelMode(){var axis=this,axisConfig=axis.config,xAxisLabelMode=axisConfig.xAxisLabelMode,tickArr=Object.assign([],axisConfig.userTicks),numberFormatter=axis.getFromEnv("number-formatter"),numberFormatterFn,tempCat,i,j,len,ticks,numericLineStyle;if(xAxisLabelMode==="mixed"||xAxisLabelMode==="auto"){tempCat=[];numberFormatterFn=numberFormatter.xAxis;if(xAxisLabelMode==="mixed"){for(i=0,len=tickArr.length;i<len;i+=1){tempCat[tickArr[i].x||tickArr[i].y||i]=true}}else{tickArr=[]}numericLineStyle=axis.getAxisConfig();ticks=axisConfig.ticks;for(j=0;j<ticks.length;++j){i=ticks[j];if(!tempCat[i]){tickArr.push({label:_lib.BLANKSTRING+numberFormatterFn.call(numberFormatter,i),x:i,showverticalline:i===0?numericLineStyle.showZeroPlane:1,isNumeric:true,linecolor:i===0?numericLineStyle.zeroPlaneColor:numericLineStyle.divLineColor,linealpha:i===0?numericLineStyle.zeroPlaneAlpha:numericLineStyle.divLineAlpha,linethickness:i===0?numericLineStyle.zeroPlaneThickness:numericLineStyle.divLineThickness,linedashed:numericLineStyle.divLineIsDashed,linedashLen:numericLineStyle.divLineDashLen,linedashgap:numericLineStyle.divLineDashGap})}}}axis._parseTickValues(tickArr)};NumericAxis.prototype.getInterval=function getInterval(){return this.config.axisRange.tickInterval};NumericAxis.prototype._setAxisRange=function _setAxisRange(data){var min=data.min,max=data.max,axisConfig=this.config,axisRange=axisConfig.axisRange,dataLimit=axisConfig.dataLimit,dependentLimit,limitChanged,decrease,dependentInfo=axisConfig.dependentInfo;if(min>max){return}if(dataLimit.min!==min||dataLimit.max!==max)limitChanged=true;if(axisConfig.visibleMin!==UNDEF&&!axisConfig.setPadding&&!limitChanged){axisConfig.setPadding=false}else{var _extent=(0,_lib.extent)([min,max,dataLimit.min,dataLimit.max]);min=_extent[0];max=_extent[1];dataLimit.min=min;dataLimit.max=max;this.fireEvent("dataLimitSet",Object.assign({},dataLimit));if(dependentInfo){if(dependentInfo.limit){dependentLimit=dependentInfo.dataLimit;if(dependentLimit){var _extent2=(0,_lib.extent)([min,max,dependentLimit.min,dependentLimit.max]);min=_extent2[0];max=_extent2[1];axisConfig.isDataLimitSet=true}else{return}}if(dependentInfo.count){if(dependentInfo.numDivLines===UNDEF){return}}}(0,_domainUpdater2["default"])(min,max,this.getScale(),axisConfig);decrease=axisConfig.isZeroTickForced?3:2;this.fireEvent("divlinesSet",axisConfig.ticks.length-decrease);axisConfig.tickValues&&this.calculateTicksOnLabelMode();this.setVisibleConfig(axisRange.min,axisRange.max)}};return NumericAxis}(_cartesianLabelManager2["default"]);NumericAxis.prototype.setDataLimit=_commonApi.setDataLimit;exports["default"]=NumericAxis},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _cartesian=__webpack_require__(294);var _cartesian2=_interopRequireDefault(_cartesian);var _lib=__webpack_require__(118);var _commonApi=__webpack_require__(301);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var ROTATED_LABEL_PADDING=3,ROTATED_LABEL_MIN_GAP=10;var CartesainLabelManager=function(_Cartesian){_inherits(CartesainLabelManager,_Cartesian);function CartesainLabelManager(){_classCallCheck(this,CartesainLabelManager);return _possibleConstructorReturn(this,_Cartesian.apply(this,arguments))}CartesainLabelManager.prototype._getHMaxLabelDimention=function _getHMaxLabelDimention(maxHeight){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),chartConfig=chart.config,smartLabel=chart.getFromEnv("smartLabel"),axisRange=axisConfig.axisRange,labels=axisConfig.labels,labelDisplay=axisConfig.labelDisplay,slantLabel=axisConfig.slantLabel,labelStyle=labels.style,userMaxLabelHeight=axisConfig.maxLabelHeight,increment=axis.getInterval(),staggerLines=axisConfig.staggerLines,labelStep=axisConfig.labelStep,canvasLeft=chartConfig.canvasLeft,canvasRight=chartConfig.canvasRight,rWidthAdjstFactor=staggerLines-2,labelHeightAllotment,sWidthAdjstFactor,staggerLineAvailed,max=axisRange.max,min=axisRange.min,maxTextSize=0,allCategories=axisConfig.tickValues&&axisConfig.tickValues.tickValue,allCategoryLen=allCategories&&allCategories.length,distributedColumns=chart.distributedColumns,labelGap,categoryLength=0,singleCategory,overriddenStyle,intervalWidth,maxLabelObj={text:_lib.UNDEF,width:0,style:_lib.UNDEF},maxLabelHeight=0,smartLabelText,axisXPadding=4,getAllottedWidth,getAllottedHeight,confMeasurement,updateCategoryMeta=_lib.stubFN,finalRotationDecision=_lib.stubFN,reCalculateStaggerLines=_lib.stubFN,testString="WWW",W="W",minPxPerLabel=60,categoryAxisMeasurement={},maxText,countValue,firstValue,firstLabel,lastLabel,i,count,text,value,numberFormatterFn,retObj,cumulativeSum=0,defTextPadding=2,reCalrequired=false,skipCount=0,defaultSpanRadius=2,lastStepX,forceHeight,categoryCalculationInitiated=false,refSmartText,limit,minIrrPx,prevCategory,lastMinIrrStep=Number.POSITIVE_INFINITY,firstCategory,lastCategory,catLength,isZoomed,prevStyleStr,currStyleStr,ticks=axisConfig.ticks,ln,tick,minIrrStep=Number.POSITIVE_INFINITY;if(distributedColumns){for(i=0;i<allCategoryLen;i++){if(allCategories[i+1]){if(allCategories[i].x){allCategories[i].plotWidth=axis.getPixel(allCategories[i+1].x-allCategories[i].x)-axis.getPixel(0)}}else{allCategories[i].plotWidth=axis.getPixel(chartConfig.canvasRight-allCategories[i].x)-axis.getPixel(0)}}}if(axisConfig.tickValues&&(!allCategories||allCategories.length===0)){return{width:0,height:0}}if(labelDisplay==="rotate"){axisConfig.rotateLabels=1}if(!axisConfig.tickValues){axisConfig.irregularCatAxis=false}axisConfig.sWidthAdjstFactor=sWidthAdjstFactor=rWidthAdjstFactor===0?1:rWidthAdjstFactor===1?1.5:rWidthAdjstFactor;smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);smartLabel.setStyle({fontSize:labelStyle.fontSize,fontFamily:labelStyle.fontFamily,lineHeight:labelStyle.lineHeight,fontWeight:labelStyle.fontWeight});function getMarginalDistance(x,position){switch(position.toLowerCase()){case"left":return Math.abs(axis._getCustomPixel(x));case"right":return Math.abs(chartConfig.width-axis._getCustomPixel(x))}}if(axisConfig.irregularCatAxis){allCategories.sort(function(m,n){return m.x-n.x});for(i=0,categoryLength=allCategories.length;i<categoryLength;i++){singleCategory=allCategories[i];if(typeof lastStepX!=="undefined"){minIrrStep=Math.abs(singleCategory.x-lastStepX);minIrrPx=Math.abs(axis._getCustomPixel(min)-axis._getCustomPixel(min+minIrrStep));smartLabel.setStyle(Object.assign({},singleCategory.style));refSmartText=smartLabel.getOriSize(W);limit=refSmartText.width;if(minIrrPx<limit*1.2){singleCategory.label="";minIrrStep=lastMinIrrStep;continue}prevCategory._individualIWR=minIrrPx;singleCategory._individualIWL=minIrrPx;lastMinIrrStep=minIrrStep}prevCategory=singleCategory;lastStepX=singleCategory.x}if(minIrrStep===Number.POSITIVE_INFINITY){minIrrStep=Math.floor(Math.min(singleCategory.x,max-singleCategory.x));minIrrStep=Math.max(minIrrStep,2*defaultSpanRadius)}for(i=0,categoryLength=allCategories.length;i<categoryLength;i++){singleCategory=allCategories[i];if(!i){singleCategory._individualIWL=Infinity}if(i===categoryLength-1){singleCategory._individualIWR=Infinity}singleCategory.individualIW=Math.min(singleCategory._individualIWL,singleCategory._individualIWR)}intervalWidth=Math.abs(axis._getCustomPixel(min)-axis._getCustomPixel(min+minIrrStep));intervalWidth=Math.min(2*getMarginalDistance(allCategories[0].x,"left"),2*getMarginalDistance(allCategories[categoryLength-1].x,"right"),intervalWidth)}else{intervalWidth=Math.abs(axis._getCustomPixel(min)-axis._getCustomPixel(min+increment))}maxHeight=userMaxLabelHeight||maxHeight;categoryAxisMeasurement.__root__={getHeight:function getHeight(i){var cat=allCategories[i],lineHeight=cat._ovrStyle.lineHeight,lineHeightInt=parseInt(lineHeight.replace(/(\d+)px/,"$1"),10);return lineHeightInt},getWidth:function getWidth(){return maxHeight},getCalculatedLabelStep:function getCalculatedLabelStep(allCatArr){var _i=0,_l=allCatArr.length,_maxSpan=Number.NEGATIVE_INFINITY,_maxCatObj={},styleStr,style,label,_cat,_catLabel,key,possibleLabelsNo,labelCount=0,referenceSide,slHeight,_fStep;for(_i=0;_i<_l;_i++){_cat=allCatArr[_i];_cat.style=_cat.style||{}}if(axisConfig.irregularCatAxis){return axisConfig.labelStep}for(_i=0;_i<_l;_i++){_cat=allCatArr[_i];if(!_cat){continue}_cat.label||(_cat.label="");_catLabel=_cat.oriLabel||_cat.label;overriddenStyle={fontSize:labelStyle.fontSize,fontFamily:labelStyle.fontFamily,lineHeight:labelStyle.lineHeight,fontWeight:labelStyle.fontWeight};labelCount++;_cat.style=_cat.style||{};(0,_lib.extend2)(overriddenStyle,_cat.style);styleStr=overriddenStyle.fontSize+overriddenStyle.fontFamily+overriddenStyle.lineHeight+overriddenStyle.fontWeight;if(_maxCatObj[styleStr]){if(_catLabel.length>_maxCatObj[styleStr].label.length){_maxCatObj[styleStr].label=_catLabel}}else{_maxCatObj[styleStr]={label:_catLabel,style:overriddenStyle}}}for(key in _maxCatObj){if(_maxCatObj.hasOwnProperty(key)){style=_maxCatObj[key].style;label=_maxCatObj[key].label;style.lineHeight=(0,_lib.setLineHeight)(style);smartLabel.setStyle(style);axisConfig.rotateLabels&&(slHeight=parseInt(style.lineHeight.replace(/(\d+)px/,"$1"),10));smartLabelText=smartLabel.getSmartText(label,_lib.UNDEF,slHeight);referenceSide=axisConfig.rotateLabels===0?smartLabelText.width>minPxPerLabel?minPxPerLabel:smartLabelText.width:smartLabelText.height;_maxSpan=Math.max(referenceSide,_maxSpan)}}possibleLabelsNo=Math.floor(Math.abs(axis._getCustomPixel(max)-axis._getCustomPixel(min))/_maxSpan);_fStep=Math.max(Math.ceil(labelCount/possibleLabelsNo),axisConfig.labelStep);intervalWidth=Math.abs(axis._getCustomPixel(min)-axis._getCustomPixel(min+_fStep));if(labelCount<=possibleLabelsNo){return axisConfig.labelStep}return _fStep}};categoryAxisMeasurement._inProp={};categoryAxisMeasurement.getCopyById=function(id){var cam=this,propStore=cam._inProp,root=cam.__root__,copyStore=propStore.copyStore,copyById;copyStore=copyStore||{};copyById=copyStore[id];if(copyById){return copyById}(0,_lib.extend2)(copyById=copyStore[id]={},root);return copyById};if(axisConfig.tickValues){switch(labelDisplay){case"rotate":if(slantLabel){labels.rotation=300}else{labels.rotation=270}confMeasurement=categoryAxisMeasurement.getCopyById("rotate");break;case"stagger":confMeasurement=categoryAxisMeasurement.getCopyById("stagger");confMeasurement.getHeight=function(categoryIndex){var allCat,cat,catStyle,metrics;allCat=axisConfig.tickValues.tickValue;cat=allCat[categoryIndex];catStyle=cat&&cat.style||(cat.style={});overriddenStyle={fontSize:labelStyle.fontSize,fontFamily:labelStyle.fontFamily,lineHeight:labelStyle.lineHeight,fontWeight:labelStyle.fontWeight};(0,_lib.extend2)(overriddenStyle,catStyle);smartLabel.setStyle(overriddenStyle);metrics=smartLabel.getOriSize(cat.label);return metrics.height};confMeasurement.getWidth=function(cat){axisXPadding=1;return cat.individualIW?cat.individualIW:2*intervalWidth*sWidthAdjstFactor-axisXPadding};reCalculateStaggerLines=function reCalculateStaggerLines(categories){var category,categoryLength=categories.length,lastElement,defLineHeight,lastCSum=0,index,rSum,calStaggerLines,itrStep,smartTestText;smartLabel.setStyle(labelStyle);smartTestText=smartLabel.getOriSize(testString);defLineHeight=smartTestText.height;lastElement=categories[categoryLength-1];if(Math.floor(lastElement._cumulativeSum)<=Math.ceil(categoryLength*(defLineHeight+defTextPadding))){calStaggerLines=Math.floor(maxHeight/defLineHeight);staggerLines=calStaggerLines-staggerLines<0?calStaggerLines:staggerLines}else{calStaggerLines=Math.floor(maxHeight/(defLineHeight+2*defTextPadding));do{lastCSum=0;itrStep=calStaggerLines;for(index=itrStep-1,categoryLength=categories.length;index<categoryLength;){if(categoryLength-index<calStaggerLines){index=categoryLength-1}category=categories[index];rSum=category._cumulativeSum-lastCSum;if(~~rSum>-~maxHeight){reCalrequired=true;break}else{reCalrequired=false}lastCSum=category._cumulativeSum;index+=itrStep}}while(calStaggerLines--&&reCalrequired);calStaggerLines++;staggerLines=Math.min(staggerLines,calStaggerLines)}axisConfig.drawnStaggerLines=staggerLines};updateCategoryMeta=function updateCategoryMeta(categories){var category,catStyle,categoryLength,catLineHeight,index,nonSkipCount=0;for(index=0,categoryLength=categories.length;index<categoryLength;index++){category=categories[index];if(category.stepSkipped){continue}catStyle=category&&category.style||{};if(!(catLineHeight=catStyle.lineHeight)){catLineHeight=labelStyle.lineHeight}staggerLineAvailed=nonSkipCount++%staggerLines;if(staggerLineAvailed){category.labelPadding=catLineHeight.replace(/px/i,"")*staggerLineAvailed}else{category.labelPadding=0}}};break;case"none":confMeasurement=categoryAxisMeasurement.getCopyById("none");confMeasurement.getHeight=_lib.stubFN;confMeasurement.getWidth=_lib.stubFN;finalRotationDecision=_lib.stubFN;if(axisConfig.rotateLabels){if(slantLabel){labels.rotation=300}else{labels.rotation=270}forceHeight=maxHeight}confMeasurement.getCalculatedLabelStep=function(){return axisConfig.labelStep};break;default:confMeasurement=categoryAxisMeasurement.getCopyById("auto");confMeasurement.getHeight=function(){return maxHeight};confMeasurement.getWidth=function(cat){return cat.individualIW?cat.individualIW:intervalWidth-2*axisXPadding};finalRotationDecision=function finalRotationDecision(style,categories){var autoWrapLimit,absMaxSmartText,i,categoryLength,category,catStyle,chartAttr=chart.getFromEnv("chart-attrib"),userRotation=(0,_lib.pluckNumber)(chartAttr&&chartAttr.rotatelabels);if(axisConfig.irregularCatAxis){return}smartLabel.setStyle(style);absMaxSmartText=smartLabel.getOriSize(testString);autoWrapLimit=absMaxSmartText.width;if(autoWrapLimit>=intervalWidth&&userRotation!==0){labels.rotation=slantLabel?300:270;labels.forceRotate=true;confMeasurement=categoryAxisMeasurement.getCopyById("rotate");getAllottedWidth=confMeasurement.getWidth;getAllottedHeight=confMeasurement.getHeight;maxLabelObj.width=0;for(i=0,categoryLength=categories.length;i<categoryLength;i++){category=categories[i];if(!(category&&(category.label||category.oriLabel))||(0,_lib.pluckNumber)(category.showlabel,axisConfig.showLabels,1)===0||category.stepSkipped===true){continue}catStyle=category._ovrStyle;smartLabel.setStyle({fontSize:catStyle.fontSize,fontFamily:catStyle.fontFamily,lineHeight:catStyle.lineHeight,fontWeight:catStyle.fontWeight});smartLabelText=smartLabel.getSmartText(category.oriLabel,getAllottedWidth(category),getAllottedHeight(i));category.label=smartLabelText.text;category.labelTooltext=smartLabelText.tooltext;category._sLabel=smartLabelText;if(maxLabelObj.width<smartLabelText.width){maxLabelObj.text=smartLabelText.text;maxLabelObj.width=smartLabelText.width;maxLabelObj.height=smartLabelText.height;maxLabelObj.style=catStyle}}maxText=maxLabelObj.text}};break}getAllottedWidth=confMeasurement.getWidth;getAllottedHeight=confMeasurement.getHeight;labelStep=axisConfig.labels.step=axisConfig.labelStep=axisConfig._oriLabelStep;labelStep=axisConfig.labels.step=axisConfig.labelStep=confMeasurement.getCalculatedLabelStep(allCategories);firstValue=(0,_cartesian.minimumEnquiry)(allCategories);for(i=firstValue,countValue=0,count=0,categoryLength=allCategories.length;i<categoryLength;i++,countValue++){singleCategory=allCategories[i];if(!(singleCategory&&(singleCategory.label||singleCategory.oriLabel))||(0,_lib.pluckNumber)(singleCategory.showlabel,axisConfig.showLabels,1)===0){continue}categoryCalculationInitiated=true;overriddenStyle={fontSize:labelStyle.fontSize,fontFamily:labelStyle.fontFamily,lineHeight:labelStyle.lineHeight,fontWeight:labelStyle.fontWeight};(0,_lib.extend2)(overriddenStyle,singleCategory.style);overriddenStyle.lineHeight=(0,_lib.setLineHeight)(overriddenStyle);currStyleStr=overriddenStyle.fontSize+overriddenStyle.fontFamily+overriddenStyle.lineHeight+overriddenStyle.fontWeight;if(currStyleStr!==prevStyleStr){smartLabel.setStyle(overriddenStyle);prevStyleStr=currStyleStr}if(countValue%labelStep){singleCategory.stepSkipped=true;singleCategory.appliedSmartLabel=false;skipCount++;continue}else{singleCategory.appliedSmartLabel=true;singleCategory.stepSkipped=false}singleCategory._ovrStyle=overriddenStyle;if(allCategories[i].plotWidth){labelHeightAllotment=Math.max(labelDisplay==="rotate"?allCategories[i].plotWidth-2*ROTATED_LABEL_PADDING:0,getAllottedHeight(i))}else{if(labelDisplay==="rotate"){if(i<categoryLength-1){labelGap=axis.getPixel(i+1)-axis.getPixel(i)-ROTATED_LABEL_MIN_GAP}}else{labelGap=0}if(labelDisplay==="rotate"&&isNaN(+labelGap)){labelGap=chartConfig.canvasWidth/axis.getVisibleLength()-ROTATED_LABEL_PADDING}labelHeightAllotment=Math.max(labelGap,getAllottedHeight(i))}smartLabelText=smartLabel.getSmartText(singleCategory.oriLabel||singleCategory.label,getAllottedWidth(singleCategory),labelHeightAllotment);cumulativeSum+=smartLabelText.height+defTextPadding;axis.components.labels[count++]={config:{width:smartLabelText.width,height:smartLabelText.height,props:{label:{}}}};singleCategory._cumulativeSum=cumulativeSum;singleCategory.oriLabel=singleCategory.oriLabel||singleCategory.label;singleCategory.label=smartLabelText.text;singleCategory.labelTooltext=smartLabelText.tooltext;singleCategory._sLabel=smartLabelText;if(maxLabelObj.width<smartLabelText.oriTextWidth){(0,_lib.extend2)(maxLabelObj,smartLabelText);maxLabelObj.style=overriddenStyle}if(maxLabelHeight<smartLabelText.height){maxLabelHeight=smartLabelText.height}}if(!categoryCalculationInitiated){return{height:0,width:0}}reCalculateStaggerLines(allCategories,skipCount);updateCategoryMeta(allCategories,skipCount);finalRotationDecision(maxLabelObj.style,allCategories);maxText=maxLabelObj.text||"";if(axisConfig.xAxisLabelMode==="mixed"){if(axisConfig.isPercent){numberFormatterFn=chart.getFromEnv("number-formatter").percentValue}else{numberFormatterFn=chart.getFromEnv("number-formatter").xAxis}maxTextSize=maxText.length;for(i=0,ln=ticks&&ticks.length;i<ln;++i){value=ticks[i];text=""+numberFormatterFn.call(chart.getFromEnv("number-formatter"),value,axisConfig.axisIndex);if(text.length>maxTextSize){maxText=text;maxTextSize=text.length}}}maxLabelObj.height=Math.max(maxLabelHeight,maxLabelObj.height||0);catLength=allCategories.length;for(i=0,categoryLength=allCategories.length;i<categoryLength;i++){firstCategory=allCategories[i];if(firstCategory._sLabel){break}}for(categoryLength=allCategories.length,i=categoryLength-1;i>=0;i--){lastCategory=allCategories[i];if(lastCategory._sLabel){break}}isZoomed=axis.getZoom()!==1;if(!labels.rotation&&!isZoomed&&firstCategory._sLabel){axisConfig.axisEndLabelDisplaySpace.left=Math.max(canvasLeft-(axis._getCustomPixel(firstCategory.x||0)-firstCategory._sLabel.width/2),0);axisConfig.axisEndLabelDisplaySpace.right=Math.max(axis._getCustomPixel(lastCategory.x||catLength-1)+lastCategory._sLabel.width/2-canvasRight,0)}else{axisConfig.axisEndLabelDisplaySpace.left=0;axisConfig.axisEndLabelDisplaySpace.right=0}retObj=maxLabelObj}else{if(axisConfig.numberFormatterFn){numberFormatterFn=chart.getFromEnv("number-formatter")[axisConfig.numberFormatterFn]}else if(axisConfig.isPercent){numberFormatterFn=chart.getFromEnv("number-formatter").percentValue}else{numberFormatterFn=chart.getFromEnv("number-formatter").xAxis}for(i=0,ln=ticks&&ticks.length;i<ln;++i){tick=ticks[i];value=(0,_lib.toPrecision)(tick,10);text=""+numberFormatterFn.call(chart.getFromEnv("number-formatter"),value,axisConfig.axisIndex);if(tick===min){firstLabel=text}if(tick===max){lastLabel=text}retObj=smartLabel.getOriSize(text);axis.components.labels[i]={config:{width:retObj.width,height:retObj.height,props:{label:{}}}};if(text.length>maxTextSize){maxText=text;maxTextSize=text.length}}smartLabel.setStyle({fontSize:labelStyle.fontSize,fontFamily:labelStyle.fontFamily,lineHeight:labelStyle.lineHeight,fontWeight:labelStyle.fontWeight});retObj=smartLabel.getOriSize(maxText||"");if(labelDisplay==="rotate"){labels.rotation=270}if(axisConfig.rotateLabels){if(slantLabel){labels.rotation=300}else{labels.rotation=270}}if(!labels.rotation){firstLabel=smartLabel.getOriSize(firstLabel||"");lastLabel=smartLabel.getOriSize(lastLabel||"");axisConfig.axisEndLabelDisplaySpace.left=firstLabel.width/2+2;axisConfig.axisEndLabelDisplaySpace.right=lastLabel.width/2+2}}if(axisConfig.tickValues&&labelDisplay==="stagger"){retObj.height=staggerLines*maxLabelObj.height}retObj.width=forceHeight?Math.min(forceHeight,retObj.width):retObj.width;retObj.width=(0,_lib.pluckNumber)(retObj.width);retObj.maxWidth=(0,_lib.pluckNumber)(retObj.maxWidth);return retObj};CartesainLabelManager.prototype._getVMaxLabelDimention=function _getVMaxLabelDimention(maxWidth){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),chartConfig=chart.config,smartLabel=chart.getFromEnv("smartLabel"),labelStyle=axisConfig.labels.style,useEllipsesWhenOverflow=axisConfig.useEllipsesWhenOverflow,maxLabelWidthPercent=axisConfig.maxLabelWidthPercent,minLabelWidthPercent=axisConfig.minLabelWidthPercent,maxTextSize=0,categories=chart.getFromEnv("dataSource").categories,maxTextDimention={height:0,width:0},maxText,tempMaxWidth,tempMinWidth,i,ln,ticks=axisConfig.ticks,value,text,allCategories,categoryLength,singleCategory,smartLabelText,numberFormatterFn,categoriesStyle={},categoryStyle,singleCategoryStyle;smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);smartLabel.setStyle({fontSize:labelStyle.fontSize,fontFamily:labelStyle.fontFamily,lineHeight:labelStyle.lineHeight,fontWeight:labelStyle.fontWeight});if(axisConfig.tickValues){if(categories){categoriesStyle={fontFamily:categories[0].font,fontSize:categories[0].fontsize,color:categories[0].fontcolor}}if(maxLabelWidthPercent){tempMaxWidth=maxLabelWidthPercent/100*chartConfig.width;if(tempMaxWidth<maxWidth){maxWidth=tempMaxWidth}}if(minLabelWidthPercent){tempMinWidth=minLabelWidthPercent/100*chartConfig.width;if(tempMinWidth>maxWidth){maxWidth=tempMinWidth}}allCategories=axisConfig.tickValues.tickValue;for(i=0,categoryLength=allCategories.length;i<categoryLength;i++){singleCategory=allCategories[i];if((0,_lib.pluckNumber)(singleCategory.showlabel,axisConfig.showLabels)===0){continue}categoryStyle={fontFamily:(0,_lib.pluck)(singleCategory.font,singleCategory.labelfont,categoriesStyle.fontFamily,labelStyle.fontFamily),fontSize:(0,_lib.pluck)(singleCategory.fontsize,singleCategory.labelfontsize,categoriesStyle.fontSize,labelStyle.fontSize).replace(/px/i,"")+"px",fontWeight:labelStyle.fontWeight=="normal"?(0,_lib.pluckNumber)(singleCategory.fontbold,singleCategory.labelfontbold,0)?"bold":"normal":labelStyle.fontWeight,fontStyle:labelStyle.fontStyle=="normal"?(0,_lib.pluckNumber)(singleCategory.fontitalic,singleCategory.labelfontitalic,0)?"italic":"normal":labelStyle.fontStyle};singleCategoryStyle={fontFamily:(0,_lib.pluck)(categoryStyle.fontFamily,categoriesStyle.fontFamily,labelStyle.fontFamily),fontSize:(0,_lib.pluck)(categoryStyle.fontSize,categoriesStyle.fontSize,labelStyle.fontSize),fontWeight:(0,_lib.pluck)(categoryStyle.fontWeight,labelStyle.fontWeight),fontStyle:(0,_lib.pluck)(categoryStyle.fontStyle,labelStyle.fontStyle)};singleCategoryStyle.lineHeight=(0,_lib.setLineHeight)(singleCategoryStyle);smartLabel.setStyle(singleCategoryStyle);smartLabelText=smartLabel.getSmartText(singleCategory.oriLabel||singleCategory.label,maxWidth,labelStyle.lineHeight,useEllipsesWhenOverflow);axis.components.labels[i]={config:{width:smartLabelText.width,height:smartLabelText.height,props:{label:{}}}};singleCategory.oriLabel=singleCategory.oriLabel||singleCategory.label;singleCategory.label=text=smartLabelText.text;singleCategory.labelTooltext=smartLabelText.tooltext;if(smartLabelText.width>maxTextSize){maxTextDimention=smartLabelText;maxTextSize=smartLabelText.width}}return maxTextDimention}else{if(axisConfig.numberFormatterFn){numberFormatterFn=chart.getFromEnv("number-formatter")[axisConfig.numberFormatterFn]}else if(axisConfig.isPercent){numberFormatterFn=chart.getFromEnv("number-formatter").percentValue}else{numberFormatterFn=chart.getFromEnv("number-formatter").yAxis}for(i=0,ln=ticks&&ticks.length;i<ln;++i){value=(0,_lib.toPrecision)(ticks[i],10);text=""+numberFormatterFn.call(chart.getFromEnv("number-formatter"),value,axisConfig.axisIndex);smartLabelText=smartLabel.getSmartText(text);axis.components.labels[i]={config:{width:smartLabelText.width,height:smartLabelText.height,props:{label:{}}}};if(text.length>maxTextSize){maxText=text;maxTextSize=text.length}}}return smartLabel.getOriSize(maxText)};CartesainLabelManager.prototype.getCleanValue=function getCleanValue(num,abs){var axis=this,numberFormatter=axis.getFromEnv("number-formatter");return numberFormatter.getCleanValue(num,abs)};CartesainLabelManager.prototype.generateMinorTicks=function generateMinorTicks(){if(this)return[]};CartesainLabelManager.prototype.setCanvas=function setCanvas(data){var axis=this,axisConfig=axis.config;axisConfig.canvas=data};CartesainLabelManager.prototype._adjustNumberFormatter=function _adjustNumberFormatter(interval){var axis=this,axisConfig=axis.config,axisIndex=axisConfig.axisIndex,isVertical=axisConfig.isVertical,chart=axis.getFromEnv("chart"),numberFormatter=chart.getFromEnv("number-formatter"),defaultDecimalPrecision=axisConfig._defaultDecimalPrecision,defaultForceDecimal=axisConfig._defaultForceDecimal,dec,beforeZero=0,formatConfig;if(isVertical||axisConfig.numberFormatterFn==="yAxis"){formatConfig=(numberFormatter.Y[axisIndex]||numberFormatter.Y[0]).yAxisLabelConf}else{formatConfig=numberFormatter.paramX}defaultDecimalPrecision!==_lib.UNDEF?formatConfig.decimalprecision=defaultDecimalPrecision:axisConfig._defaultDecimalPrecision=formatConfig.decimalprecision;defaultForceDecimal!==_lib.UNDEF?formatConfig.forcedecimals=defaultForceDecimal:axisConfig._defaultForceDecimal=formatConfig.forcedecimals;if(parseInt(interval,10)>0){return}dec=interval.toString().split(".")[1];if(dec){beforeZero=dec.match(/^[0]*/)[0].length+1;if(beforeZero>formatConfig.decimalprecision){formatConfig.forcedecimals=1}formatConfig.decimalprecision=Math.max(beforeZero,formatConfig.decimalprecision)}};CartesainLabelManager.prototype.setLabelConfig=function setLabelConfig(data){var axis=this,axisConfig=axis.config,labelConfig=axisConfig.labels,prop;for(prop in data){if(data.hasOwnProperty(prop)){labelConfig[prop]=data[prop]}}};return CartesainLabelManager}(_cartesian2["default"]);CartesainLabelManager.prototype._parseLabel=_commonApi._parseLabel;CartesainLabelManager.prototype._drawLabel=_commonApi._drawLabel;CartesainLabelManager.prototype.getTrendLineLimits=_commonApi.getTrendLineLimits;CartesainLabelManager.prototype.setAxisPadding=_commonApi.setAxisPadding;CartesainLabelManager.prototype.getLabel=_commonApi.getLabel;exports["default"]=CartesainLabelManager},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.minimumEnquiry=exports.getCrispPath=undefined;var _axis=__webpack_require__(295);var _axis2=_interopRequireDefault(_axis);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _cartesianAxisAnimation=__webpack_require__(296);var _cartesianAxisAnimation2=_interopRequireDefault(_cartesianAxisAnimation);var _number=__webpack_require__(297);var _number2=_interopRequireDefault(_number);var _diff=__webpack_require__(298);var _diff2=_interopRequireDefault(_diff);var _differenceWith=__webpack_require__(299);var _differenceWith2=_interopRequireDefault(_differenceWith);var _dependencyManager=__webpack_require__(125);var _commonApi=__webpack_require__(301);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var CRISP="crisp",BUTT="butt",EVENTARGS="eventArgs",TREND_ID="_trend",TICK_ID="_tick",LABEL_ID="_label",getCrispPath=function getCrispPath(path,width){var isCrisped=false,oddWidth=width%2,value,roundValue;if(path[1]===path[4]){value=path[1];roundValue=Math.round(value);path[1]=path[4]=oddWidth?roundValue>value?roundValue-.5:roundValue+.5:roundValue;isCrisped=true}if(path[2]===path[5]){value=path[2];roundValue=Math.round(value);path[2]=path[5]=oddWidth?roundValue>value?roundValue-.5:roundValue+.5:roundValue;isCrisped=true}return{path:path,isCrisped:isCrisped}},isVisible=function isVisible(visibleRange){return function(min,max){return!!(visibleRange.minValue<=min&&visibleRange.maxValue>=min||visibleRange.minValue<=max&&visibleRange.maxValue>=max)}},isInBetween=function isInBetween(visibleRange){return function(val){return!!(visibleRange.minValue<=val&&visibleRange.maxValue>=val)}},queryOptions={wrtVisible:true},minimumEnquiry=function minimumEnquiry(category){var i=0,len=category.length;for(;i<len;i++){if(category[i].label||category[i].oriLabel){return i}}};function getAxisNamePaddingOffset(axisConfig,chartConfig){var axisNamePaddingOffset=0;if(axisConfig.relativeAxis&&axisConfig.relativeAxis.config&&axisConfig.relativeAxis.config.axisNamePadding){axisNamePaddingOffset=Math.max(axisConfig.relativeAxis.config.axisNamePadding,axisNamePaddingOffset)}if(axisConfig.isOpposit&&chartConfig.canvasMarginRight){axisNamePaddingOffset=Math.max(axisNamePaddingOffset,chartConfig.canvasMarginRight-chartConfig.marginLeft-axisConfig.nameMaxW)}if(!axisConfig.isOpposit&&chartConfig.canvasMarginLeft){axisNamePaddingOffset=Math.max(axisNamePaddingOffset,chartConfig.canvasMarginLeft-chartConfig.marginRight-axisConfig.nameMaxW)}return axisNamePaddingOffset}(0,_dependencyManager.addDep)({name:"cartesianAxisAnimation",type:"animationRule",extension:_cartesianAxisAnimation2["default"]});var Cartesian=function(_Axis){_inherits(Cartesian,_Axis);function Cartesian(){_classCallCheck(this,Cartesian);var _this=_possibleConstructorReturn(this,_Axis.call(this));_this.config.referenceInfo=[];_this.config.prevTicks=[];_this.config.prevIntervalArr=[];_this.config.prevTrendLabels=[];_this.config.prevCategoryIntervalArr=[];return _this}Cartesian.prototype.placeAxis=function placeAxis(maxLimit){var axis=this,scale=axis.getScale(),scrollDimensions,chart=axis.getFromEnv("chart"),scrollBar=axis.getLinkedItem("scrollBar"),isVertical=axis.config.isVertical,isOpposite=axis.config.isOpposit,isReverse=axis.config.isReverse,chartConfig=chart.config,allocatedSpace={};if(scrollBar){scrollDimensions=scrollBar.getLogicalSpace();if(scrollDimensions){if(isVertical){chart.config.shift=scrollDimensions.width+scrollBar.config.conf.padding;allocatedSpace[isOpposite?"right":"left"]=chart.config.shift}else{chart.config.shift=scrollDimensions.height+scrollBar.config.conf.padding;allocatedSpace[isOpposite?"top":"bottom"]=chart.config.shift}chart._allocateSpace(allocatedSpace)}}if(isVertical){isReverse?scale.setRange([chartConfig.canvasBottom,chartConfig.canvasTop]):scale.setRange([chartConfig.canvasTop,chartConfig.canvasBottom]);return axis._placeVerticalAxis(maxLimit)}else{isReverse?scale.setRange([chartConfig.canvasRight,chartConfig.canvasLeft]):scale.setRange([chartConfig.canvasLeft,chartConfig.canvasRight]);return axis._placeHorizontalAxis(maxLimit)}};Cartesian.prototype._placeVerticalAxis=function _placeVerticalAxis(maxWidth){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),chartConfig=chart.config,smartLabel=chart.getFromEnv("smartLabel"),axisRange=axisConfig.axisRange,minLabelWidthPercent=axisConfig.minLabelWidthPercent,axisNameData=axisConfig.name,isOpposit=axisConfig.isOpposit,numberFormatter=axis.getFromEnv("number-formatter"),canvasHeight=chartConfig.canvasHeight,axisValuePadding=axisConfig.labelPadding=(0,_lib.pluckNumber)(axisConfig.rawAttr.axisValuePadding,4),axisNamePadding=(0,_lib.pluckNumber)(axisConfig.rawAttr.axisNamePadding,5),useEllipsesWhenOverflow=axisConfig.useEllipsesWhenOverflow,nameStyle=axisConfig.name.style,trendStyle=axisConfig.trend.trendStyle,axisName=axisConfig.axisName,trendlines=axisConfig.trendLines,drawLabelsOpposit=axisConfig.drawLabelsOpposit,drawAxisNameOpposit=axisConfig.drawAxisNameOpposit,j,jLen,axisLabelWidth=0,counter=0,trendLabelConfig,labelWidth=0,nameWidth=0,trendLeftWidth=0,trendRightWidth=0,retObj={left:0,right:0},maxLeftTrendValue="",maxRightTrendValue="",reserveNameHeight=0,numberFormatterFn,axisSmartName,axisSmartTrendValue,trendTextFromValue,i,minLabelWidth=-1,max,min,text,dimention,iLim,trendObj,valueOnRight,axisLineThickness,startTValue,endTValue;if(minLabelWidthPercent){minLabelWidth=minLabelWidthPercent/100*chartConfig.width}axisConfig.oriCanvasHeight=canvasHeight;if(axisValuePadding<0){axisConfig.labelPadding=2}if(axisConfig.drawTick&&axisConfig.tickLength){axisLineThickness=axisConfig.axisLineThickness+axisConfig.tickLength}else{axisLineThickness=axisConfig.axisLineThickness}if(axisConfig.showAxisLine){axisConfig.labelPadding=(0,_lib.pluckNumber)(axisValuePadding,2)+axisLineThickness;if(axisConfig.labelPadding<0){axisConfig.labelPadding=(axisConfig.axisLineThickness<0?0:axisLineThickness)+2}maxWidth-=axisConfig.axisLineThickness}else{axisConfig.labelPadding=(0,_lib.pluckNumber)(axisValuePadding,2);if(axisConfig.labelPadding<0){axisConfig.labelPadding=2}}max=axisRange.max;min=axisRange.min;axisConfig.name.rotation=0;axisConfig.labels.step=axisConfig.labelStep;axisConfig.labels.isDraw=1;axisConfig.labels.drawNormalVal=axisConfig.showDivLineValues;axisConfig.labels.drawLimitVal=axisConfig.showLimits;reserveNameHeight=nameStyle.lineHeight;reserveNameHeight=Number(reserveNameHeight.replace(/px/i,""));if(axisName&&reserveNameHeight<maxWidth){maxWidth-=reserveNameHeight}if(axisConfig.showLimits!==1&&axisConfig.showDivLineValues!==1){axisConfig.labels.isDraw=0}dimention=axisConfig.drawLabels?axis._getVMaxLabelDimention(maxWidth-axisConfig.labelPadding):{width:0,height:0};if(dimention.width+axisConfig.labelPadding>maxWidth&&!axisConfig.tickValues||dimention.width===0){axisConfig.labels.isDraw=0}if(axisConfig.labels.isDraw){axisConfig.labelMaxW=dimention.width>minLabelWidth?dimention.width:minLabelWidth;axisConfig.labelMaxH=dimention.height;axisLabelWidth=axisConfig.labelMaxW+axisConfig.labelPadding;labelWidth=axisLabelWidth}if(axisConfig.drawTrendLines&&axisConfig.drawTrendLabels&&trendlines&&trendlines.length){if(axisConfig.isPercent){numberFormatterFn=numberFormatter.percentValue}else if(axisConfig.isVertical){numberFormatterFn=numberFormatter.yAxis}else{numberFormatterFn=numberFormatter.xAxis}smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);smartLabel.setStyle({fontSize:trendStyle.fontSize,fontFamily:trendStyle.fontFamily,lineHeight:trendStyle.lineHeight,fontWeight:trendStyle.fontWeight});for(j=0,jLen=trendlines.length;j<jLen;j+=1){for(i=0,iLim=trendlines[j].line&&trendlines[j].line.length;i<iLim;i+=1){trendObj=trendlines[j].line[i];startTValue=numberFormatter.getCleanValue((0,_lib.pluck)(trendObj.startvalue,trendObj.value,0));endTValue=(0,_lib.pluckNumber)(trendObj.endvalue,startTValue);if(startTValue<=max&&startTValue>=min&&endTValue<=max&&endTValue>=min){if(axisConfig.isOpposit){trendObj.valueonright=1}valueOnRight=(0,_lib.pluckNumber)(trendObj.valueonright,0);trendTextFromValue=valueOnRight===1?trendObj.endvalue||trendObj.startvalue:trendObj.startvalue||trendObj.endvalue;text=(0,_lib.parseUnsafeString)(trendObj.origText||trendObj.displayvalue||trendTextFromValue||"");if(text===trendTextFromValue){text=""+numberFormatterFn.call(numberFormatter,text)}if(valueOnRight){if(text.length>maxRightTrendValue.length){maxRightTrendValue=text}}else{if(text.length>maxLeftTrendValue.length){maxLeftTrendValue=text}}}}}dimention=smartLabel.getOriSize(maxRightTrendValue);trendRightWidth=dimention.width+axisConfig.labelPadding;dimention=smartLabel.getOriSize(maxLeftTrendValue);trendLeftWidth=dimention.width+axisConfig.labelPadding;if(isOpposit){if(trendRightWidth>labelWidth&&trendRightWidth>maxWidth){trendRightWidth=maxWidth}labelWidth=Math.max(labelWidth,trendRightWidth+axisConfig.labelPadding);if(trendLeftWidth>maxWidth-labelWidth){trendLeftWidth=Math.min(trendLeftWidth,maxWidth-labelWidth)}}else{if(trendLeftWidth>labelWidth&&trendLeftWidth>maxWidth){trendLeftWidth=maxWidth}labelWidth=Math.max(labelWidth,trendLeftWidth+axisConfig.labelPadding);if(trendRightWidth>maxWidth-labelWidth){trendRightWidth=Math.min(trendRightWidth,maxWidth-labelWidth)}}for(j=0,jLen=trendlines.length;j<jLen;j+=1){for(i=0,iLim=trendlines[j].line&&trendlines[j].line.length;i<iLim;i+=1){trendObj=trendlines[j].line[i];startTValue=numberFormatter.getCleanValue((0,_lib.pluck)(trendObj.startvalue,trendObj.value,0));endTValue=(0,_lib.pluckNumber)(trendObj.endvalue,startTValue);if(Number(trendObj.valueonright)===1){text=trendObj.origText||trendObj.displayvalue||""+endTValue||""}else{text=trendObj.origText||trendObj.displayvalue||""+startTValue||""}text=(0,_lib.parseUnsafeString)(""+text);if(text===trendObj.endvalue||text===trendObj.startvalue){text=""+numberFormatterFn.call(numberFormatter,text)}trendObj.origText=text;valueOnRight=(0,_lib.pluckNumber)(trendObj.valueonright,0);if(valueOnRight){axisSmartTrendValue=smartLabel.getSmartText(text,trendRightWidth,chart.canvasHeight,useEllipsesWhenOverflow)}else{axisSmartTrendValue=smartLabel.getSmartText(text,labelWidth,chart.canvasHeight,useEllipsesWhenOverflow)}trendLabelConfig=axisConfig.parsedTrendLabels[counter++];if(trendLabelConfig){trendLabelConfig.attr.text=trendObj.displayvalue=axisSmartTrendValue.text;if(axisConfig.isOpposit){trendLabelConfig.valueOnRight=1;trendLabelConfig.attr["text-anchor"]=_lib.POSITION_START}}if(axisSmartTrendValue.tooltext){trendObj.valueToolText=axisSmartTrendValue.tooltext;trendLabelConfig&&(trendLabelConfig.valueToolText=trendObj.valueToolText)}else{delete trendObj.valueToolText;trendLabelConfig&&delete trendLabelConfig.valueToolText}}}}maxWidth+=reserveNameHeight;if(!axisConfig.drawAxisName||maxWidth-labelWidth-trendRightWidth<=0||axisName===""){axisNameData.isDraw=false;axisNameData.value=""}else{smartLabel.setStyle({fontSize:nameStyle.fontSize,fontFamily:nameStyle.fontFamily,lineHeight:nameStyle.lineHeight,fontWeight:nameStyle.fontWeight});axisNameData.isDraw=true;if(axisConfig.rotateAxisName){axisConfig.name.rotation=isOpposit?90:270;axisSmartName=smartLabel.getSmartText(axisName,canvasHeight,maxWidth-labelWidth-trendRightWidth);axisNameData.value=axisName;axisConfig.nameMaxW=Math.min(axisSmartName.height);nameWidth=axisConfig.nameMaxW+axisNamePadding}else{axisSmartName=smartLabel.getSmartText(axisName,maxWidth-labelWidth-trendRightWidth,canvasHeight);axisNameData.value=axisName;axisConfig.nameMaxW=Math.min(axisSmartName.width,maxWidth-labelWidth);axisConfig.nameMaxH=axisSmartName.height;if(axisConfig.axisNameWidth>=0){axisConfig.nameMaxW=Math.min(axisConfig.nameMaxW,axisConfig.axisNameWidth)}nameWidth=axisConfig.nameMaxW+axisNamePadding}}if(isOpposit){if(drawLabelsOpposit){retObj.left+=Math.max(axisLabelWidth,trendLeftWidth);retObj.right+=trendRightWidth}else{retObj.left+=trendLeftWidth;retObj.right+=Math.max(axisLabelWidth,trendRightWidth)}if(drawAxisNameOpposit){axisConfig.axisNamePadding=retObj.left+axisNamePadding;retObj.left+=nameWidth}else{axisConfig.axisNamePadding=retObj.right+axisNamePadding;retObj.right+=nameWidth}}else{if(drawLabelsOpposit){retObj.left+=trendLeftWidth;retObj.right+=Math.max(axisLabelWidth,trendRightWidth)}else{retObj.left+=Math.max(axisLabelWidth,trendLeftWidth);retObj.right+=trendRightWidth}if(drawAxisNameOpposit){axisConfig.axisNamePadding=retObj.right+axisNamePadding;retObj.right+=nameWidth}else{axisConfig.axisNamePadding=retObj.left+axisNamePadding;retObj.left+=nameWidth}}if(axisNameData.isDraw&&axisConfig.axisNamePadding+axisConfig.nameMaxW>maxWidth){axisConfig.axisNamePadding=maxWidth-axisConfig.nameMaxW;nameWidth=axisConfig.nameMaxW+axisConfig.axisNamePadding-labelWidth}return retObj};Cartesian.prototype._placeHorizontalAxis=function _placeHorizontalAxis(maxHeight){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),chartConfig=chart.config,smartLabel=chart.getFromEnv("smartLabel"),axisRange=axisConfig.axisRange,axisNameData=axisConfig.name,isOpposit=axisConfig.isOpposit,numberFormatter=chart.getFromEnv("number-formatter"),drawLabelsOpposit=axisConfig.drawLabelsOpposit,drawAxisNameOpposit=axisConfig.drawAxisNameOpposit,axisLabelHeight=0,canvasWidth=chartConfig.canvasWidth,axisValuePadding=axisConfig.labelPadding=(0,_lib.pluckNumber)(axisConfig.rawAttr.axisValuePadding,4),axisNamePadding=(0,_lib.pluckNumber)(axisConfig.rawAttr.axisNamePadding,5),useEllipsesWhenOverflow=axisConfig.useEllipsesWhenOverflow,nameStyle=axisConfig.name.style,trendStyle=axisConfig.trend.trendStyle,axisName=axisConfig.axisName,vtrendlines=axisConfig.vTrendLines,valueOnRight,trendTextFromValue,j,jLen,labelHeight=0,counter=0,trendLabelConfig,nameHeight=0,retObj={top:0,bottom:0},trendMaxHeight=0,reserveNameHeight=0,axisSmartName,i,max,min,text,iLim,heightLeft,trendObj,axisSmartTrendValue,trendHeight,dimention,numberFormatterFn,axisLineThickness,startTValue,endTValue;if(axisValuePadding<0){axisConfig.labelPadding=2}if(axisConfig.drawTick&&axisConfig.tickLength){axisLineThickness=axisConfig.axisLineThickness+axisConfig.tickLength}else{axisLineThickness=axisConfig.axisLineThickness}if(axisConfig.showAxisLine){axisConfig.labelPadding=(0,_lib.pluckNumber)(axisValuePadding,2)+axisLineThickness;if(axisConfig.labelPadding<0){axisConfig.labelPadding=(axisConfig.axisLineThickness<0?0:axisLineThickness)+2}maxHeight-=axisConfig.axisLineThickness}else{axisConfig.labelPadding=(0,_lib.pluckNumber)(axisValuePadding,2);if(axisConfig.labelPadding<0){axisConfig.labelPadding=2}}max=axisRange.max;min=axisRange.min;axisConfig.labels.rotation=0;axisConfig.labels.step=axisConfig.labelStep;axisConfig.labels.isDraw=1;axisConfig.labels.drawNormalVal=axisConfig.showDivLineValues;axisConfig.labels.drawLimitVal=axisConfig.showLimits;reserveNameHeight=nameStyle.lineHeight;reserveNameHeight=Number(reserveNameHeight.replace(/px/i,""));if(axisName&&reserveNameHeight<maxHeight){maxHeight-=reserveNameHeight}if(axisConfig.rotateLabels&&axisConfig.labelDisplay!=="stagger"&&axisConfig.labelDisplay!=="none"){axisConfig.labelDisplay="rotate"}if(axisConfig.showLimits!==1&&axisConfig.showDivLineValues!==1){axisConfig.labels.isDraw=0}dimention=axisConfig.drawLabels?axis._getHMaxLabelDimention(maxHeight-axisConfig.labelPadding):{width:0,height:0};if(axisConfig.labels.rotation){if(dimention.width+axisConfig.labelPadding>maxHeight&&!axisConfig.tickValues){axisConfig.labels.isDraw=0}}else{if(dimention.height+axisConfig.labelPadding>maxHeight&&!axisConfig.tickValues){axisConfig.labels.isDraw=0}}if(axisConfig.labels.isDraw){if(axisConfig.labels.rotation){axisConfig.labelMaxW=dimention.height;axisConfig.labelMaxH=dimention.width;axisLabelHeight=dimention.width+axisConfig.labelPadding}else{axisConfig.labelMaxW=dimention.width;axisConfig.labelMaxH=dimention.height;axisLabelHeight=dimention.height+axisConfig.labelPadding}labelHeight=axisLabelHeight}labelHeight=Math.max(labelHeight,axisConfig.labelPadding);heightLeft=labelHeight<=maxHeight?maxHeight-labelHeight:maxHeight;if(axisConfig.drawTrendLines&&axisConfig.drawTrendLabels&&vtrendlines&&axisConfig.isActive){if(axisConfig.isPercent){numberFormatterFn=axis.getFromEnv("number-formatter").percentValue}else if(axisConfig.isVertical){numberFormatterFn=axis.getFromEnv("number-formatter").yAxis}else{numberFormatterFn=axis.getFromEnv("number-formatter").xAxis}smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);smartLabel.setStyle({fontSize:trendStyle.fontSize,fontFamily:trendStyle.fontFamily,lineHeight:trendStyle.lineHeight,fontWeight:trendStyle.fontWeight});for(j=0,jLen=vtrendlines.length;j<jLen;j+=1){for(i=0,iLim=vtrendlines[j].line&&vtrendlines[j].line.length;i<iLim;i+=1){trendObj=vtrendlines[j].line[i];startTValue=numberFormatter.getCleanValue((0,_lib.pluck)(trendObj.startvalue,trendObj.value,0));endTValue=(0,_lib.pluckNumber)(trendObj.endvalue,startTValue);if(startTValue<=max&&startTValue>=min&&endTValue<=max&&endTValue>=min){valueOnRight=(0,_lib.pluckNumber)(trendObj.valueonright,0);trendTextFromValue=valueOnRight===1?trendObj.endvalue||trendObj.startvalue:trendObj.startvalue||trendObj.endvalue;text=(0,_lib.parseUnsafeString)(trendObj.origText||trendObj.displayvalue||trendTextFromValue||"");if(text===trendTextFromValue){text=""+numberFormatterFn.call(chart.getFromEnv("number-formatter"),text)}trendObj.origText=text;axisSmartTrendValue=smartLabel.getSmartText(text,chart.canvasWidth,trendStyle.lineHeight,useEllipsesWhenOverflow);trendHeight=axisSmartTrendValue.height+2;if(heightLeft-trendHeight<0){trendObj.displayvalue=""}else{trendLabelConfig=axisConfig.parsedTrendLabels[counter++];if(trendLabelConfig){trendLabelConfig.attr.text=trendObj.displayvalue=axisSmartTrendValue.text}trendMaxHeight=trendMaxHeight<axisSmartTrendValue.height?axisSmartTrendValue.height:trendMaxHeight}if(axisSmartTrendValue.tooltext){trendObj.valueToolText=axisSmartTrendValue.tooltext;trendLabelConfig&&(trendLabelConfig.valueToolText=trendObj.valueToolText)}else{delete trendObj.valueToolText;trendLabelConfig&&delete trendLabelConfig.valueToolText}}}}}heightLeft-=trendMaxHeight;labelHeight+=trendMaxHeight;heightLeft+=reserveNameHeight;maxHeight+=reserveNameHeight;if(!axisConfig.drawAxisName||heightLeft<=0||axisName===""){axisNameData.isDraw=false;axisNameData.value=""}else{smartLabel.setStyle({fontSize:nameStyle.fontSize,fontFamily:nameStyle.fontFamily,lineHeight:nameStyle.lineHeight,fontWeight:nameStyle.fontWeight});axisNameData.isDraw=true;axisSmartName=smartLabel.getSmartText(axisName,canvasWidth,heightLeft);axisNameData.value=axisName;axisConfig.nameMaxW=canvasWidth;axisConfig.nameMaxH=axisSmartName.height;nameHeight=axisSmartName.height+axisNamePadding;axisConfig.axisNamePadding=axisNamePadding+labelHeight;if(axisConfig.axisNamePadding+axisSmartName.height>maxHeight){axisConfig.axisNamePadding=maxHeight-axisSmartName.height;nameHeight=axisSmartName.height+axisConfig.axisNamePadding-labelHeight}}if(isOpposit){if(drawLabelsOpposit){retObj.bottom+=axisLabelHeight+trendMaxHeight}else{retObj.top+=axisLabelHeight;retObj.bottom+=trendMaxHeight}axisConfig.trendBottomPadding=retObj.bottom-trendMaxHeight+2;if(drawAxisNameOpposit){retObj.bottom+=nameHeight}else{retObj.top+=nameHeight}}else{if(drawLabelsOpposit){retObj.top+=axisLabelHeight;retObj.bottom+=trendMaxHeight}else{retObj.bottom+=axisLabelHeight+trendMaxHeight}axisConfig.trendBottomPadding=retObj.bottom-trendMaxHeight+2;if(drawAxisNameOpposit){retObj.top+=nameHeight}else{retObj.bottom+=nameHeight}}return retObj};Cartesian.prototype._parseCategoryPlotLine=function _parseCategoryPlotLine(){var axis=this,axisConfig=axis.config,axisRange=axisConfig.axisRange,tickValue=axisConfig.tickValues.tickValue,plotLineColor=(0,_libGraphics.convertColor)(axisConfig.divLineColor,axisConfig.divLineAlpha),plotLineWidth=axisConfig.divLineThickness,plotLineDashStyle=axisConfig.divLineIsDashed?(0,_lib.getDashStyle)(axisConfig.divLineDashLen,axisConfig.divLineDashGap,plotLineWidth):_lib.DASH_DEF,axisAttrObj,i,willDraw=isInBetween(axis.getVisibleConfig()),value,ticks=axisConfig._allTicks,len=ticks.length;axisAttrObj={stroke:plotLineColor,"stroke-width":plotLineWidth,"stroke-dasharray":plotLineDashStyle};if(tickValue[0]&&(tickValue[0].x!==_lib.UNDEF||tickValue[0].y!==_lib.UNDEF)){return}if(axisConfig.lines.isDraw&&axisConfig.categoryNumDivLines){for(i=0;i<len;++i){value=ticks[i];if(!willDraw(value)){continue}if(value===axisRange.min||value===axisRange.max){continue}axis.setReferenceInfo({from:value,type:"line",layer:1,attr:axisAttrObj})}}};Cartesian.prototype._drawComponents=function _drawComponents(){var axis=this,axisConfig=axis.config;axisConfig.drawAxisName&&axis._drawAxisName();axisConfig.drawAxisLine&&axis._drawAxisLine();if(!axisConfig.tickValues){axisConfig.drawLabels&&axis._drawLabel()}else{axisConfig.drawLabels&&axis._drawCategory()}axisConfig.drawTrendLines&&axis.drawTrendLabel();axis._drawScrollBar()};Cartesian.prototype.drawTrendLabel=function drawTrendLabel(){var axis=this,axisConfig=axis.config,trendLabelConfigs=axisConfig.parsedTrendLabels,animationManager=axis.getFromEnv("animationManager"),toolTipController=this.getFromEnv("toolTipController"),container=axisConfig.axisTrendLabelContainer,isOpposite=axisConfig.isOpposit,axisPadding=axisConfig.labelPadding,vtrendlines=axisConfig.vTrendLines,trendlines=axisConfig.trendLines,axisDimension=axisConfig.axisDimention,visibleDomain=axis.getVisibleConfig(),visibleMin=visibleDomain.minValue,visibleMax=visibleDomain.maxValue,valueOnRight=void 0,trendLabelConfig=void 0,trendLabelElement=void 0,fixedTrendLabelPos=void 0,fixedTrendLabelPosRight=void 0,isTrendZone=void 0,startValue=void 0,midValue=void 0,endValue=void 0,isVisible=true,startValuePixel=void 0,endValuePixel=void 0,removingElement=void 0,diff=void 0,isEndValDefined=void 0,i=void 0,ii=void 0;for(i=0,ii=trendLabelConfigs.length;i<ii;i++){trendLabelConfigs[i].id=i+TREND_ID}if(vtrendlines){fixedTrendLabelPos=isOpposite?axisDimension.opposite-(axisConfig.trendBottomPadding||0):axisDimension.y+(axisConfig.trendBottomPadding||0)}else{fixedTrendLabelPos=isOpposite?axisDimension.opposite+(axisPadding||0):axisDimension.x-(axisPadding||0);fixedTrendLabelPosRight=isOpposite?axisDimension.x+(axisPadding||0):axisDimension.opposite+(axisPadding||0)}diff=(0,_differenceWith2["default"])(function(prev,now){return prev.attr.text===now.attr.text},axisConfig.prevTrendLabels,trendLabelConfigs);for(i=0,ii=diff.length;i<ii;i++){removingElement=axis.getGraphicalElement(diff[i].id);if(removingElement){axis.removeGraphicalElement(removingElement)}}axisConfig.prevTrendLabels=(0,_lib.extend2)([],trendLabelConfigs);if(!axisConfig.drawTrendLabels){for(i=0,ii=trendLabelConfigs.length;i<ii;i++){removingElement=axis.getGraphicalElement(trendLabelConfigs[i].id);if(removingElement){axis.removeGraphicalElement(removingElement)}}return}for(i=0,ii=trendLabelConfigs.length;i<ii;i++){trendLabelConfig=trendLabelConfigs[i];trendLabelElement=axis.getGraphicalElement(i+TREND_ID);startValue=+trendLabelConfig.from;endValue=+trendLabelConfig.to;isVisible=true;isEndValDefined=!isNaN(endValue);if(isEndValDefined){midValue=startValue+(endValue-startValue)/2;if(visibleMin>midValue||visibleMax<midValue)isVisible=false}else{if(visibleMin>startValue||visibleMax<startValue)isVisible=false}if(!isVisible){trendLabelElement&&axis.removeGraphicalElement(trendLabelElement)}else{if(vtrendlines){startValuePixel=axis.getPixel(startValue,queryOptions);endValuePixel=endValue?axis.getPixel(endValue,queryOptions):0;isTrendZone=(0,_lib.pluckNumber)(trendLabelConfig.isTrendZone,axisConfig.isTrendZone,1);if(isEndValDefined&&endValue!==startValue&&isTrendZone){trendLabelConfig.attr.x=startValuePixel+(endValuePixel-startValuePixel)/2;trendLabelConfig.attr.y=fixedTrendLabelPos}else{trendLabelConfig.attr.x=endValue?endValuePixel:startValuePixel;trendLabelConfig.attr.y=fixedTrendLabelPos}}else if(trendlines){startValuePixel=axis.getPixel(startValue,queryOptions);endValuePixel=endValue?axis.getPixel(endValue,queryOptions):0;valueOnRight=(0,_lib.pluckNumber)(trendLabelConfig.valueOnRight,0);isTrendZone=(0,_lib.pluckNumber)(trendLabelConfig.isTrendZone,axisConfig.isTrendZone,0);if(isEndValDefined&&endValue!==startValue&&isTrendZone){trendLabelConfig.attr.x=valueOnRight?fixedTrendLabelPosRight:fixedTrendLabelPos;trendLabelConfig.attr.y=startValuePixel+(endValuePixel-startValuePixel)/2}else{trendLabelConfig.attr.x=valueOnRight?fixedTrendLabelPosRight:fixedTrendLabelPos;trendLabelConfig.attr.y=endValue?valueOnRight?endValuePixel:startValuePixel:startValuePixel}}trendLabelElement=axis.addGraphicalElement(i+TREND_ID,animationManager.setAnimation({container:container,el:trendLabelElement||"text",attr:trendLabelConfig.attr,css:trendLabelConfig.css,data:{value:midValue||startValue},component:axis,label:"text"}));if(axisConfig.showTooltip&&trendLabelConfig.valueToolText){toolTipController.enableToolTip(trendLabelElement,trendLabelConfig.valueToolText)}else{toolTipController.disableToolTip(trendLabelElement)}}}};Cartesian.prototype._drawAxisName=function _drawAxisName(){var axis=this,axisConfig=axis.config,toolTipController=this.getFromEnv("toolTipController"),canvasDimensions=axis.getLinkedItem("canvas").getEffectiveDimensions(),animationManager=axis.getFromEnv("animationManager"),canvasLeft=canvasDimensions.left,canvasTop=canvasDimensions.top,canvasWidth=canvasDimensions.width,canvasHeight=canvasDimensions.height,canvasBottom=canvasTop+canvasHeight,canvasRight=canvasLeft+canvasWidth,chartConfig=axis.getFromEnv("chart").config,style=axisConfig.name.style,axisName=axisConfig.name.value,isOpposite=axisConfig.isOpposit,isVertical=axisConfig.isVertical,smartLabel=axis.getFromEnv("smartLabel"),axisNameContainer=axisConfig.axisNameContainer,axisNamePadding=axisConfig.axisNamePadding,axisNameMaxH=axisConfig.nameMaxH,axisNameMaxW=axisConfig.nameMaxW,axisDimension=axisConfig.axisDimention,axisStart=isVertical?axisDimension.x:axisDimension.y,axisOpposite=axisDimension.opposite,axisNameElement=axis.getGraphicalElement("axisName"),rotation=(0,_lib.pluckNumber)(axisConfig.name.rotation,isVertical?90:270),paper=axis.getFromEnv("paper"),css={fontFamily:style.fontFamily,fontSize:style.fontSize,lineHeight:style.lineHeight,fontWeight:style.fontWeight,fontStyle:style.fontStyle},axisAttrObj,axisSmartName,tooltext,nameHeightAvail,nameHeight,yPos;if(axisConfig.name.isDraw){axisAttrObj={fontFamily:style.fontFamily,fill:style.color,"vertical-align":"middle","font-size":style.fontSize,"line-height":style.lineHeight};smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);smartLabel.setStyle({fontSize:style.fontSize,fontFamily:style.fontFamily,lineHeight:style.lineHeight,fontWeight:style.fontWeight});if(axisConfig.drawAxisNameOpposit){isOpposite=!isOpposite;axisStart=axisOpposite}if(isVertical){axisNamePadding=Math.max(axisNamePadding,getAxisNamePaddingOffset(axisConfig,chartConfig));if(axisConfig.axisNameAlignCanvas||chartConfig.captionalignment&&chartConfig.captionalignment==="left"){nameHeightAvail=canvasHeight}else{nameHeightAvail=Math.max(canvasHeight,axisConfig.oriCanvasHeight||0)}if(rotation){axisSmartName=smartLabel.getSmartText(axisName,nameHeightAvail,axisNameMaxW);tooltext=axisSmartName.tooltext;nameHeight=axisSmartName.width}else{axisSmartName=smartLabel.getSmartText(axisName,axisNameMaxW,nameHeightAvail);tooltext=axisSmartName.tooltext;nameHeight=axisSmartName.height}if(axisConfig.drawAxisNameFromBottom){yPos=canvasBottom-nameHeight/2}else{yPos=nameHeight>canvasHeight?chartConfig.height/2:canvasTop+canvasHeight/2}axisAttrObj.text=axisSmartName.text;axisAttrObj.x=isOpposite?(axisStart||canvasRight)+axisNamePadding+axisNameMaxW/2:(axisStart||canvasLeft)-axisNamePadding-axisNameMaxW/2;axisAttrObj.y=yPos}else{axisSmartName=smartLabel.getSmartText(axisName,canvasWidth,axisNameMaxH);tooltext=axisSmartName.tooltext;if(isOpposite&&chartConfig.canvasMarginTop){axisNamePadding=Math.max(axisNamePadding,chartConfig.canvasMarginTop-chartConfig.marginTop-axisNameMaxH)}if(!isOpposite&&chartConfig.canvasMarginBottom){axisNamePadding=Math.max(axisNamePadding,chartConfig.canvasMarginBottom-chartConfig.marginBottom-axisNameMaxH)}axisAttrObj.text=axisSmartName.text;axisAttrObj.x=canvasLeft+canvasWidth/2;axisAttrObj.y=isOpposite?(axisStart||canvasTop)-axisNamePadding-axisNameMaxH/2:(axisStart||canvasBottom)+axisNamePadding+axisNameMaxH/2}axisAttrObj["text-bound"]=axisSmartName.text===""?[]:[style.backgroundColor,style.borderColor,style.borderColor?style.borderThickness:0,style.borderPadding,style.borderRadius,style.borderDash];axisAttrObj.transform=paper.getSuggestiveRotation(isVertical?rotation:0,axisAttrObj.x,axisAttrObj.y);axisNameElement=axis.addGraphicalElement("axisName",animationManager.setAnimation({css:css,el:axisNameElement||"text",attr:axisAttrObj,container:axisNameContainer,component:axis,label:"text"}));if(axisConfig.showTooltip){toolTipController.enableToolTip(axisNameElement,tooltext)}else{toolTipController.disableToolTip(axisNameElement)}}else{axisNameElement&&axis.removeGraphicalElement(axisNameElement)}};Cartesian.prototype._drawAxisLine=function _drawAxisLine(){var AXIS_LINE="axisLine";var axis=this,axisConfig=axis.config,isVertical=axisConfig.isVertical,isOpposite=axisConfig.isOpposit,chart=axis.getFromEnv("chart"),canvasDimensions=axis.getLinkedItem("canvas").getEffectiveDimensions(),animationManager=axis.getFromEnv("animationManager"),canvasTop=canvasDimensions.top,canvasLeft=canvasDimensions.left,canvasBottom=canvasTop+canvasDimensions.height,canvasRight=canvasLeft+canvasDimensions.width,axisDimension=axisConfig.axisDimention,axisStartPosition=isVertical?axisDimension.x:axisDimension.y,drawAxisLineWRTCanvas=axisConfig.drawAxisLineWRTCanvas,chartJSON=chart.getFromEnv("dataSource").chart,axisLineGroup=axisConfig.axisAxisLineContainerBottom,tickAttrObj,axisLineElementCheck=axis.getGraphicalElement(AXIS_LINE),axisLineElement,linePath,xAxisLineLeftExten,fixPoint,tickEndPoint,pixelValue,axisLineAttrObj,tickElement,tickElementCheck,removingElement,tick,tickId,drawElemIds=[],diff,i,crispPath,ticks,ln;xAxisLineLeftExten=(0,_lib.pluckNumber)(chartJSON.showyaxisline,chartJSON.showyaxisline)===1?(0,_lib.pluckNumber)(chartJSON.yaxislinethickness,chartJSON.pyaxislinethickness,1):0;if(axisConfig.showAxisLine){if(isVertical){if(isOpposite){axisStartPosition=drawAxisLineWRTCanvas?canvasRight:axisStartPosition;fixPoint=axisStartPosition+axisConfig.axisLineThickness/2}else{axisStartPosition=drawAxisLineWRTCanvas?canvasLeft:axisStartPosition;fixPoint=axisStartPosition-axisConfig.axisLineThickness/2}crispPath=getCrispPath(["M",fixPoint,canvasBottom,"L",fixPoint,canvasTop],axisConfig.axisLineThickness);linePath=crispPath.path}else{if(isOpposite){axisStartPosition=drawAxisLineWRTCanvas?canvasTop:axisStartPosition;fixPoint=axisStartPosition-axisConfig.axisLineThickness/2}else{axisStartPosition=drawAxisLineWRTCanvas?canvasBottom:axisStartPosition;fixPoint=axisStartPosition+axisConfig.axisLineThickness/2}crispPath=getCrispPath(["M",canvasLeft-xAxisLineLeftExten,fixPoint,"L",canvasRight,fixPoint],axisConfig.axisLineThickness);linePath=crispPath.path}axisLineAttrObj={path:linePath,stroke:axisConfig.axisLineColor,"stroke-linecap":BUTT,"stroke-width":axisConfig.axisLineThickness,"shape-rendering":crispPath.isCrisped?CRISP:_lib.UNDEF};if(axisConfig.drawTick&&axisConfig.tickLength){tickAttrObj={stroke:axisConfig.tickColor,"stroke-width":axisConfig.tickWidth};if(isVertical){if(isOpposite){tickEndPoint=fixPoint+axisConfig.tickLength}else{tickEndPoint=fixPoint-axisConfig.tickLength}}else{if(isOpposite){tickEndPoint=fixPoint-axisConfig.tickLength}else{tickEndPoint=fixPoint+axisConfig.tickLength}}ticks=axisConfig.tickValues?axisConfig.tickValues.tickValue.map(function(tickObj){return isVertical?tickObj.y:tickObj.x}):axisConfig.ticks;for(i=0,ln=ticks.length;i<ln;i+=1){tick=ticks[i];tickId=""+tick+TICK_ID;tickElementCheck=axis.getGraphicalElement(tickId);pixelValue=axis.getPixel(tick,queryOptions);tickAttrObj.path=getCrispPath(isVertical?["M",fixPoint,pixelValue,"L",tickEndPoint,pixelValue]:["M",pixelValue,fixPoint,"L",pixelValue,tickEndPoint],axisConfig.tickWidth).path;tickElement=animationManager.setAnimation({el:tickElementCheck||"path",attr:tickAttrObj,data:{value:tick,path:tickAttrObj.path},container:axisLineGroup,component:axis,label:"path"});if(!tickElementCheck){axis.addGraphicalElement(tickId,tickElement)}drawElemIds.push(tickId)}}axisLineElement=animationManager.setAnimation({el:axisLineElementCheck||"path",attr:axisLineAttrObj,container:axisLineGroup,component:axis,label:"path"});if(!axisLineElementCheck){axis.addGraphicalElement(AXIS_LINE,axisLineElement)}drawElemIds.push(AXIS_LINE)}diff=(0,_diff2["default"])(axisConfig.prevTicks,drawElemIds);for(i=0,ln=diff.length;i<ln;i++){removingElement=axis.getGraphicalElement(diff[i]);removingElement&&axis.removeGraphicalElement(removingElement)}axisConfig.prevTicks=drawElemIds};Cartesian.prototype._parseCategory=function _parseCategory(){var axis=this,axisConfig=axis.config,axisDimention=axisConfig.axisDimention||{},chart=axis.getFromEnv("chart"),smartLabel=chart.getFromEnv("smartLabel"),axisComponents=axis.components,labelStore=axisComponents.labels,canvasDimensions=axis.getLinkedItem("canvas").getEffectiveDimensions(),chartConfig=chart.config,isOpposit=axisConfig.isOpposit,labels=axisConfig.labels,style=labels.style,isVertical=axisConfig.isVertical,canvasTop=canvasDimensions.top,canvasLeft=canvasDimensions.left,canvasBottom=canvasTop+canvasDimensions.height,canvasRight=canvasLeft+canvasDimensions.width,axisPadding=axisConfig.labelPadding,axisStartPosition=isVertical?axisDimention.x:axisDimention.y,axisEndPosition=axisDimention.opposite,categories=chart.getFromEnv("dataSource").categories,categoriesStyle={},tickArr=axisConfig.tickValues.tickValue,i,curCategory,text,labelRotation,labelLineHeight,labelLineHeightpx,addCategoryPadding,css,categoryStyleFontFamily,categoryStyleFontSize,categoryStyleFontWeight,categoryStyleFontStyle,ParentCss,axisAttrObj,fontColor,pos,min=axisConfig.axisRange.min,curCategoryValue,labelBox,categoryArr,ln,tempStep,staggerLineAvailed,staggerLines=axisConfig.drawnStaggerLines,isUnevenLabels=(axisConfig.labelStep!==axisConfig.labels.step||axis.getZoom()!==1)&&axisConfig.labelDisplay==="stagger",categoryPadding,staggerLabelWidth,intervalWidth,smartLabelText,labelMaxW,labelMaxH,axisXPadding=1,curCategoryIndex;if(axisConfig.labels.isDraw){if(isVertical){intervalWidth=Math.abs(axis.getPixel(0,queryOptions)-axis.getPixel(0+axisConfig.axisRange.tickInterval,queryOptions));if(axisConfig.labelMaxH>intervalWidth){tempStep=Math.ceil(axisConfig.labelMaxH/intervalWidth)}if(tempStep>axisConfig.labels.step){axisConfig.labels.step=tempStep}}if(isUnevenLabels){staggerLabelWidth=2*Math.abs(axis.getPixel(min,queryOptions)-axis.getPixel(min+axisConfig.labels.step,queryOptions))*axisConfig.sWidthAdjstFactor-axisXPadding}labelRotation=axisConfig.labels.rotation;labelMaxW=labelRotation?axisConfig.labelMaxH:axisConfig.labelMaxW;labelMaxH=labelRotation?axisConfig.labelMaxW:axisConfig.labelMaxH;if(axisConfig.drawLabelsOpposit){isOpposit=!isOpposit;axisStartPosition=axisEndPosition}if(categories&&categories[0]&&axisConfig.xAxisLabelMode!=="auto"){categoriesStyle.fontFamily=categories[0].font;categoriesStyle.fontSize=categories[0].fontsize;categoriesStyle.color=categories[0].fontcolor}axisConfig.ParentCss=ParentCss={fontFamily:(0,_lib.pluck)(categoriesStyle.fontFamily,style.fontFamily),fontSize:(0,_lib.pluck)(categoriesStyle.fontSize,style.fontSize),fontWeight:(0,_lib.pluck)(style.fontWeight),fontStyle:(0,_lib.pluck)(style.fontStyle)};ParentCss.lineHeight=(0,_lib.setLineHeight)(ParentCss);categoryArr=axis._getCategoryArr();axisComponents.labelIndexArr=[];for(i=0,ln=categoryArr.length;i<ln;i+=1){curCategoryIndex=categoryArr[i].index;curCategory=tickArr[curCategoryIndex];curCategoryValue=categoryArr[i].value;axisComponents.labelIndexArr.push(curCategoryIndex);categoryStyleFontFamily=(0,_lib.pluck)(curCategory.font,curCategory.labelfont);categoryStyleFontSize=(0,_lib.pluck)(curCategory.fontsize,curCategory.labelfontsize);categoryStyleFontWeight=(0,_lib.pluck)(curCategory.fontbold,curCategory.labelfontbold)?(0,_lib.pluckNumber)(curCategory.fontbold,curCategory.labelfontbold,0)?"bold":_lib.NORMAL:_lib.UNDEF;categoryStyleFontStyle=(0,_lib.pluck)(curCategory.fontitalic,curCategory.labelfontitalic)?(0,_lib.pluckNumber)(curCategory.fontitalic,curCategory.labelfontitalic,0)?"italic":_lib.NORMAL:_lib.UNDEF;fontColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(curCategory.fontcolor,curCategory.labelfontcolor,categoriesStyle.color,style.color),(0,_lib.pluckNumber)(curCategory.labelalpha,axisConfig.rawAttr.labelFontAlpha,chart.config.singleseries?_lib.UNDEF:curCategory.alpha,100));if(categoryStyleFontFamily||categoryStyleFontSize||categoryStyleFontWeight||categoryStyleFontStyle){css={};categoryStyleFontFamily&&(css.fontFamily=categoryStyleFontFamily);categoryStyleFontSize&&(css.fontSize=categoryStyleFontSize);categoryStyleFontWeight&&(css.fontWeight=categoryStyleFontWeight);categoryStyleFontStyle&&(css.fontStyle=categoryStyleFontStyle);css.lineHeight=categoryStyleFontSize?(0,_lib.setLineHeight)(css):ParentCss.lineHeight}else{css=_lib.UNDEF}if(css||ParentCss){labelLineHeightpx=(css||ParentCss).lineHeight;if(labelLineHeightpx.indexOf("px")!==-1){labelLineHeight=labelLineHeightpx.replace(/px/i,"");labelLineHeight=parseFloat(labelLineHeight)}}if(curCategory.appliedSmartLabel===false){smartLabel.setStyle(curCategory._ovrStyle||ParentCss);smartLabelText=smartLabel.getSmartText(curCategory.oriLabel||curCategory.label,labelMaxW,labelMaxH);curCategory.oriLabel=curCategory.oriLabel||curCategory.label;curCategory.label=smartLabelText.text;curCategory.labelTooltext=smartLabelText.labelTooltext;curCategory.appliedSmartLabel=true}pos=axis.getPixel(curCategoryValue,queryOptions);if(isVertical){text=curCategory.label||"";addCategoryPadding=Number(curCategory.labelPadding)||0;axisAttrObj={fill:fontColor,"line-height":labelLineHeight,opacity:1,"text-anchor":isOpposit?_lib.POSITION_START:_lib.POSITION_END,text:text,cursor:!chartConfig.singleseries&&curCategory.link||curCategory.labellink||style.labelLink?_lib.POINTER:"",x:isOpposit?(axisStartPosition||canvasRight)+axisPadding:(axisStartPosition||canvasLeft)-axisPadding,y:addCategoryPadding?pos+addCategoryPadding:pos}}else{text=curCategory.label||"";addCategoryPadding=Number(curCategory.labelPadding)||0;axisAttrObj={fill:fontColor,"line-height":labelLineHeight,opacity:1,text:text,cursor:!chartConfig.singleseries&&curCategory.link||curCategory.labellink||style.labelLink?_lib.POINTER:"",x:pos,y:isOpposit?(canvasTop||axisStartPosition)-axisPadding:(axisStartPosition||canvasBottom)+axisPadding};if(labelRotation){axisAttrObj["text-anchor"]=isOpposit?_lib.POSITION_START:_lib.POSITION_END;axisAttrObj["vertical-align"]="middle"}else{axisAttrObj["text-anchor"]=_lib.POSITION_MIDDLE;axisAttrObj["vertical-align"]=isOpposit?_lib.POSITION_BOTTOM:_lib.POSITION_TOP}if(isUnevenLabels){staggerLineAvailed=curCategory.labelCount%staggerLines;if(staggerLineAvailed){if(!(labelLineHeight=curCategory.style.lineHeight))labelLineHeight=axisConfig.labels.style.lineHeight;categoryPadding=labelLineHeight.replace(/px/i,"")*staggerLineAvailed;axisAttrObj.y=isOpposit?axisAttrObj.y-categoryPadding:axisAttrObj.y+categoryPadding}smartLabel.setStyle(curCategory._ovrStyle||ParentCss);smartLabelText=smartLabel.getSmartText(curCategory.oriLabel||curCategory.label,staggerLabelWidth,labelMaxH);curCategory.oriLabel=curCategory.oriLabel||curCategory.label;axisAttrObj.text=curCategory.label=smartLabelText.text;curCategory.labelTooltext=smartLabelText.labelTooltext;curCategory.appliedSmartLabel=true}else if(addCategoryPadding){if(isOpposit){axisAttrObj.y-=addCategoryPadding}else{axisAttrObj.y+=addCategoryPadding}}}labelBox={label:curCategory.label,lineHeight:labelLineHeightpx,border:(0,_lib.pluckNumber)(curCategory.borderthickness,curCategory.labelborderthickness)?(0,_lib.pluckNumber)(curCategory.borderthickness,curCategory.labelborderthickness,1)+"px solid":"",borderColor:curCategory.bordercolor||curCategory.labelbordercolor?(0,_libGraphics.convertColor)(curCategory.bordercolor||curCategory.labelbordercolor,(0,_lib.pluckNumber)(curCategory.borderalpha,curCategory.labelborderalpha,curCategory.alpha,curCategory.labelalpha,100)):_lib.BLANKSTRING,borderThickness:(0,_lib.pluckNumber)(curCategory.borderthickness,curCategory.labelborderthickness),borderPadding:(0,_lib.pluckNumber)(curCategory.borderpadding,curCategory.labelborderpadding),borderRadius:(0,_lib.pluckNumber)(curCategory.borderradius,curCategory.labelborderradius),backgroundColor:curCategory.bgcolor||curCategory.labelbgcolor?(0,_libGraphics.convertColor)(curCategory.bgcolor||curCategory.labelbgcolor,(0,_lib.pluckNumber)(curCategory.bgalpha,curCategory.labelbgalpha,curCategory.alpha,curCategory.labelalpha,axisConfig.rawAttr.labelFontAlpha,100)):_lib.BLANKSTRING,borderDash:(0,_lib.pluckNumber)(curCategory.borderdashed,curCategory.labelborderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(curCategory.borderdashlen,curCategory.labelborderdashlen,4),(0,_lib.pluckNumber)(curCategory.borderdashgap,curCategory.labelborderdashgap,2)):(0,_lib.pluckNumber)(curCategory.borderdashed,curCategory.labelborderdashed)===0?_lib.DASH_DEF:style.borderDash};if(!curCategory.label){axisAttrObj["text-bound"]=[]}else{axisAttrObj["text-bound"]=[(0,_lib.pluck)(labelBox.backgroundColor,style.backgroundColor),(0,_lib.pluck)(labelBox.borderColor,style.borderColor),(0,_lib.pluck)(labelBox.borderThickness,style.borderThickness),(0,_lib.pluck)(labelBox.borderPadding,style.borderPadding),(0,_lib.pluck)(labelBox.borderRadius,style.borderRadius),(0,_lib.pluck)(labelBox.borderDash,style.borderDash)]}if(labels.shiftX){axisAttrObj.x+=labels.shiftX}if(labels.shiftY){axisAttrObj.y+=labels.shiftY}axisAttrObj.transform=(0,_lib.getSuggestiveRotation)(labelRotation,axisAttrObj.x,axisAttrObj.y);labelStore[curCategoryIndex]=labelStore[curCategoryIndex]||{config:{props:{label:{}}}};labelStore[curCategoryIndex].config.props.label.attr=axisAttrObj;labelStore[curCategoryIndex].config.props.label.css=css}}};Cartesian.prototype.allocatePosition=function allocatePosition(){var axis=this,axisConfig=axis.config;if(!axisConfig.tickValues){axisConfig.drawLabels&&axis._parseLabel()}else{axisConfig.drawLabels&&axis._parseCategory()}};Cartesian.prototype._drawCategory=function _drawCategory(){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),chartConfig=chart.config,labels=axisConfig.labels,animationManager=axis.getFromEnv("animationManager"),style=labels.style,toolTipController=this.getFromEnv("toolTipController"),axisContainer=axisConfig.axisContainer,categoryLabel=axis.config.categoryLabel||(axis.config.categoryLabel=[]),raiseEvent=function raiseEvent(event){return function(data){var ele=this;chart.plotEventHandler(ele,data,event)}},tickArr=axisConfig.tickValues.tickValue,i,curCategory,textElement,axisAttrObj,diff,curCategoryValue,categoryArr,categoryArrStr=[],tempEle,ln,config,removingElement,curCategoryIndex;if(axisConfig.labels.isDraw){axisContainer.css(axisConfig.ParentCss);categoryArr=axis._getCategoryArr();diff=(0,_differenceWith2["default"])(function(prev,now){return prev.value===now.value},axisConfig.prevCategoryIntervalArr,categoryArr);for(i=0,ln=diff.length;i<ln;i++){removingElement=axis.getGraphicalElement(""+diff[i].value+LABEL_ID);if(removingElement){axis.removeGraphicalElement(removingElement)}}axisConfig.prevCategoryIntervalArr=(0,_lib.extend2)([],categoryArr);for(i=0,ln=categoryArr.length;i<ln;i+=1){categoryArrStr[i]=""+categoryArr[i].value+LABEL_ID}for(i=0,ln=categoryArr.length;i<ln;i+=1){curCategoryIndex=categoryArr[i].index;curCategory=tickArr[curCategoryIndex];config=axis.components.labels[curCategoryIndex].config;axisAttrObj=config.props.label.attr;tempEle=axis.getGraphicalElement(categoryArrStr[i]);textElement=animationManager.setAnimation({el:tempEle||"text",attr:axisAttrObj,container:axisContainer,data:{value:curCategoryValue},component:axis,label:"text",css:config.props.label.css});if(!tempEle){axis.addGraphicalElement(categoryArrStr[i],textElement);textElement.click(raiseEvent("dataLabelClick")).hover(raiseEvent("dataLabelRollOver"),raiseEvent("dataLabelRollOut"))}textElement.data(EVENTARGS,{link:!chartConfig.singleseries&&curCategory.link||curCategory.labellink||style.labelLink,text:axisAttrObj.text,index:curCategoryIndex});if(curCategory.labelTooltext){toolTipController.enableToolTip(textElement,curCategory.labelTooltext)}else{toolTipController.disableToolTip(textElement)}categoryLabel[curCategoryIndex]=textElement}}else{for(i=0,ln=axisConfig.prevCategoryIntervalArr.length;i<ln;i++){removingElement=axis.getGraphicalElement(""+axisConfig.prevCategoryIntervalArr[i].value+LABEL_ID);if(removingElement){axis.removeGraphicalElement(removingElement)}}}};Cartesian.prototype._getCategoryArr=function _getCategoryArr(){var axis=this,axisConfig=axis.config,isVertical=axisConfig.isVertical,tempStep=0,count=0,category,i,max,min,curCategory,getLimit,curCategoryValue,increment,intervalWidth,checkForLimit,retArr=[];category=axisConfig.tickValues.tickValue;min=minimumEnquiry(category);max=category?category.length-1:0;if(isVertical){intervalWidth=Math.abs(axis.getPixel(0,queryOptions)-axis.getPixel(1,queryOptions));if(axisConfig.labelMaxH>intervalWidth){tempStep=Math.ceil(axisConfig.labelMaxH/intervalWidth)}if(tempStep>axisConfig.labels.step){axisConfig.labels.step=tempStep}}increment=axisConfig.labels.step>0?axisConfig.labels.step:1;checkForLimit=axis.getZoom()!==1;getLimit=this.getVisibleConfig();for(i=min;i<=max;i+=increment){curCategory=category[i];if(!curCategory){continue}curCategoryValue=(0,_lib.pluckNumber)(curCategory.x,curCategory.y,i);if((0,_lib.pluckNumber)(curCategory.showlabel,axisConfig.showLabels,1)===0){continue}if(checkForLimit&&(curCategoryValue<getLimit.minValue||curCategoryValue>getLimit.maxValue)){curCategory.labelCount=count++;continue}if((axisConfig.xAxisLabelMode==="auto"||axisConfig.xAxisLabelMode==="mixed")&&(axisConfig.showZeroPlane===0||axisConfig.showZeroPlaneValue===0)&&curCategoryValue===0){continue}if(!axisConfig.labels.drawNormalVal&&!(axisConfig.labels.drawLimitVal&&(i===min||i===max))){continue}if(!axisConfig.labels.drawNormalVal&&!(i===min||i===max)){continue}if(!axisConfig.labels.drawLimitVal&&(i===min||i===max)){continue}curCategory.labelCount=count++;retArr.push({index:i,value:curCategoryValue})}return retArr};Cartesian.prototype.getValue=function getValue(pixel){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{wrtVisible:false};var scale=this.getScale(),translateValue=this.getTranslation(),domainValue=scale.getDomainValue(options.wrtVisible?pixel:pixel-translateValue);return domainValue};Cartesian.prototype.getPixel=function getPixel(value){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{wrtVisible:false};var scale=this.getScale(),translateValue=this.getTranslation(),rangeValue=scale.getRangeValue(value);return options.wrtVisible?rangeValue:rangeValue+translateValue};Cartesian.prototype._getCustomPixel=function _getCustomPixel(value,length){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{wrtVisible:false};if(!length){return this.getPixel(value,options)}var newScale=this.getScale().copy(),_newScale$getRange=newScale.getRange(),val1=_newScale$getRange[0],val2=_newScale$getRange[1],min=Math.min(val1,val2),rangeValue=newScale.getRangeValue(value),translateValue=this.getTranslation();newScale.setRange([min,min+length]);return options.wrtVisible?rangeValue:rangeValue+translateValue};Cartesian.prototype.getTranslation=function getTranslation(){return this.config.translation||0};Cartesian.prototype.setScrollType=function setScrollType(type){if(type==="none"||type==="smart"||type==="always"){this.config.scrollType=type;if(type==="none"){this.disableScroll()}else{this.enableScroll()}}};Cartesian.prototype.getScrollType=function getScrollType(){return this.config.scrollType};Cartesian.prototype._createScrollBar=function _createScrollBar(){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),animationManager=axis.getFromEnv("animationManager"),tb,Scroller,scrollerInstance=axis.getLinkedItem("scrollBar"),toolBoxAPI,prevPos;tb=chart.getFromEnv("toolbox");toolBoxAPI=chart.getFromEnv("toolBoxAPI");Scroller=toolBoxAPI.Scroller;if(!scrollerInstance){axis.setLinkedItem("scrollBar",scrollerInstance=new Scroller)}scrollerInstance.configure({isHorizontal:!axisConfig.isVertical},tb.idCount,tb.pId,axis.getFromEnv("chartInstance").id);scrollerInstance.attachEventHandlers({scrollStart:function scrollStart(scrollPosition){prevPos=scrollPosition;chart.fireChartInstanceEvent("scrollstart",{scrollPosition:scrollPosition})},scroll:function scroll(scrollPosition){var axisMax=axisConfig.axisRange.max,axisMin=axisConfig.axisRange.min,visibleConfig=axis.getVisibleConfig(),visibleMin=visibleConfig.minValue,visibleMax=visibleConfig.maxValue,visibleRange=visibleMax-visibleMin,interpolateMax=axisMax-visibleRange,interpolate=(0,_number2["default"])(axisMin,interpolateMax),visibleStart=axisConfig.isReverse?interpolate(1-scrollPosition):interpolate(scrollPosition);axis.setState("scrolling",true);animationManager.setAnimationState("scroll");chart.fireChartInstanceEvent("onScroll",{scrollPosition:scrollPosition});axis.setVisibleConfig(visibleStart,visibleStart+visibleRange)},scrollEnd:function scrollEnd(scrollPosition){chart.fireChartInstanceEvent("scrollend",{scrollPosition:scrollPosition,prevScrollPosition:prevPos})}})};Cartesian.prototype._disposeScrollBar=function _disposeScrollBar(){var axis=this,scrollBar=axis.getLinkedItem("scrollBar");if(scrollBar){scrollBar.hide();axis.removeLinkedItem("scrollBar")}};Cartesian.prototype._drawScrollBar=function _drawScrollBar(){var axis=this,chart=axis.getFromEnv("chart"),axisConfig=axis.config,axisRange=axisConfig.axisRange,scrollOptions=axisConfig.scrollOptions||(axisConfig.scrollOptions={}),max=axisRange.max,min=axisRange.min,vxLength=scrollOptions.vxLength,scrollBar=axis.getLinkedItem("scrollBar"),canvasLeft,canvasTop,canvasHeight,canvasWidth,canvasConfig=chart.getChildren("canvas")[0].config,canvasBorderWidth,axisLineWidth,axisLineStartExtension,axisLineEndExtension,scrollRatio,windowedCanvasWidth,fullCanvasWidth,scrollBarParentGroup=axisConfig.scrollerContainer,visibleConfig,visibleMax,visibleMin,visibleRange,totalRange,scrollPosition;if(!scrollBar){return}canvasLeft=canvasConfig.canvasLeft;canvasTop=canvasConfig.canvasTop;canvasHeight=canvasConfig.canvasHeight;canvasWidth=canvasConfig.canvasWidth;canvasBorderWidth=canvasConfig.canvasBorderWidth;axisLineWidth=axisConfig.showAxisLine?axisConfig.axisLineThickness||0:0;axisLineStartExtension=(0,_lib.pluckNumber)(canvasBorderWidth,axisConfig.lineStartExtension);axisLineEndExtension=(0,_lib.pluckNumber)(canvasBorderWidth,axisConfig.lineEndExtension);scrollOptions.viewPortMin=min;scrollOptions.viewPortMax=max;visibleConfig=axis.getVisibleConfig();visibleMax=visibleConfig.maxValue;visibleMin=visibleConfig.minValue;visibleRange=visibleMax-visibleMin;totalRange=axisRange.max-axisRange.min;scrollRatio=visibleRange/totalRange;scrollPosition=(visibleMin-axisRange.min)/(totalRange-visibleRange);windowedCanvasWidth=scrollOptions.windowedCanvasWidth=axis.getPixel(vxLength,queryOptions);fullCanvasWidth=scrollOptions.fullCanvasWidth=axis.getPixel(max-min,queryOptions)-windowedCanvasWidth;if(axisConfig.isVertical){scrollBar.draw(canvasLeft,canvasTop,{height:canvasHeight,scrollRatio:scrollRatio,roundEdges:canvasConfig.isRoundEdges,fullCanvasWidth:fullCanvasWidth,windowedCanvasWidth:windowedCanvasWidth,scrollPosition:axisConfig.isReverse?1-scrollPosition:scrollPosition,parentLayer:scrollBarParentGroup})}else{scrollBar.draw(canvasLeft-axisLineStartExtension,canvasTop+canvasHeight+canvasBorderWidth+axisLineWidth-2,{width:canvasWidth+axisLineStartExtension+axisLineEndExtension,scrollRatio:scrollRatio,roundEdges:canvasConfig.isRoundEdges,fullCanvasWidth:fullCanvasWidth,windowedCanvasWidth:windowedCanvasWidth,scrollPosition:scrollPosition,parentLayer:scrollBarParentGroup})}};Cartesian.prototype.enableScroll=function enableScroll(){if(this.isScrollEnabled())return;this._createScrollBar()};Cartesian.prototype.disableScroll=function disableScroll(){if(!this.isScrollEnabled())return;this._disposeScrollBar()};Cartesian.prototype.isScrollEnabled=function isScrollEnabled(){return!!this.getLinkedItem("scrollBar")};Cartesian.prototype.setVisibleConfig=function setVisibleConfig(minValue,maxValue){var axis=this,axisConfig=axis.config,prevZoom=axis.getZoom(),scale=axis.getScale(),domain=void 0;if(minValue>=maxValue||minValue<axisConfig.axisRange.min||maxValue>axisConfig.axisRange.max){return false}domain=scale.setDomain([minValue,maxValue]).getDomain();axisConfig.visibleMin=domain[0];axisConfig.visibleMax=domain[1];axisConfig.zoom=axis._computeZoom();axisConfig.translation=axis._computeTranslation();if(prevZoom!==1||axis.getZoom()!==1){axisConfig.ticks=axis.generateTicks();axisConfig.minorTicks=axis.generateMinorTicks();axisConfig.tickValues&&axis.calculateTicksOnLabelMode&&axis.calculateTicksOnLabelMode()}axis.decideScroll();axis.clearReferenceInfo();axis._parseReferenceVisuals();axis.fireEvent("visiblerangeset",{minValue:minValue,maxValue:maxValue});axis.asyncDraw();return true};Cartesian.prototype.hide=function hide(){var axis=this,axisConfig=axis.config;if(!axisConfig.axisContainer){return}axisConfig.axisLabelContainerTop.hide();axisConfig.scrollerContainer.hide();axisConfig.axisContainer.hide();axisConfig.axisNameContainer.hide();axisConfig.axisTrendLabelContainer.hide();axisConfig.axisAxisLineContainer.hide();axisConfig.axisAxisLineContainerBottom.hide()};Cartesian.prototype.show=function show(){var axis=this,axisConfig=axis.config;if(!axisConfig.axisContainer){return}axisConfig.axisLabelContainerTop.show();axisConfig.scrollerContainer.show();axisConfig.axisContainer.show();axisConfig.axisNameContainer.show();axisConfig.axisTrendLabelContainer.show();axisConfig.axisAxisLineContainer.show();axisConfig.axisAxisLineContainerBottom.show()};Cartesian.prototype.getZoom=function getZoom(){return this.config.zoom||1};Cartesian.prototype._computeTranslation=function _computeTranslation(){var axisConfig=this.config,visibleDomain=this.getVisibleConfig(),visibleMin=(0,_lib.pluckNumber)(visibleDomain.minValue,axisConfig.axisRange.min,0),rangeMin=(0,_lib.pluckNumber)(axisConfig.axisRange.min,visibleDomain.minValue,0);return this.getPixel(visibleMin)-this.getPixel(rangeMin)};Cartesian.prototype._computeZoom=function _computeZoom(){var axisConfig=this.config,visibleDomain=this.getVisibleConfig(),visibleMin=(0,_lib.pluckNumber)(visibleDomain.minValue,axisConfig.axisRange.min,0),visibleMax=(0,_lib.pluckNumber)(visibleDomain.maxValue,axisConfig.axisRange.max,1),rangeMin=(0,_lib.pluckNumber)(axisConfig.axisRange.min,visibleDomain.minValue,0),rangeMax=(0,_lib.pluckNumber)(axisConfig.axisRange.max,visibleDomain.maxValue,1),zoomLimit=axisConfig.maxZoomLimit,zoom=(rangeMax-rangeMin)/(visibleMax-visibleMin);return zoom>zoomLimit?zoomLimit:zoom};Cartesian.prototype.getTickValues=function getTickValues(){var tickInfo=this.config.tickValues;return tickInfo&&tickInfo.tickValue||[]};Cartesian.prototype.dataLabels=function dataLabels(value){var axis=this,axisIndex=axis.config.axisIndex,numberFormatter=axis.getFromEnv("number-formatter");return numberFormatter.dataLabels(value,axisIndex)};Cartesian.prototype.getAxisBase=function getAxisBase(){var _getVisibleConfig=this.getVisibleConfig(),minValue=_getVisibleConfig.minValue,maxValue=_getVisibleConfig.maxValue;return minValue<0&&maxValue>0?0:maxValue<=0?maxValue:minValue};Cartesian.prototype._parseReferenceVisuals=function _parseReferenceVisuals(){var axis=this,axisConfig=axis.config,tickValues=axis.getTickValues(),min=0,max=tickValues.length,is3d=axis.getFromEnv("chartConfig").is3D,preLineDrawState,preBandDrawState;if(!axisConfig.isActive){preLineDrawState=axisConfig.lines.isDraw;preBandDrawState=axisConfig.band.isDraw;axisConfig.lines.isDraw=0;axisConfig.band.isDraw=0}if(!axisConfig.tickValues){axisConfig.drawPlotlines&&axis._parsePlotLine()}else{axisConfig.drawLabels&&axis._parseCategoryLine(tickValues,min,max)}if(!axisConfig.tickValues||axisConfig.xAxisLabelMode==="auto"){axisConfig.drawPlotBands&&!is3d&&axis._parsePlotBand()}else{axisConfig.drawPlotlines&&!is3d&&axis._parseCategoryPlotLine();axisConfig.drawPlotBands&&!is3d&&axis._parseCategoryPlotBand();if(axisConfig.xAxisLabelMode==="mixed"){axisConfig.drawPlotBands&&!is3d&&axis._parsePlotBand()}}if(!axisConfig.isActive){axisConfig.lines.isDraw=preLineDrawState;axisConfig.band.isDraw=preBandDrawState}axisConfig.drawTrendLines&&axis._parseTrendLine()};Cartesian.prototype._parseCategoryPlotBand=function _parseCategoryPlotBand(){var axis=this,axisConfig=axis.config,tickValue=axisConfig.tickValues.tickValue,showAlternateGridColor=axisConfig.showAlternateGridColor,alternateGridColor=axisConfig.alternateGridColor,alternateGridAlpha=axisConfig.alternateGridAlpha,ticks=axisConfig._allTicks,limit=axis.getLimit(),min=limit.min,max=limit.max,axisAttrObj,colorDetector,from,to,willDraw=isVisible(axis.getVisibleConfig()),i;if(tickValue[0]&&(tickValue[0].x!==_lib.UNDEF||tickValue[0].y!==_lib.UNDEF)){return}if(showAlternateGridColor&&axisConfig.band.isDraw&&axisConfig.categoryNumDivLines){axisAttrObj={fill:(0,_lib.toRaphaelColor)((0,_libGraphics.convertColor)(alternateGridColor,alternateGridAlpha)),"stroke-width":0};colorDetector=0;for(i=0;i<ticks.length;++colorDetector,++i){if(!willDraw(ticks[i],ticks[i+1])){continue}from=ticks[i];if(colorDetector%2!==0){continue}to=ticks[i+1];if(to===_lib.UNDEF){continue}if(from===min)from="canvasStart";if(to===max)to="canvasEnd";axis.setReferenceInfo({from:from,to:to,layer:0,type:"band",attr:axisAttrObj})}}};Cartesian.prototype._parseTrendLine=function _parseTrendLine(){var axis=this,axisConfig=axis.config,isVertical=axisConfig.isVertical,axisIndex=axisConfig.axisIndex,chartAttr=axis.getFromEnv("chart-attrib"),numberFormatter=axis.getFromEnv("number-formatter"),axisRange=axisConfig.axisRange,max=axisRange.max,min=axisRange.min,style=axisConfig.trend.trendStyle,css={fontFamily:style.fontFamily,fontSize:style.fontSize,lineHeight:style.lineHeight,fontWeight:style.fontWeight,fontStyle:style.fontStyle},vtrendlines=axisConfig.vTrendLines,trendlines=axisConfig.trendLines,i,iLim,j,jLen,toolText,showOnTop,counter=0,comTrendLines,isTrendZone,axisDrawingAttrObj,axisTextAttrObj,trendObj,text,valueOnRight,startValue,endValue,strokeWidth,NFMethodName,from,type,to;comTrendLines=trendlines||vtrendlines;if(comTrendLines){for(j=0,jLen=comTrendLines.length;j<jLen;j+=1){for(i=0,iLim=comTrendLines[j].line&&comTrendLines[j].line.length;i<iLim;i+=1){trendObj=comTrendLines[j].line[i];NFMethodName=isVertical?"yAxis":"xAxis";startValue=trendObj.startvalue||trendObj.value||0;startValue=numberFormatter.getCleanValue((0,_lib.pluck)(trendObj.startvalue,trendObj.value,0));endValue=Number(trendObj.endvalue)||_lib.UNDEF;toolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(comTrendLines[j].line[i].tooltext,comTrendLines[0].tooltext,axisConfig.trendlineToolText)));toolText=(0,_lib.parseTooltext)(toolText,[7,15,16,17,18,19],{startValue:startValue,startDataValue:numberFormatter[NFMethodName](startValue,axisIndex),endValue:endValue||startValue,endDataValue:numberFormatter[NFMethodName](endValue||startValue,axisIndex),axisName:axisConfig.axisName},trendObj);if(startValue>max||startValue<min||endValue>max||endValue<min){continue}if(vtrendlines){text=(0,_lib.parseUnsafeString)(trendObj.displayvalue||"");isTrendZone=(0,_lib.pluckNumber)(trendObj.istrendzone,axisConfig.isTrendZone,1);if(endValue!==_lib.UNDEF&&endValue!==""&&endValue!==startValue&&isTrendZone){axisDrawingAttrObj={fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,axisConfig.trendlineColor),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,40)),"stroke-width":0};axisTextAttrObj={fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,style.color),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,99)),"vertical-align":_lib.POSITION_TOP,text:text}}else{strokeWidth=(0,_lib.pluckNumber)(trendObj.thickness,axisConfig.trendlineThickness,1);axisDrawingAttrObj={stroke:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,axisConfig.trendlineColor),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,99)),"stroke-width":strokeWidth,"stroke-dasharray":(0,_lib.pluck)(trendObj.dashed,axisConfig.trendlinesAreDashed)===_lib.ONESTRING?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(trendObj.dashlen,axisConfig.trendlinesDashLen),(0,_lib.pluckNumber)(trendObj.dashgap,axisConfig.trendlinesDashGap)):_lib.DASH_DEF};axisTextAttrObj={fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,style.color),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,99)),"vertical-align":_lib.POSITION_TOP,text:text}}}else if(trendlines){text=(0,_lib.pluck)((0,_lib.parseUnsafeString)(trendObj.displayvalue),trendObj.startvalue,"");valueOnRight=(0,_lib.pluckNumber)(trendObj.valueonright,0);isTrendZone=(0,_lib.pluckNumber)(trendObj.istrendzone,axisConfig.isTrendZone,0);if(endValue!==_lib.UNDEF&&endValue!==""&&endValue!==startValue&&isTrendZone){axisDrawingAttrObj={fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,axisConfig.trendlineColor),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,40)),"stroke-width":0};axisTextAttrObj={"text-anchor":valueOnRight?_lib.POSITION_START:_lib.POSITION_END,fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,style.color),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,99)),text:text}}else{strokeWidth=(0,_lib.pluckNumber)(trendObj.thickness,axisConfig.trendlineThickness,1);axisDrawingAttrObj={stroke:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,axisConfig.trendlineColor),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,99)),"stroke-width":strokeWidth,"stroke-dasharray":(0,_lib.pluck)(trendObj.dashed,axisConfig.trendlinesAreDashed)===_lib.ONESTRING?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(trendObj.dashlen,axisConfig.trendlinesDashLen),(0,_lib.pluckNumber)(trendObj.dashgap,axisConfig.trendlinesDashGap)):_lib.DASH_DEF};axisTextAttrObj={"text-anchor":valueOnRight?_lib.POSITION_START:_lib.POSITION_END,fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,style.color),(0,_lib.pluck)(trendObj.alpha,trendObj.alpha,axisConfig.trendlineAlpha,99)),text:text}}}axisTextAttrObj["text-bound"]=axisTextAttrObj.text?[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]:[];if(!(axisConfig.showTooltip&&toolText)){toolText=""}showOnTop=axisConfig.forceTrendBelow?0:(0,_lib.pluckNumber)(trendObj.showontop,chartAttr.showtrendlinesontop,0);if(isVertical){from=startValue;to=endValue!==_lib.UNDEF?endValue:startValue}else{from=endValue!==_lib.UNDEF?endValue:startValue;to=startValue}type=isTrendZone&&from!==to?"band":"line";from!==_lib.UNDEF&&axis.setReferenceInfo({from:from,to:to,toolText:toolText,attr:axisDrawingAttrObj,layer:showOnTop?3:2,type:type,id:"trend"+counter+type});axisConfig.parsedTrendLabels.push({css:css,valueOnRight:valueOnRight,isTrendZone:isTrendZone,from:startValue,to:endValue,attr:axisTextAttrObj});counter+=1}}}};Cartesian.prototype._parsePlotLine=function _parsePlotLine(){var axis=this,axisConfig=axis.config,axisRange=axisConfig.axisRange,max=axisRange.max,min=axisRange.min,willDraw=isInBetween(axis.getVisibleConfig()),showCanvasBorder=axisConfig.showCanvasBorder,plotLineColor=(0,_libGraphics.convertColor)(axisConfig.divLineColor,axisConfig.divLineAlpha),plotLineWidth=axisConfig.divLineThickness,plotLineDashStyle=axisConfig.divLineIsDashed?(0,_lib.getDashStyle)(axisConfig.divLineDashLen,axisConfig.divLineDashGap):_lib.DASH_DEF,zeroPlaneColor=(0,_libGraphics.convertColor)(axisConfig.zeroPlaneColor,axisConfig.zeroPlaneAlpha),zeroPlaneThickness=axisConfig.zeroPlaneThickness,ticks=axisConfig._allTicks,len=ticks.length,i,j,showZeroPlaneOnTop=axisConfig.showZeroPlaneOnTop,minorTicksArr=axisConfig.minorTicks,minorTicksLen=minorTicksArr&&minorTicksArr.length,minorTicks,axisAttrObj,minorAttrObj;if(axisConfig.lines.isDraw){for(j=0;j<len;++j){i=ticks[j];if(!willDraw(i)){continue}axisAttrObj={"stroke-dasharray":plotLineDashStyle};if(axisConfig.showZeroPlane===0&&i===0||showCanvasBorder&&(i===max||i===min)){continue}if(i===0&&i!==min&&i!==max){axisAttrObj.stroke=zeroPlaneColor;axisAttrObj["stroke-width"]=zeroPlaneThickness;showZeroPlaneOnTop=axisConfig.showZeroPlaneOnTop}else{showZeroPlaneOnTop=0;axisAttrObj.stroke=plotLineColor;axisAttrObj["stroke-width"]=plotLineWidth}axis.setReferenceInfo({type:"line",from:i,layer:i===0&&showZeroPlaneOnTop?3:1,attr:axisAttrObj})}}minorAttrObj={stroke:axisConfig.minorDivlinecolor,"stroke-width":axisConfig.minorDivLineThickness,"stroke-dasharray":plotLineDashStyle};for(j=0;j<minorTicksLen;++j){minorTicks=minorTicksArr[j];axis.setReferenceInfo({type:"line",from:minorTicks,layer:1,attr:minorAttrObj})}};Cartesian.prototype._parseCategoryLine=function _parseCategoryLine(category,min,max){var axis=this,axisConfig=axis.config,colorM=axis.getFromEnv("color-manager"),chartInstance=axis.getFromEnv("chartInstance"),categories=chartInstance.getJSONData().categories,categoriesStyle={},i,curCategory,getLimit,categoryLineAttr,curCategoryValue,checkForLimit;min=min||0;max=max||category?category.length-1:0;if(axisConfig.drawPlotlines){checkForLimit=axis.getZoom()!==1;getLimit=this.getVisibleConfig();if(categories&&categories[0]){categoriesStyle.verticalLineColor=categories[0].verticallinecolor;categoriesStyle.verticalLineAlpha=categories[0].verticallinealpha;categoriesStyle.verticalLineThickness=categories[0].verticallinethickness;categoriesStyle.verticalLineDashed=categories[0].verticallinedashed;categoriesStyle.verticalLineDashLen=categories[0].verticallinedashlen;categoriesStyle.verticalLineDashGap=categories[0].verticallinedashgap}for(i=min;i<=max;i+=1){curCategory=category[i];if(!curCategory){continue}curCategoryValue=(0,_lib.pluckNumber)(curCategory.x,curCategory.y,i);if(Number(curCategory.showverticalline)!==1){continue}if(checkForLimit&&(curCategoryValue<getLimit.minValue||curCategoryValue>getLimit.maxValue)){continue}categoryLineAttr={stroke:(0,_libGraphics.convertColor)((0,_lib.pluck)(curCategory.linecolor,categoriesStyle.verticalLineColor,axisConfig.divLineColor,colorM.getColor("divLineColor")),(0,_lib.pluck)(curCategory.linealpha,categoriesStyle.verticalLineAlpha,colorM.getColor("divLineAlpha"))),"stroke-width":(0,_lib.pluckNumber)(curCategory.linethickness,categoriesStyle.verticalLineThickness,1)};categoryLineAttr["stroke-dasharray"]=(0,_lib.pluckNumber)(curCategory.linedashed,categoriesStyle.verticalLineDashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(curCategory.linedashLen,categoriesStyle.verticalLineDashLen,4),(0,_lib.pluckNumber)(curCategory.linedashgap,categoriesStyle.verticalLineDashGap,2),categoryLineAttr["stroke-width"]):_lib.DASH_DEF;axis.setReferenceInfo({type:"line",from:curCategoryValue,layer:1,attr:categoryLineAttr})}}};Cartesian.prototype._parsePlotBand=function _parsePlotBand(){var axis=this,axisConfig=axis.config,showAlternateGridColor=axisConfig.showAlternateGridColor,alternateGridColor=axisConfig.alternateGridColor,alternateGridAlpha=axisConfig.alternateGridAlpha,axisAttrObj,colorDetector,ticks=axisConfig._allTicks,len,willDraw=isVisible(axis.getVisibleConfig()),i,to,isReverse=axisConfig.isReverse,from;if(showAlternateGridColor&&axisConfig.band.isDraw){colorDetector=1;axisAttrObj={fill:(0,_lib.toRaphaelColor)((0,_libGraphics.convertColor)(alternateGridColor,alternateGridAlpha)),"stroke-width":0};for(i=0,len=ticks.length;i<len;++i,++colorDetector){if(!willDraw(ticks[i],ticks[i+1])){continue}if(colorDetector%2!==0){continue}if(ticks[i+1]===_lib.UNDEF){continue}from=isReverse?Math.max(ticks[i],ticks[i+1]):Math.min(ticks[i],ticks[i+1]);to=isReverse?Math.min(ticks[i],ticks[i+1]):Math.max(ticks[i],ticks[i+1]);axis.setReferenceInfo({from:from,to:to,type:"band",layer:0,attr:axisAttrObj})}}};Cartesian.prototype.getReferenceInfo=function getReferenceInfo(){return this.config.referenceInfo};Cartesian.prototype.setReferenceInfo=function setReferenceInfo(info){this.config.referenceInfo.push(info)};Cartesian.prototype.clearReferenceInfo=function clearReferenceInfo(){var axisConfig=this.config;axisConfig.referenceInfo=[];axisConfig.parsedTrendLabels=[];axisConfig.parsedVlineInfo=[]};Cartesian.prototype.resetStoredLimits=function resetStoredLimits(){this.config.dataLimit={}};Cartesian.prototype.decideScroll=function decideScroll(){var axis=this,scrollType=axis.getScrollType();if(scrollType==="always"||scrollType==="smart"&&axis.getZoom()!==1){axis.enableScroll()}else{axis.disableScroll()}};Cartesian.prototype.getAxisDimension=function getAxisDimension(){var _config$axisDimention=this.config.axisDimention,x=_config$axisDimention.x,y=_config$axisDimention.y,opposite=_config$axisDimention.opposite,axisLength=_config$axisDimention.axisLength;return{x:x,y:y,opposite:opposite,axisLength:axisLength}};return Cartesian}(_axis2["default"]);Cartesian.prototype.setAxisDimention=_commonApi.setAxisDimention;Cartesian.prototype.shiftLabels=_commonApi.shiftLabels;Cartesian.prototype._createContainer=_commonApi._createContainer;exports["default"]=Cartesian;exports.getCrispPath=getCrispPath;exports.minimumEnquiry=minimumEnquiry},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var _forceValidLowerLimit=function _forceValidLowerLimit(value,limit){return value<limit?limit:value};var Axis=function(_ComponentInterface){_inherits(Axis,_ComponentInterface);function Axis(){_classCallCheck(this,Axis);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}Axis.prototype.getType=function getType(){return"axis"};Axis.prototype.__setDefaultConfig=function __setDefaultConfig(){_ComponentInterface.prototype.__setDefaultConfig.call(this);this.components={labels:[]};var config=this.config;config.setAdaptiveMin=0;config.adjustDiv=1;config.axisNameWidth=_lib.UNDEF;config.rotateAxisName=0;config.useEllipsesWhenOverflow=1;config.divLineColor=_lib.UNDEF;config.divLineAlpha=_lib.UNDEF;config.divLineThickness=_lib.UNDEF;config.divLineIsDashed=_lib.UNDEF;config.divLineDashLen=_lib.UNDEF;config.divLineDashGap=_lib.UNDEF;config.showAlternateGridColor=_lib.UNDEF;config.alternateGridColor=_lib.UNDEF;config.alternateGridAlpha=_lib.UNDEF;config.showZeroPlane=1;config.zeroPlaneAlpha=80;config.showZeroPlaneValue=1;config.showZeroPlaneOnTop=1;config.showAxisLine=_lib.UNDEF;config.axisLineThickness=_lib.UNDEF;config.axisLineAlpha=_lib.UNDEF;config.tickLength=0;config.trendlineToolText=_lib.UNDEF;config.trendlineColor="333333";config.trendlineThickness=1;config.trendlineAlpha=_lib.UNDEF;config.showTrendlinesOnTop=0;config.trendlinesAreDashed=0;config.trendlinesDashLen=5;config.trendlinesDashGap=2;config.isTrendZone=_lib.UNDEF;config.showTrendlines=1;config.showTrendlineLabels=1;config.showLabels=1;config.maxLabelHeight=_lib.UNDEF;config.rotateLabels=_lib.UNDEF;config.slantLabel=0;config.showAxisValues=1;config.showTooltip=1;config.isActive=true;config.drawLabels=true;config.drawOnlyCategoryLine=false;config.drawLabelsOpposit=false;config.drawPlotlines=true;config.drawAxisLine=true;config.drawPlotBands=true;config.drawAxisName=true;config.drawAxisNameOpposit=false;config.axisNameAlignCanvas=false;config.drawAxisNameFromBottom=false;config.drawTrendLines=true;config.drawTrendLabels=true;config.drawTick=true;config.drawTickMinor=true;config.animateAxis=true;config.drawAxisLineWRTCanvas=true;config.isRelativeAxisInverse=false;config.axisIndex=0;config.uniqueClassName=0;config.viewPortRatio={};config.canvas={};config.axisRange={};config.drawnStaggerLines=_lib.UNDEF;config.axisDimention={};config.forceZeroTick=true;config.isZeroTickForced=false;config.extremeLabels={firstLabel:{},lastLabel:{}};config._setRangeAgain=false;config._defaultForceDecimal=_lib.UNDEF;config._defaultDecimalPrecision=_lib.UNDEF;config.rangeChanged=false;config.dimensionChanged=false;config.apparentScrollPos=0;config.visibleMin=_lib.UNDEF;config.visibleMax=_lib.UNDEF;config.setPadding=false;config.trendLimits=_lib.UNDEF};Axis.prototype.configureAttributes=function configureAttributes(rawAttr){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),jsonData=axis.getFromEnv("dataSource"),is3D=chart.config.is3D,FCChartObj=jsonData.chart,numberFormatter=axis.getFromEnv("number-formatter"),axisAttr,fontBdrColor,trendFontBdrColor,labelFontBdrColor;axisAttr=axisConfig.rawAttr=rawAttr;axisConfig.referenceInfo=[];axisConfig.parsedTrendLabels=[];axisConfig.parsedVlineInfo=[];axisConfig.trendLines=axisAttr.trendlines;axisConfig.vTrendLines=axisAttr.vtrendlines;(0,_lib.parseConfiguration)(axisAttr,axisConfig);axisConfig.axisName=(0,_lib.parseUnsafeString)(axisAttr.axisName);axisConfig.axisValuePadding=axisConfig.axisNamePadding||(0,_lib.pluckNumber)(axisAttr.axisValuePadding,4);axisConfig.axisNamePadding=axisConfig.axisNamePadding||(0,_lib.pluckNumber)(axisAttr.axisNamePadding,5);axisConfig.maxLabelWidthPercent=(0,_lib.pluckNumber)(axisAttr.maxLabelWidthPercent);axisConfig.maxLabelWidthPercent=Math.abs(axisConfig.maxLabelWidthPercent);axisConfig.minLabelWidthPercent=Math.abs((0,_lib.pluckNumber)(axisAttr.minLabelWidthPercent));axisConfig.numDivLines=(0,_lib.pluckNumber)(axisAttr.numDivLines,4);axisConfig.numDivLines=_forceValidLowerLimit(axisConfig.numDivLines,0);axisConfig.categoryNumDivLines=(0,_lib.pluckNumber)(axisAttr.numDivLines,0);axisConfig.axisValuePadding=_forceValidLowerLimit(axisConfig.axisValuePadding,0);axisConfig.isReverse=(0,_lib.pluckNumber)(axisAttr.isReverse,0);axisConfig.isOpposit=(0,_lib.pluckNumber)(axisAttr.isOpposit,0);axisConfig.isVertical=(0,_lib.pluckNumber)(axisAttr.isVertical,0);axisConfig.categoryDivLinesFromZero=1;axisConfig.axisMinValue=numberFormatter.getCleanValue(axisAttr.axisMinValue);axisConfig.axisMaxValue=numberFormatter.getCleanValue(axisAttr.axisMaxValue);axisConfig.zeroPlaneColor=(0,_lib.pluck)(axisAttr.zeroPlaneColor,axisAttr.divLineColor);axisConfig.zeroPlaneThickness=(0,_lib.pluck)(axisAttr.zeroPlaneThickness,axisAttr.divLineThickness);axisConfig.axisLineColor=(0,_libGraphics.convertColor)(axisAttr.axisLineColor,axisAttr.axisLineAlpha);axisConfig.tickAlpha=(0,_lib.pluckNumber)(axisAttr.tickAlpha,axisConfig.axisLineAlpha);axisConfig.tickColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(axisAttr.tickColor,axisAttr.axisLineColor),axisConfig.tickAlpha);axisConfig.tickWidth=(0,_lib.pluckNumber)(axisAttr.tickWidth,axisConfig.axisLineThickness);axisConfig.maxZoomLimit=(0,_lib.pluckNumber)(FCChartObj.maxzoomlimit,chart.maxzoomlimit,1e3);axisConfig.showVLines=(0,_lib.pluckNumber)(FCChartObj.showvlines,1);axisConfig.showVLinesOnTop=(0,_lib.pluckNumber)(FCChartObj.showvlinesontop,0);axisConfig.showVLineLabels=(0,_lib.pluckNumber)(FCChartObj.showvlinelabels,this.showVLineLabels,1);axisConfig.showVLineLabelBorder=(0,_lib.pluckNumber)(FCChartObj.showvlinelabelborder,1);axisConfig.rotateVLineLabels=(0,_lib.pluckNumber)(FCChartObj.rotatevlinelabels,0);axisConfig.vLineColor=(0,_lib.pluck)(FCChartObj.vlinecolor,"333333");axisConfig.vLineLabelColor=(0,_lib.pluck)(FCChartObj.vlinelabelcolor);axisConfig.vLineThickness=(0,_lib.pluck)(FCChartObj.vlinethickness,1);axisConfig.vLineAlpha=(0,_lib.pluckNumber)(FCChartObj.vlinealpha,80);axisConfig.vLineLabelBgColor=(0,_lib.pluck)(FCChartObj.vlinelabelbgcolor,"ffffff");axisConfig.vLineLabelBgAlpha=(0,_lib.pluckNumber)(FCChartObj.vlinelabelbgalpha,is3D?50:100);axisConfig.staggerLines=Math.max((0,_lib.pluckNumber)(FCChartObj.staggerlines,2),2);axisConfig.staggerLines=_forceValidLowerLimit(axisConfig.staggerLines,1);axisConfig.trendlineValuesOnOpp=(0,_lib.pluck)(axisAttr.trendlineValuesOnOpp,axisAttr.trendlineValuesOnOpp,0);axisConfig.labelDisplay=(0,_lib.pluck)(axisAttr.labelDisplay,"auto").toLowerCase();axisConfig.labelStep=(0,_lib.pluckNumber)(axisAttr.labelStep,1);axisConfig.labelStep=Math.round(axisConfig.labelStep);axisConfig.labelStep=_forceValidLowerLimit(axisConfig.labelStep,1);axisConfig.startPad=0;axisConfig.endPad=0;axisConfig._oriLabelStep=axisConfig.labelStep;axisConfig.showLimits=(0,_lib.pluckNumber)(axisAttr.showLimits,axisConfig.showAxisValues);axisConfig.showUpperLimit=axisAttr.showLimits;axisConfig.showDivLineValues=(0,_lib.pluckNumber)(axisAttr.showDivLineValues,axisConfig.showAxisValues);axisConfig.showCanvasBorder=chart.getChildren("canvas")[0].config.showCanvasBorder?1:0;axisConfig.axisBreak=axisAttr.axisBreaks;axisConfig.isBreak=!!axisConfig.axisBreak;if(axisConfig.isBreak){axis._processAxisBreak()}fontBdrColor=(0,_lib.getFirstValue)(axisAttr.axisNameBorderColor,_lib.BLANKSTRING);fontBdrColor=fontBdrColor?(0,_libGraphics.convertColor)(fontBdrColor,(0,_lib.pluckNumber)(axisAttr.axisNameBorderAlpha,axisAttr.axisNameAlpha,100)):_lib.BLANKSTRING;axisConfig.name=axisConfig.name||{};axisConfig.name.style={fontFamily:(0,_lib.pluck)(axisAttr.axisNameFont,axisAttr.outCanfontFamily),fontSize:(0,_lib.pluck)(axisAttr.axisNameFontSize,(0,_lib.pInt)(axisAttr.outCanfontSize))+_lib.PXSTRING,color:(0,_libGraphics.convertColor)((0,_lib.pluck)(axisAttr.axisNameFontColor,axisAttr.outCancolor),(0,_lib.pluckNumber)(axisAttr.axisNameFontAlpha,axisAttr.axisNameAlpha,100)),fontWeight:(0,_lib.pluckNumber)(axisAttr.axisNameFontBold,1)?"bold":_lib.NORMAL,fontStyle:(0,_lib.pluckNumber)(axisAttr.axisNameFontItalic)?"italic":_lib.NORMAL,border:fontBdrColor||axisAttr.axisNameBgColor?(0,_lib.pluckNumber)(axisAttr.axisNameBorderThickness,1)+"px solid":_lib.UNDEF,borderColor:fontBdrColor,borderThickness:(0,_lib.pluckNumber)(axisAttr.axisNameBorderThickness,1),borderPadding:(0,_lib.pluckNumber)(axisAttr.axisNameBorderPadding,2),borderRadius:(0,_lib.pluckNumber)(axisAttr.axisNameBorderRadius,0),backgroundColor:axisAttr.axisNameBgColor?(0,_libGraphics.convertColor)(axisAttr.axisNameBgColor,(0,_lib.pluckNumber)(axisAttr.axisNameBgAlpha,axisAttr.axisNameAlpha,100)):_lib.BLANKSTRING,borderDash:(0,_lib.pluckNumber)(axisAttr.axisNameBorderDashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(axisAttr.axisNameBorderDashLen,4),(0,_lib.pluckNumber)(axisAttr.axisNameBorderDashGap,2)):_lib.DASH_DEF};axisConfig.name.style.lineHeight=(0,_lib.setLineHeight)(axisConfig.name.style);trendFontBdrColor=(0,_lib.getFirstValue)(FCChartObj.trendvaluebordercolor,_lib.BLANKSTRING);trendFontBdrColor=trendFontBdrColor?(0,_libGraphics.convertColor)(trendFontBdrColor,(0,_lib.pluckNumber)(FCChartObj.trendvalueborderalpha,FCChartObj.trendvaluealpha,100)):_lib.BLANKSTRING;axisConfig.trend=axisConfig.trend||{};axisConfig.trend.trendStyle={fontFamily:(0,_lib.pluck)(FCChartObj.trendvaluefont,axisAttr.outCanfontFamily),color:(0,_lib.pluck)(FCChartObj.trendvaluefontcolor,axisAttr.trendlineColor,axisAttr.outCancolor,"333333"),fontSize:(0,_lib.pluckFontSize)(FCChartObj.trendvaluefontsize,(0,_lib.pInt)(axisAttr.outCanfontSize))+_lib.PXSTRING,fontWeight:(0,_lib.pluckNumber)(FCChartObj.trendvaluefontbold)?"bold":_lib.NORMAL,fontStyle:(0,_lib.pluckNumber)(FCChartObj.trendvaluefontitalic)?"italic":_lib.NORMAL,border:trendFontBdrColor||FCChartObj.trendvaluebgcolor?(0,_lib.pluckNumber)(FCChartObj.trendvalueborderthickness,1)+"px solid":"",borderColor:trendFontBdrColor,borderThickness:(0,_lib.pluckNumber)(FCChartObj.trendvalueborderthickness,1),borderPadding:(0,_lib.pluckNumber)(FCChartObj.trendvalueborderpadding,2),borderRadius:(0,_lib.pluckNumber)(FCChartObj.trendvalueborderradius,0),backgroundColor:FCChartObj.trendvaluebgcolor?(0,_libGraphics.convertColor)(FCChartObj.trendvaluebgcolor,(0,_lib.pluckNumber)(FCChartObj.trendvaluebgalpha,FCChartObj.trendvaluealpha,100)):_lib.BLANKSTRING,borderDash:(0,_lib.pluckNumber)(FCChartObj.trendvalueborderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(FCChartObj.trendvalueborderdashlen,4),(0,_lib.pluckNumber)(FCChartObj.trendvalueborderdashgap,2)):_lib.DASH_DEF};axisConfig.trend.trendStyle.lineHeight=(0,_lib.setLineHeight)(axisConfig.trend.trendStyle);axisConfig.labels=axisConfig.labels||{};axisConfig.lines=axisConfig.lines||{};axisConfig.band=axisConfig.band||{};labelFontBdrColor=(0,_lib.getFirstValue)(FCChartObj.labelbordercolor,_lib.BLANKSTRING);labelFontBdrColor=labelFontBdrColor?(0,_libGraphics.convertColor)(labelFontBdrColor,(0,_lib.pluckNumber)(FCChartObj.labelborderalpha,FCChartObj.labelalpha,100)):_lib.BLANKSTRING;axisConfig.labels.style={fontFamily:(0,_lib.pluck)(axisAttr.labelFont,axisAttr.outCanfontFamily),fontSize:(0,_lib.pluckNumber)(axisAttr.labelFontSize,(0,_lib.pInt)(axisAttr.outCanfontSize))+_lib.PXSTRING,fontWeight:(0,_lib.pluckNumber)(axisAttr.labelFontBold)?"bold":_lib.NORMAL,fontStyle:(0,_lib.pluckNumber)(axisAttr.labelFontItalic)?"italic":_lib.NORMAL,color:(0,_libGraphics.convertColor)((0,_lib.pluck)(axisAttr.labelFontColor,axisAttr.outCancolor),(0,_lib.pluckNumber)(axisAttr.labelFontAlpha,100)),labelLink:FCChartObj.labellink,border:labelFontBdrColor||FCChartObj.labelbgcolor?(0,_lib.pluckNumber)(FCChartObj.labelborderthickness,1)+"px solid":"",borderColor:labelFontBdrColor,borderThickness:(0,_lib.pluckNumber)(FCChartObj.labelborderthickness,1),borderPadding:(0,_lib.pluckNumber)(FCChartObj.labelborderpadding,2),borderRadius:(0,_lib.pluckNumber)(FCChartObj.labelborderradius,0),backgroundColor:FCChartObj.labelbgcolor?(0,_libGraphics.convertColor)(FCChartObj.labelbgcolor,(0,_lib.pluckNumber)(FCChartObj.labelbgalpha,FCChartObj.labelalpha,100)):_lib.BLANKSTRING,borderDash:(0,_lib.pluckNumber)(FCChartObj.labelborderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(FCChartObj.labelborderdashlen,4),(0,_lib.pluckNumber)(FCChartObj.labelborderdashgap,2)):_lib.DASH_DEF};axisConfig.labels.style.lineHeight=(0,_lib.setLineHeight)(axisConfig.labels.style);axisConfig.numberFormatterFn=(0,_lib.pluck)(axisAttr.numberFormatterFn);axisConfig.apparentScrollPos=axisAttr.apparentScrollPos||axisConfig.apparentScrollPos;axisConfig.axisRange={};axisConfig.dataLimit={};axisConfig.axisEndLabelDisplaySpace={left:0,right:0,top:0,bottom:0};axisConfig.isConfigured=true;axisConfig._defaultForceDecimal=_lib.UNDEF;axisConfig._defaultDecimalPrecision=_lib.UNDEF;axisConfig.lines.isDraw=(0,_lib.pluckNumber)(axisAttr.lines&&axisAttr.lines.isDraw,1);axisConfig.band.isDraw=(0,_lib.pluckNumber)(axisAttr.band&&axisAttr.band.isDraw,1)};Axis.prototype.createContainer=function createContainer(containerName,attr,container){var animationManager=this.getFromEnv("animationManager");return this.addContainer(containerName,animationManager.setAnimation({container:container,attr:attr,el:this.getContainer(containerName)||"group",component:this,label:"group"}))};Axis.prototype.createGroup=function createGroup(containerName,attr,container){var label=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"group";var animationManager=this.getFromEnv("animationManager");return animationManager.setAnimation({container:container,attr:attr,el:this.config[containerName]||"group",component:this,label:label})};Axis.prototype.getValuePadding=function getValuePadding(){var axisConfig=this.config;return{left:axisConfig.startPad,right:axisConfig.endPad}};Axis.prototype.draw=function draw(){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),chartConfig=chart.config,isVertical=axisConfig.isVertical,viewPortConfig=chartConfig.viewPortConfig,limitUpdaters=axis.getChildren().limitUpdater,viewPortRatio=axisConfig.viewPortRatio||{},dx,dy,originY,originX;axis._createContainer();originY=viewPortConfig.y*viewPortConfig.scaleY;originX=viewPortConfig.x*viewPortConfig.scaleX;if(viewPortRatio.scaleX&&viewPortRatio.scaleY&&(viewPortRatio.scaleX!==viewPortConfig.scaleX||viewPortRatio.scaleY!==viewPortConfig.scaleY)){viewPortRatio.scaleX=viewPortConfig.scaleX;viewPortRatio.scaleY=viewPortConfig.scaleY;axis._drawComponents()}else{if(isVertical){dy=originY-viewPortConfig.y*viewPortConfig.scaleY;axisConfig.axisContainer.transform("t0,"+dy);axisConfig.axisLabelContainerTop.transform("t0,"+dy)}else{dx=originX-viewPortConfig.x*viewPortConfig.scaleX;axisConfig.axisContainer.transform("t"+dx+",0");axisConfig.axisLabelContainerTop.transform("t"+dx+",0")}axis._drawComponents()}axis.addExtEventListener("internal.animationComplete",function(){limitUpdaters&&limitUpdaters.forEach(function(limitUpdater){limitUpdater.draw()})},axis.getFromEnv("chartInstance"));axis.addToEnv("prevScale",axis.getScale().copy())};Axis.prototype.setScale=function setScale(scale){this.config.scale=scale};Axis.prototype.getScale=function getScale(){return this.config.scale};Axis.prototype.getLimit=function getLimit(){var axisRange=this.config.axisRange;return{min:axisRange.min,max:axisRange.max,tickInterval:axisRange.tickInterval}};Axis.prototype.getVisibleConfig=function getVisibleConfig(){var axisConfig=this.config;return{minValue:axisConfig.visibleMin,maxValue:axisConfig.visibleMax}};Axis.prototype.setAxisConfig=function setAxisConfig(data){var axis=this,axisConfig=axis.config,prop;for(prop in data){if(data.hasOwnProperty(prop)){axisConfig[prop]=data[prop]}}};Axis.prototype.getAxisConfig=function getAxisConfig(name){var axis=this,axisConfig=axis.config;if(name){return axisConfig[name]}else{return axisConfig}};Axis.prototype.getVisibleLength=function getVisibleLength(){var axis=this,limit=axis.getVisibleConfig();return Math.abs(limit.maxValue-limit.minValue)};Axis.prototype.getAxisEndLabelDisplaySpace=function getAxisEndLabelDisplaySpace(){return this.config.axisEndLabelDisplaySpace||{}};Axis.prototype.getTicksLen=function getTicksLen(){var tickInfo=this.config.tickValues;return tickInfo&&tickInfo.tickValue.length||0};return Axis}(_componentInterface2["default"]);exports["default"]=Axis},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var appearingAxis=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"axis"}],appearingFinal=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],axisAnimationFinal={"text.appearing":appearingFinal,"path.appearing":appearingFinal,"rect.appearing":appearingFinal},axisAnimationAxis={"text.appearing":appearingAxis,"path.appearing":appearingAxis,"rect.appearing":appearingAxis,"scroller.appearing":appearingAxis};exports["default"]={"initial.axis.numeric":axisAnimationAxis,"initial.axis.category":axisAnimationAxis,"initial.axis.log":axisAnimationAxis,"update.axis.numeric":axisAnimationFinal,"update.axis.category":axisAnimationFinal,"update.axis.log":axisAnimationFinal};exports.appearingAxis=appearingAxis;exports.appearingFinal=appearingFinal;exports.axisAnimationAxis=axisAnimationAxis;exports.axisAnimationFinal=axisAnimationFinal},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function interpolateNumber(min,max){min=Number(min);max=Number(max);var diff=max-min;return function(ratio){return diff*ratio+min}}exports["default"]=interpolateNumber},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var diff=function diff(arr1,arr2){return arr1.filter(function(ele){return arr2.indexOf(ele)<0})};exports["default"]=diff},function(module,exports,__webpack_require__){var _containsWith=__webpack_require__(300);var _curry3=__webpack_require__(192);var differenceWith=_curry3(function differenceWith(pred,first,second){var out=[];var idx=0;var firstLen=first.length;while(idx<firstLen){if(!_containsWith(pred,first[idx],second)&&!_containsWith(pred,first[idx],out)){out.push(first[idx])}idx+=1}return out});module.exports=differenceWith},function(module,exports){function _containsWith(pred,x,list){var idx=0;var len=list.length;while(idx<len){if(pred(x,list[idx])){return true}idx+=1}return false}module.exports=_containsWith},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports._parseLabel=exports.extractStyleInfo=exports.getLabel=exports.setAxisPadding=exports._createContainer=exports.shiftLabels=exports.setTickValues=exports._drawLabel=exports.getPixel=exports.getTrendLineLimits=exports.setDataLimit=exports.setAxisDimention=undefined;var _lib=__webpack_require__(118);var _difference=__webpack_require__(302);var _difference2=_interopRequireDefault(_difference);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var queryOptions={wrtVisible:true},LABEL_ID="_label",NORMALSTRING="normal",extractStyleInfo=function extractStyleInfo(cat,chart){var sAttrMap={labelfont:["fontFamily"],labelfontcolor:["fontColor"],labelfontsize:["fontSize",function(val){return val?(0,_lib.pluckNumber)(val)+"px":_lib.UNDEF}],labelfontbold:["fontWeight",function(val){return val?"bold":NORMALSTRING}],labelfontitalic:["fontStyle",function(val){return val?"italic":NORMALSTRING}],labelfontalpha:["fontAlpha"]},cats=chart.getFromEnv("dataSource").categories,catData=cats&&cats[0]||{},defFn=function defFn(val){return val},styleExists=false,attrKey,attrVal,secAttrVal,style={},attrRule,mappedAttr,mapFn,mappedVal;for(attrKey in catData){if(attrKey==="category"||attrKey in cat){continue}attrVal=catData[attrKey];cat[attrKey]=attrVal}for(attrKey in sAttrMap){attrRule=sAttrMap[attrKey];mappedAttr=attrRule[0];mapFn=attrRule[1]||defFn;attrVal=cat[attrKey];secAttrVal=cat[mappedAttr.toLowerCase()];if(attrVal!==_lib.UNDEF||secAttrVal!==_lib.UNDEF){if((mappedVal=mapFn(attrVal))!==_lib.UNDEF||(mappedVal=mapFn(secAttrVal))!==_lib.UNDEF){style[mappedAttr]=mappedVal;styleExists=true}}if(styleExists){cat.style=style}}},setAxisDimention=function setAxisDimention(data){var axis=this,scale=axis.getScale(),axisConfig=axis.config,chart=axis.getFromEnv("chart"),chartConfig=chart.config,axisDimention=axisConfig.axisDimention||(axisConfig.axisDimention={}),isReverse=axisConfig.isReverse;axisDimention.opposite=(0,_lib.pluckNumber)(data.opposite,axisDimention.opposite);axisDimention.x=(0,_lib.pluckNumber)(data.x,axisDimention.x,chartConfig.canvasLeft);axisDimention.y=(0,_lib.pluckNumber)(data.y,axisDimention.y,chartConfig.canvasTop);axisDimention.axisLength=(0,_lib.pluckNumber)(data.axisLength,axisDimention.axisLength);if(axisConfig.isVertical){isReverse?scale.setRange([axisDimention.y+axisDimention.axisLength,axisDimention.y]):scale.setRange([axisDimention.y,axisDimention.y+axisDimention.axisLength])}else{isReverse?scale.setRange([axisDimention.x+axisDimention.axisLength,axisDimention.x]):scale.setRange([axisDimention.x,axisDimention.x+axisDimention.axisLength])}axisConfig.translation=axis._computeTranslation()},setDataLimit=function setDataLimit(max,min){var axis=this,axisConfig=axis.config,categories=axis.getFromEnv("dataSource").categories,categoryArr=categories&&categories[0]&&categories[0].category,startPad=axisConfig.startPad||0,endPad=axisConfig.endPad||0,catMin,catMax,trendMin,trendMax,xAxisLabelMode=axisConfig.xAxisLabelMode,numberAccessor=function numberAccessor(a){return Number(a)};if(xAxisLabelMode==="categories"||xAxisLabelMode==="mixed"){var _extent=(0,_lib.extent)(categoryArr,function(obj){return Number(obj.x)});catMin=_extent[0];catMax=_extent[1]}var _axis$getTrendLineLim=axis.getTrendLineLimits();trendMin=_axis$getTrendLineLim[0];trendMax=_axis$getTrendLineLim[1];var _extent2=(0,_lib.extent)([trendMin,trendMax,catMin,catMax,min,max],numberAccessor);min=_extent2[0];max=_extent2[1];axisConfig.originalMax=max;axisConfig.originalMin=min;max=axisConfig.isPercent?100:max+endPad;min=axisConfig.isPercent?0:min-startPad;axis._setAxisRange({min:min,max:max});if(axisConfig.axisRange.tickInterval!==_lib.UNDEF){axis._adjustNumberFormatter(axisConfig.axisRange.tickInterval)}},getTrendLineLimits=function getTrendLineLimits(){var axisConfig=this.config,lines=axisConfig.trendLines||axisConfig.vTrendLines||axisConfig.trendPoints,lineArr=lines&&lines[0]&&lines[0].line||lines&&lines.point,startMin=void 0,startMax=void 0,endMin=void 0,endMax=void 0;if(axisConfig.trendLimits)return axisConfig.trendLimits;var _extent3=(0,_lib.extent)(lineArr,function(obj){return obj.startvalue===""?_lib.UNDEF:Number(obj.startvalue)});startMin=_extent3[0];startMax=_extent3[1];var _extent4=(0,_lib.extent)(lineArr,function(obj){return obj.endvalue===""?_lib.UNDEF:Number(obj.endvalue)});endMin=_extent4[0];endMax=_extent4[1];axisConfig.trendLimits=(0,_lib.extent)([startMin,startMax,endMin,endMax],function(a){return Number(a)});return axisConfig.trendLimits},getPixel=function getPixel(value){return this.getScale().getRangeValue(value)},_drawLabel=function _drawLabel(){var axis=this,axisConfig=axis.config,animationManager=axis.getFromEnv("animationManager"),toolTipController=this.getFromEnv("toolTipController"),axisRange=axisConfig.axisRange,labels=axisConfig.labels,style=labels.style,axisComponents=axis.components,i,j,ln,max=axisRange.max,min=axisRange.min,axisContainer=axisConfig.axisContainer,extremeLabels=axisConfig.extremeLabels,textElement,ticks=axisConfig.ticks,mapId,map=[],css={fontFamily:style.fontFamily,fontSize:style.fontSize,fontWeight:style.fontWeight,fontStyle:style.fontStyle,lineHeight:style.lineHeight},removingElement,axisAttrObj,value,diff,labelIndexArr,labelConfArr;if(axisConfig.labels.isDraw){labelConfArr=axisComponents.labels;labelIndexArr=axisComponents.labelIndexArr;axisContainer.css(css);for(j=0,ln=labelIndexArr&&labelIndexArr.length;j<ln;j+=1){i=labelIndexArr[j];value=ticks[i];mapId=""+value+LABEL_ID;textElement=axis.getGraphicalElement(mapId);axisAttrObj=labelConfArr[i].config.props.label.attr;textElement=axis.addGraphicalElement(mapId,animationManager.setAnimation({el:textElement||"text",attr:axisAttrObj,container:axisContainer,data:{value:value},component:axis,label:"text"}));if(axisAttrObj.tooltext){toolTipController.enableToolTip(textElement,axisAttrObj.tooltext)}else{toolTipController.disableToolTip(textElement)}if(value===max){extremeLabels.lastLabel.graphic=textElement}else if(value===min){extremeLabels.firstLabel.graphic=textElement}map.push(mapId)}}diff=(0,_difference2["default"])(axisConfig.prevIntervalArr,map);for(i=0,ln=diff.length;i<ln;i++){removingElement=axis.getGraphicalElement(diff[i]);removingElement&&axis.removeGraphicalElement(removingElement)}axisConfig.prevIntervalArr=map},_parseLabel=function _parseLabel(){var axis=this,axisConfig=axis.config,canvasDimensions=axis.getLinkedItem("canvas").getEffectiveDimensions(),axisDimension=axisConfig.axisDimention,chart=axis.getFromEnv("chart"),chartConfig=chart.config,axisRange=axisConfig.axisRange,isOpposit=axisConfig.isOpposit,labels=axisConfig.labels,axisComponents=axis.components,labelStore=axisComponents.labels,style=labels.style,smartLabel=chart.getFromEnv("smartLabel"),i,ln,isVertical=axisConfig.isVertical,max=axisRange.max,min=axisRange.min,numberFormatter=axis.getFromEnv("number-formatter"),canvasTop=canvasDimensions.top,canvasLeft=canvasDimensions.left,canvasBottom=canvasTop+canvasDimensions.height,canvasRight=canvasLeft+canvasDimensions.width,axisPadding=axisConfig.labelPadding,extremeLabels=axisConfig.extremeLabels,axisStartPosition=isVertical?axisDimension.x:axisDimension.y,axisEndPosition=axisDimension.opposite,labelRotation,labelLineHeight,avalW,avalH,axisValueMaxH=axisConfig.labelMaxH,axisValueMaxW=axisConfig.labelMaxW,tempStep,tickInterval=axisRange.tickInterval,intervalWidth=Math.abs(axis.getPixel(min,queryOptions)-axis.getPixel(min+tickInterval,queryOptions)),numberFormatterFn,axisAttrObjCommon,axisAttrObj,tickMap=[],ticks=axisConfig.ticks,counter=0,isReverse=axisConfig.isReverse,leftSpace,rightSpace,value,smartLabelConf,showZeroPlaneValue=(0,_lib.pluckNumber)(axis.getFromEnv("chart-attrib").showzeroplanevalue),checkLimit=true,zeroInPx,limit=axis.getLimit(),intervalArr;smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);smartLabel.setStyle({fontSize:style.fontSize,fontFamily:style.fontFamily,lineHeight:style.lineHeight,fontWeight:style.fontWeight});labelLineHeight=style.lineHeight;if(labelLineHeight){if(labelLineHeight.indexOf("px")!==-1){labelLineHeight=parseFloat(labelLineHeight.replace("px",""))}}if(showZeroPlaneValue===0){checkLimit=false}if(axisConfig.labels.isDraw){if(axisConfig.drawLabelsOpposit){isOpposit=!isOpposit;axisStartPosition=axisEndPosition}axisAttrObjCommon={fill:style.color,"line-height":labelLineHeight,"font-size":style.fontSize,opacity:1};labelRotation=axisConfig.labels.rotation;if(isVertical){if(axisConfig.labelMaxH>intervalWidth&&!axisConfig.tickValues){tempStep=Math.ceil(axisConfig.labelMaxH/intervalWidth)}axisAttrObjCommon["text-anchor"]=isOpposit?_lib.POSITION_START:_lib.POSITION_END}else{if(axisConfig.labelMaxW>intervalWidth&&!axisConfig.tickValues){tempStep=Math.ceil(axisConfig.labelMaxW/intervalWidth)}if(labelRotation){axisAttrObjCommon["text-anchor"]=isOpposit?_lib.POSITION_START:_lib.POSITION_END;axisAttrObjCommon["vertical-align"]="middle"}else{axisAttrObjCommon["vertical-align"]=isOpposit?_lib.POSITION_BOTTOM:_lib.POSITION_TOP}leftSpace=canvasLeft;rightSpace=chartConfig.width-canvasRight}if(tempStep>axisConfig.labels.step){axisConfig.labels.step=tempStep}if(axisConfig.numberFormatterFn){numberFormatterFn=numberFormatter[axisConfig.numberFormatterFn]}else if(axisConfig.isPercent){numberFormatterFn=numberFormatter.percentValue}else if(isVertical){numberFormatterFn=numberFormatter.yAxis}else{numberFormatterFn=numberFormatter.xAxis}extremeLabels.firstLabel={};extremeLabels.lastLabel={};intervalArr=ticks.filter(function(tick,idx,arr){if(tick===0&&!axisConfig.showZeroPlaneValue){if(!checkLimit||checkLimit&&!(limit.max===tick||limit.min===tick)){return false}else{tickMap[counter++]=idx;return true}}else if(!isVertical&&idx!==arr.length-1&&axis.getPixel(tick,queryOptions)+axisConfig.labelMaxW>canvasRight){return false}else if(idx%axisConfig.labels.step===0){tickMap[counter++]=idx;return true}else if(axisConfig.labels.drawLimitVal&&(idx===0||idx===arr.length-1)){tickMap[counter++]=idx;return true}else{return false}});if(axisConfig.isZeroTickForced&&intervalArr.indexOf(0)!==-1){var valueInPx=void 0;counter=0;tickMap=[];zeroInPx=axis.getPixel(0);intervalArr=intervalArr.filter(function(tick,index,arr){valueInPx=axis.getPixel(tick);if(arr[index+1]===0||arr[index-1]===0){if(isVertical){if(valueInPx+axisValueMaxH>=zeroInPx&&zeroInPx>=valueInPx-axisValueMaxH)return false;else{tickMap[counter++]=index;return true}}else if(valueInPx+axisValueMaxW>=zeroInPx&&zeroInPx>=valueInPx-axisValueMaxW)return false;else{tickMap[counter++]=index;return true}}else{tickMap[counter++]=index;return true}})}avalW=(isVertical?axisValueMaxW:intervalWidth/2)*axisConfig.labels.step;avalH=isVertical?intervalWidth/2:axisValueMaxH;axisComponents.labelIndexArr=tickMap.slice();for(i=0,ln=intervalArr.length;i<ln;i+=1){value=intervalArr[i];labelStore[tickMap[i]]=labelStore[tickMap[i]]||{config:{props:{label:{}}}};axisAttrObj=Object.assign({},axisAttrObjCommon);smartLabelConf=_lib.UNDEF;if(!axisConfig.labels.drawNormalVal&&!(value===min||value===max)){axisAttrObj.text=""}else if(!axisConfig.labels.drawLimitVal&&(value===min||value===max)){axisAttrObj.text=""}else if(value===min&&axisConfig.lowerLimitDisplay&&axisConfig.labels.drawLimitVal){smartLabelConf=smartLabel.getSmartText(axisConfig.lowerLimitDisplay,avalW,avalH+labelLineHeight/2);axisAttrObj.text=smartLabelConf.text;axisAttrObj.tooltext=smartLabelConf.tooltext}else if(value===max&&axisConfig.upperLimitDisplay&&axisConfig.labels.drawLimitVal){smartLabelConf=smartLabel.getSmartText(axisConfig.upperLimitDisplay,avalW,avalH+labelLineHeight/2);axisAttrObj.text=smartLabelConf.text;axisAttrObj.tooltext=smartLabelConf.tooltext}else{axisAttrObj.text=""+numberFormatterFn.call(numberFormatter,value,axisConfig.axisIndex);smartLabelConf=smartLabel.getOriSize(axisAttrObj.text)}if(isVertical){axisAttrObj.x=isOpposit?(axisStartPosition||canvasRight)+axisPadding:(axisStartPosition||canvasLeft)-axisPadding;axisAttrObj.y=axis.getPixel(value,queryOptions);if((isReverse&&value===min&&axisConfig.lowerLimitDisplay||!isReverse&&value===max&&axisConfig.upperLimitDisplay)&&smartLabelConf&&smartLabelConf.height>labelLineHeight){axisAttrObj["vertical-align"]=_lib.POSITION_BOTTOM}if((isReverse&&value===max&&axisConfig.upperLimitDisplay||!isReverse&&value===min&&axisConfig.lowerLimitDisplay)&&smartLabelConf&&smartLabelConf.height>labelLineHeight){axisAttrObj["vertical-align"]=_lib.POSITION_TOP}if(axisConfig.placeValuesInside){axisAttrObj["text-anchor"]=isOpposit?_lib.POSITION_END:_lib.POSITION_START}}else{axisAttrObj.x=axis.getPixel(value,queryOptions);axisAttrObj.y=isOpposit?(axisStartPosition||canvasTop)-axisPadding:(axisStartPosition||canvasBottom)+axisPadding;if((!isReverse&&value===min||isReverse&&value===max)&&smartLabelConf&&smartLabelConf.width>leftSpace*2){axisAttrObj["text-anchor"]=_lib.POSITION_START}if((!isReverse&&value===max||isReverse&&value===min)&&smartLabelConf&&smartLabelConf.width>rightSpace*2){axisAttrObj["text-anchor"]=_lib.POSITION_END}if(axisConfig.placeValuesInside){axisAttrObj["vertical-align"]=isOpposit?_lib.POSITION_TOP:_lib.POSITION_BOTTOM}else{axisAttrObj["vertical-align"]=isOpposit?_lib.POSITION_BOTTOM:_lib.POSITION_TOP}}if(labels.shiftX){axisAttrObj.x+=labels.shiftX}if(labels.shiftY){axisAttrObj.y+=labels.shiftY}axisAttrObj.transform=(0,_lib.getSuggestiveRotation)(labelRotation,axisAttrObj.x,axisAttrObj.y);labelStore[tickMap[i]].config.props.label.attr=axisAttrObj}}},setTickValues=function setTickValues(categories){var len=categories&&categories.length,axisConfig=this.config,startPad=axisConfig.startPad||0,index,chart=this.getFromEnv("chart"),tickObj,countCat=0,tickValues=axisConfig.tickValues={},tickValue=tickValues.tickValue=[],vline=tickValues.vline=[],tickIdMap=tickValues.tickIdMap={},endPad=axisConfig.endPad||0;axisConfig.hasCategory=1;for(index=0;index<len;index+=1){tickObj=(0,_lib.extend2)({},categories[index]);if(!tickObj.vline){if(tickObj.id){tickIdMap[tickObj.id.toLowerCase()]={tickObj:tickObj,index:countCat}}if(axisConfig.mapTickValuesById&&tickObj.id||!axisConfig.mapTickValuesById){extractStyleInfo(tickObj,chart);tickValue.push(tickObj);tickValue[countCat].label=(0,_lib.parseUnsafeString)(tickValue[countCat].label);countCat+=1}}else{tickObj.startIndex=tickValue.length-1;vline.push(tickObj)}}axisConfig.oriCatLen=countCat;this._setAxisRange({max:Number((0,_lib.toPrecision)(countCat-1+endPad,10)),min:Number((0,_lib.toPrecision)(0-startPad,10)),tickInterval:Number((0,_lib.toPrecision)(1,10))})},shiftLabels=function shiftLabels(x,y){var axis=this,axisConfig=axis.config,labels=axisConfig.labels;labels.shiftX=x;labels.shiftY=y},_createContainer=function _createContainer(){var axis=this,axisConfig=axis.config,isVertical=axisConfig.isVertical,chart=axis.getLinkedParent(),childContainers=chart.getChildContainer(),axisBottom=childContainers.axisBottomGroup,axisTop=childContainers.axisTopGroup,translation=-axis.getTranslation(),translateString=isVertical?"T0,"+translation:"T"+translation+",0",axisLineGroup=void 0,axisNameGroup=void 0,axisTrendGroupTop=void 0,axisLabelGroup=void 0,axisLabelGroupTop=void 0;axisNameGroup=axis.createContainer("axisNameGroup",{name:"dataset-Name-group"},axisBottom);axisLineGroup=axis.createContainer("axisLineGroup",{name:"axis-Line-group"},axisTop);axisTrendGroupTop=axis.createContainer("axisTrendGroupTop",{name:"dataset-Trend-group-top"},axisTop);axisLabelGroup=axis.createContainer("axisLabelGroup",{name:"dataset-Label-group"},axisBottom);axisLabelGroupTop=axis.createContainer("axisLabelGroupTop",{name:"dataset-Label-group"},axisTop);axisConfig.scrollerContainer=axis.createGroup("scrollerContainer",{name:"scroller-container"},axisLineGroup,"scroller");axisConfig.axisContainer=axis.createGroup("axisContainer",{name:"dataset-axis",transform:translateString},axisLabelGroup);axisConfig.axisLabelContainerTop=axis.createGroup("axisLabelContainerTop",{name:"dataset-top-label",transform:translateString},axisLabelGroupTop);axisConfig.axisAxisLineContainer=axis.createGroup("axisAxisLineContainer",{name:"axis-line-tick"},axisLineGroup);axisConfig.axisTrendLabelContainer=axis.createGroup("axisTrendLabelContainer",{name:"dataset-axis-trend-label"},axisTrendGroupTop);axisConfig.axisNameContainer=axis.createGroup("axisNameContainer",{name:"dataset-axis-name"},axisNameGroup);axisConfig.axisAxisLineContainerBottom=axis.createGroup("axisAxisLineContainerBottom",{name:"axis-line-tick-bottom"},axisBottom)},setAxisPadding=function setAxisPadding(){var startPad=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var endPad=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var axis=this,axisConfig=axis.config,scale=axis.getScale(),_scale$getDomain=scale.getDomain(),min=_scale$getDomain[0],max=_scale$getDomain[1],diff;if(axisConfig.oriCatLen===1){if(startPad===0){startPad=.5}if(endPad===0){endPad=.5}}diff=startPad-axisConfig.startPad;axisConfig.startPad=Math.max(axisConfig.startPad,startPad);axisConfig.endPad=Math.max(axisConfig.endPad,endPad);if(diff>0){axisConfig.setPadding=true;axis._setAxisRange({min:min-diff,max:max+diff})}if(!axisConfig.tickValues){if(axisConfig.originalMax&&axisConfig.originalMin){axis.setDataLimit(axisConfig.originalMax,axisConfig.originalMin)}}},getLabel=function getLabel(tickId){var axis=this,axisConfig=axis.config,tickObj=axisConfig.tickValues&&axisConfig.tickValues.tickValue[tickId],macroIndices=[3],parserConfig={};if(tickObj&&tickObj.tooltext){parserConfig.label=tickObj.label;tickObj.tooltext=(0,_lib.parseTooltext)(tickObj.tooltext,macroIndices,parserConfig)}return{label:tickObj&&(tickObj.oriLabel||tickObj.label),tooltext:tickObj&&tickObj.tooltext}};exports.setAxisDimention=setAxisDimention;exports.setDataLimit=setDataLimit;exports.getTrendLineLimits=getTrendLineLimits;exports.getPixel=getPixel;exports._drawLabel=_drawLabel;exports.setTickValues=setTickValues;exports.shiftLabels=shiftLabels;exports._createContainer=_createContainer;exports.setAxisPadding=setAxisPadding;exports.getLabel=getLabel;exports.extractStyleInfo=extractStyleInfo;exports._parseLabel=_parseLabel},function(module,exports,__webpack_require__){var _contains=__webpack_require__(303);var _curry2=__webpack_require__(188);var difference=_curry2(function difference(first,second){var out=[];var idx=0;var firstLen=first.length;while(idx<firstLen){if(!_contains(first[idx],second)&&!_contains(first[idx],out)){out[out.length]=first[idx]}idx+=1}return out});module.exports=difference},function(module,exports,__webpack_require__){var _indexOf=__webpack_require__(304);function _contains(a,list){return _indexOf(list,a,0)>=0}module.exports=_contains},function(module,exports,__webpack_require__){var equals=__webpack_require__(305);function _indexOf(list,a,idx){var inf,item;if(typeof list.indexOf==="function"){switch(typeof a){case"number":if(a===0){inf=1/a;while(idx<list.length){item=list[idx];if(item===0&&1/item===inf){return idx}idx+=1}return-1}else if(a!==a){while(idx<list.length){item=list[idx];if(typeof item==="number"&&item!==item){return idx}idx+=1}return-1}return list.indexOf(a,idx);case"string":case"boolean":case"function":case"undefined":return list.indexOf(a,idx);case"object":if(a===null){return list.indexOf(a,idx)}}}while(idx<list.length){if(equals(list[idx],a)){return idx}idx+=1}return-1}module.exports=_indexOf},function(module,exports,__webpack_require__){var _curry2=__webpack_require__(188);var _equals=__webpack_require__(306);var equals=_curry2(function equals(a,b){return _equals(a,b,[],[])});module.exports=equals},function(module,exports,__webpack_require__){var _arrayFromIterator=__webpack_require__(307);var _containsWith=__webpack_require__(300);var _functionName=__webpack_require__(308);var _has=__webpack_require__(195);var identical=__webpack_require__(309);var keys=__webpack_require__(310);var type=__webpack_require__(312);function _uniqContentEquals(aIterator,bIterator,stackA,stackB){var a=_arrayFromIterator(aIterator);var b=_arrayFromIterator(bIterator);function eq(_a,_b){return _equals(_a,_b,stackA.slice(),stackB.slice())}return!_containsWith(function(b,aItem){return!_containsWith(eq,aItem,b)},b,a)}function _equals(a,b,stackA,stackB){if(identical(a,b)){return true}var typeA=type(a);if(typeA!==type(b)){return false}if(a==null||b==null){return false}if(typeof a["fantasy-land/equals"]==="function"||typeof b["fantasy-land/equals"]==="function"){return typeof a["fantasy-land/equals"]==="function"&&a["fantasy-land/equals"](b)&&typeof b["fantasy-land/equals"]==="function"&&b["fantasy-land/equals"](a)}if(typeof a.equals==="function"||typeof b.equals==="function"){return typeof a.equals==="function"&&a.equals(b)&&typeof b.equals==="function"&&b.equals(a)}switch(typeA){case"Arguments":case"Array":case"Object":if(typeof a.constructor==="function"&&_functionName(a.constructor)==="Promise"){return a===b}break;case"Boolean":case"Number":case"String":if(!(typeof a===typeof b&&identical(a.valueOf(),b.valueOf()))){return false}break;case"Date":if(!identical(a.valueOf(),b.valueOf())){return false}break;case"Error":return a.name===b.name&&a.message===b.message;case"RegExp":if(!(a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline&&a.sticky===b.sticky&&a.unicode===b.unicode)){return false}break}var idx=stackA.length-1;while(idx>=0){if(stackA[idx]===a){return stackB[idx]===b}idx-=1}switch(typeA){case"Map":if(a.size!==b.size){return false}return _uniqContentEquals(a.entries(),b.entries(),stackA.concat([a]),stackB.concat([b]));case"Set":if(a.size!==b.size){return false}return _uniqContentEquals(a.values(),b.values(),stackA.concat([a]),stackB.concat([b]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return false}var keysA=keys(a);if(keysA.length!==keys(b).length){return false}var extendedStackA=stackA.concat([a]);var extendedStackB=stackB.concat([b]);idx=keysA.length-1;while(idx>=0){var key=keysA[idx];if(!(_has(key,b)&&_equals(b[key],a[key],extendedStackA,extendedStackB))){return false}idx-=1}return true}module.exports=_equals},function(module,exports){function _arrayFromIterator(iter){var list=[];var next;while(!(next=iter.next()).done){list.push(next.value)}return list}module.exports=_arrayFromIterator},function(module,exports){function _functionName(f){var match=String(f).match(/^function (\w*)/);return match==null?"":match[1]}module.exports=_functionName},function(module,exports,__webpack_require__){var _curry2=__webpack_require__(188);var identical=_curry2(function identical(a,b){if(a===b){return a!==0||1/a===1/b}else{return a!==a&&b!==b}});module.exports=identical},function(module,exports,__webpack_require__){var _curry1=__webpack_require__(189);var _has=__webpack_require__(195);var _isArguments=__webpack_require__(311);var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString");var nonEnumerableProps=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];var hasArgsEnumBug=function(){"use strict";return arguments.propertyIsEnumerable("length")}();var contains=function contains(list,item){var idx=0;while(idx<list.length){if(list[idx]===item){return true}idx+=1}return false};var _keys=typeof Object.keys==="function"&&!hasArgsEnumBug?function keys(obj){return Object(obj)!==obj?[]:Object.keys(obj)}:function keys(obj){if(Object(obj)!==obj){return[]}var prop,nIdx;var ks=[];var checkArgsLength=hasArgsEnumBug&&_isArguments(obj);for(prop in obj){if(_has(prop,obj)&&(!checkArgsLength||prop!=="length")){ks[ks.length]=prop}}if(hasEnumBug){nIdx=nonEnumerableProps.length-1;while(nIdx>=0){prop=nonEnumerableProps[nIdx];if(_has(prop,obj)&&!contains(ks,prop)){ks[ks.length]=prop}nIdx-=1}}return ks};var keys=_curry1(_keys);module.exports=keys},function(module,exports,__webpack_require__){var _has=__webpack_require__(195);var toString=Object.prototype.toString;var _isArguments=function(){return toString.call(arguments)==="[object Arguments]"?function _isArguments(x){return toString.call(x)==="[object Arguments]"}:function _isArguments(x){return _has("callee",x)}};module.exports=_isArguments},function(module,exports,__webpack_require__){var _curry1=__webpack_require__(189);var type=_curry1(function type(val){return val===null?"Null":val===undefined?"Undefined":Object.prototype.toString.call(val).slice(8,-1)});module.exports=type},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var START=0,STEP=1;var range=function range(){var start=void 0,stop=void 0,step=void 0,len=void 0,i=void 0,output=[];if(arguments.length>2){start=arguments.length<=0?undefined:arguments[0];stop=arguments.length<=1?undefined:arguments[1];step=arguments.length<=2?undefined:arguments[2]}else if(arguments.length===1){start=START;stop=arguments.length<=0?undefined:arguments[0];step=STEP}else{start=arguments.length<=0?undefined:arguments[0];stop=arguments.length<=1?undefined:arguments[1];step=STEP}len=Math.floor(Math.max(0,Math.ceil((stop-start)/step)));if(isFinite(len)){for(i=0;i<len;++i){output.push(step*i+start)}}return output};exports["default"]=range},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _continuous=__webpack_require__(315);var _continuous2=_interopRequireDefault(_continuous);var _ticks2=__webpack_require__(319);var _ticks3=_interopRequireDefault(_ticks2);var _number=__webpack_require__(297);var _number2=_interopRequireDefault(_number);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var ScaleLinear=function(_ScaleContinuous){_inherits(ScaleLinear,_ScaleContinuous);function ScaleLinear(){_classCallCheck(this,ScaleLinear);return _possibleConstructorReturn(this,_ScaleContinuous.call(this,_continuous.deInterpolateLinear,_number2["default"]))}ScaleLinear.prototype.ticks=function ticks(){var count=arguments.length>0&&arguments[0]!==undefined?arguments[0]:7;var domain=this.getDomain();return(0,_ticks3["default"])(domain[0],domain[domain.length-1],count)};ScaleLinear.prototype.nice=function nice(){var count=arguments.length>0&&arguments[0]!==undefined?arguments[0]:7;var domain=this.getDomain(),startIndex=0,endIndex=domain.length-1,start=domain[startIndex],stop=domain[endIndex],step=void 0;if(stop<start){step=start;start=stop;stop=step;step=startIndex;startIndex=endIndex;endIndex=step}step=(0,_ticks2.tickIncrement)(start,stop,count);if(step>0){start=Math.floor(start/step)*step;stop=Math.ceil(stop/step)*step;step=(0,_ticks2.tickIncrement)(start,stop,count)}else if(step<0){start=Math.ceil(start*step)/step;stop=Math.floor(stop*step)/step;step=(0,_ticks2.tickIncrement)(start,stop,count)}if(step>0){domain[startIndex]=Math.floor(start/step)*step;domain[endIndex]=Math.ceil(stop/step)*step;this.setDomain(domain)}else if(step<0){domain[startIndex]=Math.ceil(start*step)/step;domain[endIndex]=Math.floor(stop*step)/step;this.setDomain(domain)}return this};ScaleLinear.prototype.copy=function copy(){return(0,_continuous.copyScale)(this,new ScaleLinear)};return ScaleLinear}(_continuous2["default"]);exports["default"]=ScaleLinear},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.bimap=exports.deInterpolateLinear=exports.copyScale=undefined;var _value=__webpack_require__(316);var _value2=_interopRequireDefault(_value);var _round=__webpack_require__(318);var _round2=_interopRequireDefault(_round);var _constant=__webpack_require__(317);var _constant2=_interopRequireDefault(_constant);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var UNIT=[0,1];function bimap(domain,range,deInterpolate,reInterpolate){var deInterpolator,reInterpolator;if(domain[0]>domain[1]){deInterpolator=deInterpolate(domain[1],domain[0]);reInterpolator=reInterpolate(range[1],range[0])}else{deInterpolator=deInterpolate(domain[0],domain[1]);reInterpolator=reInterpolate(range[0],range[1])}return function(value){return reInterpolator(deInterpolator(value))}}function copyScale(sourceScale,targetScale){return targetScale.setInterpolate(sourceScale.getInterpolate()).setClamp(sourceScale.getClamp()).setDomain(sourceScale.getDomain()).setRange(sourceScale.getRange())}function deInterpolateLinear(min,max){min=Number(min);max=Number(max);var diff=max-min;if(!diff){return(0,_constant2["default"])(diff)}return function(value){return(value-min)/diff}}function deInterpolateClamp(deInterpolate){return function(min,max){min=Number(min);max=Number(max);var interpolator=deInterpolate(min,max);return function(value){if(value<=min){return 0}else if(value>=max){return 1}else{return interpolator(value)}}}}function reInterpolateClamp(reInterpolate){return function(min,max){min=Number(min);max=Number(max);var interpolator=reInterpolate(min,max);return function(ratio){if(ratio<=0){return min}else if(ratio>=1){return max}else{return interpolator(ratio)}}}}var ScaleContinuous=function(){function ScaleContinuous(deInterpolate,reInterpolate){_classCallCheck(this,ScaleContinuous);this.domain=UNIT;this.range=UNIT;this.deInterpolate=deInterpolate;this.reInterpolate=reInterpolate;this.interpolate=_value2["default"];this.clamp=false;this.input=null;this.output=null;this._rescale()}ScaleContinuous.prototype._rescale=function _rescale(){this.input=null;this.output=null;return this};ScaleContinuous.prototype.setDomain=function setDomain(){var inputArr=arguments.length>0&&arguments[0]!==undefined?arguments[0]:UNIT;this.domain=inputArr.map(Number);return this._rescale()};ScaleContinuous.prototype.getDomain=function getDomain(){return this.domain.slice()};ScaleContinuous.prototype.setRange=function setRange(){var inputArr=arguments.length>0&&arguments[0]!==undefined?arguments[0]:UNIT;this.range=inputArr.slice();return this._rescale()};ScaleContinuous.prototype.getRange=function getRange(){return this.range.slice()};ScaleContinuous.prototype.setInterpolate=function setInterpolate(){var interpolate=arguments.length>0&&arguments[0]!==undefined?arguments[0]:_value2["default"];this.interpolate=interpolate;return this._rescale()};ScaleContinuous.prototype.getInterpolate=function getInterpolate(){return this.interpolate};ScaleContinuous.prototype.setClamp=function setClamp(){var clamp=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.clamp=!!clamp;return this._rescale()};ScaleContinuous.prototype.getClamp=function getClamp(){return this.clamp};ScaleContinuous.prototype.rangeRound=function rangeRound(){var inputArr=arguments.length>0&&arguments[0]!==undefined?arguments[0]:UNIT;this.range=inputArr.slice();this.interpolate=_round2["default"];return this._rescale()};ScaleContinuous.prototype.getRangeValue=function getRangeValue(domainValue){domainValue=domainValue!==null?domainValue:undefined;var clamp=this.getClamp(),deInterpolate=clamp?deInterpolateClamp(this.deInterpolate):this.deInterpolate;if(!this.output){this.output=bimap(this.getDomain(),this.getRange(),deInterpolate,this.interpolate)}return this.output(Number(domainValue))};ScaleContinuous.prototype.getDomainValue=function getDomainValue(rangeValue){var clamp=this.getClamp(),reInterpolate=clamp?reInterpolateClamp(this.reInterpolate):this.reInterpolate;if(!this.input){this.input=bimap(this.getRange(),this.getDomain(),deInterpolateLinear,reInterpolate)}return this.input(Number(rangeValue))};return ScaleContinuous}();exports.copyScale=copyScale;exports.deInterpolateLinear=deInterpolateLinear;exports.bimap=bimap;exports["default"]=ScaleContinuous},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _number=__webpack_require__(297);var _number2=_interopRequireDefault(_number);var _constant=__webpack_require__(317);var _constant2=_interopRequireDefault(_constant);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function isValid(num){if(num===null||typeof num==="undefined"){return false}return true}function interpolateValue(from,to){var interpolator=_number2["default"];if(!isValid(to)||!isValid(from)||typeof to==="boolean"){return(0,_constant2["default"])(to)}return interpolator(from,to)}exports["default"]=interpolateValue},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var constant=function constant(x){return function(){return x}};exports["default"]=constant},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function interpolateRound(min,max){min=Number(min);max=Number(max);var diff=max-min;return function(ratio){return Math.round(diff*ratio+min)}}exports["default"]=interpolateRound},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var E10=Math.sqrt(50),E5=Math.sqrt(10),E2=Math.sqrt(2);function getMultiplier(error){var errorFactor=void 0;if(error>=E10){errorFactor=10}else if(error>=E5){errorFactor=5}else if(error>=E2){errorFactor=2}else{errorFactor=1}return errorFactor}function tickIncrement(){var start=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var stop=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var count=arguments.length>2&&arguments[2]!==undefined?arguments[2]:7;var step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log(step)/Math.LN10),error=step/Math.pow(10,power);if(power>=0){return getMultiplier(error)*Math.pow(10,power)}else{return-Math.pow(10,-power)/getMultiplier(error)}}function tickStep(){var start=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var stop=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var count=arguments.length>2&&arguments[2]!==undefined?arguments[2]:7;var step0=Math.abs(stop-start)/Math.max(0,count),power=Math.floor(Math.log(step0)/Math.LN10),step1=Math.pow(10,power),error=step0/step1;if(error>=E10){step1*=10}else if(error>=E5){step1*=5}else if(error>=E2){step1*=2}return stop<start?-step1:step1}function ticks(){var start=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var stop=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var count=arguments.length>2&&arguments[2]!==undefined?arguments[2]:7;var reverse=void 0,i=-1,n=void 0,tickArr=[],step=void 0;stop=+stop;start=+start;count=+count;if(start===stop&&count>0)return[start];reverse=stop<start;if(reverse){n=start;start=stop;stop=n}step=tickIncrement(start,stop,count);if(step===0||!isFinite(step))return[];if(step>0){start=Math.ceil(start/step);stop=Math.floor(stop/step);n=Math.ceil(stop-start+1);while(++i<n){tickArr[i]=(start+i)*step}}else{start=Math.floor(start*step);stop=Math.ceil(stop*step);n=Math.ceil(start-stop+1);while(++i<n){tickArr[i]=(start-i)/step}}if(reverse)tickArr.reverse();return tickArr}exports["default"]=ticks;exports.tickIncrement=tickIncrement;exports.tickStep=tickStep},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _range=__webpack_require__(313);var _range2=_interopRequireDefault(_range);var _lib=__webpack_require__(118);var _continuous=__webpack_require__(315);var _number=__webpack_require__(297);var _number2=_interopRequireDefault(_number);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var errorMapping=(0,_continuous.bimap)([2,100],[80,20],_continuous.deInterpolateLinear,_number2["default"]),getErrorValue=function getErrorValue(count){if(count>=100)return.2;if(count<=1)return 0;return errorMapping(count)/100},niceInterval=function niceInterval(interval){if(interval<=1)return 1;var arr=[],ceilInterval=Math.ceil(interval);arr[2]=ceilInterval%2;arr[5]=ceilInterval%5;arr[10]=ceilInterval%10;return(0,_lib.safeMin)(arr)+ceilInterval},noLimitChange=function noLimitChange(min,max,count,errorLimit,forceZeroTick,scale){var diff=max-min,interval=void 0,j=void 0,addZero=void 0,k=min,minCount=Math.ceil(count*(1-errorLimit)),maxCount=Math.floor(count*(1+errorLimit)),noOfInterval=void 0,isZeroTickForced=void 0,errorInterval=void 0,outputLen=void 0,firstNum=void 0,lastNum=void 0,output=[],checkMultiple=function checkMultiple(value){var arr=[10,5,2,1],i=void 0,len=arr.length,rem=void 0,isMultiple=void 0;for(i=0;i<len;++i){rem=value%arr[i];if(rem%1===0){isMultiple=true;break}}return isMultiple},counter=-1,minCovered=void 0,maxCovered=void 0,temp=void 0,willBreak=function willBreak(value){return checkMultiple(interval=diff/(value+1))?value:_lib.UNDEF};while(!minCovered||!maxCovered){++counter;temp=count+counter;if(temp>=maxCount)maxCovered=true;noOfInterval=willBreak(temp);if(noOfInterval)break;temp=count-counter;if(temp<=minCount)minCovered=true;noOfInterval=willBreak(temp);if(noOfInterval)break}if(min<0&&max>0&&forceZeroTick)addZero=true;for(j=0;j<noOfInterval;j++){if(addZero&&k<0&&k+interval>0){output.push(0);isZeroTickForced=true}k+=interval;output.push(k)}if(noOfInterval===_lib.UNDEF&&forceZeroTick){output=scale.ticks(count);outputLen=output.length;if(outputLen>1){interval=Math.abs(output[0]-output[1]);errorInterval=interval*.2;firstNum=output[0];lastNum=output[outputLen-1];if(Math.abs(min-firstNum)<=errorInterval&&firstNum!==0)output.shift();if(Math.abs(max-lastNum)<=errorInterval&&lastNum!==0)output.pop();if(firstNum===0||lastNum===0)isZeroTickForced=true}else if(output[0]===0)isZeroTickForced=true}if(addZero&&!isZeroTickForced&&output.indexOf(0)===-1){if(min<0&&output[0]>0){output=[0].concat(output)}else if(max>0&&output[output.length-1]<0){output.push(0)}else{output=[0]}isZeroTickForced=true}return{output:output,interval:interval,isZeroTickForced:isZeroTickForced}},domainUpdater=function domainUpdater(min,max,scale,axisConfig){var axisMinValue=axisConfig.isPercent?0:axisConfig.axisMinValue,axisMaxValue=axisConfig.isPercent?100:axisConfig.axisMaxValue,adjustDiv=!!axisConfig.adjustDiv,originalDivLines=axisConfig.numDivLines,numDivLines,divisions,setAdaptiveMin=!!axisConfig.setAdaptiveMin,axisRange=axisConfig.axisRange,minPowerOfTen,maxPowerOfTen,powerOfTen,interval,tickInterval,topBound,lowerBound,yMaxGiven,yMinGiven,rangePowerOfTen,rangeInterval,intervalArr,EPSILON=Math.pow(2,-24),extendDomain=true,tempMin,tempMax,errorLimit=.2,domain,negitiveTicks,ticksNotCreated=true,positiveMin,noLimitChangeObj,intervalArrLen,isZeroTickForced,xAxisLabelMode=axisConfig.xAxisLabelMode,dependentInfo=axisConfig.dependentInfo;numDivLines=axisConfig.majorTMNumber!==_lib.UNDEF?Math.max(0,originalDivLines-2):originalDivLines;if(dependentInfo&&dependentInfo.count&&!dependentInfo.limit){if(dependentInfo.numDivLines!==_lib.UNDEF){numDivLines=originalDivLines=dependentInfo.numDivLines;adjustDiv=false}}divisions=numDivLines+1;if(min===_lib.UNDEF&&max===_lib.UNDEF){min=0;max=1;extendDomain=false}if(max===min&&max===0){max=1;extendDomain=false}if(xAxisLabelMode==="categories"||xAxisLabelMode==="mixed"){extendDomain=false}if(extendDomain){maxPowerOfTen=Math.floor(Math.log(Math.abs(max))/Math.LN10);minPowerOfTen=Math.floor(Math.log(Math.abs(min))/Math.LN10);powerOfTen=Math.max(minPowerOfTen,maxPowerOfTen);interval=Math.pow(10,powerOfTen);if(Math.abs(max)/interval<2&&Math.abs(min)/interval<2){powerOfTen--;interval=Math.pow(10,powerOfTen)}rangePowerOfTen=Math.floor(Math.log(max-min)/Math.LN10);rangeInterval=Math.pow(10,rangePowerOfTen);if(max-min>0&&interval/rangeInterval>=10){interval=rangeInterval;powerOfTen=rangePowerOfTen}topBound=(Math.floor(max/interval)+1)*interval;if(min<0){lowerBound=-1*((Math.floor(Math.abs(min/interval))+1)*interval)}else{if(!setAdaptiveMin){lowerBound=0}else{lowerBound=Math.floor(Math.abs(min/interval)-1)*interval;lowerBound=lowerBound<0?0:lowerBound}}if(!setAdaptiveMin&&max<=0){topBound=0}if(!axisMaxValue&&axisMaxValue!==0){yMaxGiven=false}else{yMaxGiven=true}if(!axisMinValue&&axisMinValue!==0){yMinGiven=false}else{yMinGiven=true}if(!axisConfig.freezeLimit){if(yMaxGiven===false||yMaxGiven===true&&Number(axisMaxValue)<max&&max-Number(axisMaxValue)>EPSILON){max=topBound;yMaxGiven=false}else{max=Number(axisMaxValue)}if(yMinGiven===false||yMinGiven===true&&Number(axisMinValue)>min&&Number(axisMinValue)-min>EPSILON){min=lowerBound;yMinGiven=false}else{min=Number(axisMinValue)}}}else{if(!axisMaxValue&&axisMaxValue!==0){yMaxGiven=false}else{yMaxGiven=true}if(!axisMinValue&&axisMinValue!==0){yMinGiven=false}else{yMinGiven=true}if(yMaxGiven===true&&Number(axisMaxValue)>=max){max=Number(axisMaxValue)}else{yMaxGiven=false}if(yMinGiven===true&&Number(axisMinValue)<=min){min=Number(axisMinValue)}else{yMinGiven=false}}domain=[min,max];scale.setDomain(domain);if(adjustDiv&&!axisConfig.freezeLimit){if(!yMaxGiven&&!yMinGiven){axisConfig.ticks=!numDivLines?scale.getDomain():scale.nice(divisions).ticks(divisions);tickInterval=Math.abs(axisConfig.ticks[1]-axisConfig.ticks[0]);ticksNotCreated=false}else{errorLimit=getErrorValue(numDivLines);noLimitChangeObj=noLimitChange(min,max,numDivLines,errorLimit,axisConfig.forceZeroTick,scale);intervalArr=noLimitChangeObj.output;intervalArrLen=intervalArr.length;isZeroTickForced=noLimitChangeObj.isZeroTickForced;if(Math.abs((numDivLines-intervalArrLen+(isZeroTickForced?1:0))/numDivLines)>errorLimit){tickInterval=(max-min)/divisions}else{tickInterval=intervalArrLen===0||intervalArrLen===1&&isZeroTickForced?max-min:noLimitChangeObj.interval;axisConfig.isZeroTickForced=isZeroTickForced;axisConfig.ticks=[min].concat(intervalArr,max);ticksNotCreated=false}}}else{if(!yMaxGiven&&!yMinGiven&&!axisConfig.freezeLimit){var _scale$nice$getDomain=scale.nice(divisions).getDomain();tempMin=_scale$nice$getDomain[0];tempMax=_scale$nice$getDomain[1];interval=(tempMax-tempMin)/divisions;tickInterval=niceInterval(interval);tempMax=tempMin+tickInterval*divisions;if((tempMax-max)/max>errorLimit||(tempMin-min)/min>errorLimit){scale.setDomain([min,max]);tickInterval=(max-min)/divisions}else{min=tempMin;max=tempMax;scale.setDomain([min,max])}}else{tickInterval=(max-min)/divisions}}if(ticksNotCreated){if(min<0&&max>0&&axisConfig.forceZeroTick){negitiveTicks=(0,_range2["default"])(min,0,tickInterval);positiveMin=negitiveTicks[negitiveTicks.length-1]+tickInterval;positiveMin===0?positiveMin+=tickInterval:axisConfig.isZeroTickForced=true;axisConfig.ticks=negitiveTicks.concat(0,(0,_range2["default"])(positiveMin,max,tickInterval),max)}else{axisConfig.ticks=(0,_range2["default"])(min,max,tickInterval).concat(max)}}var _scale$getDomain=scale.getDomain();min=_scale$getDomain[0];max=_scale$getDomain[1];axisConfig._allTicks=axisConfig.ticks.slice();axisRange.tickInterval=tickInterval;axisRange.min=min;axisRange.max=max};exports["default"]=domainUpdater},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _cartesianLabelManager=__webpack_require__(293);var _cartesianLabelManager2=_interopRequireDefault(_cartesianLabelManager);var _range=__webpack_require__(313);var _range2=_interopRequireDefault(_range);var _category=__webpack_require__(322);var _category2=_interopRequireDefault(_category);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _commonApi=__webpack_require__(301);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var DASH_DEF="none",TRUE_STRING="true",ONE_STRING="1",POSITION_START=_lib.preDefStr.POSITION_START,POSITION_MIDDLE=_lib.preDefStr.POSITION_MIDDLE,POSITION_TOP=_lib.preDefStr.POSITION_TOP,POSITION_BOTTOM=_lib.preDefStr.POSITION_BOTTOM,POSITION_END=_lib.preDefStr.POSITION_END,queryOptions={wrtVisible:true};var CategoryAxis=function(_CartesianLabelManage){_inherits(CategoryAxis,_CartesianLabelManage);function CategoryAxis(){_classCallCheck(this,CategoryAxis);var _this=_possibleConstructorReturn(this,_CartesianLabelManage.call(this));_this.config.scale=new _category2["default"];return _this}CategoryAxis.prototype.getName=function getName(){return"category"};CategoryAxis.prototype.getCategoryFromId=function getCategoryFromId(id){var config=this.config,tickValues=config.tickValues,tickIdMap=tickValues&&tickValues.tickIdMap;return tickIdMap[id]||{}};CategoryAxis.prototype.generateTicks=function generateTicks(){var scale=this.getScale(),axisConfig=this.config,domain=scale.getDomain(),divs=axisConfig.categoryNumDivLines+1,step=(domain[1]-domain[0])/divs,axisRange=axisConfig.axisRange,min=axisRange.min,max=axisRange.max,tickInterval=(max-min)/divs;axisConfig._allTicks=(0,_range2["default"])(min,max,tickInterval).concat(max);axisRange.tickInterval=tickInterval;return(0,_range2["default"])(domain[0],domain[1],step).concat(domain[1])};CategoryAxis.prototype._parseCategoryVline=function _parseCategoryVline(){var axis=this,axisConfig=axis.config,axisRange=axisConfig.axisRange,min=axisRange.min,max=axisRange.max,chart=axis.getFromEnv("chart"),chartConfig=chart.config,chartStyle=chartConfig.style||{},isHorizontal=axisConfig.isVertical,divlineStyle={fontFamily:chartConfig.style.inCanfontFamily,fontSize:chartConfig.style.inCanfontSize,color:chartConfig.style.inCancolor,lineHeight:chartConfig.style.inCanLineHeight},showLabelBackground,vlines,len,vline,label,i,showLabelBorder,labelHAlign,labelVAlign,labelPosition,linePosition,showVLines,alpha,color,bgColor,thickness,isDashed,dashLen,fontSizeInt,dashGap,vLineDrawingAttrObj,css,vLineTextAttrObj,labelColor,labelRotation,borderPadding,finalValue,checkForLimit,getLimit,referenceObj,showOnTop,vlineStartIndex;vlines=axisConfig.tickValues.vline;len=vlines.length;checkForLimit=axis.getZoom()!==1;getLimit=axis.getVisibleConfig();for(i=0;i<len;i++){vline=vlines[i];label=(0,_lib.parseUnsafeString)(vline.label);showLabelBorder=Boolean((0,_lib.pluckNumber)(vline.showlabelborder,axisConfig.showVLineLabelBorder,1));showLabelBackground=Boolean((0,_lib.pluckNumber)(vline.showlabelbackground,1));labelHAlign=(0,_lib.pluck)(vline.labelhalign,isHorizontal?POSITION_START:POSITION_MIDDLE);if(labelHAlign==="center"){labelHAlign=POSITION_MIDDLE}else if(labelHAlign==="left"){labelHAlign=POSITION_START}else if(labelHAlign==="right"){labelHAlign=POSITION_END}labelVAlign=(0,_lib.pluck)(vline.labelvalign,isHorizontal?POSITION_MIDDLE:POSITION_BOTTOM).toLowerCase();if(labelVAlign===POSITION_MIDDLE){labelVAlign=POSITION_MIDDLE}else if(labelVAlign===POSITION_TOP){labelVAlign=POSITION_BOTTOM}else if(labelVAlign===POSITION_BOTTOM){labelVAlign=POSITION_TOP}labelPosition=(0,_lib.pluckNumber)(vline.labelposition,0);linePosition=(0,_lib.pluckNumber)(vline.lineposition,.5);showVLines=(0,_lib.pluckNumber)(vline.showvlines,axisConfig.showVLines,1);alpha=(0,_lib.pluckNumber)(vline.alpha,axisConfig.vLineAlpha,80);color=(0,_lib.pluck)(vline.color,axisConfig.vLineColor).replace(/^#?/,"#");bgColor=showLabelBackground?(0,_lib.pluck)(vline.labelbgcolor,axisConfig.vLineLabelBgColor,"333333").replace(/^#?/,"#"):_lib.BLANKSTRING;labelColor=(0,_lib.pluck)(vline.labelcolor,axisConfig.vLineLabelColor,vline.color,chartStyle.inCancolor,axisConfig.vLineColor).replace(/^#?/,"#");thickness=(0,_lib.pluckNumber)(vline.thickness,axisConfig.vLineThickness,1);borderPadding=2;isDashed=Boolean(Number((0,_lib.pluck)(vline.dashed,0)));dashLen=(0,_lib.pluckNumber)(vline.dashlen,5);dashGap=(0,_lib.pluckNumber)(vline.dashgap,2);fontSizeInt=divlineStyle.fontSize;fontSizeInt=parseInt(fontSizeInt.replace(/px/i,""),10);labelRotation=(0,_lib.pluckNumber)(vline.rotatelabel,axisConfig.rotateVLineLabels)?270:0;linePosition=linePosition<0||linePosition>1?.5:linePosition;labelPosition=labelPosition<0||labelPosition>1?0:labelPosition;color=(0,_libGraphics.convertColor)(color,showVLines?alpha:"0");vlineStartIndex=vline.animate&&!isHorizontal?vline.startIndex+1:vline.startIndex;finalValue=axis._getVlinePos(vlineStartIndex,linePosition)-(vline.animate?vline.leftShift:0);if(checkForLimit&&(finalValue<getLimit.minValue||finalValue>getLimit.maxValue)){continue}if(finalValue<min||finalValue>max){continue}vLineDrawingAttrObj={opacity:1,stroke:color,"stroke-width":thickness,"stroke-dasharray":isDashed?(0,_lib.getDashStyle)(dashLen,dashGap):DASH_DEF};vLineTextAttrObj={opacity:1,text:label,"text-anchor":labelHAlign,"vertical-align":labelVAlign,"text-bound":[]};css={fontSize:divlineStyle.fontSize,fontFamily:divlineStyle.fontFamily,lineHeight:divlineStyle.lineHeight};showOnTop=(0,_lib.pluckNumber)(vline.showontop,axisConfig.showVLinesOnTop,0);referenceObj={from:finalValue,layer:showOnTop?3:2,attr:vLineDrawingAttrObj,type:"line",startIndex:vline.startIndex,linePosition:linePosition};if(label){vLineTextAttrObj["text-bound"]=[bgColor,showVLines&&showLabelBorder?color:_lib.BLANKSTRING,showVLines&&showLabelBorder?1:0,borderPadding,_lib.UNDEF,showVLines&&showLabelBorder?"solid":_lib.BLANKSTRING];vLineTextAttrObj.fill=showVLines?labelColor:color;referenceObj.text={label:label,attr:vLineTextAttrObj,layer:4,labelRotation:labelRotation,labelPosition:labelPosition,css:css}}axis.setReferenceInfo(referenceObj);axis.config.parsedVlineInfo.push(referenceObj)}};CategoryAxis.prototype._parseReferenceVisuals=function _parseReferenceVisuals(){_CartesianLabelManage.prototype._parseReferenceVisuals.call(this);this.config.drawPlotlines&&this._parseCategoryVline()};CategoryAxis.prototype.categoryInsert=function categoryInsert(index,data,adjustRange){var axis=this,axisConfig=axis.config,min=axisConfig.axisRange.min,len=data.length,endPad=axisConfig.endPad||0,category,vline,tickIdMap,i,tickObj;category=axisConfig.tickValues.tickValue;tickIdMap=axisConfig.tickValues.tickIdMap;vline=axisConfig.tickValues.vline;for(i=0;i<len;i+=1){tickObj=(0,_lib.extend2)({},data[i]);if(!(tickObj.vline===TRUE_STRING||tickObj.vline===true||tickObj.vline===1||tickObj.vline===ONE_STRING)){if(tickObj.id){tickIdMap[tickObj.id]={tickObj:tickObj,i:index}}category.splice(index,0,tickObj);index+=1}else{tickObj.startIndex=index-2;vline.push(tickObj)}}if(adjustRange){axis._setAxisRange({min:min,max:Number((0,_lib.toPrecision)(category.length-1+endPad,10))})}};CategoryAxis.prototype.categoryDelete=function categoryDelete(startIndex,length,adjustRange){var axis=this,axisConfig=axis.config,axisRange=axisConfig.axisRange,min=axisRange.min,animateVline,i,len,category;animateVline=axisConfig.tickValues.vline;for(i=0,len=animateVline.length;i<len;i++){animateVline[i].animate=true;animateVline[i].leftShift=length}category=axisConfig.tickValues.tickValue;category.splice(startIndex,length);axis._shiftVline(startIndex,length,"left");if(adjustRange){axis._setAxisRange({min:min,max:axisRange.max-length})}};CategoryAxis.prototype._shiftVline=function _shiftVline(index,shift,direction){var axis=this,axisConfig=axis.config,vline=axisConfig.tickValues.vline,catLen=axisConfig.tickValues.tickValue.length,len=vline.length,i,curVline;for(i=0;i<len;i+=1){curVline=vline[i];if(curVline.startIndex>=index){if(direction==="right"){curVline.startIndex+=shift}else{curVline.startIndex-=shift}if(curVline.startIndex<0||curVline.startIndex>=catLen){vline.splice(i,1);len-=1;i-=1}}}};CategoryAxis.prototype.categoryTranslate=function categoryTranslate(x){var axis=this,axisConfig=axis.config,diff=axis.getPixel(1,queryOptions)-axis.getPixel(0,queryOptions),translationStr;x=(x||0)*diff;if(axisConfig.isReverse){x=-x}translationStr=["T",x,",","0"].join("");axis.realTimeTranslatableGroups=[{group:axisConfig.axisContainer,translationStr:translationStr},{group:axisConfig.axisTrendLabelContainer,translationStr:translationStr}]};CategoryAxis.prototype.updateTicksValues=function updateTicksValues(id,object){var axis=this,axisConfig=axis.config,ticks,isVlineUpdated,vlinesArr=axisConfig.parsedVlineInfo,vline,i,ln,index,prop;ticks=axisConfig.tickValues.tickValue;if(ticks[id]){for(prop in object){if(object.hasOwnProperty(prop)){if(prop==="x")isVlineUpdated=true;ticks[id][prop]=object[prop]}}}if(isVlineUpdated){for(i=0,ln=vlinesArr.length;i<ln;++i){vline=vlinesArr[i];index=vline.startIndex;if(index===id){vline.from=axis._getVlinePos(index,vline.linePosition)}else if(index+1===id){vline.from=axis._getVlinePos(index,vline.linePosition);break}}}};CategoryAxis.prototype._getVlinePos=function _getVlinePos(index,linePosition){var ticks=this.getTickValues(),axisConfig=this.config,_getLimit=this.getLimit(),min=_getLimit.min,max=_getLimit.max,categoryStart=ticks[index],categoryEnd=ticks[index+1],categoryStartPos=void 0,posRelCategory=void 0,isExtreme=void 0;if(!categoryStart){categoryStartPos=ticks[0]&&ticks[0].x?min:-1;isExtreme=true}else if(!categoryEnd){categoryStartPos=ticks[0]&&ticks[0].x?max:axisConfig.oriCatLen-1;isExtreme=true}if(!isExtreme){categoryStartPos=(0,_lib.pluckNumber)(categoryStart.x,categoryStart.y,index);posRelCategory=(categoryStartPos-(0,_lib.pluckNumber)(categoryEnd.x,categoryEnd.y,index+1))*linePosition}else{posRelCategory=linePosition}return categoryStartPos+Math.abs(posRelCategory)};CategoryAxis.prototype.getInterval=function getInterval(){if(this)return 1};CategoryAxis.prototype._setAxisRange=function _setAxisRange(data){var min=data.min,max=data.max,axisConfig=this.config,axisRange=axisConfig.axisRange,periodLength=axisConfig.periodLength,dataLimit=axisConfig.dataLimit,oldMax=dataLimit.max,oldMin=dataLimit.min,limitChanged,step;if(min>max){return}if(oldMax!==max||oldMin!==min)limitChanged=true;if(axisConfig.visibleMin!==_lib.UNDEF&&!axisConfig.setPadding&&!limitChanged){axisConfig.setPadding=false}else{dataLimit.max=max;dataLimit.min=min;if(periodLength){axisConfig.categoryNumDivLines=(max-min)/periodLength-1}step=(max-min)/(axisConfig.categoryNumDivLines+1);this.getScale().setDomain([min,max]);axisConfig.ticks=(0,_range2["default"])(min,max,step).concat(max);axisConfig._allTicks=axisConfig.ticks.slice();axisRange.min=min;axisRange.max=max;axisRange.tickInterval=step;this.setVisibleConfig(axisRange.min,axisRange.max)}};return CategoryAxis}(_cartesianLabelManager2["default"]);CategoryAxis.prototype.setTickValues=_commonApi.setTickValues;exports["default"]=CategoryAxis},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _continuous=__webpack_require__(315);var _continuous2=_interopRequireDefault(_continuous);var _number=__webpack_require__(297);var _number2=_interopRequireDefault(_number);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var ScaleCategory=function(_ScaleContinuous){_inherits(ScaleCategory,_ScaleContinuous);function ScaleCategory(){_classCallCheck(this,ScaleCategory);return _possibleConstructorReturn(this,_ScaleContinuous.call(this,_continuous.deInterpolateLinear,_number2["default"]))}ScaleCategory.prototype.copy=function copy(){return(0,_continuous.copyScale)(this,new ScaleCategory)};return ScaleCategory}(_continuous2["default"]);exports["default"]=ScaleCategory},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var canvas=void 0,canvasConfig=chart._parseCanvasCosmetics&&chart._parseCanvasCosmetics();(0,_lib.componentFactory)(chart,_canvas2["default"],"canvas",chart.config.showVolumeChart?2:1);canvas=chart.getChildren("canvas");if(canvas){for(var i=0,len=canvas.length;i<len;i++){canvas[i].configure(canvasConfig);(0,_lib.componentFactory)(canvas[i],_axisRefComponent2["default"],"axisRefVisualCartesian")}}};var _canvas=__webpack_require__(263);var _canvas2=_interopRequireDefault(_canvas);var _axisRefComponent=__webpack_require__(324);var _axisRefComponent2=_interopRequireDefault(_axisRefComponent);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _componentInterface2=__webpack_require__(131);var _componentInterface3=_interopRequireDefault(_componentInterface2);var _number=__webpack_require__(297);var _number2=_interopRequireDefault(_number);var _diff=__webpack_require__(298);var _diff2=_interopRequireDefault(_diff);var _cartesian=__webpack_require__(294);var _cartesianAxisRefAnimation=__webpack_require__(325);var _cartesianAxisRefAnimation2=_interopRequireDefault(_cartesianAxisRefAnimation);var _dependencyManager=__webpack_require__(125);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var isValid=function isValid(val){return!(typeof val==="undefined"?"undefined":_typeof(val))==="undefined"||val!==null};var UNDEF=void 0;(0,_dependencyManager.addDep)({name:"cartesianAxisRefAnimation",type:"animationRule",extension:_cartesianAxisRefAnimation2["default"]});var AxisRefVisual=function(_componentInterface){_inherits(AxisRefVisual,_componentInterface);function AxisRefVisual(){_classCallCheck(this,AxisRefVisual);var _this=_possibleConstructorReturn(this,_componentInterface.call(this));_this.config.map={};_this.config.explicitDrawItems={};return _this}AxisRefVisual.prototype.getType=function getType(){return"axisRefVisuals"};AxisRefVisual.prototype.getName=function getName(){return"axisRefVisualsCartesian"};AxisRefVisual.prototype.draw=function draw(){var drawingInfo=this.getDrawingInfo(),eachCompInfo=void 0,explicitDrawItems=this.getexplicitDrawItems(),axisRefConf=this.config,oldMap=axisRefConf.map,map={},i=void 0,type=void 0,key=void 0,axis=void 0,elementIdArr=void 0,eachDrawInfo=void 0,parent=this.getLinkedParent(),axes=parent.getAxes(),axesIdArr=[],baseContainer=parent.getChildContainer("axisReferenceVisualsFloor"),bottomContainer=parent.getChildContainer("axisReferenceVisualsBottom"),middleContainer=parent.getChildContainer("axisReferenceVisualsMiddle"),topContainer=parent.getChildContainer("axisReferenceVisualsTop"),ceilContainer=parent.getChildContainer("axisReferenceVisualsCeil");parent.config.trendlines=[];parent.config.vtrendlines=[];for(i=0;i<axes.length;++i){axesIdArr.push(axes[i].axis.getId())}axisRefConf.containers=[baseContainer,bottomContainer,middleContainer,topContainer,ceilContainer];for(key in drawingInfo){if(drawingInfo.hasOwnProperty(key)){axis=this.getLinkedItem(key);if(axesIdArr.indexOf(axis.getId())>=0){elementIdArr=map[key];if(!elementIdArr){elementIdArr=map[key]=[]}eachCompInfo=drawingInfo[key];for(i=0;i<eachCompInfo.length;++i){eachDrawInfo=eachCompInfo[i];type=eachDrawInfo.type;if(type==="band"){elementIdArr.push.apply(elementIdArr,this.createBand(eachDrawInfo,axis))}else if(type==="line"){elementIdArr.push.apply(elementIdArr,this.createLine(eachDrawInfo,axis))}}}}}if(axisRefConf.isSmartDrawing){for(key in oldMap){if(oldMap.hasOwnProperty(key)&&!explicitDrawItems[key]&&this.getLinkedItem(key)){map[key]=oldMap[key]}}}this.resetexplicitDrawItems();this.removeExtraElements(map)};AxisRefVisual.prototype.getDrawingInfo=function getDrawingInfo(){var drawingInfo={},key=void 0,item=void 0,explicitDrawItems=this.getexplicitDrawItems(),canvasChanged=this.isCanvasChnaged(),isSmartDrawing=this.config.isSmartDrawing=Object.keys(explicitDrawItems).length&&!canvasChanged,linkItems=isSmartDrawing?explicitDrawItems:this.getLinkedItem();for(key in linkItems){if(linkItems.hasOwnProperty(key)){item=linkItems[key];drawingInfo[key]=item.getReferenceInfo()}}return drawingInfo};AxisRefVisual.prototype.createLine=function createLine(lineInfo,axis){var containersArr=this.config.containers,container=containersArr[lineInfo.layer],axisConf=axis.config,paper=this.getFromEnv("paper"),chartType=this.getFromEnv("chart").getName(),canvas=this.getLinkedParent(),animationManager=this.getFromEnv("animationManager"),toolTipController=this.getFromEnv("toolTipController"),canvasConf=canvas.config,trendLines=canvasConf.trendlines,isVertical=axisConf.isVertical,canvasLeft=canvasConf.canvasLeft,canvasTop=canvasConf.canvasTop,canvasBottom=canvasTop+canvasConf.canvasHeight,canvasRight=canvasLeft+canvasConf.canvasWidth,interpolatorLeftRight=(0,_number2["default"])(canvasLeft,canvasRight),interpolatorTopBottom=(0,_number2["default"])(canvasTop,canvasBottom),scale=axis.getScale(),start=scale.getRangeValue(lineInfo.from),end=lineInfo.to!==UNDEF&&scale.getRangeValue(lineInfo.to)||start,path=isVertical?["M",canvasLeft,start,"L",canvasRight,end]:["M",start,canvasBottom,"L",end,canvasTop],lineAttr=lineInfo.attr,text=lineInfo.text,textAttr=text&&text.attr,labelPosition=text&&text.labelPosition||0,compId=axis.getId(),eleId=lineInfo.id||lineInfo.from,lineEleId=compId+"_"+eleId,textEleId=compId+"_"+eleId+text,element=this.getGraphicalElement(lineEleId),textElem=this.getGraphicalElement(textEleId),key=void 0,handlers=lineInfo.handlers,value={start:lineInfo.from,end:lineInfo.to};lineAttr.path=(0,_cartesian.getCrispPath)(path,isValid(lineAttr["stroke-width"])?lineAttr["stroke-width"]:1).path.toString();if(/trend/.test(lineInfo.id)){trendLines.push({x1:path[1],y1:path[2],x2:path[4],y2:path[5],tooltext:lineInfo.toolText,tolerance:lineAttr["stroke-width"]<5?2.5:lineAttr["stroke-width"]/2})}lineAttr["stroke-linecap"]="butt";element=this.addGraphicalElement(lineEleId,animationManager.setAnimation({container:container,el:element||"path",attr:lineAttr,component:this,axis:axis,data:{value:value,path:path},label:"path"}));element.data("data",value);if(text){if(isVertical){textAttr.x=interpolatorLeftRight(labelPosition);textAttr.y=start}else{textAttr.x=start;textAttr.y=interpolatorTopBottom(labelPosition)}textAttr.text=text.label;textAttr.transform=paper.getSuggestiveRotation(text.labelRotation,textAttr.x,textAttr.y);textElem=this.addGraphicalElement(textEleId,animationManager.setAnimation({container:containersArr[text.layer],el:textElem||"text",attr:textAttr,component:this,axis:axis,data:{value:lineInfo.from},label:"text",css:text.css}));textElem.data("data",lineInfo.from)}if(!/zoomscatter/i.test(chartType)){if(lineInfo.toolText){toolTipController.enableToolTip(element,lineInfo.toolText)}else{toolTipController.disableToolTip(element)}}for(key in handlers){if(handlers.hasOwnProperty(key)){element.on(key,handlers[key].bind(axis));textElem.on(key,handlers[key].bind(axis))}}return text?[lineEleId,textEleId]:[lineEleId]};AxisRefVisual.prototype.createBand=function createBand(bandInfo,axis){var container=this.config.containers[bandInfo.layer],axisConf=axis.config,animationManager=this.getFromEnv("animationManager"),toolTipController=this.getFromEnv("toolTipController"),canvas=this.getLinkedParent(),chartType=this.getFromEnv("chart").getName(),canvasConf=canvas.config,isVertical=axisConf.isVertical,canvasLeft=canvasConf.canvasLeft,canvasTop=canvasConf.canvasTop,canvasBottom=canvasTop+canvasConf.canvasHeight,canvasRight=canvasLeft+canvasConf.canvasWidth,scale=axis.getScale(),startVal=bandInfo.from,endVal=bandInfo.to!==UNDEF?bandInfo.to:startVal,startPx=void 0,endPx=void 0,compId=axis.getId(),eleId=void 0,bandElemId=void 0,element=void 0,key=void 0,elemAttr=bandInfo.attr,difference=void 0,handlers=bandInfo.handlers;if(startVal==="canvasStart"){startPx=isVertical?canvasTop:canvasLeft}else{startPx=scale.getRangeValue(startVal)}if(endVal==="canvasEnd"){endPx=isVertical?canvasBottom:canvasRight}else{endPx=scale.getRangeValue(endVal)}difference=Math.abs(startPx-endPx);if(isVertical){elemAttr.x=canvasLeft;elemAttr.y=Math.min(startPx,endPx);elemAttr.width=canvasRight-canvasLeft;elemAttr.height=difference}else{elemAttr.x=Math.min(startPx,endPx);elemAttr.y=canvasTop;elemAttr.width=difference;elemAttr.height=canvasBottom-canvasTop}eleId=bandInfo.id||elemAttr.x+"_"+elemAttr.y;bandElemId=compId+"_"+eleId;element=this.getGraphicalElement(bandElemId);if(/trend/.test(bandInfo.id)){canvas.config.vtrendlines.push({x1:elemAttr.x,y1:elemAttr.y,x2:elemAttr.x+elemAttr.width,y2:elemAttr.y+elemAttr.height,tooltext:bandInfo.toolText,tolerance:elemAttr["stroke-width"]<5?2.5:elemAttr["stroke-width"]/2,isTrendZone:1})}element=this.addGraphicalElement(bandElemId,animationManager.setAnimation({container:container,el:element||"rect",attr:elemAttr,component:this,label:"rect"}));if(!/zoomscatter/i.test(chartType)){if(bandInfo.toolText){toolTipController.enableToolTip(element,bandInfo.toolText)}else{toolTipController.disableToolTip(element)}}for(key in handlers){if(handlers.hasOwnProperty(key)){element.on(key,handlers[key].bind(axis))}}return[bandElemId]};AxisRefVisual.prototype.removeExtraElements=function removeExtraElements(newMap){var oldMap=this.config.map,key=void 0,idArr=void 0,i=void 0,len=void 0,removingElement=void 0,removeElemId=void 0;for(key in oldMap){if(!newMap[key]){idArr=oldMap[key];len=idArr.length;for(i=0;i<len;++i){removingElement=this.getGraphicalElement(idArr[i]);removingElement&&this.removeGraphicalElement(removingElement)}}else{removeElemId=(0,_diff2["default"])(oldMap[key],newMap[key]);len=removeElemId.length;for(i=0;i<len;++i){removingElement=this.getGraphicalElement(removeElemId[i]);removingElement&&this.removeGraphicalElement(removingElement)}}}this.config.map=newMap};AxisRefVisual.prototype.setLinkedItem=function setLinkedItem(itemName,item){_componentInterface.prototype.setLinkedItem.call(this,itemName,item);var axisRefComp=this;if(item.getType()==="axis"){axisRefComp.addExtEventListener("beforeremove",function(event){axisRefComp.removeLinkedItem(event.sender.getId());axisRefComp.asyncDraw()},item)}};AxisRefVisual.prototype.addexplicitDrawItems=function addexplicitDrawItems(key,item){this.config.explicitDrawItems[key]=item};AxisRefVisual.prototype.getexplicitDrawItems=function getexplicitDrawItems(){return this.config.explicitDrawItems};AxisRefVisual.prototype.resetexplicitDrawItems=function resetexplicitDrawItems(){this.config.explicitDrawItems={}};AxisRefVisual.prototype.isCanvasChnaged=function isCanvasChnaged(){var canvasDim=this.getLinkedParent().getEffectiveDimensions(),axisRefConf=this.config,isCanvasChnaged=void 0;isCanvasChnaged=JSON.stringify(canvasDim)!==JSON.stringify(axisRefConf.canvasDim);axisRefConf.canvasDim=canvasDim;return isCanvasChnaged};return AxisRefVisual}(_componentInterface3["default"]);exports["default"]=AxisRefVisual},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _cartesianAxisAnimation=__webpack_require__(296);exports["default"]={"initial.axisRefVisuals.axisRefVisualsCartesian":_cartesianAxisAnimation.axisAnimationAxis,"update.axisRefVisuals.axisRefVisualsCartesian":_cartesianAxisAnimation.axisAnimationFinal}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var canvas,canvasArr=chart.getChildren("canvas"),canvasLen=canvasArr.length,vCanvas,xAxis=[],yAxis=[],axes,l,i,k,j;for(l=0;l<canvasLen;l++,xAxis=[],yAxis=[]){canvas=canvasArr[l];if(canvas.getState("removed")){continue}axes=canvas.getFromEnv("xAxis");for(k=0;k<(axes&&axes.length);k++){if(!axes[k].getState("removed")){xAxis.push(axes[k])}}axes=canvas.getFromEnv("yAxis");for(k=0;k<(axes&&axes.length);k++){if(!axes[k].getState("removed")){yAxis.push(axes[k])}}(0,_lib.componentFactory)(canvas,_vcanvas2["default"],"vCanvas",xAxis.length*yAxis.length);vCanvas=canvas.getChildren("vCanvas");for(i=0,k=0;i<(xAxis&&xAxis.length);i++){for(j=0;j<(yAxis&&yAxis.length);j++,k++){vCanvas[k].xAxis(xAxis[i]).yAxis(yAxis[j]).canvas(canvas);vCanvas[k].configure();vCanvas[k].addToEnv("vCanvas",vCanvas[k])}}}};var _vcanvas=__webpack_require__(327);var _vcanvas2=_interopRequireDefault(_vcanvas);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var setterGetter=function setterGetter(key,value){key="comp_"+key;value&&(this.config[key]=value);return(value||!this.config[key])&&this||this.config[key]},_getTranslationString=function _getTranslationString(scaleX,scaleY){return["T",scaleX,",",scaleY].join("")},_getTranslation=function _getTranslation(axis){return-axis.getTranslation()},calculateTranslation=function calculateTranslation(axes){return _getTranslationString(_getTranslation(axes.h),_getTranslation(axes.v))},getHVOb=function getHVOb(h,v){return{h:h,v:v}},groupsArr=["columnShadowVcanvasGroup","columnVcanvasGroup","areaShadowVcanvasGroup","areaVcanvasGroup","lineShadowVcanvasGroup","lineVcanvasGroup","defaultShadowVcanvasGroup","defaultVcanvasGroup","sumLabelsLayer","vcanvasLabelGroup"],createGroup=function createGroup(groupName,parentContainer,vCanvas){var animationManager=vCanvas.getFromEnv("animationManager");return animationManager.setAnimation({el:"group",attr:{name:groupName},container:parentContainer,state:"appearing",component:vCanvas,label:"group"})},UNDEF,limitToBeUpdated=function limitToBeUpdated(axis){return!/category/i.test(axis.getName())};var VISIBLE="visible",REMOVED="removed",DATASET="dataset";var VirtualCanvas=function(_ComponentInterface){_inherits(VirtualCanvas,_ComponentInterface);function VirtualCanvas(){_classCallCheck(this,VirtualCanvas);return _possibleConstructorReturn(this,_ComponentInterface.apply(this,arguments))}VirtualCanvas.prototype.getName=function getName(){return"virtualCanvas"};VirtualCanvas.prototype.getType=function getType(){return"canvas"};VirtualCanvas.prototype.xAxis=function xAxis(_xAxis){var axis=setterGetter.call(this,"xAxis",_xAxis);_xAxis&&this.listenToAxis(_xAxis);_xAxis&&this.addToEnv("xAxis",_xAxis);return axis};VirtualCanvas.prototype.yAxis=function yAxis(_yAxis){var axis=setterGetter.call(this,"yAxis",_yAxis);_yAxis&&this.listenToAxis(_yAxis);_yAxis&&this.addToEnv("yAxis",_yAxis);return axis};VirtualCanvas.prototype.paper=function paper(_paper){return setterGetter.call(this,"paper",_paper)};VirtualCanvas.prototype.canvas=function canvas(_canvas){return setterGetter.call(this,"canvas",_canvas)};VirtualCanvas.prototype.configure=function configure(){var conf=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var vCanvas=this,chartConfig=vCanvas.getFromEnv("chartConfig"),config=vCanvas.config;Object.assign(config,conf);config.transposeAxis=chartConfig.transposeAxis;this._mapChildren(function(child){if(child.getState(REMOVED)||child.getType()===DATASET){return}child.configure&&child.configure()})};VirtualCanvas.prototype.getHorizontalVerticalAxes=function getHorizontalVerticalAxes(){var vcanvas=this,xAxis=vcanvas.xAxis(),yAxis=vcanvas.yAxis();return yAxis.config.isVertical?getHVOb(xAxis,yAxis):getHVOb(yAxis,xAxis)};VirtualCanvas.prototype.preDraw=function preDraw(){this._mapChildren(function(child){if(child.getState("removed")||child.getType()==="dataset"){return}child.setVisibility&&child.setVisibility()});var transposeAxis=this.config.transposeAxis,limit=void 0,chart=this.getFromEnv("chart"),_getAxisValuePadding=this.getAxisValuePadding(),left=_getAxisValuePadding.left,right=_getAxisValuePadding.right,top=_getAxisValuePadding.top,bottom=_getAxisValuePadding.bottom;limit=this.getDataLimits(!transposeAxis);if(limit.min!==Infinity||limit.max!==-Infinity){this._setYAxisLimits(limit.min,limit.max);chart._storeIntialLimit&&chart._storeIntialLimit(limit.min,limit.max)}else{this._setYAxisLimits(UNDEF,UNDEF);chart._storeIntialLimit&&chart._storeIntialLimit(UNDEF,UNDEF)}this._setXAxisLimits(limit.xMin,limit.xMax);this._setAxisValuePadding(left,right,top,bottom)};VirtualCanvas.prototype.childChanged=function childChanged(){var updateInfo=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var vCanvas=this,config=vCanvas.config,transposeAxis=config.transposeAxis,range=void 0;if(updateInfo.dataLimitChanged!==false){range=vCanvas.getDataLimits(!transposeAxis);if(transposeAxis&&(range.min!==config.range.min||range.max!==config.range.max)){config.range.min=range.min;config.range.max=range.max;this.getFromEnv("yAxis").resetStoredLimits();range.min!==Infinity||range.max!==-Infinity?vCanvas._setYAxisLimits(range.min,range.max):vCanvas._setYAxisLimits(UNDEF,UNDEF)}if(range.xMin!==config.range.xMin||range.xMax!==config.range.xMax){config.range.xMin=range.xMin;config.range.xMax=range.xMax;this.getFromEnv("xAxis").resetStoredLimits();vCanvas._setXAxisLimits(range.xMin,range.xMax)}}vCanvas.asyncDraw()};VirtualCanvas.prototype._setAxisValuePadding=function _setAxisValuePadding(left,right,top,bottom){this.getFromEnv("xAxis").setAxisPadding(left,right);top&&bottom&&this.getFromEnv("yAxis").setAxisPadding(left,right)};VirtualCanvas.prototype.getAxisValuePadding=function getAxisValuePadding(){var paddingObj={},axisPaddingLeft=-Infinity,axisPaddingRight=-Infinity,axisPaddingTop=-Infinity,axisPaddingBottom=-Infinity;this._mapChildren(function(child){if(child.getState(REMOVED)){return}paddingObj=child.getAxisValuePadding&&child.getAxisValuePadding()||{};axisPaddingLeft=Math.max(axisPaddingLeft,paddingObj.left||-Infinity);axisPaddingRight=Math.max(axisPaddingRight,paddingObj.right||-Infinity);axisPaddingTop=Math.max(axisPaddingTop,paddingObj.top||-Infinity);axisPaddingBottom=Math.max(axisPaddingBottom,paddingObj.bottom||-Infinity)});if(axisPaddingLeft===-Infinity){axisPaddingLeft=0}if(axisPaddingRight===-Infinity){axisPaddingRight=0}if(axisPaddingTop===-Infinity){axisPaddingTop=0}if(axisPaddingBottom===-Infinity){axisPaddingBottom=0}if(!this.config.padding){this.config.padding={};this.config.padding.left=axisPaddingLeft;this.config.padding.right=axisPaddingRight;this.config.padding.top=axisPaddingTop;this.config.padding.bottom=axisPaddingBottom}return{left:axisPaddingLeft,right:axisPaddingRight,top:axisPaddingTop,bottom:axisPaddingBottom}};VirtualCanvas.prototype._setYAxisLimits=function _setYAxisLimits(min,max){var yAxis=this.getFromEnv("yAxis");limitToBeUpdated(yAxis)&&yAxis.setDataLimit(max,min)};VirtualCanvas.prototype._setXAxisLimits=function _setXAxisLimits(xMin,xMax){var xAxis=this.getFromEnv("xAxis");if(limitToBeUpdated(xAxis)){xMax!==-Infinity||xMin!==+Infinity?xAxis.setDataLimit(xMax,xMin):xAxis.setDataLimit(UNDEF,UNDEF)}};VirtualCanvas.prototype.getDataLimits=function getDataLimits(allVisible){var vcanvas=this,chart=vcanvas.getFromEnv("chart"),infMin=-Infinity,infMax=+Infinity,max=infMin,min=infMax,xMin=infMax,xMax=infMin,maxminObj,xMaxValue,xMinValue,getMaxMin=function getMaxMin(_maxminObj){xMaxValue=(0,_lib.pluck)(_maxminObj.xMax,infMin);xMinValue=(0,_lib.pluck)(_maxminObj.xMin,infMax);max=Math.max(max,_maxminObj.max);min=Math.min(min,_maxminObj.min);xMax=Math.max(xMax,xMaxValue);xMin=Math.min(xMin,xMinValue)};vcanvas._mapChildren(function(child){if(!child.getDataLimits||child.getState(REMOVED)||!allVisible&&!child.getState(VISIBLE)){return}maxminObj=child.getDataLimits(allVisible);getMaxMin(maxminObj)});if(!this.config.range){this.config.range={};this.config.range.min=min;this.config.range.max=max;this.config.range.xMin=xMin;this.config.range.xMax=xMax}chart.config.yMax=max;chart.config.yMin=min;return{min:min,max:max,xMin:xMin,xMax:xMax}};VirtualCanvas.prototype.listenToAxis=function listenToAxis(axis){var vcanvas=this,axisScrollFn;axisScrollFn=function axisScrollFn(){if(vcanvas.getState("drawn")){vcanvas.asyncDraw()}};if(!this.getState("visiblerangeset"+axis.getId())){this.setState("visiblerangeset"+axis.getId(),true);vcanvas.addExtEventListener("visiblerangeset",axisScrollFn,axis)}};VirtualCanvas.prototype.createContainer=function createContainer(){var vcanvas=this,canvas=vcanvas.getLinkedParent();!vcanvas.getChildContainer("columnShadowVcanvasGroup")&&vcanvas.addChildContainer("columnShadowVcanvasGroup",createGroup("vcanvas-column-shadow",canvas.getChildContainer("columnShadowGroup"),vcanvas));!vcanvas.getChildContainer("columnVcanvasGroup")&&vcanvas.addChildContainer("columnVcanvasGroup",createGroup("vcanvas-column-plot",canvas.getChildContainer("columnGroup"),vcanvas));!vcanvas.getChildContainer("areaShadowVcanvasGroup")&&vcanvas.addChildContainer("areaShadowVcanvasGroup",createGroup("vcanvas-area-shadow",canvas.getChildContainer("areaShadowGroup"),vcanvas));!vcanvas.getChildContainer("areaVcanvasGroup")&&vcanvas.addChildContainer("areaVcanvasGroup",createGroup("vcanvas-area-plot",canvas.getChildContainer("areaGroup"),vcanvas));!vcanvas.getChildContainer("lineShadowVcanvasGroup")&&vcanvas.addChildContainer("lineShadowVcanvasGroup",createGroup("vcanvas-line-shadow",canvas.getChildContainer("lineShadowGroup"),vcanvas));!vcanvas.getChildContainer("lineVcanvasGroup")&&vcanvas.addChildContainer("lineVcanvasGroup",createGroup("vcanvas-line-plot",canvas.getChildContainer("lineGroup"),vcanvas));!vcanvas.getChildContainer("defaultShadowVcanvasGroup")&&vcanvas.addChildContainer("defaultShadowVcanvasGroup",createGroup("vcanvas-default-shadow",canvas.getChildContainer("defaultShadowGroup"),vcanvas));!vcanvas.getChildContainer("defaultVcanvasGroup")&&vcanvas.addChildContainer("defaultVcanvasGroup",createGroup("vcanvas-default-plot",canvas.getChildContainer("defaultGroup"),vcanvas));!vcanvas.getChildContainer("vcanvasLabelGroup")&&vcanvas.addChildContainer("vcanvasLabelGroup",createGroup("vcanvas-label",canvas.getChildContainer("datalabelsGroup"),vcanvas));!vcanvas.getChildContainer("columnTrendGroup")&&vcanvas.addChildContainer("columnTrendGroup",createGroup("columnTrendGroup",vcanvas.getChildContainer("columnVcanvasGroup"),vcanvas));!vcanvas.getChildContainer("sumLabelsLayer")&&vcanvas.addChildContainer("sumLabelsLayer",createGroup("vcanvas-sumLabelsLayer",canvas.getChildContainer("sumLabelsLayer"),vcanvas))};VirtualCanvas.prototype.applyTranslation=function applyTranslation(){var vcanvas=this,axes=vcanvas.getHorizontalVerticalAxes(),translation=calculateTranslation(axes),pushAnimData=function pushAnimData(el){el=vcanvas.getChildContainer(el);el.attr({transform:translation})};vcanvas.createContainer();groupsArr.forEach(function(val){pushAnimData(val)})};VirtualCanvas.prototype.draw=function draw(){this.applyTranslation();this.setState("drawn",true)};VirtualCanvas.prototype.getCanvasPadding=function getCanvasPadding(){var iapi=this,dim,key,returnDimension={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0};iapi._mapChildren(function(child){if(!child.getCanvasPadding||child.getState(REMOVED)){return}dim=child.getCanvasPadding()||{};for(key in dim){if(dim.hasOwnProperty(key)){returnDimension[key]=Math.max(dim[key],returnDimension[key])}}});return returnDimension};VirtualCanvas.prototype.rtShiftAnim=function rtShiftAnim(x,y){var vcanvas=this,translateString,xAxis=vcanvas.getFromEnv("xAxis"),yAxis=vcanvas.getFromEnv("yAxis"),xDiff=xAxis.getPixel(1)-xAxis.getPixel(0),yDiff=yAxis.getPixel(1)-yAxis.getPixel(0),animationManager=vcanvas.getFromEnv("animationManager");x=(x||0)*xDiff;y=(y||0)*yDiff;translateString=_getTranslationString(x,y);groupsArr.forEach(function(val){vcanvas.getChildContainer(val).attr({transform:translateString});animationManager.setAnimation({el:vcanvas.getChildContainer(val),attrs:{transform:"T0,0"}})})};return VirtualCanvas}(_componentInterface2["default"]);exports["default"]=VirtualCanvas},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var mouseTracker=void 0;if(chart.config.enablemousetracking){(0,_lib.componentFactory)(chart,_mouseTracker2["default"],"mouseTracker");mouseTracker=chart.getChildren("mouseTracker")[0];if(!chart.config.mouseTrackerEventAdded){mouseTracker.addEvents();chart.config.mouseTrackerEventAdded=true}}else{mouseTracker=chart.getChildren("mouseTracker")&&chart.getChildren("mouseTracker")[0];mouseTracker&&mouseTracker._removeListners();chart.config.mouseTrackerEventAdded=false}};var _mouseTracker=__webpack_require__(329);var _mouseTracker2=_interopRequireDefault(_mouseTracker);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _domEvent=__webpack_require__(120);var _domEvent2=_interopRequireDefault(_domEvent);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var MOUSEOVER="mouseover",MOUSEDOWN="mousedown",TOUCHSTART="touchstart",MOUSEUP="mouseup",TOUCHEND="touchend",MOUSEMOVE="mousemove",TOUCHMOVE="touchmove",MOUSEOUT="mouseout",CLICK="click",win=window,doc=win.document,hasTouch="ontouchstart"in win;var MouseTracker=function(_ComponentInterface){_inherits(MouseTracker,_ComponentInterface);function MouseTracker(){_classCallCheck(this,MouseTracker);var _this2=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this2.pIndex=1;_this2.handler=function(_this){return function(e){_this.config.lastTouchStartEvent=e.originalEvent;e.originalEvent&&_this.getFromEnv("chart")._mouseEvtHandler(e,_this.config.evtData)}}(_this2);_this2.globalHandler=function(_this){return function(e){var chart=_this.getFromEnv("chart"),canvas,coordinate;if(e.type===TOUCHSTART||e.type===MOUSEDOWN){canvas=chart.getChildren("canvas")[0];coordinate=(0,_lib.getMouseCoordinate)(_this.getFromEnv("chart-container"),e.originalEvent,chart);if(_this.config.lastTouchStartEvent===e.originalEvent||canvas&&canvas.isWithinCanvas(coordinate.chartX,coordinate.chartY)){return}}e.originalEvent&&chart._mouseEvtHandler(e,_this.config.evtData);_this._removeDocEvents();_this.globalHandlerAttached=false}}(_this2);_this2.eventsList=[MOUSEDOWN,TOUCHSTART,MOUSEUP,TOUCHEND,MOUSEMOVE,TOUCHMOVE,CLICK,MOUSEOVER];_this2.config={};_this2.config.evtData={};return _this2}MouseTracker.prototype.getMouseEvents=function getMouseEvents(e,datasetIndex,plotIndex){var mouseTracker=this,lastDatasetIndex=mouseTracker._lastDatasetIndex,lastPointIndex=mouseTracker._lastPointIndex,eventType=e.type,derivedEvensInfo={fireOut:false,events:[]};if(mouseTracker.hasTouchEvent&&(eventType===MOUSEDOWN||eventType===MOUSEOUT)){return derivedEvensInfo}switch(eventType){case CLICK:derivedEvensInfo.events.push(CLICK);break;case TOUCHMOVE:case MOUSEMOVE:if(lastDatasetIndex===datasetIndex&&lastPointIndex===plotIndex){clearTimeout(mouseTracker.mouseoutTimer);derivedEvensInfo.events.push(MOUSEMOVE)}else{derivedEvensInfo.events.push(MOUSEOVER);derivedEvensInfo.fireOut=true}break;case TOUCHSTART:mouseTracker.hasTouchEvent=true;case MOUSEDOWN:if(!mouseTracker.globalHandlerAttached){mouseTracker.globalHandlerAttached=true;if(hasTouch){mouseTracker.eventOutput=_domEvent2["default"].listen(doc,TOUCHSTART,mouseTracker.globalHandler)}else if(_lib.isIE11){mouseTracker.eventOutput=_domEvent2["default"].listen(doc,MOUSEDOWN,mouseTracker.globalHandler)}}if(lastDatasetIndex!==datasetIndex||lastPointIndex!==plotIndex){derivedEvensInfo.fireOut=true;derivedEvensInfo.events.push(MOUSEOVER)}else if(hasTouch){derivedEvensInfo.events.push(MOUSEMOVE)}derivedEvensInfo.events.push(MOUSEDOWN);break;case MOUSEOVER:if(lastDatasetIndex===datasetIndex&&lastPointIndex===plotIndex){clearTimeout(mouseTracker.mouseoutTimer)}else{derivedEvensInfo.fireOut=true;derivedEvensInfo.events.push(MOUSEOVER)}break;case TOUCHEND:case MOUSEUP:mouseTracker.hasTouchEvent=false;derivedEvensInfo.events.push(MOUSEUP);break;case MOUSEOUT:if(_lib.isIE11&&!e.originalEvent.relatedTarget){return derivedEvensInfo}derivedEvensInfo.fireOut=true}return derivedEvensInfo};MouseTracker.prototype.addEvents=function addEvents(){var mouseTracker=this,chart=mouseTracker.getFromEnv("chart"),allCanvas=chart.getChildren("canvas"),canvas,evtData=mouseTracker.config.evtData,eventsList=mouseTracker.eventsList,i,eventIndex;chart.config.enableMouseOutEvent&&eventsList.push(MOUSEOUT);mouseTracker._removeListners();evtData.chart=chart;evtData.mouseTracker=mouseTracker;for(i=0;i<allCanvas.length;i++){canvas=allCanvas[i];for(eventIndex in eventsList){canvas.addEventListener(eventsList[eventIndex],mouseTracker.handler)}}};MouseTracker.prototype._removeListners=function _removeListners(){var mouseTracker=this,chart=mouseTracker.getFromEnv("chart"),allCanvas=chart.getChildren("canvas"),canvas,eventsList=mouseTracker.eventsList,eventIndex,i;for(i=0;i<allCanvas.length;i++){canvas=allCanvas[i];for(eventIndex in eventsList){canvas.removeEventListener(eventsList[eventIndex],mouseTracker.handler)}}mouseTracker._removeDocEvents()};MouseTracker.prototype._removeDocEvents=function _removeDocEvents(){this.eventOutput&&this.eventOutput.unlisten();this.eventOutput=_lib.UNDEF};MouseTracker.prototype._dispose=function _dispose(){this._removeListners();_ComponentInterface.prototype._dispose.call(this)};return MouseTracker}(_componentInterface2["default"]);exports["default"]=MouseTracker},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var children=chart.getChildren(),canvas=children.canvas&&children.canvas[0],vCanvas=canvas&&canvas.getChildren("vCanvas"),datasetParent=vCanvas&&vCanvas[0]||canvas||chart,dataObj=chart.getFromEnv("dataSource"),dataset=dataObj.dataset,data=dataObj.data||dataset&&dataset[0].data,DSClass=void 0,datasetJSON=void 0;datasetJSON=_dataSegregator(data);if(!(data&&data.length!==0)){chart.setChartMessage();return}DSClass=chart.getDSdef();(0,_lib.datasetFactory)(datasetParent,DSClass,"dataset",1,[datasetJSON])};var _lib=__webpack_require__(118);var TRUE_STRING="true",ONE_STRING="1",_dataSegregator=function _dataSegregator(data){var dataOnlyArr=[],catOnlyArr=[];(0,_lib.fcEach)(data,function(datum,i){if(!(datum.vline===TRUE_STRING||datum.vline===true||datum.vline===1||datum.vline===ONE_STRING)){dataOnlyArr.push(datum)}else{catOnlyArr.push({index:i,data:datum})}});return{catData:catOnlyArr,data:dataOnlyArr}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports._removePlots=undefined;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _dependencyManager=__webpack_require__(125);var _columnAnimation=__webpack_require__(332);var _columnAnimation2=_interopRequireDefault(_columnAnimation);var _schedular=__webpack_require__(129);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,MOUSEOVER="mouseOver",MOUSEOUT="mouseOut",ROLLOVER="DataPlotRollOver",ROLLOUT="DataPlotRollOut",HTP=_lib.hasTouch?_lib.TOUCH_THRESHOLD_PIXELS:_lib.CLICK_THRESHOLD_PIXELS,dropHash=_lib.regex.dropHash,PLOTBORDERCOLOR="plotBorderColor",PLOTGRADIENTCOLOR="plotGradientColor",SHOWSHADOW="showShadow",POINTER="pointer",EVENTARGS="eventArgs",DEFAULT_CURSOR=_lib.preDefStr.DEFAULT,showHoverEffectStr=_lib.preDefStr.showHoverEffectStr,SETROLLOVERATTR=_lib.preDefStr.setRolloverAttrStr,SETROLLOUTATTR=_lib.preDefStr.setRolloutAttrStr,math=Math,mathMin=math.min,mathMax=math.max,mathAbs=math.abs,crispTop={top:true},crispRight={right:true},crispLeft={left:true},crispBottom={bottom:true},mathCeil=math.ceil,mathRound=math.round,_graphicsIterator=function _graphicsIterator(){var store=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var callback=arguments[1];if(typeof callback!=="function"){return}var _loop=function _loop(key){if(store.hasOwnProperty(key)){var elems=store[key];if(Array.isArray(elems)){elems.forEach(function(el){return callback(el,key)})}else{store[key]&&callback(store[key],key)}}};for(var key in store){_loop(key)}},_rolloverResponseSetter=function _rolloverResponseSetter(chart,data,event,onlyHoverEffect,dataset){var dataGraphics=data.graphics,elem=dataGraphics&&dataGraphics.element,animationManager=chart.getFromEnv("animationManager"),elData=elem&&elem.getData();if(elData.draged!==true){if(elem&&elData.showHoverEffect!==0){animationManager.setAnimationState(MOUSEOVER);animationManager.setAnimation({el:elem,label:"rect",component:dataset,attr:elem.getData().setRolloverAttr})}!onlyHoverEffect&&elem&&chart.plotEventHandler(elem,event,ROLLOVER)}},_rolloutResponseSetter=function _rolloutResponseSetter(chart,data,event,onlyHoverEffect,dataset){var dataGraphics=data.graphics,elem=dataGraphics&&dataGraphics.element,animationManager=chart.getFromEnv("animationManager"),elData=elem&&elem.getData();if(elData.draged!==true){if(elem&&elData.showHoverEffect!==0){animationManager.setAnimationState(MOUSEOUT);animationManager.setAnimation({el:elem,label:"rect",component:dataset,attr:elem.getData().setRolloutAttr})}!onlyHoverEffect&&elem&&chart.plotEventHandler(elem,event,ROLLOUT)}},createGroup=function createGroup(groupName,parentContainer,dataset){var animationManager=dataset.getFromEnv("animationManager");return animationManager.setAnimation({el:"group",attr:{name:groupName},container:parentContainer,state:"appearing",component:dataset,label:"group"})},_removePlots=function _removePlots(){var removeDataArr=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var removeElem=arguments[1];removeDataArr.forEach(function(removeData){return _graphicsIterator(removeData&&removeData.graphics,removeElem)});removeDataArr.length=0};(0,_dependencyManager.addDep)({name:"columnAnimation",type:"animationRule",extension:_columnAnimation2["default"]});var ColumnDataset=function(_ComponentInterface){_inherits(ColumnDataset,_ComponentInterface);function ColumnDataset(){_classCallCheck(this,ColumnDataset);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));var ds=_this;ds.components={};ds.components.removeDataArr=[];ds.__hideElem=function(el,type){ds._setRemoveAnim(el,type==="label"?"plotLabel":"rect")};ds.__removeElem=function(el,type){ds.__hideElem(el,type)};ds.config.primitiveType="column";return _this}ColumnDataset.prototype.getType=function getType(){return"dataset"};ColumnDataset.prototype.getName=function getName(){return"column"};ColumnDataset.prototype.__setDefaultConfig=function __setDefaultConfig(){_ComponentInterface.prototype.__setDefaultConfig.call(this);var config=this.config;config.showvalues=UNDEF;config.includeinlegend=1;config.plotfillalpha=UNDEF;config.plotfillangle=UNDEF;config.ratio=UNDEF};ColumnDataset.prototype.preConfigure=function preConfigure(datasetJSON){var dataSet=this;if(!datasetJSON){return false}dataSet.trimData(datasetJSON);dataSet.config.JSONData=datasetJSON;_ComponentInterface.prototype.preConfigure.call(this,datasetJSON)};ColumnDataset.prototype.setSkippingInfo=function setSkippingInfo(skipInfo){this.addToEnv("skipInfo",skipInfo||{plotsPerBin:1,drawOnlyMap:[],draw:[],hide:[],skippingApplied:false,dragHashMap:[]})};ColumnDataset.prototype.getSkippingInfo=function getSkippingInfo(){return this.getFromEnv("skipInfo")||{plotsPerBin:1,drawOnlyMap:[],draw:[],hide:[],skippingApplied:false,dragHashMap:[]}};ColumnDataset.prototype.configure=function configure(datasetJSON){if(!datasetJSON){return false}_ComponentInterface.prototype.configure.call(this,datasetJSON)};ColumnDataset.prototype.configureAttributes=function configureAttributes(){var dataSet=this,chart=dataSet.getFromEnv("chart"),conf=dataSet.config;dataSet.parseAttributes();dataSet._setConfigure();if(dataSet.getState("visible")&&conf.oldVisible===false){conf.appearing=true}conf.oldVisible=dataSet.getState("visible");dataSet._realTimeConfigure&&dataSet._realTimeConfigure();chart.config.hasLegend!==false&&chart.config.showLegend&&dataSet._addLegend();dataSet.ErrorValueConfigure&&dataSet.ErrorValueConfigure();dataSet.config.YForStackUpdated=false;dataSet.setState("dirty",true)};ColumnDataset.prototype.parseAttributes=function parseAttributes(){var dataSet=this,chart=dataSet.getFromEnv("chart"),yaxis=chart.getChildren("yAxis")[0],isInverseAxis=yaxis.config.isReverse,conf=dataSet.config,JSONData=dataSet.config.JSONData,singleSeries=chart.config.singleseries,chartConfig=chart.config,chartAttr=chart.getFromEnv("dataSource").chart,colorM=dataSet.getFromEnv("color-manager"),index=dataSet.getJSONIndex(),plotColor=conf.plotColor=colorM.getPlotColor(index),plotBorderDash=(0,_lib.pluckNumber)(JSONData.dashed,chartAttr.plotborderdashed),usePlotGradientColor=(0,_lib.pluckNumber)(chartAttr.useplotgradientcolor,1),plotDashLen=void 0,plotDashGap=void 0,plotBorderThickness=void 0,plotFillAlpha=void 0,isBar=chart.isBar,is3D=chart.config.is3D,isDual=chart.config.isdual;if(isDual){conf.parentYAxis=(0,_lib.pluck)(JSONData.parentyaxis&&JSONData.parentyaxis.toLowerCase(),"p")==="s"?1:0}else{conf.parentYAxis=0}conf.maxValue=-Infinity;conf.minValue=Infinity;conf.defaultPadding={left:.5,right:.5};(0,_lib.parseConfiguration)(JSONData,conf,chartConfig,{data:true});conf.seriesname=(0,_lib.parseUnsafeString)(JSONData.seriesname);conf.showValues=(0,_lib.pluckNumber)(JSONData.showvalues,chartAttr.showvalues,1);conf.showplotborder=(0,_lib.pluckNumber)(chartAttr.showplotborder,is3D?0:1);plotDashLen=chartConfig.plotborderdashlen;plotDashGap=chartConfig.plotborderdashgap;conf.plotfillangle=(0,_lib.pluckNumber)(360-chartAttr.plotfillangle,isBar?180:isInverseAxis?90:270);conf.plotfillalpha=plotFillAlpha=(0,_lib.pluck)(JSONData.alpha,chartAttr.plotfillalpha,_lib.HUNDREDSTRING);conf.plotColor=plotColor=(0,_lib.pluck)(JSONData.color,plotColor);conf.legendSymbolColor=(0,_libGraphics.getFirstColor)(conf.plotColor);conf.plotgradientcolor=(0,_lib.getDefinedColor)(chartAttr.plotgradientcolor,colorM.getColor(PLOTGRADIENTCOLOR));!usePlotGradientColor&&(conf.plotgradientcolor="");conf.plotborderalpha=(0,_lib.pluck)(chartAttr.plotborderalpha,plotFillAlpha,_lib.HUNDREDSTRING);conf.plotbordercolor=(0,_lib.pluck)(chartAttr.plotbordercolor,is3D&&!singleSeries?"#ffffff":colorM.getColor(PLOTBORDERCOLOR));conf.plotborderdashstyle=plotBorderDash?(0,_lib.getDashStyle)(plotDashLen,plotDashGap,plotBorderThickness):"none";conf.showShadow=is3D?(0,_lib.pluckNumber)(chartAttr.showshadow,1):(0,_lib.pluckNumber)(chartAttr.showshadow,colorM.getColor(SHOWSHADOW));conf.definedGroupPadding=mathMax(chartConfig.plotSpacePercent,0);conf.includeinlegend=(0,_lib.pluckNumber)(JSONData.includeinlegend,conf.seriesname?1:0);dataSet.setState("visible",(0,_lib.pluckNumber)(JSONData.visible,!Number(JSONData.initiallyhidden),1)===1);if(dataSet.getState("visible")===true){dataSet._conatinerHidden=false}else{dataSet._containerHidden=true}conf.legendInteractivity=false;dataSet.setState("visible",(0,_lib.pluckNumber)(dataSet.getState("visible"),conf.JSONData.visible,!Number(conf.JSONData.initiallyhidden),1)===1)};ColumnDataset.prototype.trimData=function trimData(datasetJSON){if(!this.components&&this.components.data&&this.components.data.length){return}var dataSet=this,comps=dataSet.components,config=dataSet.config,context=config&&config.context,isRealTime=dataSet.getFromEnv("chart").isRealTime,prevCatlen=context&&context.prevCatlen,xAxis=dataSet.getFromEnv("xAxis"),currCatLen=isRealTime?0:xAxis.getTicksLen(),catDiff=prevCatlen-currCatLen,prevData=comps&&comps.data,prevDataLength=prevData&&prevData.length,currDataLength=datasetJSON.data&&datasetJSON.data.length||0,dataDiff=prevDataLength-currDataLength,diff=void 0,startIndex=void 0;if(catDiff>dataDiff){diff=catDiff;startIndex=currCatLen}else{diff=dataDiff;startIndex=currDataLength}if(diff>0){this.removeData(startIndex,diff,false)}};ColumnDataset.prototype.hidePlots=function hidePlots(){var dataSet=this,components=dataSet.components,dataStore=components.data,dataObj,skipInfo=dataSet.getSkippingInfo(),hideArray=skipInfo.hide,hideLabelArray=skipInfo.hideLabel;hideArray.forEach(function(v){dataObj=dataStore[v];if(dataObj&&dataObj.graphics){_graphicsIterator(dataObj.graphics,dataSet.__removeElem);dataObj&&(dataObj.graphics={})}});hideLabelArray.forEach(function(v){dataObj=dataStore[v];if(dataObj&&dataObj.graphics){_graphicsIterator(dataObj.graphics,dataSet.__removeElem);dataObj&&(dataObj.graphics={})}})};ColumnDataset.prototype._setConfigure=function _setConfigure(newDataset,newIndex){var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,conf=dataSet.config,xAxis=dataSet.getFromEnv("xAxis"),isRealTime=chart.isRealTime,numDisplaySets=chartConfig.realTimeConfig&&chartConfig.realTimeConfig.numDisplaySets,categories=dataSet.getFromEnv("dataSource").categories&&dataSet.getFromEnv("dataSource").categories[0]&&dataSet.getFromEnv("dataSource").categories[0].category,catLen=conf.initCatLen=isRealTime?categories&&Array.isArray(categories)&&categories.filter(function(data){return!data.vline}).length||0:xAxis.getTicksLen(),JSONData=conf.JSONData||[],setDataArr=newDataset||JSONData.data,newDataSetLen=newDataset&&newDataset.data.length,len,showplotborder=conf.showplotborder,plotBorderThickness=chartConfig.plotborderthickness,setData,plotIndex,dataObj,dataStore=dataSet.components.data,isDrag=chartConfig.isDrag,i,j,shiftIndex,tempIndex,skippingInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo(),configureOnly=skippingInfo&&skippingInfo.draw||[],skippingApplied=skippingInfo&&skippingInfo.skippingApplied;shiftIndex=newDataSetLen===UNDEF&&catLen>numDisplaySets?catLen-numDisplaySets:0;len=isRealTime?(0,_lib.pluckNumber)(newDataSetLen,catLen):Math.min(catLen,setDataArr&&setDataArr.length);chartConfig.dragTolerance=isDrag?(showplotborder&&plotBorderThickness>5?plotBorderThickness/2+1:5)+HTP:0;if(!dataStore){dataStore=dataSet.components.data=[]}if(skippingApplied){len=configureOnly.length}for(j=shiftIndex;j<len;j++){i=configureOnly[j]||j;if(newDataset){setData=newDataset&&newDataset.data[i]||{};if(newIndex!==UNDEF){tempIndex=newIndex+i;dataObj=dataStore[tempIndex]}else{tempIndex=dataStore.length-len+i;dataObj=dataStore[tempIndex]}plotIndex=tempIndex}else{setData=setDataArr&&setDataArr[i]||{};i=i-shiftIndex;dataObj=dataStore[i];plotIndex=i}if(!dataObj){dataObj=dataStore[plotIndex]={}}if(!dataObj.config){dataObj.config={};dataObj.graphics={}}dataSet._plotConfigure(plotIndex,setData,newDataSetLen);tempIndex&&tempIndex++}if(skippingApplied){dataSet.addJob("configureRestID",function(){dataSet._configureRestData()},_schedular.priorityList.postRender)}};ColumnDataset.prototype._configureRestData=function _configureRestData(){var dataSet=this,conf=dataSet.config,JSONData=dataSet.config.JSONData,setDataArr=JSONData.data,chartAttr=dataSet.getFromEnv("chart-attrib"),xAxis=dataSet.getFromEnv("xAxis"),catLen=xAxis.getTicksLen(),len=catLen,setData,plotIndex,dataObj,skipInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo(),drawOnlyMap=skipInfo.drawOnlyMap,dataStore=dataSet.components.data,i,tempIndex;if(!dataStore){dataStore=dataSet.components.data=[]}conf.maxValue=-Infinity;conf.minValue=Infinity;for(i=0;i<len;i++){if(drawOnlyMap[i]){continue}dataObj=dataStore[i];setData=setDataArr&&setDataArr[i]||{};plotIndex=i;if(setData.tooltext!==UNDEF){setData.tooltext=(0,_lib.parseTooltext)(setData.tooltext,[3],{label:setData.label},setData,chartAttr,JSONData)}if(!dataObj){dataObj=dataStore[i]={}}if(!dataObj.config){dataStore[i].config={}}dataSet._plotConfigure(plotIndex,setData);tempIndex&&tempIndex++}};ColumnDataset.prototype._plotConfigure=function _plotConfigure(i,setData,newDataSetLen){var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,conf=dataSet.config,JSONData=conf.JSONData,singleSeries=chart.config.singleseries,yAxis=dataSet.getFromEnv("yAxis"),xAxis=dataSet.getFromEnv("xAxis"),dataStore=dataSet.components.data,dataObj=dataStore[i],chartAttr=chart.getFromEnv("dataSource").chart,colorM=dataSet.getFromEnv("color-manager"),showplotborder=conf.showplotborder,plotColor=conf.plotColor,showTooltip=chartConfig.showtooltip,yAxisName=chartConfig.yaxisname,xAxisName=chartConfig.xaxisname,tooltipSepChar=chartConfig.tooltipsepchar,seriesNameInTooltip=chartConfig.seriesnameintooltip,formatedVal,parserConfig,setTooltext,seriesname,macroIndices,tempPlotfillAngle,toolText,plotDashLen=chartConfig.plotborderdashlen,plotDashGap=chartConfig.plotborderdashgap,plotBorderThickness=chartConfig.plotborderthickness,isRoundEdges=(0,_lib.pluckNumber)(chartConfig.useroundedges,0),showHoverEffect=chartConfig.plothovereffect,plotfillAngle=conf.plotfillangle,plotFillAlpha,plotFillRatio,plotBorderAlpha,plotBorderDashStyle,initailPlotBorderDashStyle=conf.plotborderdashstyle,setValue,config=dataObj.config,label,colorArr,hoverColor,hoverAlpha,hoverGradientColor,hoverRatio,hoverAngle,hoverBorderColor,hoverBorderAlpha,hoverBorderThickness,hoverBorderDashed,hoverBorderDashGap,hoverBorderDashLen,hoverDashStyle,hoverColorArr,toolTipValue,setDisplayValue,isBar=chart.isBar,is3D=chart.config.is3D,setDataDashed,setDataPlotDashLen,setDataPlotDashGap,origLabel,labelObj,use3dlighting=chartConfig.use3dlighting,numDisplaySets=chartConfig.realTimeConfig&&chartConfig.realTimeConfig.numDisplaySets,diffLen=numDisplaySets-conf.initCatLen,additive=numDisplaySets&&diffLen>=0?diffLen:0,useDataPlotColorForLabels=chartConfig.usedataplotcolorforlabels;labelObj=xAxis.getLabel(newDataSetLen?i-newDataSetLen:additive+i);config.origLabel=origLabel=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)(labelObj.label));label=config.label=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)(labelObj.tooltext))||origLabel;if(setData.tooltext!==UNDEF){setData.tooltext=(0,_lib.parseTooltext)(setData.tooltext,[3],{label:labelObj.label},setData,chartAttr,JSONData)}config.showValue=(0,_lib.pluckNumber)(setData.showvalue,conf.showValues);config.setValue=setValue=yAxis.getCleanValue(setData.value,(0,_lib.pluckNumber)(chartConfig.stack100percent));config.setLink=(0,_lib.pluck)(setData.link);config.toolTipValue=toolTipValue=yAxis.dataLabels(setValue);config.setDisplayValue=setDisplayValue=(0,_lib.parseUnsafeString)(setData.displayvalue);config.displayValue=(0,_lib.pluck)(setDisplayValue,toolTipValue);setDataDashed=(0,_lib.pluckNumber)(setData.dashed);setDataPlotDashLen=(0,_lib.pluckNumber)(setData.dashlen,plotDashLen);setDataPlotDashGap=plotDashGap=(0,_lib.pluckNumber)(setData.dashgap,plotDashGap);if(setValue!==null){conf.maxValue=mathMax(conf.maxValue,setValue);conf.minValue=mathMin(conf.minValue,setValue)}config.plotBorderDashStyle=plotBorderDashStyle=setDataDashed===1?(0,_lib.getDashStyle)(setDataPlotDashLen,setDataPlotDashGap):setDataDashed===0?"none":initailPlotBorderDashStyle;if(singleSeries){plotColor=colorM.getPlotColor((0,_lib.pluckNumber)(i-newDataSetLen,i));plotColor=(0,_lib.pluck)(setData.color,plotColor);useDataPlotColorForLabels&&xAxis.updateTicksValues(i,{labelfontcolor:(0,_libGraphics.convertColor)(plotColor)});plotBorderAlpha=(0,_lib.pluck)(setData.alpha,setData.borderalpha,conf.plotborderalpha,plotFillAlpha).toString()}else{plotColor=(0,_lib.pluck)(setData.color,conf.plotColor);plotBorderAlpha=(0,_lib.pluck)(setData.alpha,conf.plotborderalpha,plotFillAlpha).toString()}plotFillRatio=(0,_lib.pluck)(setData.ratio,conf.ratio);plotFillAlpha=(0,_lib.pluck)(setData.alpha,conf.plotfillalpha);config.shadow={opacity:conf.showShadow?plotFillAlpha/100:0};if(setValue<0&&!isRoundEdges){tempPlotfillAngle=conf.plotfillangle;plotfillAngle=isBar?180-plotfillAngle:360-plotfillAngle}config.colorArr=colorArr=(0,_libGraphics.getColumnColor)(plotColor+","+conf.plotgradientcolor,plotFillAlpha,plotFillRatio,plotfillAngle,isRoundEdges,conf.plotbordercolor,plotBorderAlpha,isBar?1:0,!!is3D);config.originalPlotColor=plotColor;if(showHoverEffect!==0){hoverColor=(0,_lib.pluck)(setData.hovercolor,JSONData.hovercolor,chartAttr.plotfillhovercolor,chartAttr.columnhovercolor,plotColor);hoverAlpha=(0,_lib.pluck)(setData.hoveralpha,JSONData.hoveralpha,chartAttr.plotfillhoveralpha,chartAttr.columnhoveralpha,plotFillAlpha);hoverGradientColor=(0,_lib.pluck)(setData.hovergradientcolor,JSONData.hovergradientcolor,chartAttr.plothovergradientcolor,conf.plotgradientcolor);!hoverGradientColor&&(hoverGradientColor="");hoverRatio=(0,_lib.pluck)(setData.hoverratio,JSONData.hoverratio,chartAttr.plothoverratio,plotFillRatio);hoverAngle=(0,_lib.pluckNumber)(360-setData.hoverangle,360-JSONData.hoverangle,360-chartAttr.plothoverangle,plotfillAngle);hoverBorderColor=(0,_lib.pluck)(setData.borderhovercolor,JSONData.borderhovercolor,chartAttr.plotborderhovercolor,conf.plotbordercolor);hoverBorderAlpha=(0,_lib.pluck)(setData.borderhoveralpha,JSONData.borderhoveralpha,chartAttr.plotborderhoveralpha,chartAttr.plotfillhoveralpha,chartAttr.columnhoveralpha,plotBorderAlpha,plotFillAlpha);hoverBorderThickness=(0,_lib.pluckNumber)(setData.borderhoverthickness,JSONData.borderhoverthickness,chartAttr.plotborderhoverthickness,conf.showplotborder&&plotBorderThickness);hoverBorderDashed=setData.borderhoverdashed||JSONData.borderhoverdashed||chartAttr.plotborderhoverdashed;hoverBorderDashGap=(0,_lib.pluckNumber)(setData.borderhoverdashgap,JSONData.borderhoverdashgap,chartAttr.plotborderhoverdashgap,plotDashLen);hoverBorderDashLen=(0,_lib.pluckNumber)(setData.borderhoverdashlen,JSONData.borderhoverdashlen,chartAttr.plotborderhoverdashlen,plotDashGap);hoverDashStyle=hoverBorderDashed!==UNDEF?Number(hoverBorderDashed)?(0,_lib.getDashStyle)(hoverBorderDashLen,hoverBorderDashGap):"":plotBorderDashStyle;if(chartConfig.drawTrendRegion&&!is3D||showHoverEffect==1&&hoverColor===plotColor){hoverColor=(0,_libGraphics.getLightColor)(hoverColor,70)}hoverColorArr=(0,_libGraphics.getColumnColor)(hoverColor+","+hoverGradientColor,hoverAlpha,hoverRatio,hoverAngle,isRoundEdges,hoverBorderColor,hoverBorderAlpha.toString(),isBar?1:0,!!is3D);config.setRolloutAttr={fill:!is3D?(0,_lib.toRaphaelColor)(colorArr[0]):[(0,_lib.toRaphaelColor)(colorArr[0]),!use3dlighting],stroke:showplotborder?(0,_lib.toRaphaelColor)(colorArr[1]):_lib.TRACKER_FILL,"stroke-width":showplotborder?plotBorderThickness:0,"stroke-dasharray":plotBorderDashStyle};config.setRolloverAttr={fill:!is3D?(0,_lib.toRaphaelColor)(hoverColorArr[0]):[(0,_lib.toRaphaelColor)(hoverColorArr[0]),!use3dlighting],stroke:hoverBorderColor?(0,_lib.toRaphaelColor)(hoverColorArr[1]):_lib.TRACKER_FILL,"stroke-width":hoverBorderThickness,"stroke-dasharray":hoverDashStyle}}formatedVal=config.toolTipValue;config.origToolText=setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.tooltext,JSONData.plottooltext,chartAttr.plottooltext)));if(!showTooltip){toolText=false}else{if(formatedVal===null){toolText=false}else if(setTooltext!==UNDEF){macroIndices=[1,2,3,4,5,6,7];parserConfig={yaxisName:yAxisName,xaxisName:xAxisName,formattedValue:formatedVal,label:label};toolText=(0,_lib.parseTooltext)(setTooltext,macroIndices,parserConfig,setData,chartAttr,JSONData)}else{if(seriesNameInTooltip){seriesname=(0,_lib.getFirstValue)(JSONData&&JSONData.seriesname)}toolText=seriesname?seriesname+tooltipSepChar:"";toolText+=label?label+tooltipSepChar:""}}config.toolText=toolText;config.setTooltext=toolText;tempPlotfillAngle&&(plotfillAngle=tempPlotfillAngle);config._x=i;config._y=setValue};ColumnDataset.prototype.updateYForStack=function updateYForStack(){var dataSet=this,chartConfig=dataSet.getFromEnv("chartConfig"),showPercentValues=(0,_lib.pluckNumber)(chartConfig.showpercentvalues),showPercentInToolTip=(0,_lib.pluckNumber)(chartConfig.showpercentintooltip),JSONData=dataSet.config.JSONData,chartAttr=dataSet.getFromEnv("chart-attrib"),xAxis=dataSet.getFromEnv("xAxis"),dataObj,config,i,j,len=xAxis.getTicksLen(),components=dataSet.components,dataStore=components.data,setTooltext,stackValues=dataSet.getFromEnv("stackValues"),stackSumValue,negativeValueFactor=showPercentValues||showPercentInToolTip?-1:1,skipInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo(),skippingApplied=skipInfo&&skipInfo.skippingApplied,plotDrawArray=skipInfo&&skipInfo.draw||[],plotDrawArrayLength=plotDrawArray&&plotDrawArray.length;if(skippingApplied){len=plotDrawArrayLength}for(j=0;j<len;j++){i=plotDrawArray[j]||j;dataObj=dataStore[i];config=dataObj&&dataObj.config;if(dataObj===UNDEF){continue}setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(config.origToolText,JSONData.plottooltext,chartAttr.plottooltext)));stackSumValue=stackValues[i]&&stackValues[i].positive+negativeValueFactor*stackValues[i].negative||1;config._b=dataSet._parseValues(i,config._b,stackSumValue,setTooltext);if(chartConfig.stack100percent){config._y=config.value+config._b}}};ColumnDataset.prototype._parseValues=function _parseValues(index,previousY,stackSumValue,setTooltext){var dataSet=this,chartConfig=dataSet.getFromEnv("chartConfig"),config=dataSet.components.data[index].config,showPercentValues=(0,_lib.pluckNumber)(chartConfig.showpercentvalues),showPercentInToolTip=(0,_lib.pluckNumber)(chartConfig.showpercentintooltip),visible=dataSet.getState("visible"),setValue=config.setValue,stack100Percent=(0,_lib.pluckNumber)(chartConfig.stack100percent),numberFormatter=dataSet.getFromEnv("number-formatter"),yAxis=dataSet.getFromEnv("yAxis"),setDisplayValue=config.setDisplayValue,formatedPercentValue,percentValue;percentValue=(visible?setValue||0:0)/stackSumValue*100;formatedPercentValue=numberFormatter.percentValue(percentValue);if(stack100Percent){config.value=percentValue;previousY=(previousY||0)/stackSumValue*100}if(showPercentInToolTip){config.toolTipValue=formatedPercentValue}if(showPercentValues){!setDisplayValue&&(config.displayValue=formatedPercentValue)}if(setTooltext){config.toolText=(0,_lib.parseTooltext)(config.setTooltext,[14,24,25,112],{percentValue:formatedPercentValue,sum:yAxis.dataLabels(stackSumValue),unformattedSum:stackSumValue})}return previousY};ColumnDataset.prototype._addLegend=function _addLegend(){var dataset=this,chart=dataset.getFromEnv("chart"),isBar=chart.isBar,chartAttr=dataset.getFromEnv("chart-attrib"),fillColor,lightColor,config,legendItem,conf=dataset.config,color=(0,_libGraphics.getFirstColor)(conf.legendSymbolColor),legend=dataset.getFromEnv("legend"),use3DLighting=(0,_lib.pluckNumber)(chartAttr.use3dlighting,chartAttr.useplotgradientcolor,1),strokeColor=(0,_libGraphics.getLightColor)(color,60).replace(dropHash,_lib.HASHSTRING);if(conf.includeinlegend){if(use3DLighting){lightColor=(0,_libGraphics.getLightColor)(color,40);fillColor={FCcolor:{color:color+","+color+","+lightColor+","+color+","+color,ratio:"0,30,30,30,10",angle:isBar?0:270,alpha:"100,100,100,100,100"}}}else{fillColor={FCcolor:{color:color,angle:isBar?0:270,ratio:"0",alpha:"100"}}}legendItem=legend.getItem(dataset.config.legendItemId);config={type:dataset.getName(),index:dataset.getJSONIndex(),label:(0,_lib.getFirstValue)(dataset.config.JSONData.seriesname)};if(!legendItem){dataset.config.legendItemId=legend.createItem(dataset);legendItem=legend.getItem(dataset.config.legendItemId);dataset.addExtEventListener("click",function(){legendItem.itemClickFn()},legendItem)}legendItem.configure(config);legendItem.setStateCosmetics("default",{symbol:{fill:(0,_lib.toRaphaelColor)(fillColor),rawFillColor:color,stroke:(0,_lib.toRaphaelColor)(strokeColor)}});if(!dataset.getState("visible")){legendItem.setLegendState("hidden")}else{legendItem.removeLegendState("hidden")}}else if(dataset.config.legendItemId){legend.disposeItem(dataset.config.legendItemId)}};ColumnDataset.prototype.legendInteractivity=function legendInteractivity(legendItem){var dataSet=this,legend=legendItem.getLinkedParent(),chart=legend.getFromEnv("chart"),visible=dataSet.getState("visible"),dsConfig=dataSet.config;chart.getFromEnv("animationManager").setAnimationState("legendInteraction");dsConfig.legendInteractivity=true;visible?dataSet.hide():dataSet.show();if(_lib.isFirefox){var plotGroup=chart.getChildContainer("plotGroup");plotGroup.attrs["clip-rect"]&&plotGroup.attr({"clip-rect":plotGroup.attrs["clip-rect"]})}if(!dsConfig.drawnEvtListenerAttached){dsConfig.drawnEvtListenerAttached=true;dataSet.addEventListener("drawn",function(){dsConfig.legendInteractivity=false})}};ColumnDataset.prototype.createPinElem=function createPinElem(){var dataset=this,chart=dataset.getFromEnv("chart"),group=arguments[1].group,dataStore=dataset.components.data,element,pinElems=dataset.graphics.pinElems||(dataset.graphics.pinElems=[]),columnGroup=dataset.getLinkedParent().getChildContainer().columnVcanvasGroup,i,pinEl,dataObj;for(i=pinElems.length-1;i>=0;i--){pinElems[i].remove();pinElems.pop()}if(dataset.getState("visible")){for(i=dataset.config.scrollMinVal;i<dataset.config.scrollMaxVal;i++){dataObj=dataStore[i];if(dataObj&&dataObj.graphics){element=dataObj.graphics.element;pinEl=element.clone().attr({transform:["T",-(chart.config._visx+mathAbs(columnGroup.transform()[0][1])),-chart.config.canvasBottom]});group.appendChild(pinEl);pinElems.push(pinEl)}}}};ColumnDataset.prototype._checkPointerOverColumn=function _checkPointerOverColumn(pX,chartX,chartY){var dataset=this,chart=dataset.getFromEnv("chart"),chartConfig=chart.config,plotBorderThickness=chartConfig.plotborderthickness,showPlotBorder=chartConfig.showplotborder,components=dataset.components,dataStore=components.data,pointObj,pY,dx,dy,hovered,halfPlotBorderThickness,lenDataStore=dataStore&&dataStore.length,i,heightTolerance=0,widthTolerance=0,numBin,binStrtIndex,binStopIndex,dragTolerance=chartConfig.dragTolerance||0,skipInfo=dataset.getSkippingInfo&&dataset.getSkippingInfo(),plotsPerBin=skipInfo.plotsPerBin;numBin=mathCeil(pX/plotsPerBin);binStrtIndex=(numBin-1)*plotsPerBin+1;binStopIndex=binStrtIndex+plotsPerBin-1;binStopIndex=binStopIndex<lenDataStore?binStopIndex:lenDataStore;for(i=binStopIndex;i>=binStrtIndex;i--){pointObj=dataStore[i];if(!pointObj){return}if(pointObj._height<HTP){heightTolerance=HTP}if(pointObj._width<HTP){widthTolerance=HTP}if(!pointObj._xPos&&!pointObj._yPos){continue}pY=pointObj.config.setValue;if(showPlotBorder&&plotBorderThickness!==UNDEF){halfPlotBorderThickness=plotBorderThickness/2}else{plotBorderThickness=halfPlotBorderThickness=0}if(pY!==null){dx=chartX-pointObj._xPos+halfPlotBorderThickness;dy=chartY-pointObj._yPos+halfPlotBorderThickness+(pY>=0?dragTolerance:0);hovered=dx>=-widthTolerance/2&&dx<=(widthTolerance||pointObj._width)+plotBorderThickness&&dy>=-heightTolerance/2&&dy<=(heightTolerance||pointObj._height)+plotBorderThickness+(pY<0?2*dragTolerance:dragTolerance);if(hovered){return{pointIndex:i,hovered:hovered,pointObj:dataStore[i]}}}}};ColumnDataset.prototype._getHoveredPlot=function _getHoveredPlot(chartX,chartY){var dataset=this,chart=dataset.getFromEnv("chart"),isBar=chart.isBar,xAxis=dataset.getFromEnv("xAxis"),x,pX;chartX+=xAxis.getTranslation();x=xAxis.getValue(isBar?chartY:chartX);pX=Math.round(x);return pX-x>0?dataset._checkPointerOverColumn(pX,chartX,chartY)||dataset._checkPointerOverColumn(pX-1,chartX,chartY):dataset._checkPointerOverColumn(pX+1,chartX,chartY)||dataset._checkPointerOverColumn(pX,chartX,chartY)};ColumnDataset.prototype.getPlotInCategoryAt=function getPlotInCategoryAt(){var chartX=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var chartY=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var plots=this.components.data,xAxis=this.getFromEnv("xAxis"),yAxis=this.getFromEnv("yAxis"),xTranslation=xAxis.getTranslation()||0,yTranslation=yAxis.getTranslation()||0,isDatasetVisible=this.getState("visible"),xCoords=chartX+xTranslation,yCoords=chartY+yTranslation,foundPlot=void 0,categoryAxis=void 0,isAxisVertical=void 0,hoveredCategoryIndex=void 0,hoveredPlotInfo=void 0;if(xAxis.getName()==="category"&&xAxis.config.hasCategory){categoryAxis=xAxis}else if(yAxis.getName()==="category"&&yAxis.config.hasCategory){categoryAxis=yAxis}else{return false}isAxisVertical=categoryAxis.config.isVertical;if(isAxisVertical===null||typeof isAxisVertical==="undefined")return false;hoveredCategoryIndex=Math.round(categoryAxis.getValue(isAxisVertical?yCoords:xCoords));foundPlot=plots[hoveredCategoryIndex];hoveredPlotInfo=this._getHoveredPlot(chartX,chartY);if(isDatasetVisible&&hoveredPlotInfo){return hoveredPlotInfo}else if(isDatasetVisible&&foundPlot){return{pointIndex:foundPlot._index,hovered:false,pointObj:foundPlot}}else{return false}};ColumnDataset.prototype._decideTooltipType=function _decideTooltipType(plotIndex,e){var dataset=this,chart=dataset.getFromEnv("chart"),drawTrendRegion=chart.config.drawTrendRegion,components=dataset.components,toolTipController=dataset.getFromEnv("toolTipController"),dataStore=components.data,data=dataStore[plotIndex],toolText=data&&(data.config.finalTooltext||data.config.toolText),currentToolTip=dataset.config.currentToolTip,originalEvent=e.originalEvent;if(toolText&&!drawTrendRegion){if(currentToolTip){toolTipController.draw(originalEvent,toolText,currentToolTip)}else{currentToolTip=dataset.config.currentToolTip=toolTipController.draw(originalEvent,toolText)}}};ColumnDataset.prototype._firePlotEvent=function _firePlotEvent(eventType,plotIndex,e){var dataset=this,chart=dataset.getFromEnv("chart"),components=dataset.components,toolTipController=dataset.getFromEnv("toolTipController"),dataStore=components.data,data=dataStore[plotIndex],setElement=data.graphics&&data.graphics.element,toolTip=dataset.config.currentToolTip,config,setLink;if(setElement){config=data.config;setLink=config.setLink;switch(eventType){case"mouseover":dataset._decideTooltipType(plotIndex,e);_rolloverResponseSetter(chart,data,e,UNDEF,this);setLink&&(setElement.node.style.cursor=POINTER);break;case"mouseout":toolTipController.hide(toolTip);_rolloutResponseSetter(chart,data,e,UNDEF,this);setLink&&(setElement.node.style.cursor=DEFAULT_CURSOR);break;case"click":chart.plotEventHandler(setElement,e);break;case"mousemove":dataset._decideTooltipType(plotIndex,e)}}};ColumnDataset.prototype.createContainer=function createContainer(){var dataset=this,dsType=dataset.getType(),chart=dataset.getFromEnv("chart"),parent=dataset.getLinkedParent(),group=dataset.config.primitiveType||dsType,parentContainer,commonElemsParentContainer,anchorElemsParentContainer,parentShadowContainer;!parent.getChildContainer(group+"VcanvasGroup")&&(group="default");parentContainer=parent.getChildContainer(group+"VcanvasGroup");parentShadowContainer=parent.getChildContainer(group+"ShadowVcanvasGroup");commonElemsParentContainer=parent.getChildContainer("commonElemGroup")||parentContainer;anchorElemsParentContainer=parent.getChildContainer("anchorGroup")||parentContainer;!dataset.getContainer("shadowGroup")&&dataset.addContainer("shadowGroup",createGroup("shadow-group",parentShadowContainer,dataset));!dataset.getContainer("errorShadowGroup")&&dataset.addContainer("errorShadowGroup",createGroup("error-shadow-group",parentShadowContainer,dataset));!dataset.getContainer("commonElemsGroup")&&dataset.addContainer("commonElemsGroup",createGroup("common-elems-group",commonElemsParentContainer,dataset));!dataset.getContainer("plotGroup")&&dataset.addContainer("plotGroup",createGroup("plot-group",anchorElemsParentContainer,dataset));!dataset.getContainer("errorPlotGroup")&&dataset.addContainer("errorPlotGroup",createGroup("error-plot-group",parentContainer,dataset));chart.hasAnchor&&dataset.getContainer("errorPlotGroup").insertBefore(dataset.getContainer("plotGroup"));!dataset.getContainer("labelGroup")&&dataset.addContainer("labelGroup",createGroup("label-group",parent.getChildContainer("vcanvasLabelGroup"),dataset).attr("class","fusioncharts-datalabels"))};ColumnDataset.prototype.createCoordinates=function createCoordinates(){var dataSet=this,dsComponents=dataSet.components,dsData=dsComponents.data,chart=dataSet.getFromEnv("chart"),isBar=chart.isBar,yAxis=dataSet.getFromEnv("yAxis"),xAxis=dataSet.getFromEnv("xAxis"),yBase=yAxis.getAxisBase(),yBasePos=yAxis.getPixel(yBase),isVertical=xAxis.config.isVertical,dataObj,config,previousY,i,j,Px,Py,Pb,xDepth=chart.config.xDepth||0,yDepth=chart.config.yDepth||0,len=dsData.length,components=dataSet.components,groupManager=dataSet.getLinkedParent(),stackConf=groupManager.getstackConf&&groupManager.getstackConf(),dataStore=components.data,skipInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo(),skippingApplied=skipInfo&&skipInfo.skippingApplied,plotDrawArray=skipInfo&&skipInfo.draw||[],plotDrawArrayLength=plotDrawArray&&plotDrawArray.length,xPx,yPx;!isBar&&(xDepth=-xDepth);isBar&&(yDepth=-yDepth);if(skippingApplied){len=plotDrawArrayLength}for(j=0;j<len;j++){i=plotDrawArray[j]||j;dataObj=dataStore[i];config=dataObj&&dataObj.config;if(dataObj===UNDEF){continue}previousY=config._b;xPx=xAxis.getPixel(stackConf&&stackConf[i]&&stackConf[i].x||config._x);Px=(isFinite(xPx)?xPx:0)+xDepth;yPx=yAxis.getPixel(config._y);Py=(isFinite(yPx)?yPx:0)+yDepth;Pb=(previousY?yAxis.getPixel(previousY):yBasePos)+yDepth;if(isVertical){config._Px=Py;config._Py=Px;config._Pby=Px;config._Pbx=Pb}else{config._Px=Px;config._Py=Py;config._Pby=Pb;config._Pbx=Px}if(dataSet.getLineShift){config._Py+=dataSet.getLineShift("y")}}};ColumnDataset.prototype.setContainerVisibility=function setContainerVisibility(show){var dataSet=this,containers=dataSet.getContainer(),container;for(container in containers){if(containers.hasOwnProperty(container)){if(dataSet.getState("visible")===false&&(dataSet._conatinerHidden===false||dataSet._conatinerHidden===UNDEF)&&!show){containers[container].hide();dataSet._conatinerHidden=true}else{containers[container].show();dataSet._conatinerHidden=false}}}};ColumnDataset.prototype.plotAnimManager=function plotAnimManager(dataObj,attrObj,i,length){var dataSet=this,chart=dataSet.getFromEnv("chart"),animationManager=chart.getFromEnv("animationManager"),is3D=chart.config.is3D,chartConfig=chart.config,visible=dataSet.getState("visible"),xPos=attrObj.x,setElement,setValue,relativeGroupArray,config,configObj,skipInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo(),plotDrawArray=skipInfo&&skipInfo.draw||[],container,isNegative,plotGroup3d=dataSet.getFromEnv("plotGroup3d"),attr;config=dataObj&&dataObj.config;setValue=config&&config.setValue;isNegative=setValue<0;if(is3D){relativeGroupArray=isNegative?plotGroup3d.negativeGroupArray:plotGroup3d.positiveGroupAarray;container=relativeGroupArray[chart.isBar?relativeGroupArray.length-1-i:i]}else{container=dataSet.getContainer("plotGroup")}setElement=dataObj.graphics.element;attr=attrObj;configObj={el:setElement||(is3D?"cubepath":"rect"),container:container,attr:visible&&attr,doNotRemove:true,props:{originalIndex:plotDrawArray[i]||i},index:i,length:length,component:dataSet,label:"rect"};if(!visible){configObj.callback=function(){this.hide()}}dataObj.graphics.element=setElement=animationManager.setAnimation(configObj);if(is3D){setElement.appendTo(container);if(chartConfig.isstacked&&isNegative||!chartConfig.isstacked&&chart.isBar){setElement.toBack()}}if(dataObj.config.setValue!==null){dataSet.getState("visible")&&setElement.show()}else{setElement.remove();delete dataObj.graphics.element}config._oldPx=config._Px;config._oldX=xPos;visible&&(dataObj.oldPrevDataObj=dataObj.prevDataObj)};ColumnDataset.prototype.flushOnScroll=function flushOnScroll(start,end){var dataSet=this,components=dataSet.components,datum=void 0,dataStore=components.data;for(var i=start,len=end-1;i<=len;i++){datum=dataStore[i];if(!(datum&&datum.graphics)){continue}_graphicsIterator(datum.graphics,dataSet.__removeElem);datum.graphics={}}};ColumnDataset.prototype.removingDraw=function removingDraw(){var dataset=this,datastore=dataset.components.data;datastore.forEach(function(datum){_graphicsIterator(datum.graphics,dataset.__removeElem);delete datum.graphics});_ComponentInterface.prototype.removingDraw.call(this)};ColumnDataset.prototype._contextChanged=function _contextChanged(){var catLen;if(!this.config.context){this.config.context={}}var dataset=this,context=dataset.config.context,oldShift=context.shift,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),stringifiedOldLimits=context.axisLimit,stringifiedNewLimits=void 0,status=false,newAxisLimit={yAxis:{limit:yAxis.getVisibleConfig()},xAxis:{limit:xAxis.getVisibleConfig()}};newAxisLimit.yAxis.limitPixel={min:yAxis.getPixel(newAxisLimit.yAxis.limit.minValue),max:yAxis.getPixel(newAxisLimit.yAxis.limit.maxValue)};newAxisLimit.xAxis.limitPixel={min:xAxis.getPixel(newAxisLimit.xAxis.limit.minValue),max:xAxis.getPixel(newAxisLimit.xAxis.limit.maxValue)};stringifiedNewLimits=JSON.stringify(newAxisLimit);if(stringifiedOldLimits!==stringifiedNewLimits){context.axisLimit=stringifiedNewLimits;status=true}if(oldShift!==dataset.getFromEnv("shift")){context.shift=dataset.getFromEnv("shift");status=true}if(context.prevColNum!==dataset.getFromEnv("numOfColumns")){context.prevColNum=dataset.getFromEnv("numOfColumns");status=true}if(xAxis.getProcessLen){catLen=xAxis.getProcessLen()}else if(xAxis.getTicksLen){catLen=xAxis.getTicksLen()}if(context.prevCatlen!==catLen){context.prevCatlen=catLen;status=true}if(this.getFromEnv("chart").isRealTime){return true}return status};ColumnDataset.prototype.calculateScrollRange=function calculateScrollRange(){var dataSet=this,conf=dataSet.config,xAxis=dataSet.getFromEnv("xAxis"),len=void 0,catLen=xAxis.getTicksLen(),skipInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo()||{},skippingApplied=skipInfo.skippingApplied,plotDrawArray=skipInfo.draw||[],labelDrawArray=skipInfo.labelDraw||[],plotDrawArrayLength=plotDrawArray.length;len=skippingApplied?plotDrawArrayLength-1:catLen;conf.scrollMinVal=mathMax(mathRound(xAxis.getVisibleConfig().minValue),0)-1;conf.scrollMaxVal=mathMin(mathRound(xAxis.getVisibleConfig().maxValue)+1,len)+1;len=skippingApplied?labelDrawArray.length-1:catLen;conf.scrollMinValForLabel=mathMax(mathRound(xAxis.getVisibleConfig().minValue),0)-1;conf.scrollMaxValForLabel=mathMin(mathRound(xAxis.getVisibleConfig().maxValue)+1,len)+1};ColumnDataset.prototype.drawPlots=function drawPlots(){var dataSet=this,chart=dataSet.getFromEnv("chart"),conf=dataSet.config,i,j,chartConfig=chart.config,showHoverEffect=chartConfig.plothovereffect,crispBox,dataObj,setElement,config,dataStore=dataSet.components.data,shadowContainer=dataSet.getContainer("shadowGroup"),trackerConfig,attrObj,scrollMinVal,scrollMaxVal,_oldStartIndex=conf._oldStartIndex,_oldEndIndex=conf._oldEndIndex,fi,skipInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo(),plotDrawArray=skipInfo&&skipInfo.draw;scrollMinVal=conf.scrollMinVal;scrollMaxVal=conf.scrollMaxVal;if(scrollMinVal>_oldStartIndex){dataSet.flushOnScroll(_oldStartIndex,scrollMinVal>_oldEndIndex?_oldEndIndex:scrollMinVal)}if(scrollMaxVal<_oldEndIndex){dataSet.flushOnScroll(scrollMaxVal<_oldStartIndex?_oldStartIndex:scrollMaxVal,_oldEndIndex)}conf._oldStartIndex=scrollMinVal;conf._oldEndIndex=scrollMaxVal;for(j=scrollMinVal,fi=scrollMaxVal-1;j<scrollMaxVal;j++,fi--){i=plotDrawArray[j]||j;dataObj=dataStore[i];if(!dataObj){continue}config=dataObj.config;attrObj=config.props.element.attr;dataSet.plotAnimManager(dataObj,attrObj,j,scrollMaxVal);trackerConfig=dataObj.trackerConfig;setElement=dataObj.graphics.element;if(!setElement){continue}setElement.shadow(config.shadow,shadowContainer).data("BBox",crispBox);chart.config.enablemousetracking&&setElement.data(EVENTARGS,trackerConfig.eventArgs).data(showHoverEffectStr,showHoverEffect).data(SETROLLOVERATTR,config.setRolloverAttr||{}).data(SETROLLOUTATTR,config.setRolloutAttr||{})}conf.appearing&&(conf.appearing=false)};ColumnDataset.prototype.setColumnPosition=function setColumnPosition(){var dataSet=this,columnWidth=void 0,shift=void 0;if((columnWidth=dataSet.getFromEnv("plotWidth"))===UNDEF){var xAxis=dataSet.getFromEnv("xAxis"),chartConfig=this.getFromEnv("chartConfig"),skippingInfo=dataSet.getSkippingInfo(),offSetColNo=skippingInfo.plotsPerBin,definedGroupPadding=mathMax(chartConfig.plotSpacePercent,0),plotSpacePercent=mathMax((0,_lib.pluckNumber)(definedGroupPadding,20)%100,0),groupPadding=offSetColNo===1?plotSpacePercent/200:0,xAxisZeroPos=xAxis.getPixel(0),xAxisFirstPos=xAxis.getPixel(offSetColNo),chart=dataSet.getFromEnv("chart"),maxColWidth=chart.isBar?chart.config.maxBarHeight:chart.config.maxColWidth,groupMaxWidth=mathAbs(xAxisFirstPos-xAxisZeroPos),groupNetWidth=void 0,xPosFirst=void 0,xPosNext=void 0,isCrisp=true,groupNetGapWidth=4,groupNetHalfWidth=void 0,numOfColumns=1;groupNetWidth=(1-definedGroupPadding*.01)*groupMaxWidth||mathMin(groupMaxWidth*(1-groupPadding*2),maxColWidth*(numOfColumns||1));columnWidth=numOfColumns===0?groupNetWidth:groupNetWidth/numOfColumns;groupNetHalfWidth=groupNetWidth/2;xPosFirst=xAxisZeroPos-groupNetHalfWidth;xPosNext=xAxisFirstPos-groupNetHalfWidth;if(xPosNext-(xPosFirst+groupNetWidth)<groupNetGapWidth){isCrisp=false}if(plotSpacePercent===0){isCrisp=true}dataSet.addToEnv("isCrisp",isCrisp)}dataSet.addToEnv("columnWidth",columnWidth);shift=dataSet.getFromEnv("shift")||0;dataSet.addToEnv("columnXShift",shift-dataSet.getFromEnv("columnWidth")/2)};ColumnDataset.prototype.parsePlotAttributes=function parsePlotAttributes(dataObj,index){var dataSet=this,dsConfig=dataSet.config,JSONData=dataSet.config.JSONData,chart=dataSet.getFromEnv("chart"),chartAttr=chart.getFromEnv("dataSource").chart,isStacked=chart.config.isstacked,conf=dataSet.config,groupManager=dataSet.groupManager,datasetIndex=dataSet.getJSONIndex(),i=index,visible=dataSet.getState("visible"),chartConfig=chart.config,is3D=chart.config.is3D,isBar=chart.isBar,crispObj,xDepth=chartConfig.xDepth||0,yDepth=chartConfig.yDepth||0,yAxis=dataSet.getFromEnv("yAxis"),xAxis=dataSet.getFromEnv("xAxis"),xPos,yPos,plotGap,showTooltip=chartConfig.showtooltip,isVisible=dataSet.getState("visible")!==false,initialColumnWidth,xPosOffset,yPosOffset,initialColumnHeight,columnWidth,height,toolText,components=dataSet.components,dataStore=components.data,setTooltext,setLink,setValue,displayValue,config=dataObj.config,yBase=yAxis.getAxisBase(),yBasePos=yAxis.yBasePos=yAxis.getPixel(yBase),plotBorderThickness=(0,_lib.pluckNumber)(conf.plotborderthickness,chartConfig.plotborderthickness),plotRadius=(0,_lib.pluckNumber)(chartConfig.useroundedges,0),colorArr,plotBorderDashStyle,crispDim,trackerConfig,Px,Py,tempWidth,tempHeight,use3DLighting=conf.use3dlighting,currentYBaseTouched,minPx=mathMin(dsConfig.yAxisMinPixel,dsConfig.yAxisMaxPixel),stackConf=groupManager&&groupManager.stackConf,tunedAttr,shift=dataSet.getFromEnv("columnXShift"),viewPortConfig=chart.config.viewPortConfig,x=viewPortConfig.x,scaleX=viewPortConfig.scaleX,showPlotBorder=(0,_lib.pluckNumber)(chartConfig.showplotborder);setLink=config.setLink;colorArr=config.colorArr||[];if(xAxis.config.isVertical){initialColumnHeight=dataSet.getFromEnv("columnWidth");yPosOffset=shift}else{initialColumnWidth=dataSet.getFromEnv("columnWidth");xPosOffset=shift}if(!dataObj.graphics){dataStore[i].graphics={}}displayValue=config.displayValue;!isVisible&&(config._Py=config._Pby);Px=mathMin(config._Px,config._Pbx)+(xPosOffset||0)+x*scaleX;Py=mathMin(config._Py,config._Pby)+(yPosOffset||0);stackConf&&(Px-=initialColumnWidth/2);tempWidth=initialColumnWidth||mathAbs(config._Px-config._Pbx);tempHeight=initialColumnHeight||mathAbs(config._Py-config._Pby);if(isBar){if(config._Px-config._Pbx>0){crispObj=crispRight}else{crispObj=crispLeft}}else{if(config._Py-config._Pby>0){crispObj=crispBottom}else{crispObj=crispTop}}setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(config.origToolText,JSONData.plottooltext,chartAttr.plottooltext)));if(dataSet.fineTunePlotDimension){tunedAttr=dataSet.fineTunePlotDimension(Px,Py,tempHeight,tempWidth,i);Px=tunedAttr.xPos;Py=tunedAttr.yPos;tempWidth=tunedAttr.width;tempHeight=tunedAttr.height}xPos=Px;yPos=Py;columnWidth=tempWidth;height=tempHeight;plotGap=xAxis.getPixel(1)-xAxis.getPixel(0)-(isBar?height:columnWidth);!isFinite(height)&&(height=0);if(visible){if(!(plotGap<5&&dataSet.getFromEnv("columnWidth")<5)){crispDim=(0,_lib.crispBound)(Px,Py,columnWidth,height,plotBorderThickness,crispObj,isStacked)}if(crispDim){xPos=crispDim.x;yPos=crispDim.y;plotBorderThickness=crispDim["stroke-width"];columnWidth=crispDim.width;height=crispDim.height||1}else{xPos=Px;yPos=Py}if(!xAxis.config.isVertical){if(yPos+height===minPx){height+=plotBorderThickness}else if(yPos===minPx){yPos-=plotBorderThickness;height+=plotBorderThickness}}else{if(xPos===minPx){xPos-=plotBorderThickness;columnWidth+=plotBorderThickness}}config.setRolloutAttr&&(config.setRolloutAttr["stroke-width"]=dsConfig.showplotborder?plotBorderThickness:0)}toolText=config.finalTooltext=config.toolText!==false?config.toolText+(setTooltext?"":config.toolTipValue):"";plotBorderDashStyle=config.plotBorderDashStyle;trackerConfig=dataObj.trackerConfig={};trackerConfig.eventArgs={index:i,link:setLink,value:config.setValue,displayValue:displayValue,categoryLabel:config.origLabel,toolText:toolText,id:"",datasetIndex:datasetIndex,datasetName:JSONData.seriesname,visible:visible};currentYBaseTouched=yBasePos===yPos+(setValue>0?height:0);config.props={element:{attr:{x:xPos||0,width:columnWidth||0,height:height||0,y:yPos||0,r:plotRadius,fill:(0,_lib.toRaphaelColor)(colorArr[0])||"",stroke:showPlotBorder?(0,_lib.toRaphaelColor)(colorArr[1])||"":_lib.TRACKER_FILL,"stroke-width":showPlotBorder?plotBorderThickness:0,"stroke-dasharray":plotBorderDashStyle,"stroke-linejoin":"miter",visibility:visible,cursor:setLink?POINTER:""}}};if(is3D){config.props.element.attr.noGradient=!use3DLighting;config.props.element.attr.xDepth=xDepth;config.props.element.attr.yDepth=yDepth}dataObj._xPos=xPos+xDepth;dataObj._width=columnWidth;dataObj._yPos=yPos-yDepth;dataObj._height=height;dataObj._index=i;dataObj._plotBorderThickness=plotBorderThickness;if(setLink||showTooltip){if(height<HTP){yPos-=(HTP-height)/2;height=HTP}trackerConfig.attr={x:xPos,y:yPos,width:columnWidth,height:height,r:plotRadius,cursor:setLink?POINTER:"",stroke:_lib.TRACKER_FILL,"stroke-width":showPlotBorder?plotBorderThickness:0,fill:_lib.TRACKER_FILL,visibility:visible}}config.oldValue=setValue;dataObj._oldYBaseTouched=currentYBaseTouched};ColumnDataset.prototype.parseLabelAttributes=function parseLabelAttributes(dataObj){var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,smartLabel=chart.getFromEnv("smartLabel"),style=chart.config.dataLabelStyle,conf=dataSet.config,legendInteractivity=conf.legendInteractivity,visible=dataSet.getState("visible"),attr,displayValue,rotateValues=chartConfig.rotatevalues?270:0,bBoxObj,graphic,textY,textX,yPos,xPos,setValue,config,showValue,pos,tempGraphics;config=dataObj&&dataObj.config;setValue=config&&config.setValue;if(dataObj===UNDEF||setValue===UNDEF||setValue===null||config.labelSkip===true){config&&delete config.labelSkip;tempGraphics=dataObj&&dataObj.graphics;if(tempGraphics){tempGraphics.label&&tempGraphics.label.hide()}return}graphic=dataObj.graphics;if(!graphic){return}yPos=dataObj._yPos;xPos=dataObj._xPos;displayValue=config.displayValue;showValue=config.showValue;if(!showValue||setValue===null){if(graphic.label){graphic.label.attr({"text-bound":[]});graphic.label.hide()}return}if(!legendInteractivity||!config._state){smartLabel.setStyle(style);bBoxObj=smartLabel.getOriSize(displayValue);if(rotateValues){config._state={labelWidth:bBoxObj.height,labelHeight:bBoxObj.width}}else{config._state={labelWidth:bBoxObj.width,labelHeight:bBoxObj.height}}}pos=dataSet._getValuePosition({labelWidth:config._state.labelWidth,labelHeight:config._state.labelHeight,width:dataObj._width,height:dataObj._height,yPos:yPos,xPos:xPos,value:setValue});textX=pos.textX;textY=pos.textY;if(!config.props){config.props={}}config.props.label={attr:{x:textX,y:textY,text:displayValue,"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash],opacity:visible?1:0}};attr=config.props.label.attr;if(!legendInteractivity){attr["line-height"]=style.lineHeight;attr.fill=style.color}};ColumnDataset.prototype.allocatePosition=function allocatePosition(){var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,showpercentvalues=chartConfig.showpercentvalues,showPercentInToolTip=chartConfig.showpercentintooltip,conf=dataSet.config,i,j,len=dataSet.components.data.length,yAxis=dataSet.getFromEnv("yAxis"),components=dataSet.components,dataStore=components.data,dataObj,yAxisLimit,isStacked=chartConfig.isstacked,stack100Percent=Number(chartConfig.stack100percent),visibleStart,visibleEnd,maxPx,minPx,skipInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo(),plotDrawArray=skipInfo&&skipInfo.draw;dataSet.deleteFromEnv("columnWidth");dataSet.setColumnPosition();dataSet.calculateScrollRange();isStacked&&(stack100Percent||showpercentvalues||showPercentInToolTip)&&dataSet.updateYForStack();dataSet.createCoordinates();yAxisLimit=yAxis.getLimit();maxPx=yAxis.getPixel(yAxisLimit.max);minPx=yAxis.getPixel(yAxisLimit.min);visibleStart=conf.scrollMinVal;visibleEnd=conf.scrollMaxVal;if(maxPx>minPx){conf.yAxisMaxPixel=maxPx;conf.yAxisMinPixel=minPx}else{conf.yAxisMaxPixel=minPx;conf.yAxisMinPixel=maxPx}for(j=0;j<len;j++){i=plotDrawArray[j]||j;if(chart.hasScroll&&(i<visibleStart||i>visibleEnd)){continue}dataObj=dataStore[i];if(!dataObj){continue}dataSet.parsePlotAttributes(dataObj,i);dataSet.parseLabelAttributes(dataObj)}};ColumnDataset.prototype.draw=function draw(){var dataSet=this,conf=dataSet.config,visible=dataSet.getState("visible"),xAxis=dataSet.getFromEnv("xAxis"),xAxisZeroPos=xAxis.getPixel(0),xAxisFirstPos=xAxis.getPixel(1),groupMaxWidth=dataSet.getFromEnv("groupMaxWidth"),chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,xDepth=chartConfig.xDepth||0,yAxis=dataSet.getFromEnv("yAxis"),drawn=conf.drawn,yAxisMaxmin=yAxis.getLimit(),yMax=yAxisMaxmin.max,yMin=yAxisMaxmin.min,isPositiveNegative=yMax>0&&yMin<0,scrollMinValForLabel,scrollMaxValForLabel,isContextChanged=dataSet._contextChanged(),skipInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo()||{},skippingApplied=skipInfo.skippingApplied;if(!groupMaxWidth){groupMaxWidth=mathAbs(xAxisFirstPos-xAxisZeroPos);dataSet.addToEnv("groupMaxWidth",groupMaxWidth)}if(!dataSet.getState("removed")&&!dataSet.getState("dirty")&&!(isContextChanged&&visible)){return}!drawn&&dataSet.createContainer();dataSet.setContainerVisibility(true);if(skippingApplied){dataSet.hidePlots()}dataSet.drawPlots();dataSet.drawCommonElements&&!dataSet.config.skipCommonElements&&dataSet.drawCommonElements();scrollMinValForLabel=conf.scrollMinValForLabel;scrollMaxValForLabel=conf.scrollMaxValForLabel;conf.drawn?dataSet.drawLabel(scrollMinValForLabel,scrollMaxValForLabel):dataSet.addJob("labelDrawID",function(){dataSet.drawLabel(scrollMinValForLabel,scrollMaxValForLabel)},_schedular.priorityList.label);conf.drawn=true;dataSet.removePlots();conf.oldGroupMaxWidth=groupMaxWidth;conf.oldDataIsPositiveNegative=isPositiveNegative;conf.oldZeroAxisPos=yAxis.getPixel(yAxis.getAxisBase())+xDepth;dataSet.drawErrorValue&&dataSet.drawErrorValue();conf.prevVisible=visible;conf.catDiff=0};ColumnDataset.prototype.show=function show(){var dataSet=this,parent=dataSet.getLinkedParent(),legend=dataSet.getFromEnv("legend");if(legend&&legend.getItem(dataSet.config.legendItemId)){legend.getItem(dataSet.config.legendItemId).removeLegendState("hidden")}dataSet.setState("visible",true);dataSet.config.appearing=true;dataSet._conatinerHidden=false;dataSet.setState("dirty",true);parent.childChanged();dataSet.config.appearing=false;dataSet.asyncDraw()};ColumnDataset.prototype.hide=function hide(){var dataSet=this,parent=dataSet.getLinkedParent(),legend=dataSet.getFromEnv("legend");if(legend&&legend.getItem(dataSet.config.legendItemId)){legend.getItem(dataSet.config.legendItemId).setLegendState("hidden")}dataSet.setState("dirty",true);dataSet.setState("visible",false);parent.childChanged();dataSet.asyncDraw()};ColumnDataset.prototype.drawLabel=function drawLabel(start,end){var dataSet=this,chart=dataSet.getFromEnv("chart"),animationManager=dataSet.getFromEnv("animationManager"),chartConfig=chart.config,xAxis=dataSet.getFromEnv("xAxis"),paper=dataSet.getFromEnv("paper"),visible=dataSet.getState("visible"),smartLabel=chart.getFromEnv("smartLabel"),style=chart.config.dataLabelStyle,conf=dataSet.config,len=xAxis.getTicksLen(),components=dataSet.components,dataStore=components.data,pool=components.pool,dataObj,attr,i,j,rotateValues=chartConfig.rotatevalues?270:0,graphic,xPos,setValue,config,showValue,attr2,label,tempGraphics,dataLabelContainer,labelDrawn=conf.labelDrawn,skipInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo(),skippingApplied=skipInfo&&skipInfo.skippingApplied,plotDrawArray=skipInfo&&skipInfo.labelDraw||[],plotDrawArrayLength=plotDrawArray.length,startIndex=(0,_lib.pluckNumber)(start,0),endIndex=(0,_lib.pluckNumber)(end,skippingApplied?plotDrawArrayLength:len),notParticularLabeDraw=plotDrawArrayLength===Math.abs(endIndex-(startIndex+1)),callbackFn=function callbackFn(){this.attr({"text-bound":[]});this.hide()};dataLabelContainer=dataSet.getContainer("labelGroup");dataLabelContainer.css({fontFamily:style.fontFamily,fontSize:style.fontSize,fontWeight:style.fontWeight,fontStyle:style.fontStyle});dataLabelContainer.show();smartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);smartLabel.setStyle(style);for(j=startIndex;j<endIndex;j++){i=skippingApplied&&notParticularLabeDraw?plotDrawArray[j]:j;dataObj=dataStore[i];config=dataObj&&dataObj.config;setValue=config&&config.setValue;if(dataObj===UNDEF||setValue===UNDEF||setValue===null||config.labelSkip===true){config&&delete config.labelSkip;tempGraphics=dataObj&&dataObj.graphics;if(tempGraphics){tempGraphics.label&&tempGraphics.label.hide()}continue}graphic=dataObj.graphics;if(!graphic){continue}showValue=config.showValue;if(!showValue||setValue===null){if(graphic.label){graphic.label.attr({"text-bound":[]});graphic.label.hide()}continue}attr=config.props.label.attr;xPos=dataObj._xPos;if(!graphic.label&&labelDrawn&&chart.isRealTime){attr2=(0,_lib.extend2)({},attr);attr2.x=attr.x-xPos+(dataObj._newXPos||0);attr2.transform=paper.getSuggestiveRotation(rotateValues,attr2.x,attr.y);if(pool&&pool.label[0]){graphic.label=pool.label[0];pool.label.splice(0,1)}}attr.transform=paper.getSuggestiveRotation(rotateValues,attr.x,attr.y);if(!(label=graphic.label)){if(pool&&pool.label[0]){label=graphic.label=pool.label[0];pool.label.splice(0,1)}}label=animationManager.setAnimation({el:graphic.label||"text",attr:attr,component:dataSet,label:"plotLabel",index:i,container:dataLabelContainer,callback:!visible&&callbackFn});label&&label.show();if(!graphic.label){graphic.label=dataSet.addGraphicalElement("plotLabel",label,true)}}conf.labelDrawn=true};ColumnDataset.prototype._getValuePosition=function _getValuePosition(config){var dataset=this,chart=dataset.getFromEnv("chart"),children=chart.getChildren(),chartConf=chart.config,yAxis=children.yAxis[0],xDepth=chartConf.xDepth||0,yDepth=chartConf.yDepth||0,canvasTop=chartConf.canvasTop,canvasHeight=chartConf.canvasHeight+yDepth,outsideColSpace,textX,textY,insideColSpace,isNegative,textHeight,yPos=config.yPos,is3D=chart.config.is3D,isStacked=chart.config.isstacked,valuePadding=chartConf.valuepadding+2,height=config.height,width=config.width,yAdjust,placeValuesInside=chartConf.placevaluesinside,labelHeight=config.labelHeight,isInverseAxis=yAxis.getAxisConfig("isReverse"),value=config.value,valueBelowPlot,xPos=config.xPos,origTextHeight;if(!isInverseAxis){if(value<0){valueBelowPlot=false}else{valueBelowPlot=true}}isNegative=(0,_lib.pluck)(valueBelowPlot,value<0);textHeight=origTextHeight=labelHeight+valuePadding;insideColSpace=height;yAdjust=origTextHeight*.5+valuePadding;textY=yPos-yAdjust;textX=xPos+width*.5;if(isNegative){outsideColSpace=canvasTop+canvasHeight-(yPos+height+yDepth);textY=yPos}else{outsideColSpace=yPos-canvasTop}if(isStacked){textY=yPos+height*.5+(yDepth||0);textY=mathMin(canvasTop+canvasHeight-textHeight*.5,textY);textY=mathMax(canvasTop+textHeight*.5,textY);textX-=xDepth}else{if(placeValuesInside){if(insideColSpace>=textHeight){textY=yPos+(isNegative?height-yAdjust:yAdjust);if(is3D){textX-=xDepth;textY+=yDepth}}else if(outsideColSpace>=textHeight){textY=yPos+(isNegative?height+yAdjust:-yAdjust);if(is3D&&isNegative){textX-=xDepth;textY+=yDepth}}else{textY=yPos+(isNegative?height-yAdjust:yAdjust);if(is3D){textX-=xDepth;textY+=yDepth}}}else{if(outsideColSpace>=textHeight){textY=yPos+(isNegative?height+yAdjust:-yAdjust);if(is3D){if(isNegative){textX-=xDepth;textY+=yDepth}else{textX-=xDepth/2}}}else if(insideColSpace>=textHeight+yAdjust){textY=yPos+(isNegative?height-yAdjust:yAdjust);if(is3D){textX-=xDepth;textY+=yDepth}}else{textY=yPos+(isNegative?height-yAdjust:yAdjust);if(is3D){textX-=xDepth;textY+=yDepth}}}}return{textX:textX,textY:textY}};ColumnDataset.prototype.getDataLimits=function getDataLimits(){return{max:this.config.maxValue,min:this.config.minValue}};ColumnDataset.prototype.addData=function addData(dataObj,index,draw){var dataSet=this,components=dataSet.components,dataStore=components.data,data=dataObj.data,len=data.length,i;components.addDataArr=dataObj.data;if(index===0){dataSet.startPosition=true}else if(index+len===dataStore.length||index===UNDEF){dataSet.startPosition=false}for(i=0;i<len;i++){if(index!==UNDEF){dataStore.splice(index+i,0,{config:{}})}else{dataStore.push({config:{}})}}dataSet._setConfigure(dataObj,index);draw&&dataSet.asyncDraw()};ColumnDataset.prototype.removeData=function removeData(index,stretch,draw){var dataSet=this,chart=dataSet.getFromEnv("chart"),components=dataSet.components,dataStore=components.data,removeDataArr=components.removeDataArr||(components.removeDataArr=[]),i,len;stretch===UNDEF&&(stretch=1);index=index||0;if(index+stretch===dataStore.length||!chart.isRealTime){dataSet.endPosition=true}else if(index===0||index===UNDEF){dataSet.endPosition=false}components.removeDataArr=removeDataArr=removeDataArr.concat(dataStore.splice(index,stretch));len=removeDataArr.length;for(i=len-1;i>=0;i--){if(!removeDataArr[i]){removeDataArr.splice(i,1);continue}}dataSet.removeDataLen=len;draw&&dataSet.asyncDraw()};ColumnDataset.prototype.updateData=function updateData(dataObj,index,draw){var dataSet=this,conf=dataSet.config,prevMax=conf.maxValue,prevMin=conf.prevMin,chart=dataSet.getFromEnv("chart"),drawManager=dataSet.groupManager||dataSet,xAxis=chart.getFromEnv("xAxis"),yAxis=chart.getFromEnv("yAxis");dataSet._setConfigure(dataObj,index);dataSet.getDataLimits();if(conf.maxValue!==prevMax||conf.minValue!==prevMin){dataSet.maxminFlag=true}if(draw){chart._setAxisLimits();xAxis&&xAxis[0].asyncDraw();yAxis&&yAxis[0].asyncDraw();drawManager.asyncDraw()}};ColumnDataset.prototype.removePlots=function removePlots(){var dataSet=this,components=dataSet.components,removeDataArr=components&&components.removeDataArr;_removePlots(removeDataArr,dataSet.__removeElem)};ColumnDataset.prototype.removeGraphicElem=function removeGraphicElem(el,type){this.__removeElem(el,type)};ColumnDataset.prototype.getAxisValuePadding=function getAxisValuePadding(){return this.config.defaultPadding};ColumnDataset.prototype.getCanvasPadding=function getCanvasPadding(){var dataset=this,conf=dataset.config||(dataset.config={}),components=dataset.components||{},chart=dataset.getFromEnv("chart"),rotateValues=chart.config.rotatevalues,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),dataLabelStyle=chart.config.dataLabelStyle,skippingInfo=dataset.getSkippingInfo(),skippingApplied=skippingInfo.skippingApplied,drawArr=skippingInfo.draw,data=components.data||[],leftMostDataIndex=skippingApplied?drawArr[0]:0,rightMostDataIndex=skippingApplied?drawArr[drawArr.length-1]:data.length-1,firstData=conf.leftMostData||data[leftMostDataIndex],lastData=conf.rightMostData||data[rightMostDataIndex],dataConf,label,dataAnchorConf,labelDimEnd={},labelDimStart={},anchorSpace=0,labelSpace=0,anchorPadding=0,showValue,paddingPixel,startPixel=xAxis.getPixel(0),SmartLabel=dataset.getFromEnv("smartLabel"),retrunDimension={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0},labelWidth=0,dimensions,padding=xAxis.getValuePadding(),topMostData=conf.topMostData,bottomMostData=conf.bottomMostData;dataset.setColumnPosition();dimensions={xPosOffset:dataset.getFromEnv("columnXShift"),columnWidth:dataset.getFromEnv("columnWidth"),height:UNDEF};if(firstData){dataConf=firstData.config;showValue=dataConf.showValue;dataAnchorConf=dataConf&&dataConf.anchorProps||{};if(showValue){label=dataConf.displayValue;SmartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);SmartLabel.setStyle(dataLabelStyle);labelDimStart=SmartLabel.getOriSize(label);labelWidth=rotateValues?labelDimStart.height:labelDimStart.width}if(dataConf.setValue!==null){paddingPixel=xAxis.getPixel(padding.left);anchorSpace=dataAnchorConf.enabled&&(0,_lib.pluckNumber)(dataAnchorConf.radius,0)+(0,_lib.pluckNumber)(dataAnchorConf.borderThickness,0)/2||0;anchorPadding=anchorSpace-(paddingPixel-startPixel);if(anchorPadding<0){anchorPadding=0}labelSpace=(labelWidth||0)/2-(paddingPixel-startPixel)-(dimensions&&dimensions.xPosOffset+dimensions.columnWidth/2||0);if(labelSpace<0){labelSpace=0}}retrunDimension.paddingLeft=mathMax(anchorPadding,labelSpace)}anchorPadding=labelSpace=0;if(lastData){dataConf=lastData.config;showValue=dataConf.showValue;dataAnchorConf=dataConf&&dataConf.anchorProps||{};if(showValue&&!rotateValues){label=dataConf.displayValue;SmartLabel.setStyle(dataLabelStyle);labelDimEnd=SmartLabel.getOriSize(label);labelWidth=rotateValues?labelDimEnd.height:labelDimEnd.width}if(dataConf.setValue!==null){paddingPixel=xAxis.getPixel(padding.right);anchorSpace=dataAnchorConf.enabled&&(0,_lib.pluckNumber)(dataAnchorConf.radius,0)+(0,_lib.pluckNumber)(dataAnchorConf.borderThickness,0)/2||0;anchorPadding=anchorSpace-(paddingPixel-startPixel);if(anchorPadding<0){anchorPadding=0}labelSpace=(labelWidth||0)/2-(paddingPixel-startPixel)+(dimensions&&dimensions.xPosOffset+dimensions.columnWidth/2||0);if(labelSpace<0){labelSpace=0}}retrunDimension.paddingRight=mathMax(anchorPadding,labelSpace)}if(topMostData){dataConf=topMostData.config;showValue=dataConf.showValue;dataAnchorConf=dataConf&&dataConf.anchorProps||{};if(dataConf.setValue!==null){anchorSpace=(0,_lib.pluckNumber)(dataAnchorConf.radius,0)+(0,_lib.pluckNumber)(dataAnchorConf.borderThickness,0)/2;labelSpace=Math.max(anchorSpace-(yAxis.getPixel(dataConf.setValue.y)-yAxis.getPixel(yAxis.getLimit().max)),0)}retrunDimension.paddingTop=labelSpace}if(bottomMostData){dataConf=bottomMostData.config;dataAnchorConf=dataConf&&dataConf.anchorProps||{};if(dataConf.setValue!==null){anchorSpace=(0,_lib.pluckNumber)(dataAnchorConf.radius,0)+(0,_lib.pluckNumber)(dataAnchorConf.borderThickness,0)/2;labelSpace=Math.max(anchorSpace-(yAxis.getPixel(yAxis.getLimit().min)-yAxis.getPixel(dataConf.setValue.y)),0)}retrunDimension.paddingBottom=labelSpace}return retrunDimension};ColumnDataset.prototype.getEventArgs=function getEventArgs(){var dataset=this,config=dataset.config||{},JSONData=dataset.config.JSONData||{},eventArgs={datasetName:JSONData.seriesname,datasetIndex:dataset.getJSONIndex(),id:config.userID,visible:!dataset.getState("visible")};return eventArgs};ColumnDataset.prototype.getData=function getData(){return this.components.data};ColumnDataset.prototype.setJSONIndex=function setJSONIndex(index){this.config.index=index};ColumnDataset.prototype.getJSONIndex=function getJSONIndex(){return this.config.index||0};ColumnDataset.prototype.remove=function remove(config){var dataset=this,legendItemId=dataset.config.legendItemId,legends=dataset.getFromEnv("chart").getChildren("legend"),legend=dataset.getFromEnv("legend");legends&&legends.length&&legend&&legendItemId&&legend.disposeItem(legendItemId);_ComponentInterface.prototype.remove.call(this,config)};ColumnDataset.prototype.setMaxMin=function setMaxMin(dataObj){var dataSet=this,dataComponents=dataSet.components,dataStore=dataComponents.data,removeDataArr=dataComponents.removeDataArr,conf=dataSet.config,i,config,len=dataStore.length,setValue,maxValue=-Infinity,minValue=+Infinity,dataMax=conf.maxValue,dataMin=conf.minValue,removeLen=removeDataArr.length,proceedFlag=false,value;if(dataObj){proceedFlag=dataMax===dataObj.startValue||dataMin===dataObj.startValue||dataMax<dataObj.config.setValue||dataMin>dataObj.config.setValue}else if(removeLen){for(i=0;i<removeLen;++i){value=removeDataArr[i]&&removeDataArr[i].config&&removeDataArr[i].config.setValue;if(dataMax===value||dataMin===value){proceedFlag=true;break}}}if(!proceedFlag){return}for(i=0;i<len;i++){if(!dataStore[i]){continue}config=dataStore[i].config;setValue=config.setValue;if(setValue!==UNDEF){maxValue=mathMax(maxValue,setValue);minValue=mathMin(minValue,setValue)}}conf.maxValue=maxValue;conf.minValue=minValue};return ColumnDataset}(_componentInterface2["default"]);exports._removePlots=_removePlots;exports["default"]=ColumnDataset},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);exports["default"]={"initial.dataset.column":function initialDatasetColumn(){var component=this,chart=component.getFromEnv("chart"),yDepth=chart.config.yDepth||0,yAttrKey="y",hAttrKey="height",xAttrKey="x",wAttrKey="width",plot1SKey="_plot_1Start",plot1EKey="_plot_1End",plot2SKey="_plot_2Start",yAxis=component.getFromEnv("yAxis"),xAxis=component.getFromEnv("xAxis"),_axisSync=function _axisSync(inputJSON,dataObj){var conf=component.config,setElement=dataObj&&dataObj.graphics&&dataObj.graphics.element,finalAttr=inputJSON.attr,oldAttr,oldYVal,oldYPlusH,newZeroPos=yAxis.getPixel(yAxis.getAxisBase())+(chart.isBar?-yDepth:yDepth),axisEndAttr={},oldZeroAxisPos=conf.oldZeroAxisPos,hasWithAxisAnim,crispingGutter=.7;oldAttr=setElement.attr();axisEndAttr[yAttrKey]=oldYVal=oldAttr[yAttrKey];axisEndAttr[hAttrKey]=oldAttr[hAttrKey];axisEndAttr[xAttrKey]=oldAttr[xAttrKey];axisEndAttr[wAttrKey]=oldAttr[wAttrKey];oldYPlusH=oldAttr[yAttrKey]+oldAttr[hAttrKey];if(newZeroPos!==oldZeroAxisPos){if(oldZeroAxisPos-newZeroPos>=0){if(oldYVal>newZeroPos&&oldYVal<=oldZeroAxisPos+crispingGutter){axisEndAttr[yAttrKey]=newZeroPos;if(oldYPlusH>oldZeroAxisPos){axisEndAttr[hAttrKey]=oldYPlusH-axisEndAttr[yAttrKey]}}if(oldYPlusH>newZeroPos&&oldYPlusH<=oldZeroAxisPos+crispingGutter){axisEndAttr[hAttrKey]=newZeroPos-(axisEndAttr[yAttrKey]||axisEndAttr[yAttrKey]===0?axisEndAttr[yAttrKey]:oldYVal)}}else{if(oldYVal<newZeroPos&&oldYVal>=oldZeroAxisPos-crispingGutter){axisEndAttr[yAttrKey]=newZeroPos;if(oldYPlusH>newZeroPos){axisEndAttr[hAttrKey]=oldYPlusH-axisEndAttr[yAttrKey]}}if(oldYPlusH<newZeroPos&&oldYPlusH>=oldZeroAxisPos-crispingGutter){axisEndAttr[hAttrKey]=newZeroPos-(axisEndAttr[yAttrKey]||axisEndAttr[yAttrKey]===0?axisEndAttr[yAttrKey]:oldYVal)}}hasWithAxisAnim=true}if(component.config.catDiff){axisEndAttr[xAttrKey]=finalAttr[xAttrKey];axisEndAttr[wAttrKey]=finalAttr[wAttrKey];hasWithAxisAnim=true}dataObj[plot1SKey]=axisEndAttr;if(hasWithAxisAnim){return{finalAttr:axisEndAttr,slot:"axis"}}},UNDEF;return{"rect.appearing":function rectAppearing(inputJSON){var zeroPos=yAxis.getPixel(yAxis.getAxisBase())+(chart.isBar?-yDepth:yDepth),index=inputJSON.props&&inputJSON.props.originalIndex||inputJSON.index,dataObj=component.components.data[index],actualFinalAttr=inputJSON.attr,yAttrVal,hAttrVal,yBasePos,endPosWRT0;if(xAxis.config.isVertical){yAttrKey="x";hAttrKey="width";xAttrKey="y";wAttrKey="height"}yAttrVal=actualFinalAttr[yAttrKey];hAttrVal=actualFinalAttr[hAttrKey];endPosWRT0=Math.sign(yAttrVal+hAttrVal/2-zeroPos);if(endPosWRT0===1){yBasePos=yAttrVal}else{yBasePos=yAttrVal+hAttrVal}dataObj._posWRT0=endPosWRT0;return[{initialAttr:function initialAttr(){var initialAttr={};initialAttr[yAttrKey]=yBasePos;initialAttr.opacity=0;initialAttr[hAttrKey]=0;return initialAttr},finalAttr:{opacity:1},startEnd:function startEnd(){var length=inputJSON.length;return _lib.animHelperFN.getTimeByValue(_lib.animHelperFN.animByWeight(inputJSON.index,length,.6),{startPx:zeroPos,endPx:endPosWRT0===1?component.config.yAxisMaxPixel:component.config.yAxisMinPixel},{startPx:yBasePos,endPx:endPosWRT0===1?actualFinalAttr[yAttrKey]+actualFinalAttr[hAttrKey]:actualFinalAttr[yAttrKey]})},hookFn:function hookFn(){this.attr({opacity:1})},effect:"linear",slot:"plot"}]},"rect.updating":function rectUpdating(inputJSON){var returnArr=[],dataObj=component.components.data[inputJSON.props&&inputJSON.props.originalIndex||inputJSON.index],finalAttr=inputJSON.attr,setElement=dataObj&&dataObj.graphics&&dataObj.graphics.element,startY,startH,startYPlusH,startPlotCenter,endY,endH,endYPlusH,endPlotCenter,zeroPos=yAxis.getPixel(yAxis.getAxisBase())+(chart.isBar?-yDepth:yDepth),start=0,numColDiff=component.getFromEnv("numColDiff"),step1Start={},hasPlot1Anim,step1End,step2Start,prevDataObj,base1StartAttr,base2StartAttr,oldPrevDataObj,oldBase1EndAttr,middleYplusH,hasTransitionDiff,base1EndAttr,startPosWRT0,endPosWRT0,step1EndBase,effectiveBasePos,step2HookFn,step1HookFn,preHookAttr,nonDimensionAttr,val;if(xAxis.config.isVertical){yAttrKey="x";hAttrKey="width";xAttrKey="y";wAttrKey="height"}if(val=_axisSync(inputJSON,dataObj)){returnArr.push(val)}prevDataObj=dataObj.prevDataObj;base1StartAttr=prevDataObj&&prevDataObj[plot1SKey];base1EndAttr=prevDataObj&&prevDataObj[plot1EKey];base2StartAttr=prevDataObj&&prevDataObj[plot2SKey];oldPrevDataObj=dataObj.oldPrevDataObj;oldBase1EndAttr=dataObj.oldPrevDataObj&&dataObj.oldPrevDataObj[plot1EKey];step1Start=dataObj[plot1SKey];startY=step1Start[yAttrKey];startH=step1Start[hAttrKey];startYPlusH=startY+startH;startPlotCenter=startY+startH/2;endY=finalAttr[yAttrKey];endH=finalAttr[hAttrKey];endYPlusH=endY+endH;endPlotCenter=endY+endH/2;middleYplusH=(startYPlusH+endYPlusH)/2;startPosWRT0=Math.sign(startPlotCenter-zeroPos);endPosWRT0=Math.sign(endPlotCenter-zeroPos);step1End={};step2Start={};step2Start[yAttrKey]=step1End[yAttrKey]=(startY+endY)/2;step2Start[hAttrKey]=step1End[hAttrKey]=(startH+endH)/2;if(startH){if(startPosWRT0!==endPosWRT0){step2Start[hAttrKey]=step1End[hAttrKey]=0;step1End[yAttrKey]=oldPrevDataObj&&oldPrevDataObj._oldPosWRT0===startPosWRT0?oldBase1EndAttr[yAttrKey]+(startPosWRT0===1?oldBase1EndAttr[hAttrKey]:0):zeroPos;step2Start[yAttrKey]=base2StartAttr?base2StartAttr[yAttrKey]+(endPosWRT0===1?base2StartAttr[hAttrKey]:0):zeroPos;hasTransitionDiff=hasPlot1Anim=true}else if(prevDataObj!==oldPrevDataObj){step1EndBase=oldBase1EndAttr||(base1EndAttr&&Math.sign(base1EndAttr[yAttrKey]+base1EndAttr[hAttrKey]/2-zeroPos)===startPosWRT0?base1EndAttr:false);effectiveBasePos=step1EndBase?step1EndBase[yAttrKey]+(startPosWRT0===1?step1EndBase[hAttrKey]:0):zeroPos;if(startPosWRT0===1){step2Start[yAttrKey]=step1End[yAttrKey]=effectiveBasePos;step2Start[hAttrKey]=step1End[hAttrKey]=middleYplusH-step1End[yAttrKey]}else{step2Start[hAttrKey]=step1End[hAttrKey]=effectiveBasePos-step1End[yAttrKey]}hasPlot1Anim=true}}else{if(prevDataObj&&prevDataObj._oldPosWRT0===endPosWRT0||component.stackIndex===0){preHookAttr={};preHookAttr[hAttrKey]=0;preHookAttr[yAttrKey]=base1StartAttr?base1StartAttr[yAttrKey]+(prevDataObj._posWRT0>0?base1StartAttr[hAttrKey]:0):zeroPos;dataObj._posWRT0=endPosWRT0;dataObj[plot1SKey]=preHookAttr;step2Start[yAttrKey]=step1End[yAttrKey]=(preHookAttr[yAttrKey]+endY)/2;step2Start[hAttrKey]=step1End[hAttrKey]=endH/2}else if(startPlotCenter===zeroPos){if(endPosWRT0!==dataObj._posWRT0){start=.5}else{hasPlot1Anim=true;step1End[yAttrKey]=endPosWRT0===1?zeroPos:zeroPos-step1End[hAttrKey]}}}if(numColDiff<0){step1End[xAttrKey]=finalAttr[xAttrKey];step1End[wAttrKey]=finalAttr[wAttrKey];hasPlot1Anim=true}else if(numColDiff>0){start=.5}else if(step1Start[xAttrKey]!==finalAttr[xAttrKey]||step1Start[wAttrKey]!=finalAttr[wAttrKey]){if(start===.5){preHookAttr={};preHookAttr[xAttrKey]=finalAttr[xAttrKey];preHookAttr[wAttrKey]=finalAttr[wAttrKey];step2HookFn=function step2HookFn(){if(hasTransitionDiff){setElement.attr(step2Start)}setElement.attr(preHookAttr)}}else{step1End[xAttrKey]=finalAttr[xAttrKey];step1End[wAttrKey]=finalAttr[wAttrKey];hasPlot1Anim=true;if(step2HookFn){step1HookFn=function step1HookFn(){setElement.attr(preHookAttr)};step2HookFn=UNDEF}}}if(hasPlot1Anim){returnArr.push({finalAttr:step1End,startEnd:{start:0,end:.5},hookFn:step1HookFn,slot:"plot"});start=.5}!step2HookFn&&(step2HookFn=function step2HookFn(){if(hasTransitionDiff){setElement.attr(step2Start)}});returnArr.push({effect:"linear",startEnd:{start:start,end:1},finalAttr:{x:finalAttr.x,y:finalAttr.y,width:finalAttr.width,height:finalAttr.height},callback:function callback(){if(dataObj.config.setValue===null||dataObj.config.setValue===UNDEF){this.hide()}},hookFn:step2HookFn,slot:"plot"});nonDimensionAttr=Object.assign({},finalAttr);delete nonDimensionAttr.x;delete nonDimensionAttr.y;delete nonDimensionAttr.width;delete nonDimensionAttr.height;returnArr.push({finalAttr:nonDimensionAttr,effect:"linear",slot:"plot"});dataObj[plot1EKey]=step1End;dataObj[plot2SKey]=step2Start;dataObj._oldPosWRT0=dataObj._posWRT0;dataObj._posWRT0=endPosWRT0;return returnArr},"rect._disappearing":function rect_disappearing(inputJSON){var zeroPos=yAxis.getPixel(yAxis.getAxisBase())+(chart.isBar?-yDepth:yDepth),removeDataArr=component.components.removeDataArr,dataObj=removeDataArr&&removeDataArr[inputJSON.props&&inputJSON.props.originalIndex||inputJSON.index]||component.components.data[inputJSON.props&&inputJSON.props.originalIndex||inputJSON.index],setElement=dataObj&&dataObj.graphics&&dataObj.graphics.element,oldBase1EndAttr=dataObj.oldPrevDataObj&&dataObj.oldPrevDataObj[plot1EKey],yBasePos,yAttrVal,attr,val,plot1StartAtt,returnArr=[];if(!setElement){return}if(val=_axisSync(inputJSON,dataObj)){returnArr.push(val)}if(!yAxis.config.isVertical){yAttrKey="x";hAttrKey="width"}plot1StartAtt=dataObj[plot1SKey];yAttrVal=plot1StartAtt[yAttrKey];if(yAttrVal+plot1StartAtt[hAttrKey]/2>zeroPos){yBasePos=oldBase1EndAttr?oldBase1EndAttr[yAttrKey]+oldBase1EndAttr[hAttrKey]:yAttrVal}else{yBasePos=oldBase1EndAttr?oldBase1EndAttr[yAttrKey]:zeroPos}attr={};attr[yAttrKey]=yBasePos;attr[hAttrKey]=0;attr.width=dataObj._width;attr.x=dataObj._xPos;returnArr.push({startEnd:{start:0,end:component.getFromEnv("numOfColumns")<1?1:.5},finalAttr:attr,slot:"plot"});dataObj[plot1EKey]=inputJSON.finalAttr;return returnArr},"plotLabel.appearing":[{initialAttr:{opacity:0},slot:"final"}],"plotLabel._disappearing":[{hookFn:function hookFn(){this.hide()},slot:"initial"}],"plotLabel.updating":[{hookFn:function hookFn(){this.hide()},slot:"initial"},{hookFn:function hookFn(){this.show()},initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],"group.appearing":function groupAppearing(inputJSON){if(inputJSON.attr.name==="label-group"){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]}else{return[{initialAttr:{opacity:1},finalAttr:{opacity:1},slot:"final"}]}},"*":null}}}},,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _area=__webpack_require__(347);var _area2=_interopRequireDefault(_area);var _lib=__webpack_require__(118);var _dependencyManager=__webpack_require__(125);var _lineAnimation=__webpack_require__(349);var _lineAnimation2=_interopRequireDefault(_lineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF,math=Math,mathAbs=math.abs,MAX_MITER_LINEJOIN=2;(0,_dependencyManager.addDep)({name:"lineAnimation",type:"animationRule",extension:_lineAnimation2["default"]});var LineDataset=function(_AreaDataset){_inherits(LineDataset,_AreaDataset);function LineDataset(){_classCallCheck(this,LineDataset);var _this=_possibleConstructorReturn(this,_AreaDataset.call(this));_this.updateYForStack=_lib.stubFN;_this.config.primitiveType="line";return _this}LineDataset.prototype.getType=function getType(){return"dataset"};LineDataset.prototype.getName=function getName(){return"line"};LineDataset.prototype.createPinElem=function createPinElem(){var dataset=this,chart=dataset.getFromEnv("chart"),group=arguments[1].group,lineOb=dataset.config.lineOb,element,pinElems=dataset.getGraphicalElement("pinElems")||dataset.addGraphicalElement("pinElems",[]),paper=dataset.getFromEnv("paper"),lineGroup=dataset.getLinkedParent().getChildContainer("lineVcanvasGroup"),i,key;for(i=pinElems.length-1;i>=0;i--){pinElems[i].remove();pinElems.pop()}if(dataset.getState("visible")){for(key in lineOb){element=lineOb[key].el;pinElems.push(paper.path(group).attr({path:element.attrs.path,transform:["T",-(chart.config._visx+mathAbs(lineGroup.transform()[0][1])),-chart.config.canvasBottom]}).attr(dataset.config.pin))}}};LineDataset.prototype._addLegend=function _addLegend(){var dataset=this,chart=dataset.getFromEnv("chart"),conf=dataset.config,legend=chart.getChildren("legend")[0],drawAnchors=(0,_lib.pluckNumber)(conf.drawanchors,1),legendItem,config;if(conf.includeinlegend){config={enabled:conf.includeinlegend,type:dataset.getName(),drawLine:(0,_lib.pluck)(conf.drawLine,true),index:dataset.getJSONIndex(),anchorSide:drawAnchors?conf.anchorsides:0,label:(0,_lib.getFirstValue)(dataset.config.JSONData.seriesname)};legendItem=legend.getItem(dataset.config.legendItemId);if(!legendItem){dataset.config.legendItemId=legend.createItem(dataset);legendItem=legend.getItem(dataset.config.legendItemId);dataset.addExtEventListener("click",function(){legendItem.itemClickFn()},legendItem)}legendItem.setStateCosmetics("default",{symbol:{fill:(0,_lib.toRaphaelColor)({color:conf.anchorbgcolor,alpha:conf.anchorbgalpha}),rawFillColor:conf.anchorbgcolor,rawStrokeColor:conf.anchorbordercolor,stroke:(0,_lib.toRaphaelColor)({color:conf.anchorbordercolor,alpha:"100"}),"stroke-width":conf.anchorborderthickness,lineWidth:conf.linethickness}});if(!dataset.getState("visible")){legendItem.setLegendState("hidden")}else{legendItem.removeLegendState("hidden")}legendItem.configure(config)}else if(dataset.config.legendItemId){legend.disposeItem(dataset.config.legendItemId)}};LineDataset.prototype._getDataLimits=function _getDataLimits(){var dataset=this,conf=dataset.config,chart=dataset.getFromEnv("chart"),chartConfig=chart.config,max=conf.maxValue,min=conf.minValue,infMin=-Infinity,infMax=+Infinity,transposeAxis=chartConfig.transposeAxis;if(dataset.getState("visible")===false&&transposeAxis){max=infMin;min=infMax}return{max:max,min:min}};LineDataset.prototype._drawCommonElementsHelper=function _drawCommonElementsHelper(lineOb){var dataset=this,key="",item={},animationManager=dataset.getFromEnv("animationManager"),dsConfig=dataset.config,shadow=dsConfig.shadow,lineThickness=dsConfig.linethickness,commonElemGroup=dataset.getContainer("commonElemsGroup"),fullPath,j,jj,callback=function callback(){if(dataset.getState("visible")===false){this.hide()}};for(key in lineOb){item=lineOb[key];fullPath=[];for(j=0,jj=item.path&&item.path.length;j<jj;++j){fullPath=fullPath.concat(item.path[j].getPathArr())}if(!dataset.config.drawLine){item.el&&(item.el=animationManager.setAnimation({el:item.el,component:dataset,doNotRemove:true,callback:function callback(){this.hide()}}))}else{item.el=animationManager.setAnimation({el:item.el||"path",container:commonElemGroup,component:dataset,attr:dataset.getState("visible")!==false&&Object.assign({path:fullPath},item.attr),label:"line",callback:callback});dataset.getState("visible")&&item.el&&item.el.show()}!item.used&&delete lineOb[key];if(item.el){if(lineThickness){item.el.shadow(shadow,commonElemGroup)}else{item.el.shadow({opacity:0},commonElemGroup)}item.el.toFront()}item.old=true;item.used=false;item.prevPath=item.path;item.attrs=UNDEF;item.path=UNDEF}};LineDataset.prototype.getLineShift=function getLineShift(type){var dataset=this,chart=dataset.getFromEnv("chart"),is3D=chart.config.is3D,use3dlineshift=chart.config.use3dlineshift,xDepth=is3D?10:0,yDepth=is3D?use3dlineshift?0:-10:0;return type==="y"?yDepth:xDepth};LineDataset.prototype.drawCommonElements=function drawCommonElements(){var dataset=this,dataStore=dataset.components.data,dsConfig=dataset.config,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),lineDashStyle=dsConfig.lineDashStyle,dashStyle,lineThickness=dsConfig.linethickness,colorObj,lineColorObj={color:dsConfig.linecolor,alpha:dsConfig.alpha},lscthash=[(0,_lib.toRaphaelColor)(lineColorObj),lineDashStyle].join(":"),dataHash=lscthash,lim={x:xAxis.getLimit(),y:yAxis.getLimit()},i,j,ii=dataStore.length,lineOb=dataset.config.lineOb||{},dataObj,colorHash,config,startIndex=0,endIndex,connectorPath,connectorPathWithNulls,nullPointsArr,lineBreak=false,skippingInfo=dataset.getSkippingInfo&&dataset.getSkippingInfo(),skippingDrawArray=skippingInfo&&skippingInfo.draw||[],plotDrawArrayLength=skippingDrawArray.length,skippingApplied=skippingInfo&&skippingInfo.skippingApplied,createLine=function createLine(key,path,pathwithnull){var item=lineOb[key];if(!item){item=lineOb[key]={}}if(key!==dataHash){item.hasDifferentColor=true}item.used=true;item.pathWithNull=pathwithnull;item.path=item.path||[];item.stroke=key.split(":")[0];item.dashStyle=key.split(":")[1];item.path.push(path);item.dashStyle=item.dashStyle&&item.dashStyle.split(",");item.attr={"stroke-dasharray":item.dashStyle,"stroke-width":lineThickness,stroke:item.stroke,"stroke-linecap":"round","stroke-linejoin":lineThickness>MAX_MITER_LINEJOIN?"round":"miter"}},tempStore=[];lim.x.minPixel=xAxis.getPixel(lim.x.min);lim.x.maxPixel=xAxis.getPixel(lim.x.max);lim.y.minPixel=yAxis.getPixel(lim.y.min);lim.y.maxPixel=yAxis.getPixel(lim.y.max);lim.y.base=yAxis.getPixel(0);lim.x.base=xAxis.getPixel(0);if(skippingApplied){ii=plotDrawArrayLength}for(j=0;j<ii;++j){i=skippingDrawArray[j]||j;dataObj=dataStore[i];if(!dataObj){continue}config=dataObj.config||{};config._Pbx=UNDEF;config._Pby=UNDEF;tempStore[i]={config:{_Px:config._Px,_Py:config._Py,setValue:config.setValue}};colorObj={color:config.setColor,alpha:config.setAlpha};dashStyle=config.dashStyle;colorHash=[(0,_lib.toRaphaelColor)({color:(0,_lib.pluck)(colorObj.color,lineColorObj.color),alpha:(0,_lib.pluck)(colorObj.alpha,lineColorObj.alpha)}),dashStyle||lineDashStyle].join(":");if(lscthash!==colorHash&&dataObj._yVal){lineBreak=true;endIndex=i;connectorPath=dataset.getLinePath(dataStore,{begin:startIndex,end:endIndex+1});connectorPathWithNulls=dataset.getLinePath(dataStore,{begin:startIndex,end:endIndex+1},nullPointsArr);config.connStartIndex=startIndex;config.connEndIndex=endIndex;createLine(lscthash,connectorPath,connectorPathWithNulls.getPathArr());lscthash=colorHash;startIndex=i;endIndex=null}if(dataObj._yVal){lscthash=colorHash}}if(!colorHash){colorHash=""}dsConfig.pathStartIndex=startIndex;dsConfig.pathEndIndex=endIndex;connectorPath=dataset.getLinePath(dataStore,{begin:lineBreak?startIndex:dsConfig.scrollMinVal,end:lineBreak?endIndex:dsConfig.scrollMaxVal});connectorPathWithNulls=dataset.getLinePath(dataStore,{begin:startIndex,end:endIndex},nullPointsArr);createLine(colorHash,connectorPath,connectorPathWithNulls.getPathArr());dataset._drawCommonElementsHelper(lineOb);dataset.config.lineOb=lineOb;dsConfig.prevLim=lim;dsConfig.prevDataStore=tempStore};LineDataset.prototype.show=function show(){_AreaDataset.prototype.show.call(this);this.fireEvent("datasetVisibilityChanged",{dataset:this,state:"show"})};LineDataset.prototype.hide=function hide(){_AreaDataset.prototype.hide.call(this);this.fireEvent("datasetVisibilityChanged",{dataset:this,state:"hide"})};return LineDataset}(_area2["default"]);exports["default"]=LineDataset},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _column=__webpack_require__(331);var _column2=_interopRequireDefault(_column);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _schedular=__webpack_require__(129);var _dependencyManager=__webpack_require__(125);var _areaAnimation=__webpack_require__(348);var _areaAnimation2=_interopRequireDefault(_areaAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF,isVML=!_lib.hasSVG,NONE="none",ROLLOVER="DataPlotRollOver",ROLLOUT="DataPlotRollOut",MOUSEOVER="mouseOver",MOUSEOUT="mouseOut",HTP=_lib.hasTouch?_lib.TOUCH_THRESHOLD_PIXELS:_lib.CLICK_THRESHOLD_PIXELS,PLOTBORDERCOLOR="plotBorderColor",PLOTGRADIENTCOLOR="plotGradientColor",SHOWSHADOW="showShadow",POINTER="pointer",EVENTARGS="eventArgs",DATAPLOTCLICK="dataplotclick",LABELUPDATEONIMAGELOADID="labelUpdateOnImageLoadID",DEFAULT_CURSOR=_lib.preDefStr.DEFAULT,SETROLLOVERATTR=_lib.preDefStr.setRolloverAttrStr,SETROLLOUTATTR=_lib.preDefStr.setRolloutAttrStr,getPathArr=function getPathArr(){var pathObj=this,pathArr=pathObj.pathArr,path2Arr=pathObj.path2Arr;if(pathArr.length||path2Arr.length){return pathArr.concat(path2Arr)}else{return[]}},defined=function defined(obj){return obj!==UNDEF&&obj!==null&&obj!==""},M="M",L="L",Z="Z",math=Math,mathMin=math.min,mathMax=math.max,mathCeil=math.ceil,MAX_MITER_LINEJOIN=2,_imageDrawHelper=function _imageDrawHelper(dataset,dataObj){var chart=dataset.getFromEnv("chart"),chartConf=chart.config,config=dataObj.config,graphics=dataObj.graphics,imageElement=graphics.image||graphics.element,eventArgs=config.eventArgs,imgRef=imageElement._.RefImg,x=dataObj._xPos,y=dataObj._yPos,anchorProps=config.anchorProps,anchorShadowGroup=dataset.getContainer("shadowGroup"),trackerRadius=2,hoverEffects=config.hoverEffects,setLink=config.setLink,scale=anchorProps.imageScale,alpha=anchorProps.imageAlpha,hoverAlpha=hoverEffects.imageHoverAlpha,hoverScale=hoverEffects.imageHoverScale,imgH=imgRef.height*scale*.01,imgW=imgRef.width*scale*.01,hotW=imgRef.width*hoverScale*.01,hotH=imgRef.height*hoverScale*.01,symbol=void 0,dip=void 0,markerRadius=void 0,anchorShadow=void 0,imageRolloverPath=void 0,rolloverClipRadius=void 0,imageRolloutPath=void 0,rolloutClipRadius=void 0,imagePadding=void 0,relImageAlpha=void 0,relImageHoverAlpha=void 0,setRolloverAttr=void 0,setRolloutAttr=void 0,anchorBackground=void 0,isAnchorRadius=void 0,isAnchorHoverRadius=void 0,cosmeticAttrs=void 0;isAnchorRadius=anchorProps.isAnchorRadius;anchorProps.markerRadius=markerRadius=anchorProps.radius=isAnchorRadius?anchorProps.radius:mathMin(imgW,imgH)/2;if(!isVML){symbol=anchorProps.symbol[1];isAnchorHoverRadius=hoverEffects.isAnchorHoverRadius;anchorShadow=anchorProps.shadow;imagePadding=anchorProps.imagePadding;hoverEffects.radius=isAnchorHoverRadius?hoverEffects.anchorRadius:markerRadius+1;rolloverClipRadius=hoverEffects.radius-imagePadding-hoverEffects.anchorBorderThickness*.5;rolloutClipRadius=markerRadius-imagePadding-anchorProps.borderThickness*.5;setRolloverAttr=setRolloutAttr={};chartConf.dragTolerance=chartConf.dragTolerance<markerRadius?markerRadius+.5:chartConf.dragTolerance;cosmeticAttrs={fill:(0,_lib.toRaphaelColor)({color:anchorProps.bgColor,alpha:anchorProps.bgAlpha}),"stroke-width":anchorProps.borderThickness,stroke:(0,_lib.toRaphaelColor)({color:anchorProps.borderColor,alpha:anchorProps.borderAlpha})};setRolloutAttr=(0,_lib.extend2)({path:(0,_lib.polyPathToPath)([symbol||2,x,y,markerRadius,anchorProps.startAngle,dip])},cosmeticAttrs);if(hoverEffects){setRolloverAttr={path:(0,_lib.polyPathToPath)([hoverEffects.anchorSides||2,x,y,hoverEffects.radius,hoverEffects.startAngle,hoverEffects.dip]),fill:(0,_lib.toRaphaelColor)({color:hoverEffects.anchorColor,alpha:hoverEffects.anchorBgAlpha}),"stroke-width":hoverEffects.anchorBorderThickness,stroke:(0,_lib.toRaphaelColor)({color:hoverEffects.anchorBorderColor,alpha:hoverEffects.anchorBorderAlpha})};relImageHoverAlpha=mathMax(hoverEffects.anchorAlpha,hoverEffects.anchorBorderAlpha);if(hoverAlpha>relImageHoverAlpha){hoverAlpha=relImageHoverAlpha}}if(anchorProps.bgAlpha&&anchorProps.borderAlpha){relImageAlpha=mathMax(anchorProps.bgAlpha,anchorProps.borderAlpha);if(alpha>relImageAlpha){alpha=relImageAlpha}}anchorBackground=graphics.element;anchorBackground.attr(Object.assign(cosmeticAttrs,{path:setRolloutAttr.path}));anchorBackground.attr({cursor:setLink?POINTER:""}).data("alwaysInvisible",!markerRadius).data("setRolloverProperties",hoverEffects).data("hoverEnabled",hoverEffects.enabled).data(SETROLLOVERATTR,setRolloverAttr).data(SETROLLOUTATTR,setRolloutAttr).data("anchorRadius",markerRadius).data("anchorHoverRadius",hoverEffects&&hoverEffects.radius).data(EVENTARGS,eventArgs).shadow(anchorShadow,anchorShadowGroup);imageRolloutPath=(0,_lib.polyPathToPath)([symbol||2,x,y,rolloutClipRadius>0?rolloutClipRadius:0,anchorProps.startAngle,dip]);imageRolloverPath=(0,_lib.polyPathToPath)([symbol||2,x,y,rolloverClipRadius>0?rolloverClipRadius:0,hoverEffects.startAngle,hoverEffects.dip]);anchorProps.imgRefWidth=imgRef.width;anchorProps.imgRefHeight=imgRef.height;anchorProps.imgRefScale=scale;anchorProps.rolloutClipRadius=rolloutClipRadius;setRolloutAttr={x:x-imgRef.width*scale*.005,y:y-imgRef.height*scale*.005,width:imgW,height:imgH,"clip-path":imageRolloutPath};setRolloverAttr={x:x-imgRef.width*hoverScale*.005,y:y-imgRef.height*hoverScale*.005,width:hotW,height:hotH,alpha:hoverAlpha,"clip-path":imageRolloverPath};imageElement.attr({x:setRolloutAttr.x,y:setRolloutAttr.y,width:setRolloutAttr.width,height:setRolloutAttr.height,"clip-path":setRolloutAttr["clip-path"]}).data("alwaysInvisible",!scale).data("setRolloverProperties",hoverEffects).data(SETROLLOVERATTR,setRolloverAttr).data(SETROLLOUTATTR,setRolloutAttr).data("anchorRadius",scale).data("imgRef",imgRef).data("anchorHoverRadius",hoverScale);config.isAnchorsDrawn=true;markerRadius=mathMax(markerRadius,hoverEffects&&hoverEffects.anchorRadius||0,trackerRadius)}else{setRolloutAttr={x:x-imgRef.width*scale*.005,y:y-imgRef.height*scale*.005,width:imgW,height:imgH};setRolloverAttr={x:x-imgRef.width*hoverScale*.005,y:y-imgRef.height*hoverScale*.005,width:hotW,height:imgRef.height*hoverScale*.01,alpha:hoverAlpha};config.isAnchorsDrawn=true;chartConf.dragTolerance=chartConf.dragTolerance<imgH?imgH+.5:chartConf.dragTolerance;imageElement.data("alwaysInvisible",!scale).data("setRolloverProperties",hoverEffects).data("hoverEnabled",hoverEffects).data(SETROLLOVERATTR,setRolloverAttr).data(SETROLLOUTATTR,setRolloutAttr).data("imgRef",imgRef).data("anchorRadius",scale).data("anchorHoverRadius",hoverScale);imageElement.attr(setRolloutAttr);setRolloutAttr.alpha=alpha}dataObj._xPos=x;dataObj._yPos=y;dataset.parseLabelAttributes(dataObj,dataObj._index)};(0,_dependencyManager.addDep)({name:"areaAnimation",type:"animationRule",extension:_areaAnimation2["default"]});var AreaDataset=function(_ColumnDataset){_inherits(AreaDataset,_ColumnDataset);function AreaDataset(){_classCallCheck(this,AreaDataset);var _this=_possibleConstructorReturn(this,_ColumnDataset.call(this));var ds=_this;ds.__removeElem=function(el,type){ds._setRemoveAnim(el,type==="element"||type==="image"?"anchor":"label")};ds.config.primitiveType="area";return _this}AreaDataset.prototype.getType=function getType(){return"dataset"};AreaDataset.prototype.getName=function getName(){return"area"};AreaDataset.prototype.__setDefaultConfig=function __setDefaultConfig(){_ColumnDataset.prototype.__setDefaultConfig.call(this);var config=this.config;config.valueposition=UNDEF;config.plotborderdashlen=UNDEF;config.plotborderdashgap=UNDEF;config.plotborderdashstyle=UNDEF;config.plotborderthickness=UNDEF;config.linethickness=UNDEF;config.linedashlen=UNDEF;config.linedashgap=UNDEF;config.dashed=UNDEF;config.linedashstyle=UNDEF;config.linecolor=UNDEF;config.linealpha=UNDEF;config.anchorbgcolor=UNDEF;config.anchorbordercolor=UNDEF;config.anchorradius=UNDEF;config.anchoralpha=UNDEF;config.anchorimageurl=UNDEF;config.anchorsides=UNDEF;config.anchorbgalpha=UNDEF;config.anchorborderthickness=UNDEF;config.anchorshadow=UNDEF;config.anchorstartangle=UNDEF;config.anchorimagealpha=UNDEF;config.anchorimagescale=UNDEF;config.anchorimagepadding=UNDEF;config.alpha=UNDEF;config.parentyaxis=UNDEF};AreaDataset.prototype._getHoveredPlot=function _getHoveredPlot(chartX,chartY){var dataset=this,xAxis=dataset.getFromEnv("xAxis"),components=dataset.components,dataStore=components.data,pointObj,xMin,xMax,len=dataStore.length,returnValue,numBinMin,numBinMax,binStrtIndex,binStopIndex,conf=dataset.config,j,step=dataset.getFromEnv("chartConfig").viewPortConfig.step||1,maxRadius=conf&&conf.radius||0,skippingInfo=dataset.getSkippingInfo&&dataset.getSkippingInfo(),plotsPerBin=skippingInfo.plotsPerBin;chartX+=xAxis.getTranslation();xMin=Math.floor(Math.max(xAxis.getValue(chartX-maxRadius),0));xMax=Math.ceil(Math.min(xAxis.getValue(chartX+maxRadius),len-1));binStopIndex=binStrtIndex+plotsPerBin-1;if(plotsPerBin>1){numBinMin=mathCeil(xMin/plotsPerBin);numBinMax=mathCeil(xMax/plotsPerBin);binStrtIndex=(numBinMin-1)*plotsPerBin+1;binStopIndex=numBinMax*plotsPerBin;xMin=binStrtIndex;xMax=binStopIndex}for(j=xMax;j>=xMin;j--){if((pointObj=dataStore[j])&&!(j%step)){returnValue=dataset.isWithinShape(pointObj,j,chartX,chartY);if(returnValue){break}}}return returnValue};AreaDataset.prototype.getClip=function getClip(type){var dataset=this,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),yAxisLimits=yAxis.getLimit(),xAxisLimits=xAxis.getLimit(),xMinPixel=xAxis.getPixel(xAxisLimits.min),yMinPixel=yAxis.getPixel(yAxisLimits.min),yMaxPixel=yAxis.getPixel(yAxisLimits.max),width=Math.abs(xAxis.getPixel(xAxisLimits.max)-xMinPixel),height=yMinPixel-yMaxPixel,resArr=[];resArr.push(xMinPixel);resArr.push(height<0?yMinPixel:yMaxPixel);if(type==="init"){resArr.push(0)}else if(type==="canvas"){resArr.push(width)}resArr.push(Math.abs(height));return resArr};AreaDataset.prototype.isWithinShape=function isWithinShape(pointObj,pX,x,y,setVal){var anchorProps,config,radius,borderThickness,dataset,viewPortConfig,components,dataStore,dragTolerance,xPos,yPos,dx,dy,diff,hoverEffects,xShift;if(!pointObj||!(setVal=pointObj.config.setValue)&&setVal!==0){return}anchorProps=pointObj.config.anchorProps;config=pointObj.config;borderThickness=anchorProps&&anchorProps.borderThickness;dataset=this;viewPortConfig=dataset.getFromEnv("chart").config.viewPortConfig;components=dataset.components;dataStore=components.data;dragTolerance=(0,_lib.pluckNumber)(config.dragTolerance,0);xShift=viewPortConfig?viewPortConfig.x*viewPortConfig.scaleX:0;xPos=pointObj._xPos-xShift;yPos=pointObj._yPos;if(yPos!==null){hoverEffects=pointObj.config.hoverEffects;radius=Math.max(anchorProps&&anchorProps.radius,hoverEffects&&hoverEffects.anchorRadius||0,HTP)+borderThickness/2;if(!radius){radius=3}dx=x-xPos;dy=y-yPos;diff=Math.sqrt(Math.pow(dx,2)+Math.pow(dy,2));if(diff<=radius||diff<=dragTolerance){return{pointIndex:pX,hovered:true,pointObj:dataStore[pX]}}else{return false}}};AreaDataset.prototype._parseShadowOptions=function _parseShadowOptions(){var dataSet=this,chart=dataSet.getFromEnv("chart"),conf=dataSet.config,chartAttr=chart.getFromEnv("dataSource").chart,colorM=dataSet.getFromEnv("color-manager"),defaultShadow=(0,_lib.pluckNumber)(chart.defaultPlotShadow,colorM.getColor(SHOWSHADOW));return{opacity:(0,_lib.pluckNumber)(chartAttr.showshadow,defaultShadow)?conf.alpha/100:0}};AreaDataset.prototype._firePlotEvent=function _firePlotEvent(eventType,plotIndex,e){var dataset=this,chart=dataset.getFromEnv("chart"),components=dataset.components,toolTipController=dataset.getFromEnv("toolTipController"),dataStore=components.data,data=dataStore[plotIndex]||{},sharedAnchor=dataset.getGraphicalElement("sharedAnchor"),setElement=data.graphics&&data.graphics.element||(data.config&&data.config.setValue)!==UNDEF&&sharedAnchor,toolTip=this.config.currentToolTip,style=chart.getFromEnv("paper").canvas.style,config,eventArgs,setLink;if(setElement){config=data.config;setLink=config.setLink;eventArgs=config.eventArgs;switch(eventType){case"mouseover":dataset._decideTooltipType(plotIndex,e);dataset._rolloverResponseSetter(chart,data,e);setLink&&(style.cursor=POINTER);break;case"mouseout":toolTipController.hide(toolTip);dataset._rolloutResponseSetter(chart,data,e);style.cursor=DEFAULT_CURSOR;break;case"click":chart.plotEventHandler(setElement,e,DATAPLOTCLICK,eventArgs);break;case"mousemove":dataset._decideTooltipType(plotIndex,e)}}};AreaDataset.prototype._rolloverResponseSetter=function _rolloverResponseSetter(chart,data,event,onlyHoverEffect){var dataset=this,dataGraphics=data.graphics,elem=dataGraphics&&(dataGraphics.element||dataset.getAnchor(data)),draged=elem&&elem.data("draged"),hoverEnabled=elem&&elem.data("hoverEnabled");if(draged!==true){dataset._hoverFunc(data,ROLLOVER,hoverEnabled,chart.getFromEnv("dataSource").chart);!onlyHoverEffect&&elem&&chart.plotEventHandler(elem,event,ROLLOVER)}};AreaDataset.prototype._rolloutResponseSetter=function _rolloutResponseSetter(chart,data,event,onlyHoverEffect){var dataset=this,dataGraphics=data.graphics,elem=dataGraphics&&(dataGraphics.element||dataset.getAnchor(data)),draged=elem&&elem.data("draged"),hoverEnabled=elem&&elem.data("hoverEnabled"),plotType=dataset.type,dataConf=data.config,anchorProps=dataConf.anchorProps,isVisibleAnchor=anchorProps.radius&&anchorProps.anchorAlpha;if(draged!==true){dataset._hoverFunc(data,ROLLOUT,hoverEnabled,chart.getFromEnv("dataSource").chart);!onlyHoverEffect&&elem&&chart.plotEventHandler(elem,event,ROLLOUT)}dataConf.isAnchorsDrawn&&!isVisibleAnchor&&plotType==="area"&&elem&&elem.hide()};AreaDataset.prototype.getAnchor=function getAnchor(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var dataset=this,animationManager=dataset.getFromEnv("animationManager"),sharedAnchor=dataset.getGraphicalElement("sharedAnchor"),config=data.config,anchorProps,eventArgs,setRolloutAttr,setRolloverAttr,hoverEffects,hoverEnabled,radius,anchorShadow,prevAnchorHovered;if(!sharedAnchor){sharedAnchor=animationManager.setAnimation({el:"path",container:dataset.getContainer("plotGroup"),label:"anchor",doNotRemove:true,component:dataset});dataset.addGraphicalElement("sharedAnchor",sharedAnchor);return sharedAnchor}anchorProps=config.anchorProps;eventArgs=config.eventArgs;hoverEffects=config.hoverEffects;hoverEnabled=hoverEffects.enabled;if(hoverEnabled){setRolloutAttr=hoverEffects.attrs&&hoverEffects.attrs.setRolloutAttr;setRolloverAttr=hoverEffects.attrs&&hoverEffects.attrs.setRolloverAttr}radius=anchorProps.radius;anchorShadow=anchorProps.shadow;prevAnchorHovered=dataset.getFromEnv("chartConfig").prevAnchorHovered;hoverEffects.anchorAnimation=0;if(data._index!==prevAnchorHovered){sharedAnchor.shadow(anchorShadow,dataset.getContainer("shadowGroup")).data("anchorRadius",radius).data("anchorHoverRadius",hoverEffects.anchorRadius).data("hoverEnabled",hoverEnabled).data(EVENTARGS,eventArgs);if(hoverEnabled){sharedAnchor.data(SETROLLOVERATTR,setRolloverAttr).data(SETROLLOUTATTR,setRolloutAttr)}}dataset.getFromEnv("chartConfig").prevAnchorHovered=data._index;return sharedAnchor};AreaDataset.prototype.configureAttributes=function configureAttributes(datasetJSON){if(!datasetJSON){return false}this.trimData(datasetJSON);var dataSet=this,chart=dataSet.getFromEnv("chart");dataSet.config.JSONData=datasetJSON;dataSet.parseAttributes();dataSet._setConfigure();dataSet._realTimeConfigure&&dataSet._realTimeConfigure();chart.config.hasLegend!==false&&chart.config.showLegend&&dataSet._addLegend();dataSet.setState("dirty",true)};AreaDataset.prototype.parseAttributes=function parseAttributes(){var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,conf=dataSet.config,plotType=dataSet.getName(),JSONData=dataSet.config.JSONData,chartAttr=chart.getFromEnv("dataSource").chart,singleSeries=chart.config.singleseries,colorM=dataSet.getFromEnv("color-manager"),index=Math.floor(dataSet.getJSONIndex()),showplotborder=(0,_lib.pluckNumber)(JSONData.showplotborder,chartAttr.showplotborder||1),plotFillColor=(0,_libGraphics.getFirstColor)(!singleSeries||(0,_lib.getValidValue)(chartAttr.palettecolors)?colorM.getPlotColor(index):colorM.getColor("plotFillColor").split(/\s*\,\s*/)[0]),usePlotGradientColor=void 0,COMMASTRING=",",BLANKSTRING="",lineDashStyle=void 0,isDual=chartConfig.isdual,hasLineSet=chartConfig.haslineset,paddingValue=0;conf.maxValue=-Infinity;conf.minValue=Infinity;(0,_lib.parseConfiguration)(JSONData,conf,chart.config,{data:true});conf.showValues=(0,_lib.pluckNumber)(JSONData.showvalues,chartAttr.showvalues,plotType==="radar"?0:1);conf.anchorimageurl=(0,_lib.pluck)(JSONData.anchorimageurl,chartAttr.anchorimageurl,UNDEF);conf.plotColor=plotFillColor;if(isDual){if(hasLineSet){conf.parentYAxis=1}else{conf.parentYAxis=(0,_lib.pluck)(JSONData.parentyaxis&&JSONData.parentyaxis.toLowerCase(),"p")==="s"?1:0}}else{conf.parentYAxis=0}conf.valueposition=conf.valueposition.toLowerCase();conf.plotfillcolor=(0,_lib.pluck)(JSONData.color,chartAttr.plotfillcolor,plotFillColor);conf.seriesname=(0,_lib.parseUnsafeString)(JSONData.seriesname);usePlotGradientColor=chartConfig.useplotgradientcolor;conf.plotgradientcolor=usePlotGradientColor!==0?(0,_lib.getDefinedColor)(chartAttr.plotgradientcolor,colorM.getColor(PLOTGRADIENTCOLOR)):"";conf.plotfillalpha=(0,_lib.pluck)(JSONData.alpha,chartConfig.plotfillalpha);conf.fillColor={color:conf.plotfillcolor+(conf.plotgradientcolor?COMMASTRING+conf.plotgradientcolor:BLANKSTRING),alpha:conf.plotfillalpha,angle:conf.plotfillangle};conf.plotborderalpha=showplotborder?(0,_lib.pluck)(JSONData.plotborderalpha,chartAttr.plotborderalpha,JSONData.alpha,chartAttr.plotfillalpha,"95"):0;conf.plotbordercolor=(0,_lib.pluck)(JSONData.plotbordercolor,chartAttr.plotbordercolor,chartAttr.areabordercolor,singleSeries?(0,_lib.getValidValue)(chartAttr.palettecolors)?colorM.getPlotColor(0):colorM.getColor(PLOTBORDERCOLOR).split(/\s*\,\s*/)[0]:"666666");conf.drawLine=(0,_lib.pluckNumber)(JSONData.drawline,chartAttr.drawlines,1);conf.plotborderdashstyle=conf.dashed?(0,_lib.getDashStyle)(conf.plotborderdashlen,conf.plotborderdashgap):NONE;conf.linecolor=(0,_lib.pluck)(JSONData.color,chartAttr.linecolor,conf.plotColor);conf.legendSymbolColor=dataSet.type==="line"?conf.linecolor:conf.plotfillcolor;conf.includeinlegend=(0,_lib.pluckNumber)(JSONData.includeinlegend,conf.seriesname?1:0);lineDashStyle=(0,_lib.getDashStyle)(conf.linedashlen,conf.linedashgap);conf.lineDashStyle=conf.dashed?lineDashStyle:NONE;conf.defaultPadding={left:paddingValue,right:paddingValue};conf.shadow=dataSet._parseShadowOptions();conf.drawanchors=(0,_lib.pluckNumber)(JSONData.drawanchors,JSONData.showanchors,chartAttr.showanchors,chartAttr.drawanchors);conf.anchorbgcolor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(JSONData.anchorbgcolor,chartConfig.anchorbgcolor,colorM.getColor("anchorBgColor")));conf.anchorbordercolor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(JSONData.anchorbordercolor,chartConfig.anchorbordercolor,conf.linecolor,conf.plotColor));dataSet.setState("visible",(0,_lib.pluckNumber)(JSONData.visible,!Number(JSONData.initiallyhidden),1)===1&&conf.drawLine)};AreaDataset.prototype._setConfigure=function _setConfigure(newDataset,newIndex){var dataSet=this,chart=dataSet.getFromEnv("chart"),conf=dataSet.config,chartConfig=chart.config,JSONData=dataSet.config.JSONData||[],setData,dataObj,xAxis=dataSet.getFromEnv("xAxis"),isRealTime=chart.isRealTime,numDisplaySets=chartConfig.realTimeConfig&&chartConfig.realTimeConfig.numDisplaySets,categories=dataSet.getFromEnv("dataSource").categories&&dataSet.getFromEnv("dataSource").categories[0]&&dataSet.getFromEnv("dataSource").categories[0].category,catLen=conf.initCatLen=isRealTime?categories&&Array.isArray(categories)&&categories.filter(function(data){return!data.vline}).length||0:xAxis.getTicksLen(),setDataArr=newDataset||JSONData.data,newDataSetLen=newDataset&&newDataset.data.length,len,dataStore,isDrag=chartConfig.isDrag,i,j,plotIndex,tempIndex,shiftIndex,skippingInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo(),plotDrawArray=skippingInfo&&skippingInfo.draw||[],plotDrawArrayLength=plotDrawArray.length,skippingApplied=skippingInfo&&skippingInfo.skippingApplied;shiftIndex=newDataSetLen===UNDEF&&catLen>numDisplaySets?catLen-numDisplaySets:0;len=isRealTime?(0,_lib.pluckNumber)(newDataSetLen,catLen):Math.min(catLen,setDataArr&&setDataArr.length);conf.imageCount=0;dataStore=dataSet.components.data;if(!dataStore){dataStore=dataSet.components.data=[]}conf.maxRadius=-Infinity;chartConfig.dragTolerance=chartConfig.dragTolerance||-Infinity;if(skippingApplied){len=plotDrawArrayLength}for(j=shiftIndex;j<len;j++){i=plotDrawArray[j]||j;if(newDataset){setData=newDataset&&newDataset.data[i]||{};if(newIndex!==UNDEF){tempIndex=newIndex+i;dataObj=dataStore[tempIndex]}else{tempIndex=dataStore.length-len+i;dataObj=dataStore[tempIndex]}plotIndex=tempIndex}else{setData=setDataArr&&setDataArr[i]||{};i=i-shiftIndex;dataObj=dataStore[i];plotIndex=i}if(!dataObj){dataObj=dataStore[plotIndex]={}}if(!dataObj.config){dataObj.config={}}if(!dataObj.graphics){dataObj.graphics={}}dataSet._plotConfigure(plotIndex,setData,newDataSetLen);tempIndex&&tempIndex++}if(skippingApplied){dataSet.addJob("configureRestID",dataSet._configureRestData.bind(dataSet),_schedular.priorityList.postRender)}chartConfig.dragTolerance=isDrag?(chartConfig.dragTolerance>5?chartConfig.dragTolerance:5.5)+HTP:0;dataSet.ErrorValueConfigure&&dataSet.ErrorValueConfigure()};AreaDataset.prototype._configureRestData=function _configureRestData(){var dataSet=this,chart=dataSet.getFromEnv("chart"),conf=dataSet.config,chartConfig=chart.config,JSONData=dataSet.config.JSONData,setDataArr=JSONData.data||[],setData,dataObj,skipInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo(),drawOnlyMap=skipInfo.drawOnlyMap,xAxis=dataSet.getFromEnv("xAxis"),catLen=xAxis.getTicksLen(),len=catLen,dataStore,i,plotIndex,tempIndex;conf.imageCount=0;dataStore=dataSet.components.data;if(!dataStore){dataStore=dataSet.components.data=[]}conf.maxRadius=-Infinity;chartConfig.dragTolerance=chartConfig.dragTolerance||-Infinity;conf.maxValue=-Infinity;conf.minValue=Infinity;for(i=0;i<len;i++){if(drawOnlyMap[i]){continue}dataObj=dataStore[i];setData=setDataArr&&setDataArr[i]||{};plotIndex=i;if(!dataObj){dataObj=dataStore[i]={}}if(!dataObj.config){dataStore[i].config={}}if(!dataObj.graphics){dataObj.graphics={}}dataSet._plotConfigure(plotIndex,setData);tempIndex&&tempIndex++}};AreaDataset.prototype._plotConfigure=function _plotConfigure(setIndex,setData,newDataSetLen){var dataSet=this,chart=dataSet.getFromEnv("chart"),conf=dataSet.config,chartConfig=chart.config,JSONData=dataSet.config.JSONData,chartAttr=chart.getFromEnv("dataSource").chart,dataStore=dataSet.components.data,dataObj=dataStore[setIndex],xAxis=dataSet.getFromEnv("xAxis"),yAxis=dataSet.getFromEnv("yAxis"),isDrag=chartConfig.isDrag,config=dataObj&&dataObj.config,toolText,toolTipValue,setValue,setDisplayValue,macroIndices,parserConfig,formatedVal,seriesname,catObj,yAxisName=(0,_lib.parseUnsafeString)(chartConfig.yaxisname),xAxisName=(0,_lib.parseUnsafeString)(chartConfig.xaxisname),tooltipSepChar=chartConfig.tooltipsepchar,lineDashed=conf.dashed,numDisplaySets=chartConfig.realTimeConfig&&chartConfig.realTimeConfig.numDisplaySets,diffLen=numDisplaySets-conf.initCatLen,additive=numDisplaySets&&diffLen>=0?diffLen:0,radius;catObj=xAxis.getLabel(newDataSetLen?setIndex-newDataSetLen:additive+setIndex);config.label=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)(catObj.tooltext||catObj.label));if(setData.tooltext!==UNDEF){setData.tooltext=(0,_lib.parseTooltext)(setData.tooltext,[3],{label:catObj.label},setData,chartAttr,JSONData)}config.setValue=setValue=yAxis.getCleanValue(setData.value,conf.stack100percent);config.setLink=(0,_lib.pluck)(setData.link);config.anchorProps=this._parseAnchorProperties(setIndex);conf.maxRadius=mathMax(config.anchorProps.radius+config.anchorProps.borderThickness/2,conf.maxRadius);radius=config.anchorProps.radius+config.anchorProps.borderThickness/2;config.dragTolerance=isDrag?(radius<6?5.5:radius+.5)+HTP:0;config.label=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)(catObj.tooltext||catObj.label));config.showValue=(0,_lib.pluckNumber)(setData.showvalue,conf.showValues);config.dashed=(0,_lib.pluckNumber)(setData.dashed,lineDashed);config.dashStyle=config.dashed?(0,_lib.getDashStyle)(conf.linedashlen,conf.linedashgap):"none";config.color=(0,_lib.pluck)(setData.color,conf.linecolor);config.setColor=setData.color;config.setAlpha=setData.alpha;config.setDashed=setData.dashed;config.alpha=(0,_lib.pluck)(setData.alpha,setData.linealpha,conf.linealpha);config.origLabel=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)(catObj.label));if(setValue!==null){conf.maxValue=mathMax(conf.maxValue,setValue);conf.minValue=mathMin(conf.minValue,setValue)}config.setTooltext=(0,_lib.parseUnsafeString)(setData.toolText);config.toolTipValue=toolTipValue=yAxis.dataLabels(setValue);config.setDisplayValue=setDisplayValue=(0,_lib.parseUnsafeString)(setData.displayvalue);config.displayValue=(0,_lib.pluck)(setDisplayValue,toolTipValue);config.formatedVal=formatedVal=config.toolTipValue;config.setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.tooltext,JSONData.plottooltext,chartAttr.plottooltext)));config.valuePosition=(0,_lib.pluck)(setData.valueposition,conf.valueposition);if(config.valuePosition){config.valuePosition=config.valuePosition.toLowerCase()}if(!chartConfig.showtooltip){toolText=false}else{if(formatedVal===null){toolText=false}else if(config.setTooltext!==UNDEF){macroIndices=[1,2,3,4,5,6,7];parserConfig={yaxisName:yAxisName,xaxisName:xAxisName,formattedValue:formatedVal,label:config.label};toolText=(0,_lib.parseTooltext)(config.setTooltext,macroIndices,parserConfig,setData,chartAttr,JSONData)}else{if(chartConfig.seriesnameintooltip){seriesname=(0,_lib.getFirstValue)(JSONData&&JSONData.seriesname)}toolText=seriesname?seriesname+tooltipSepChar:"";toolText+=config.label?config.label+tooltipSepChar:"";toolText+=config.setTooltext?"":config.toolTipValue}}config.toolText=toolText;config.setLevelTooltext=config.setTooltext;config._x=setData.index===UNDEF?setIndex:setData.index;config._y=setValue;config.finalTooltext=config.setTooltext=toolText;config.hoverEffects=this._parseHoverEffectOptions(dataObj,setData);config.anchorProps.isAnchorHoverRadius=config.hoverEffects.anchorRadius;chartConfig.dragTolerance=mathMax(chartConfig.dragTolerance,conf.maxRadius,config.hoverEffects.anchorRadius)};AreaDataset.prototype.drawCommonElements=function drawCommonElements(){var dataset=this,dataStore=dataset.components.data,chart=dataset.getFromEnv("chart"),dsConfig=dataset.config,chartConfig=chart.config,lineElement,lineElementPrev,finalPath,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),scrollMinVal=dsConfig.scrollMinVal,scrollMaxVal=dsConfig.scrollMaxVal,isOnlyLineBorder=!chartConfig.drawfullareaborder,plotBorderColor=dsConfig.plotbordercolor,plotBorderAlpha=dsConfig.plotborderalpha,plotBorderDashStyle=dsConfig.plotborderdashstyle,plotBorderThickness=dsConfig.plotborderthickness,colorArr=dsConfig.fillColor,animationManager=dataset.getFromEnv("animationManager"),lineProps,connector,lim={x:xAxis.getLimit(),y:yAxis.getLimit()},tempStore=[],i,j,shadow=dsConfig.shadow,shadowContainer=dataset.getContainer("shadowGroup"),positionObj,scrolling=xAxis.getState("scrolling"),skippingInfo=dataset.getSkippingInfo&&dataset.getSkippingInfo(),plotDrawArray=skippingInfo&&skippingInfo.draw||[],plotDrawArrayLength=plotDrawArray.length,skippingApplied=skippingInfo&&skippingInfo.skippingApplied;lim.x.minPixel=xAxis.getPixel(lim.x.min);lim.x.maxPixel=xAxis.getPixel(lim.x.max);lim.y.minPixel=yAxis.getPixel(lim.y.min);lim.y.maxPixel=yAxis.getPixel(lim.y.max);lim.y.base=yAxis.getPixel(0);lim.x.base=xAxis.getPixel(0);if(skippingApplied){scrollMinVal=0;scrollMaxVal=plotDrawArrayLength}for(j=scrollMinVal;j<scrollMaxVal;j++){i=plotDrawArray[j]||j;if(!dataStore[i]||!dataStore[i].config){continue}tempStore[i]={config:{_Px:dataStore[i].config._Px,_Pbx:dataStore[i].config._Pbx,_Py:dataStore[i].config._Py,_Pby:dataStore[i].config._Pby,setValue:dataStore[i].config.setValue}}}positionObj={begin:scrollMinVal,end:scrollMaxVal};finalPath=this.getLinePath(dataStore,scrolling?positionObj:null,!dataset.getState("visible")&&"base");lineProps={path:finalPath.getPathArr(),stroke:(0,_lib.toRaphaelColor)({color:plotBorderColor,alpha:plotBorderAlpha}),"stroke-width":isOnlyLineBorder?0:plotBorderThickness,"stroke-linecap":"round",fill:(0,_lib.toRaphaelColor)(colorArr),"stroke-linejoin":plotBorderThickness>MAX_MITER_LINEJOIN?"round":"miter","stroke-dasharray":plotBorderDashStyle};lineElementPrev=dataset.getGraphicalElement("lineElement");lineElement=animationManager.setAnimation({el:lineElementPrev||"path",container:dataset.getContainer("commonElemsGroup"),attr:dataset.getState("visible")&&lineProps,component:dataset,doNotRemove:true,label:"line",callback:function callback(){!dataset.getState("visible")&&this.hide()}});if(!lineElementPrev&&lineElement){dataset.addGraphicalElement("lineElement",lineElement)}dataset.getState("visible")&&lineElement&&lineElement.show();if(dataset.getState("visible")){!scrolling&&lineElement.shadow(shadow,shadowContainer)}if(!scrolling){connector=dataset.getGraphicalElement("connector");if(isOnlyLineBorder){connector=dataset.addGraphicalElement("connector",animationManager.setAnimation({attr:{path:finalPath.getPathArr(),stroke:(0,_lib.toRaphaelColor)({color:plotBorderColor,alpha:plotBorderAlpha}),"stroke-width":plotBorderThickness,"stroke-linecap":"round","stroke-linejoin":plotBorderThickness>MAX_MITER_LINEJOIN?"round":"miter","stroke-dasharray":plotBorderDashStyle},el:connector||"path",container:dataset.getContainer("commonElemsGroup"),component:dataset,label:"line",callback:!dataset.getState("visible")&&function(){this.hide()}}))}else{connector&&animationManager.setAnimation({attr:{},el:connector,container:dataset.getContainer("commonElemsGroup"),component:dataset,label:"line",callback:function callback(){this.hide()}})}}dsConfig.prevLim=lim;dsConfig.prevDataStore=tempStore;if(chart.state==="realTimeUpdate"){dataset.realTimeUpdated=true}chartConfig.connectnulldataOld=chartConfig.connectnulldata};AreaDataset.prototype.parsePlotAttributes=function parsePlotAttributes(dataObj,index){var dataset=this,datasetIndex=dataset.getJSONIndex(),visible=dataset.getState("visible"),dsConfig=dataset.config,JSONData=dataset.config.JSONData,i=index,anchorProps={},setRolloutAttr={},setRolloverAttr={},xVal,yVal,setValue,setLink,symbol,toolText,hoverEffects,xPos,yPos,displayValue,plotConfig;plotConfig=dataObj.config;xPos=plotConfig._Px;yPos=plotConfig._Py;xVal=plotConfig._x;yVal=plotConfig._y;setLink=plotConfig.setLink;setValue=plotConfig.setValue;anchorProps=plotConfig.anchorProps;displayValue=plotConfig.displayValue;hoverEffects=plotConfig.hoverEffects;toolText=plotConfig.finalTooltext=plotConfig.toolText;plotConfig.eventArgs={index:i,link:setLink,value:setValue,displayValue:displayValue,categoryLabel:plotConfig.origLabel,toolText:toolText,id:dsConfig.userID,datasetIndex:datasetIndex||0,datasetName:JSONData.seriesname,visible:visible};symbol=anchorProps.symbol;dataObj._xPos=xPos;dataObj._yPos=yPos;dataObj._xVal=xVal;dataObj._yVal=yVal;dataObj._index=i;if(yVal!==null&&xVal!==null){plotConfig.eventArgs.x=xVal;plotConfig.eventArgs.y=yVal;if(hoverEffects.enabled){setRolloverAttr={path:(0,_lib.polyPathToPath)([hoverEffects.anchorSides||2,xPos,yPos,hoverEffects.anchorRadius,hoverEffects.startAngle,hoverEffects.dip]),fill:(0,_lib.toRaphaelColor)({color:hoverEffects.anchorColor,alpha:hoverEffects.anchorBgAlpha}),stroke:(0,_lib.toRaphaelColor)({color:hoverEffects.anchorBorderColor,alpha:hoverEffects.anchorBorderAlpha}),"stroke-width":hoverEffects.anchorBorderThickness};setRolloutAttr={path:(0,_lib.polyPathToPath)([symbol[1]||2,xPos,yPos,anchorProps.radius,anchorProps.startAngle,plotConfig.dip||0]),fill:(0,_lib.toRaphaelColor)({color:anchorProps.bgColor,alpha:anchorProps.bgAlpha}),stroke:(0,_lib.toRaphaelColor)({color:anchorProps.borderColor,alpha:anchorProps.borderAlpha}),"stroke-width":anchorProps.borderThickness};hoverEffects.attrs={hoverEnabled:hoverEffects.enabled,anchorRadius:anchorProps.radius,anchorHoverRadius:hoverEffects.anchorRadius};hoverEffects.attrs[SETROLLOVERATTR]=setRolloverAttr;hoverEffects.attrs[SETROLLOUTATTR]=setRolloutAttr;anchorProps.isAnchorHoverRadius=hoverEffects.attrs.anchorRadius}if(anchorProps.imageUrl){plotConfig.anchorImageLoaded=false}plotConfig.props={element:{attr:{path:(0,_lib.polyPathToPath)([symbol[1]||2,xPos,yPos,anchorProps.radius,anchorProps.startAngle,plotConfig.dip||0]),fill:(0,_lib.toRaphaelColor)({color:anchorProps.bgColor,alpha:anchorProps.bgAlpha}),stroke:(0,_lib.toRaphaelColor)({color:anchorProps.borderColor,alpha:anchorProps.borderAlpha}),"stroke-width":anchorProps.borderThickness}}}}else{if(setValue){setValue.isNull=true}}};AreaDataset.prototype.parseLabelAttributes=function parseLabelAttributes(dataObj,index){var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,SmartLabel=dataSet.getFromEnv("smartLabel"),style=chart.config.dataLabelStyle,dataStore=dataSet.components.data,stack100Percent=chartConfig.stack100percent,displayValue="",rotateValues=chartConfig.rotatevalues?270:0,canvasTop=chartConfig.canvasTop,canvasHeight=chartConfig.canvasHeight,isStacked=chart.config.isstacked,GUTTER_4=4,GUTTER_2=2,valuePadding,bBoxObj,textHeight,origTextHeight,textY,textX,yAdjust,anchorProps,valuePosition,placeValuesInside,topSpace,bottomSpace,config,xPos,yPos,prevConfig,prevValue,value,showValue,anchorRadius,i=index,setValue,attr;config=dataObj&&dataObj.config;setValue=config&&config.setValue;if(dataObj===UNDEF||setValue===UNDEF||setValue===null||config.labelSkip===true){config&&delete config.labelSkip;return}anchorProps=config.anchorProps;yPos=dataObj._yPos||dataObj.config._Py;xPos=dataObj._xPos||dataObj.config._Px;anchorRadius=anchorProps.markerRadius||anchorProps.radius-3;valuePadding=chartConfig.valuepadding+GUTTER_2+anchorRadius;valuePosition=config.valuePosition;switch(valuePosition){case"above":placeValuesInside=0;break;case"below":placeValuesInside=1;break;default:prevConfig=dataStore[i-1]&&dataStore[i-1].config||{};if(isStacked&&stack100Percent){prevValue=prevConfig.value;value=config.value}else{prevValue=prevConfig.setValue;value=config.setValue}placeValuesInside=!i?0:prevValue>value?1:0}displayValue=config.displayValue;showValue=config.showValue;if(defined(displayValue)&&displayValue!==""&&value!==null&&showValue){attr={text:displayValue,fill:style.color,"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]};bBoxObj=SmartLabel.getOriSize(displayValue);config._state=config._state||{};if(rotateValues){config._state.labelWidth=bBoxObj.height;config._state.labelHeight=bBoxObj.width;config._rotated=true}else{config._state.labelWidth=bBoxObj.width;config._state.labelHeight=bBoxObj.height;config._rotated=false}textHeight=origTextHeight=config._state.labelHeight;textHeight+=valuePadding;yAdjust=origTextHeight*.5+valuePadding;topSpace=yPos-canvasTop;bottomSpace=canvasTop+canvasHeight-yPos;textY=yPos;textX=xPos;textHeight=textHeight+GUTTER_4;if(placeValuesInside){if(bottomSpace>textHeight){textY+=yAdjust;config._valueBelowPoint=1}else if(topSpace>textHeight){textY-=yAdjust;config._valueBelowPoint=0}}else{if(topSpace>textHeight){textY-=yAdjust;config._valueBelowPoint=0}else if(bottomSpace>textHeight){textY+=yAdjust;config._valueBelowPoint=1}}attr.x=textX;attr.y=textY}config.props=config.props||{};config.props.label={attr:attr}};AreaDataset.prototype.allocatePosition=function allocatePosition(){var dataset=this,dsConfig=dataset.config,chart=dataset.getFromEnv("chart"),chartConfig=chart.config,showpercentvalues=chartConfig.showpercentvalues,showPercentInToolTip=chartConfig.showpercentintooltip,dsComponents=dataset.components,dataStore=dsComponents.data,xAxis=dataset.getFromEnv("xAxis"),i=0,j=0,dataObj,animAttrs,isStacked=chartConfig.isstacked,stack100Percent=Number(chartConfig.stack100percent),step=chartConfig.viewPortConfig.step||1,visibleStart,visibleEnd,hasScroll=chart.hasScroll,skippingInfo=dataset.getSkippingInfo&&dataset.getSkippingInfo(),labelDrawArray=skippingInfo&&skippingInfo.labelDraw||[],plotDrawArray=skippingInfo&&skippingInfo.draw||[];animAttrs=dsComponents.animAttrs=[];dataset.calculateScrollRange();if(!xAxis.getState("scrolling")){isStacked&&(stack100Percent||showpercentvalues||showPercentInToolTip)&&dataset.updateYForStack()}dataset.createCoordinates();for(j=dsConfig.scrollMinVal;j<dsConfig.scrollMaxVal;j+=step){i=plotDrawArray[j]||j;if(hasScroll&&!chartConfig.skipAttr&&(i<visibleStart||i>visibleEnd)){continue}dataObj=dataStore[i];if(!dataObj||!dataObj.config){animAttrs[i]=UNDEF;continue}dataset.parsePlotAttributes(dataObj,i)}if(step>1){dsConfig.skipIgnorerIndices.map(function(skipIgnorerIdx){return dataStore[skipIgnorerIdx]}).filter(function(skipIgnorer){return skipIgnorer||skipIgnorer.config}).forEach(function(skipIgnorer){return dataset.parsePlotAttributes(skipIgnorer,i)})}for(j=dsConfig.scrollMinValForLabel;j<dsConfig.scrollMaxValForLabel;j+=step){i=labelDrawArray[j]||j;dataObj=dataStore[i];dataset.parseLabelAttributes(dataObj,i)}};AreaDataset.prototype.drawPlot=function drawPlot(dataObj,i){var dataset=this,dsConfig=dataset.config,plotConfig=dataObj.config,graphics=dataObj.graphics,anchorProps=plotConfig.anchorProps,visible=dataset.getState("visible"),radius=anchorProps.radius,anchorShadow=anchorProps.shadow,anchorAlpha=anchorProps.anchorAlpha,isAnchorVisible=radius&&anchorAlpha,anchorGroup=dataset.getContainer("plotGroup"),shadowGroup=dataset.getContainer("shadowGroup"),animationManager=dataset.getFromEnv("animationManager"),setElement=void 0,hoverEffects=void 0,imageElement=void 0;if(plotConfig._y!==null&&plotConfig._x!==null){if(anchorProps.imageUrl){dataset.drawAnchorImage(dataObj)}else{setElement=graphics.element;imageElement=graphics.image;imageElement&&imageElement.remove();delete graphics.image;if((dsConfig.drawanchors||isAnchorVisible)&&visible&&dataObj.config.setValue!==null){setElement=graphics.element=animationManager.setAnimation({el:setElement||"path",container:anchorGroup,attr:plotConfig.props.element.attr,index:i,length:length,callback:function callback(){this.show()},component:dataset,label:"anchor"});setElement.shadow(anchorShadow,shadowGroup)}else if(setElement){dataset.__removeElem(graphics.element,"element");delete graphics.element;setElement=UNDEF}}hoverEffects=plotConfig.hoverEffects;if(setElement){if(hoverEffects.enabled){setElement.data("hoverEnabled",hoverEffects.attrs.hoverEnabled).data("anchorRadius",hoverEffects.attrs.anchorRadius).data("anchorHoverRadius",hoverEffects.attrs.anchorHoverRadius).data(SETROLLOVERATTR,hoverEffects.attrs[SETROLLOVERATTR]).data(SETROLLOUTATTR,hoverEffects.attrs[SETROLLOUTATTR])}else{setElement.data("hoverEnabled",false)}setElement.data(EVENTARGS,plotConfig&&plotConfig.eventArgs)}}else{graphics.element&&(graphics.element=animationManager.setAnimation({el:graphics.element,component:dataset}))}};AreaDataset.prototype.drawPlots=function drawPlots(){var dataset=this,chart=dataset.getFromEnv("chart"),chartConfig=chart.config,dsComponents=dataset.components,dsConfig=dataset.config,dataStore=dsComponents.data,i=0,j=0,dataObj,animAttrs=dsComponents.animAttrs,scrollMinVal,scrollMaxVal,_oldStartIndex=dsConfig._oldStartIndex,_oldEndIndex=dsConfig._oldEndIndex,sharedElem=dataset.getGraphicalElement("sharedAnchor"),drwCnt=0,step=chartConfig.viewPortConfig.step||1,skippingInfo=dataset.getSkippingInfo&&dataset.getSkippingInfo(),plotDrawArray=skippingInfo&&skippingInfo.draw||[];animAttrs=dsComponents.animAttrs=[];scrollMinVal=dsConfig.scrollMinVal;scrollMaxVal=dsConfig.scrollMaxVal;if(scrollMinVal>_oldStartIndex){dataset.flushOnScroll(_oldStartIndex,scrollMinVal>_oldEndIndex?_oldEndIndex:scrollMinVal)}if(scrollMaxVal<_oldEndIndex){dataset.flushOnScroll(scrollMaxVal<_oldStartIndex?_oldStartIndex:scrollMaxVal,_oldEndIndex)}dsConfig._oldStartIndex=scrollMinVal;dsConfig._oldEndIndex=scrollMaxVal;dataset.hideAllAnchors&&dataset.hideAllAnchors();for(j=scrollMinVal;j<scrollMaxVal;j+=step){i=plotDrawArray[j]||j;dataObj=dataStore[i];if(!dataObj||!dataObj.config){animAttrs[i]=UNDEF;continue}dataset.drawPlot(dataObj,i)}if(step>1){dsConfig.skipIgnorerIndices.map(function(skipIgnorerIdx){return dataStore[skipIgnorerIdx]}).filter(function(skipIgnorer){return skipIgnorer||skipIgnorer.config}).forEach(function(skipIgnorer){return dataset.drawPlot(skipIgnorer,i)})}if(i===drwCnt||dsConfig.drawanchors){sharedElem&&sharedElem.hide()}else{if(sharedElem){sharedElem.hide()}else{dataset.getAnchor()}}};AreaDataset.prototype.drawAnchorImage=function drawAnchorImage(dataObj){var dataset=this,anchorGroup=dataset.getContainer("plotGroup"),graphics=dataObj.graphics,animationManager=dataset.getFromEnv("animationManager"),imageElement=void 0,imageElementDummy=isVML?graphics.element:graphics.image,anchorProps=dataObj.config.anchorProps,isAnchorVisible=anchorProps.anchorAlpha&&anchorProps.radius,alpha=anchorProps.imageAlpha,visible=dataset.getState("visible");if(visible&&isAnchorVisible){if(!isVML){graphics.element=animationManager.setAnimation({el:graphics.element||"path",container:anchorGroup,attr:dataObj.config.props.element.attr,label:"anchor",component:dataset}).show()}dataObj.config.props.element.attr.opacity=alpha*.01;imageElement=animationManager.setAnimation({el:imageElementDummy||"image",container:anchorGroup,component:dataset,label:"anchor",attr:{opacity:alpha*.01}});if(isVML){graphics.element=imageElement}else{graphics.image=imageElement}if(!imageElementDummy){imageElement.on("load",dataset._onAnchorImageLoad(dataObj));imageElement.attr("src",anchorProps.imageUrl)}else{if(imageElement.attrs.src!==anchorProps.imageUrl){imageElement.attr("src",anchorProps.imageUrl)}else{imageElement._.RefImg&&_imageDrawHelper(dataset,dataObj)}}imageElement.show()}else{graphics.image&&animationManager.setAnimation({el:graphics.image,state:"disappearing",component:dataset,doNotRemove:true,callback:function callback(){this.hide()}});graphics.element&&animationManager.setAnimation({el:graphics.element,state:"disappearing",component:dataset,doNotRemove:true,callback:function callback(){this.hide()}})}};AreaDataset.prototype.getLineSegment=function getLineSegment(path,config,type){var dataset=this,xPos=config._Px,yPos=config._Py,baseXPos=config._Pbx,baseYPos=config._Pby,yAxis=dataset.getFromEnv("yAxis"),baseZero=yAxis.getPixel(0),setValue=config.setValue,connectNullData=dataset.getFromEnv("chart").config.connectnulldata;if(type==="zero"){yPos=baseZero;baseYPos=baseZero}else if(type==="base"){yPos=config._Pby}if(setValue===null||setValue.isNull){if(!connectNullData){if(path.pointsJoined>0){if(path.path2Arr[path.path2Arr.length-1]!==Z&&baseYPos!==UNDEF){path.path2Arr.push(Z)}path.pathArr=path.pathArr.concat(path.path2Arr);path.path2Arr=[]}path.temp=[];path.temp2=[];path.lastValidValue=false}}else{if(path.lastValidValue){if(path.temp.length){path.pathArr=path.pathArr.concat(path.temp);if(baseXPos!==UNDEF){path.path2Arr=path.temp2;path.temp2=[]}path.temp=[];path.pointsJoined++}path.pathArr.push([L,xPos,yPos]);if(baseYPos!==UNDEF){path.path2Arr.unshift([L,xPos,baseYPos])}}else{path.temp.push([M,xPos,yPos]);if(baseYPos!==UNDEF){path.temp2.push([L,baseXPos,baseYPos])}path.pointsJoined=0;path.lastValidValue=true}}return path};AreaDataset.prototype.getLinePath=function getLinePath(data,positions,type){var dataset=this,chart=dataset.getFromEnv("chart"),chartConfig=chart.config,i,j,config,baseYPos,length=data.length,dataObj,setValue,startPos=positions&&positions.begin||0,endPos=dataset.getState("visible")?positions&&positions.end||length:0,step=chartConfig.viewPortConfig.step||1,removeDataLen=dataset.removeDataLen||0,dataWithRemovedPaths=[],skippingInfo=dataset.getSkippingInfo&&dataset.getSkippingInfo(),plotDrawArray=skippingInfo&&skippingInfo.draw||[],plotDrawArrayLength=plotDrawArray.length,skippingApplied=skippingInfo&&skippingInfo.skippingApplied,skipIgnorerIndices=dataset.config.skipIgnorerIndices,dataConfigs=[],pathObj={},latestSkipIgnorerIdx=0,prevJ,interimData,interimConfig,interimSetValue;removeDataLen=0;dataWithRemovedPaths=dataWithRemovedPaths.concat(data);if(skippingApplied){startPos=0;endPos=plotDrawArrayLength}for(j=startPos+removeDataLen;j<endPos+removeDataLen;j+=step){i=plotDrawArray[j]||j;dataObj=dataWithRemovedPaths[i];if(!dataObj){continue}config=dataObj.config;setValue=config.setValue;if(setValue===UNDEF||config&&config.isSkipped===true){config&&delete config.isSkipped;continue}if(step>1){while(skipIgnorerIndices[latestSkipIgnorerIdx]<j){interimData=dataWithRemovedPaths[skipIgnorerIndices[latestSkipIgnorerIdx]];if(!interimData){continue}interimConfig=interimData.config;interimSetValue=interimConfig.setValue;if(interimSetValue===UNDEF||interimConfig&&interimConfig.isSkipped===true){interimConfig&&delete interimConfig.isSkipped;continue}dataConfigs=dataConfigs.concat(interimConfig);latestSkipIgnorerIdx++}}dataConfigs=dataConfigs.concat(config);baseYPos=config._Pby;prevJ=j}if(step>1){for(i=prevJ+1;i<=j;i++){dataObj=dataWithRemovedPaths[plotDrawArray[i]||i];if(!dataObj){continue}config=dataObj.config;setValue=config.setValue;if(setValue===UNDEF||config&&config.isSkipped===true){config&&delete config.isSkipped;continue}if(skipIgnorerIndices.includes(i)){dataConfigs=dataConfigs.concat(config);baseYPos=config._Pby}}}pathObj=dataConfigs.reduce(function(path,dataConfig){return dataset.getLineSegment(path,dataConfig,type)},{temp:[],temp2:[],pathArr:[],path2Arr:[],pointsJoined:0,lastValidValue:false,getPathArr:getPathArr});if(pathObj.path2Arr[pathObj.path2Arr.length-1]!==Z&&pathObj.pointsJoined>0&&baseYPos!==UNDEF){pathObj.path2Arr.push(Z)}return pathObj};AreaDataset.prototype._removeDataVisuals=function _removeDataVisuals(dataObj){var dataSet=this,pool=dataSet.components.pool||(dataSet.components.pool={}),elementPool,ele,graphics,graphicsObj;if(!dataObj){return}graphics=dataObj.graphics;for(ele in graphics){elementPool=pool[ele]||(pool[ele]=[]);graphicsObj=graphics[ele];if(graphicsObj.hide&&typeof graphicsObj.hide==="function"){graphicsObj.attr({"text-bound":[]});graphicsObj.hide();graphicsObj.shadow&&graphicsObj.shadow(false)}elementPool.push(graphics[ele])}};AreaDataset.prototype._parseAnchorProperties=function _parseAnchorProperties(i,dataArr){var dataSet=this,conf=dataSet.config,plotType=dataSet.getName(),chart=dataSet.getFromEnv("chart"),anchorAlpha=chart.config.anchoralpha,defaultAnchorVisibility=!chart.config.anchoralpha&&/area/gi.test(plotType)?0:1,JSONData=conf.JSONData,chartAttr=chart.getFromEnv("dataSource").chart,setDataArr=dataArr||JSONData.data||[],setData=setDataArr[i]||{},anchorProps={},showAnchorShadow,anchorAttrsDefined,drawAnchors;anchorAttrsDefined=(0,_lib.pluck)(setData.anchorstartangle,JSONData.anchorstartangle,chartAttr.anchorstartangle,setData.anchorimagealpha,JSONData.anchorimagealpha,chartAttr.anchorimagealpha,setData.anchorimagescale,JSONData.anchorimagescale,chartAttr.anchorimagescale,setData.anchorimagepadding,JSONData.anchorimagepadding,chartAttr.anchorimagepadding,setData.anchorimageurl,JSONData.anchorimageurl,chartAttr.anchorimageurl,setData.anchorradius,JSONData.anchorradius,chartAttr.anchorradius,setData.anchorbgcolor,JSONData.anchorbgcolor,chartAttr.anchorbgcolor,setData.anchorbordercolor,JSONData.anchorbordercolor,chartAttr.anchorbordercolor,setData.anchoralpha,JSONData.anchoralpha,chartAttr.anchoralpha,setData.anchorsides,JSONData.anchorsides,chartAttr.anchorsides,setData.anchorborderthickness,JSONData.anchorborderthickness,chartAttr.anchorborderthickness,UNDEF)!==UNDEF;drawAnchors=(0,_lib.pluckNumber)(setData.drawanchors,conf.drawanchors);if(anchorAttrsDefined){anchorProps.enabled=(0,_lib.pluckNumber)(drawAnchors,anchorAttrsDefined)}else{anchorProps.enabled=(0,_lib.pluckNumber)(drawAnchors,defaultAnchorVisibility)}anchorProps.startAngle=(0,_lib.pluckNumber)(setData.anchorstartangle,conf.anchorstartangle);anchorProps.imageAlpha=(0,_lib.pluckNumber)(setData.anchorimagealpha,conf.anchorimagealpha);anchorProps.imageScale=(0,_lib.pluckNumber)(setData.anchorimagescale,conf.anchorimagescale);anchorProps.imagePadding=(0,_lib.pluckNumber)(setData.anchorimagepadding,conf.anchorimagepadding);if(anchorProps.imagePadding<0){anchorProps.imagePadding=0}anchorProps.imageUrl=(0,_lib.pluck)(setData.anchorimageurl,conf.anchorimageurl);if(anchorProps.imageUrl){conf.imageCount++}anchorProps.radius=anchorProps.enabled?(0,_lib.pluckNumber)(setData.anchorradius,conf.anchorradius):0;anchorProps.isAnchorRadius=(0,_lib.pluck)(setData.anchorradius,JSONData.anchorradius,chartAttr.anchorradius);anchorProps.bgColor=(0,_lib.pluck)(setData.anchorbgcolor,conf.anchorbgcolor);if(!anchorProps.enabled){anchorAlpha=0}else{anchorAlpha=(0,_libGraphics.getFirstAlpha)((0,_lib.pluck)(setData.anchoralpha,conf.anchoralpha,anchorProps.enabled?_lib.HUNDREDSTRING:"0"))}anchorProps.anchorAlpha=anchorAlpha;anchorProps.bgAlpha=(0,_libGraphics.getFirstAlpha)((0,_lib.pluck)(setData.anchorbgalpha,conf.anchorbgalpha,anchorAlpha))*anchorAlpha/100;anchorProps.imageAlpha=anchorProps.imageAlpha*anchorAlpha/100;anchorProps.borderColor=(0,_lib.pluck)(setData.anchorbordercolor,conf.anchorbordercolor);anchorProps.borderAlpha=anchorAlpha;anchorProps.sides=(0,_lib.pluck)(setData.anchorsides,conf.anchorsides);anchorProps.borderThickness=(0,_lib.pluck)(setData.anchorborderthickness,conf.anchorborderthickness);anchorProps.symbol=(0,_libGraphics.mapSymbolName)(anchorProps.sides).split("_");showAnchorShadow=(0,_lib.pluckNumber)(setData.anchorshadow,conf.anchorshadow)&&anchorProps.radius>=1;anchorProps.shadow={opacity:showAnchorShadow?anchorAlpha/100:0};return anchorProps};AreaDataset.prototype._hideGraphics=function _hideGraphics(graphics){var dataset=this,graphicObj,prop;for(prop in graphics){if(graphics.hasOwnProperty(prop)){graphicObj=graphics[prop];if(!graphicObj){continue}if(graphicObj.hide){graphicObj.hide()}else{dataset._hideGraphics(graphicObj)}}}};AreaDataset.prototype._parseHoverEffectOptions=function _parseHoverEffectOptions(dataObj,setData){var dataset=this,JSONData=dataset.config.JSONData,chart=dataset.getFromEnv("chart"),chartAttr=chart.getFromEnv("dataSource").chart,chartConfig=chart.config,config=dataObj.config,conf=dataset.config,anchorProps=config.anchorProps||{},showHoverEffect=chartConfig.plothovereffect,drawAnchors=conf.drawanchors,hoverEffects={enabled:false};setData=setData||{};if(showHoverEffect!==0&&drawAnchors!==0){hoverEffects.enabled=(0,_lib.pluck)(setData.hovercolor,setData.anchorhovercolor,setData.hovercolor,JSONData.hovercolor,setData.anchorbghovercolor,JSONData.anchorbghovercolor,chartAttr.anchorbghovercolor,JSONData.anchorhovercolor,chartAttr.anchorhovercolor,setData.hoveralpha,setData.anchorhoveralpha,JSONData.anchorhoveralpha,chartAttr.anchorhoveralpha,setData.bghoveralpha,setData.anchorbghoveralpha,JSONData.anchorbghoveralpha,chartAttr.anchorbghoveralpha,setData.anchorborderhovercolor,setData.borderhovercolor,JSONData.anchorborderhovercolor,chartAttr.anchorborderhovercolor,setData.anchorborderhoverthickness,setData.borderhoverthickness,JSONData.anchorborderhoverthickness,chartAttr.anchorborderhoverthickness,setData.anchorborderhoveralpha,setData.borderhoveralpha,JSONData.anchorborderhoveralpha,chartAttr.anchorborderhoveralpha,setData.hoverdip,setData.anchorhoverdip,JSONData.anchorhoverdip,chartAttr.anchorhoverdip,setData.anchorhoverstartangle,JSONData.anchorhoverstartangle,chartAttr.anchorhoverstartangle,setData.hoversides,setData.anchorhoversides,JSONData.anchorhoversides,chartAttr.anchorhoversides,setData.hoverradius,setData.anchorhoverradius,JSONData.anchorhoverradius,chartAttr.anchorhoverradius,JSONData.plotfillhovercolor,chartAttr.plotfillhovercolor,chartConfig.plothovereffect,UNDEF)!==UNDEF;hoverEffects.startAngle=(0,_lib.pluckNumber)(setData.anchorhoverstartangle,JSONData.anchorhoverstartangle,chartAttr.anchorhoverstartangle,anchorProps.startAngle);hoverEffects.anchorSides=(0,_lib.pluckNumber)(setData.hoversides,setData.anchorhoversides,JSONData.anchorhoversides,chartAttr.anchorhoversides,anchorProps.sides);hoverEffects.anchorRadius=(0,_lib.pluckNumber)(setData.anchorhoverradius,JSONData.anchorhoverradius,chartAttr.anchorhoverradius);hoverEffects.isAnchorHoverRadius=hoverEffects.anchorRadius;hoverEffects.anchorRadius=(0,_lib.pluckNumber)(hoverEffects.anchorRadius,anchorProps.radius+(showHoverEffect?2:0));hoverEffects.anchorScale=(0,_lib.pluck)(setData.hoverscale,JSONData.anchorscale,chartAttr.anchorscale);hoverEffects.imageHoverScale=(0,_lib.pluckNumber)(setData.anchorimagehoverScale,JSONData.anchorimagehoverscale,chartAttr.anchorimagehoverscale,110);hoverEffects.imageHoverAlpha=(0,_lib.pluckNumber)(setData.anchorimagehoveralpha,JSONData.anchorimaghoverealpha,chartAttr.anchorimagehoveralpha);hoverEffects.anchorAlpha=(0,_lib.pluck)(setData.anchorhoveralpha,setData.hoveralpha,JSONData.anchorhoveralpha,chartAttr.anchorhoveralpha,anchorProps.anchorAlpha);hoverEffects.anchorColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.hovercolor,setData.anchorhovercolor,setData.hoverColor,setData.anchorbghovercolor,JSONData.anchorbghovercolor,JSONData.anchorhovercolor,JSONData.hovercolor,chartAttr.anchorbghovercolor,chartAttr.anchorhovercolor,chartAttr.plotfillhovercolor,anchorProps.bgColor));hoverEffects.anchorBgAlpha=(0,_lib.pluck)(setData.bghoveralpha,setData.anchorbghoveralpha,JSONData.anchorbghoveralpha,chartAttr.anchorbghoveralpha,chartAttr.plotfillhoveralpha,anchorProps.bgAlpha);hoverEffects.anchorBgAlpha=hoverEffects.anchorBgAlpha*hoverEffects.anchorAlpha/100;hoverEffects.anchorBorderColor=(0,_lib.pluck)(setData.borderhovercolor,setData.anchorborderhovercolor,JSONData.anchorborderhovercolor,chartAttr.anchorborderhovercolor,anchorProps.borderColor);hoverEffects.anchorBorderAlpha=(0,_lib.pluck)(setData.borderhoveralpha,setData.anchorborderhoveralpha,JSONData.anchorborderhoveralpha,chartAttr.anchorborderhoveralpha,hoverEffects.anchorAlpha,anchorProps.borderAlpha);hoverEffects.anchorBorderThickness=(0,_lib.pluckNumber)(setData.borderhoverthickness,setData.anchorborderhoverthickness,JSONData.anchorborderhoverthickness,chartAttr.anchorborderhoverthickness,chartAttr.anchorBorderThickness,anchorProps.borderThickness);hoverEffects.dip=(0,_lib.pluck)(setData.hoverdip,setData.anchorhoverdip,JSONData.anchorhoverdip,chartAttr.anchorhoverdip,anchorProps.dip);hoverEffects.anchorAnimation=(0,_lib.pluckNumber)(setData.anchorhoveranimation,JSONData.anchorhoveranimation,chartAttr.anchorhoveranimation,1)}return hoverEffects};AreaDataset.prototype._hoverPlotAnchor=function _hoverPlotAnchor(plotItem,eventType){var dataset=this,smartLabel=dataset.getFromEnv("smartLabel"),canvas=dataset.getFromEnv("chart").getChildren("canvas")[0],canvasDimension=canvas.getEffectiveDimensions(),canvasTop=canvasDimension.top,canvasBottom=canvasTop+canvasDimension.height,plotY=plotItem.config._Py,labelHeight,labelDim,animationManager=dataset.getFromEnv("animationManager"),sharedAnchor=dataset.getGraphicalElement("sharedAnchor"),plotElem=plotItem.graphics.element||sharedAnchor,valElem=plotItem.graphics.label,config=plotItem.config||{},anchorAlpha=config.anchorProps.anchorAlpha,anchorImageUrl=config&&config.anchorProps.imageUrl,plotElemImage=isVML&&anchorImageUrl?plotItem.graphics.element:plotItem.graphics.image,isImg=plotElem.type==="image",anchorRadius=plotElem.data("anchorRadius"),anchorHoverRadius=plotElem.data("anchorHoverRadius"),elemHoverAttr=plotElem.data(SETROLLOVERATTR),elemUnHoverAttr=plotElem.data(SETROLLOUTATTR),radiusDiff=valElem&&(valElem.data("isBelow")?1:-1)*(isImg?(elemHoverAttr.height-elemUnHoverAttr.height)*.5:anchorHoverRadius-anchorRadius),selectedAttr=eventType===ROLLOVER?elemHoverAttr:elemUnHoverAttr,animationImageAttr,elemImageHoverAttr,elemImageUnHoverAttr,isVisible=true,animationAttr={path:selectedAttr.path},shiftValues=1,staticAttr={fill:selectedAttr.fill,"stroke-width":selectedAttr["stroke-width"],stroke:selectedAttr.stroke},rotation=valElem&&valElem.data("rotation")||"",valAnimation;labelDim=smartLabel.getOriSize(config.displayValue);labelHeight=labelDim.height;if(plotY-3*labelHeight/2+radiusDiff<canvasTop){radiusDiff=canvasTop-plotY+3*labelHeight/2}else if(plotY+3*labelHeight/2+radiusDiff>canvasBottom){radiusDiff=canvasBottom-plotY-3*labelHeight/2}valAnimation={transform:"T0,"+(eventType===ROLLOVER?radiusDiff:0)+rotation};animationManager.setAnimationState(eventType===ROLLOVER?MOUSEOVER:MOUSEOUT);if(plotElemImage){elemImageHoverAttr=plotElemImage.data(SETROLLOVERATTR);elemImageUnHoverAttr=plotElemImage.data(SETROLLOUTATTR);animationImageAttr=eventType==ROLLOVER?elemImageHoverAttr:elemImageUnHoverAttr;animationImageAttr.alpha*=.01}if(isImg){animationAttr.alpha*=.01}else{Object.assign(animationAttr,staticAttr)}if(eventType===ROLLOVER&&!anchorHoverRadius||eventType===ROLLOUT&&!anchorRadius){isVisible=false}animationManager.setAnimation({el:plotElem,label:"anchor",component:dataset,doNotRemove:true,callback:function callback(){!isVisible&&plotElem.hide()},attr:isVisible&&animationAttr});isVisible&&plotElem.show();if(plotElemImage){animationManager.setAnimation({el:plotElemImage,label:"anchor",component:dataset,attr:isVisible&&animationImageAttr});isVisible&&plotElemImage.show()}if(plotItem.graphics&&plotItem.graphics.element||sharedAnchor&&sharedAnchor.element){anchorAlpha&&shiftValues&&valElem&&animationManager.setAnimation({el:valElem,label:"label",component:dataset,doNotRemove:true,attr:valAnimation})}};AreaDataset.prototype.drawLabel=function drawLabel(start,end){var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,SmartLabel=dataSet.getFromEnv("smartLabel"),style=chart.config.dataLabelStyle,dataStore=dataSet.components.data,paper=dataSet.getFromEnv("paper"),animationManager=dataSet.getFromEnv("animationManager"),displayValue="",rotateValues=chartConfig.rotatevalues?270:0,dataLabelContainer=dataSet.getContainer("labelGroup"),graphic,textY,textX,config,showValue,labelElement,labelStyle,dataObj,i,j,setValue,attr,tempGraphics,visible=dataSet.getState("visible"),len=dataStore.length,showLabel,skipInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo(),skippingApplied=skipInfo&&skipInfo.skippingApplied,plotDrawArray=skipInfo&&skipInfo.labelDraw||[],plotDrawArrayLength=plotDrawArray.length,startIndex=(0,_lib.pluckNumber)(start,0),endIndex=(0,_lib.pluckNumber)(end,skippingApplied?plotDrawArrayLength:len),notParticularLabeDraw=plotDrawArrayLength===Math.abs(endIndex-(startIndex+1));labelStyle={"font-weight":style.fontWeight,"font-style":style.fontStyle,"font-family":style.fontFamily,"font-size":style.fontSize,"line-height":style.lineHeight};SmartLabel.setStyle(labelStyle);for(j=startIndex;j<endIndex;j++){i=skippingApplied&&notParticularLabeDraw?plotDrawArray[j]:j;dataObj=dataStore[i];config=dataObj&&dataObj.config;setValue=config&&config.setValue;if(dataObj===UNDEF||setValue===UNDEF||setValue===null||config.labelSkip===true){config&&delete config.labelSkip;tempGraphics=dataObj&&dataObj.graphics;if(tempGraphics&&tempGraphics.label){tempGraphics.label=animationManager.setAnimation({el:tempGraphics.label,component:dataSet})}continue}graphic=dataObj.graphics;displayValue=config.displayValue;showValue=config.showValue;labelElement=graphic.label;attr=config.props.label.attr;showLabel=defined(displayValue)&&showValue&&visible;if(showLabel){textX=config.props.label.attr.x;textY=config.props.label.attr.y;attr.transform=paper.getSuggestiveRotation(rotateValues,textX,textY);graphic.label=labelElement=animationManager.setAnimation({el:labelElement||"text",container:dataLabelContainer,component:dataSet,attr:attr,label:"label"});labelElement.data("isBelow",config._valueBelowPoint);labelElement.data("rotation",attr.transform)}else if(labelElement){graphic.label=animationManager.setAnimation({el:labelElement,component:dataSet,label:"label"})}}};AreaDataset.prototype.getAxisValuePadding=function getAxisValuePadding(){return this.config.defaultPadding};AreaDataset.prototype._hoverFunc=function _hoverFunc(dataObj,state,hoverEnabled,chartAttr){if(hoverEnabled){return this._hoverPlotAnchor(dataObj,state,chartAttr)}};AreaDataset.prototype._onAnchorImageLoad=function _onAnchorImageLoad(dataObject){var dataset=this;return function(){var i=dataObject._index;_imageDrawHelper(dataset,dataObject);dataset.config.drawn?dataset.drawLabel(i,i+1):dataset.addJob(LABELUPDATEONIMAGELOADID+i,function(){dataset.drawLabel(i,i+1)},_schedular.priorityList.label)}};return AreaDataset}(_column2["default"]);exports["default"]=AreaDataset},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"*.dataset.area":function datasetArea(){return{"anchor.appearing":[{initialAttr:{opacity:0},finalAttr:{opacity:1},startEnd:{start:.5,end:1},slot:"plot"}],"anchor.updating":[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],"anchor.disappearing":[{finalAttr:{opacity:0,"fill-opacity":0,"stroke-opacity":0},slot:"final"}],"line.appearing":function lineAppearing(inputJSON){var dataset=inputJSON.component,dataStore=dataset.components.data,isStacked=dataset.getFromEnv("chartConfig").isstacked,is3D=dataset.getFromEnv("chartConfig").is3D,initialPath=dataset.getLinePath(dataStore,null,isStacked||is3D?"base":"zero"),finalAttr=inputJSON.attr,length=dataset.getState("_total"),i=dataset.config._childIndex;return[{initialAttr:{opacity:0,path:initialPath.getPathArr()},finalAttr:{opacity:1,path:finalAttr.path},startEnd:{start:isStacked?.5/length*i:0,end:isStacked?.5/length*(i+1):.5},slot:"plot",hookFn:function hookFn(){this.attr({opacity:1})}}]},"label.appearing":[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],"label.updating":function labelUpdating(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]},"group.appearing":function groupAppearing(inputJSON){if(inputJSON.attr.name==="label-group"){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]}else if(inputJSON.attr.name==="plot-group"){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},startEnd:{start:.5,end:1},slot:"plot"}]}else{return[{initialAttr:{opacity:1},finalAttr:{opacity:1},slot:"final"}]}},"*":null}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"*.dataset.line":function datasetLine(){var dataset=this,clipCanvas=dataset.getClip("canvas"),clipCanvasInit=dataset.getClip("init");return{"anchor.appearing":function anchorAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]},"anchor.updating":function anchorUpdating(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"plot"}]},"anchor.disappearing":function anchorDisappearing(){return[{finalAttr:{opacity:0,"fill-opacity":0,"stroke-opacity":0},slot:"plot"}]},"line.appearing":function lineAppearing(){return[{initialAttr:{"clip-rect":clipCanvasInit},finalAttr:{"clip-rect":clipCanvas},slot:"middle",callback:function callback(){this.attr({"clip-rect":null})}}]},"line.updating":function lineUpdating(){return[{initialAttr:{opacity:1,"clip-rect":clipCanvasInit},finalAttr:{opacity:1,"clip-rect":clipCanvas},slot:"plot"}]},"label.appearing":[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],"group.appearing":function groupAppearing(inputJSON){if(inputJSON.attr.name==="label-group"){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]}else if(inputJSON.attr.name==="plot-group"){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},startEnd:{start:.5,end:1},slot:"plot"}]}else{return[{initialAttr:{opacity:1},finalAttr:{opacity:1},slot:"final"}]}},"*":null}}}},,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.__postSpaceManagement=exports.__spaceManager=exports.__feedAxesRawData=undefined;var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);var _column=__webpack_require__(331);var _column2=_interopRequireDefault(_column);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}function __feedAxesRawData(){var iapi=this,chartConfig=iapi.config,colorM=iapi.getFromEnv("color-manager"),dataObj=iapi.getFromEnv("dataSource"),chartAttrs=dataObj.chart,xAxisConf,yAxisConf,is3D=iapi.config.is3D,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D;xAxisConf={isVertical:true,isReverse:false,isOpposit:false,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,"Verdana,sans"),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisNamePadding:chartAttrs.xaxisnamepadding,maxLabelWidthPercent:chartAttrs.maxlabelwidthpercent,minLabelWidthPercent:chartAttrs.minlabelwidthpercent,axisValuePadding:chartAttrs.labelpadding,axisNameFont:chartAttrs.xaxisnamefont,axisNameFontSize:chartAttrs.xaxisnamefontsize,axisNameFontColor:chartAttrs.xaxisnamefontcolor,axisNameFontBold:chartAttrs.xaxisnamefontbold,axisNameFontItalic:chartAttrs.xaxisnamefontitalic,axisNameBgColor:chartAttrs.xaxisnamebgcolor,axisNameBorderColor:chartAttrs.xaxisnamebordercolor,axisNameAlpha:chartAttrs.xaxisnamealpha,axisNameFontAlpha:chartAttrs.xaxisnamefontalpha,axisNameBgAlpha:chartAttrs.xaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.xaxisnameborderalpha,axisNameBorderPadding:chartAttrs.xaxisnameborderpadding,axisNameBorderRadius:chartAttrs.xaxisnameborderradius,axisNameBorderThickness:chartAttrs.xaxisnameborderthickness,axisNameBorderDashed:chartAttrs.xaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.xaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.xaxisnameborderdashgap,axisNameWidth:chartAttrs.xaxisnamewidth,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,divLineColor:(0,_lib.pluck)(chartAttrs.vdivlinecolor,chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.vdivlinealpha,chartAttrs.divlinealpha,is3D?colorM.getColor("divLineAlpha3D"):colorM.getColor("divLineAlpha")),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.vdivlinethickness,chartAttrs.divlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.vdivlinedashed,chartAttrs.vdivlineisdashed,chartAttrs.divlinedashed,chartAttrs.divlineisdashed,0)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.vdivlinedashlen,chartAttrs.divlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.vdivlinedashgap,chartAttrs.divlinedashgap,2),showAlternateGridColor:0,alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatehgridcolor,colorM.getColor("altHGridColor")),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatehgridalpha,colorM.getColor("altHGridAlpha")),numDivLines:chartAttrs.numvdivlines,labelFont:chartAttrs.labelfont,labelFontSize:chartAttrs.labelfontsize,labelFontColor:chartAttrs.labelfontcolor,labelFontAlpha:chartAttrs.labelalpha,labelFontBold:chartAttrs.labelfontbold,labelFontItalic:chartAttrs.labelfontitalic,axisName:chartAttrs.xaxisname,axisMinValue:chartAttrs.xaxisminvalue,axisMaxValue:chartAttrs.xaxismaxvalue,setAdaptiveMin:chartAttrs.setadaptivexmin,adjustDiv:chartAttrs.adjustvdiv,labelDisplay:chartAttrs.labeldisplay,showLabels:chartAttrs.showlabels,rotateLabels:chartAttrs.rotatelabels,slantLabel:(0,_lib.pluckNumber)(chartAttrs.slantlabels,chartAttrs.slantlabel),labelStep:(0,_lib.pluckNumber)(chartAttrs.labelstep,chartAttrs.xaxisvaluesstep),showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showxaxisvalues,chartAttrs.showxaxisvalue),showLimits:chartAttrs.showvlimits,showDivLineValues:(0,_lib.pluckNumber)(chartAttrs.showvdivlinevalues,chartAttrs.showvdivlinevalues),zeroPlaneColor:chartAttrs.vzeroplanecolor,zeroPlaneThickness:(0,_lib.pluckNumber)(chartAttrs.vzeroplanethickness,chartAttrs.vdivlinethickness,2),zeroPlaneAlpha:(0,_lib.pluckNumber)(chartAttrs.vzeroplanealpha,chartAttrs.vdivlinealpha,chartConfig.zeroplanealpha),showZeroPlaneValue:chartAttrs.showvzeroplanevalue,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,rotateAxisName:(0,_lib.pluckNumber)(chartAttrs.rotatexaxisname,1),trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,showAxisLine:is3D?0:(0,_lib.pluckNumber)(chartAttrs.showxaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0),axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.xaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.xaxislinealpha,chartAttrs.axislinealpha,100),axisLineColor:(0,_lib.pluck)(chartAttrs.xaxislinecolor,chartAttrs.axislinecolor,"#000000")};yAxisConf={isVertical:false,isReverse:false,isOpposit:false,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,"Verdana,sans"),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisNamePadding:chartAttrs.yaxisnamepadding,axisValuePadding:chartAttrs.yaxisvaluespadding,axisNameFont:chartAttrs.yaxisnamefont,axisNameFontSize:chartAttrs.yaxisnamefontsize,axisNameFontColor:chartAttrs.yaxisnamefontcolor,axisNameFontBold:chartAttrs.yaxisnamefontbold,axisNameFontItalic:chartAttrs.yaxisnamefontitalic,axisNameBgColor:chartAttrs.yaxisnamebgcolor,axisNameBorderColor:chartAttrs.yaxisnamebordercolor,axisNameAlpha:chartAttrs.yaxisnamealpha,axisNameFontAlpha:chartAttrs.yaxisnamefontalpha,axisNameBgAlpha:chartAttrs.yaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.yaxisnameborderalpha,axisNameBorderPadding:chartAttrs.yaxisnameborderpadding,axisNameBorderRadius:chartAttrs.yaxisnameborderradius,axisNameBorderThickness:chartAttrs.yaxisnameborderthickness,axisNameBorderDashed:chartAttrs.yaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.yaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.yaxisnameborderdashgap,axisNameWidth:chartAttrs.yaxisnamewidth,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,axisName:chartAttrs.yaxisname,divLineColor:(0,_lib.pluck)(chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.divlinealpha,is3D?colorM.getColor("divLineAlpha3D"):colorM.getColor("divLineAlpha")),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.divlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.divlinedashed,chartAttrs.divlineisdashed,0)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.divlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.divlinedashgap,2),showAlternateGridColor:(0,_lib.pluckNumber)(chartAttrs.showalternatevgridcolor,1),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatevgridcolor,colorM.getColor("altVGridColor")),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatevgridalpha,colorM.getColor("altVGridAlpha")),numDivLines:chartAttrs.numdivlines,axisMinValue:chartAttrs.yaxisminvalue,axisMaxValue:chartAttrs.yaxismaxvalue,setAdaptiveMin:chartAttrs.setadaptiveymin,adjustDiv:chartAttrs.adjustdiv,labelStep:chartAttrs.yaxisvaluesstep,showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showyaxisvalues,chartAttrs.showyaxisvalue),showLimits:(0,_lib.pluckNumber)(chartAttrs.showyaxislimits,chartAttrs.showlimits,iapi.showLimits),showDivLineValues:(0,_lib.pluckNumber)(chartAttrs.showdivlinevalues,chartAttrs.showdivlinevalue),zeroPlaneColor:chartAttrs.zeroplanecolor,zeroPlaneThickness:(0,_lib.pluckNumber)(chartAttrs.zeroplanethickness,chartAttrs.divlinethickness,2),zeroPlaneAlpha:(0,_lib.pluckNumber)(chartAttrs.zeroplanealpha,chartAttrs.divlinealpha,chartConfig.zeroplanealpha),showZeroPlaneValue:chartAttrs.showzeroplanevalue,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,isTrendZone:0,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,showAxisLine:is3D?0:(0,_lib.pluckNumber)(chartAttrs.showyaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0),axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.yaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.yaxislinealpha,chartAttrs.axislinealpha,100),axisLineColor:(0,_lib.pluck)(chartAttrs.yaxislinecolor,chartAttrs.axislinecolor,"#000000"),numberFormatterFn:"yAxis",showZeroPlaneOnTop:chartConfig.showzeroplaneontop,forceTrendBelow:!!chartConfig.is3D};yAxisConf.vtrendlines=dataObj.trendlines;xAxisConf.trendlines=dataObj.vtrendlines;if(chartConfig.isstacked){yAxisConf.isPercent=(0,_lib.pluckNumber)(chartConfig.stack100percent,0)}return{xAxisConf:[xAxisConf],yAxisConf:[yAxisConf]}}function __spaceManager(){var availableWidth,availableHeight,iapi=this,config=iapi.config,children=iapi.getChildren(),xAxis=children.yAxis&&children.yAxis[0],yAxisArr=children.xAxis&&children.xAxis||[],yAxis,POSITION_BOTTOM=_lib.preDefStr.POSITION_BOTTOM,legendPosition=config.legendposition,xDepth=config.xDepth,yDepth=config.yDepth,canvas=children.canvas[0],canvasBgDepth=config.canvasBgDepth,canvasBaseDepth=config.canvasBaseDepth,canvasBasePadding=config.canvasBasePadding,canvasBorderWidth=children.canvas[0].config.canvasBorderWidth,showRTValue=config.realTimeConfig&&config.realTimeConfig.showRTValue,chartBorderWidth=config.borderWidth,canvasMarginTop=config.canvasMarginTop,canvasMarginBottom=config.canvasMarginBottom,canvasMarginLeft=config.canvasMarginLeft,canvasMarginRight=config.canvasMarginRight,minCanvasHeight=config.minCanvasHeight,minCanvasWidth=config.minCanvasWidth,minChartWidth=config.minChartWidth,minChartHeight=config.minChartHeight,height=config.height,width=config.width,diff,heightAdjust=false,widthAdjust=false,top,bottom,left,right,currentCanvasHeight,currentCanvasWidth,origCanvasTopMargin=config.origCanvasTopMargin,origCanvasBottomMargin=config.origCanvasBottomMargin,origCanvasLeftMargin=config.origCanvasLeftMargin,origCanvasRightMargin=config.origCanvasRightMargin,chartBorderHorizontal,chartBorderVertical,canvasBorderHorizontal,actionBarSpace,spaceForActionBar,canvasBorderVertical,yAxisSpaceAllocation,xAxisSpaceAllocation,sum;if(config.canvasWidth-2*chartBorderWidth<minChartWidth){chartBorderVertical=(config.canvasWidth-minChartWidth)/2}if(config.canvasHeight-2*chartBorderWidth<minChartHeight){chartBorderHorizontal=(config.canvasHeight-minChartHeight)/2}iapi._allocateSpace({top:chartBorderHorizontal||chartBorderWidth,bottom:chartBorderHorizontal||chartBorderWidth,left:chartBorderVertical||chartBorderWidth,right:chartBorderVertical||chartBorderWidth});yAxis=yAxisArr[0];availableWidth=config.availableWidth*.7;config.yAxisSpaceAllocation=yAxisSpaceAllocation=yAxis&&yAxis.placeAxis(availableWidth);yAxis&&iapi._allocateSpace(yAxisSpaceAllocation);spaceForActionBar=config.availableHeight*.225;actionBarSpace=iapi._manageActionBarSpace&&iapi._manageActionBarSpace(spaceForActionBar)||{};iapi._allocateSpace(actionBarSpace);iapi._manageLegendSpace&&iapi._manageLegendSpace();availableHeight=legendPosition===POSITION_BOTTOM?config.availableHeight*.6:config.availableWidth*.6;if(yDepth){iapi._allocateSpace({left:yDepth});config.shift=xDepth+canvasBasePadding+canvasBaseDepth}if(canvasBgDepth){iapi._allocateSpace({top:canvasBgDepth})}if(config.canvasWidth-2*canvasBorderWidth<minCanvasWidth){canvasBorderVertical=(config.canvasWidth-minCanvasWidth)/2}iapi._allocateSpace({left:canvasBorderVertical||canvasBorderWidth,right:canvasBorderVertical||canvasBorderWidth});if(minCanvasWidth>width-canvasMarginLeft-canvasMarginRight){widthAdjust=true;diff=config.canvasWidth-minCanvasWidth;sum=canvasMarginLeft+canvasMarginRight;canvasMarginLeft=config.canvasMarginLeft=diff*canvasMarginLeft/sum;canvasMarginRight=config.canvasMarginRight=diff*canvasMarginRight/sum}left=canvasMarginLeft>config.canvasLeft?canvasMarginLeft-config.canvasLeft:0;right=canvasMarginRight>width-config.canvasRight?canvasMarginRight+config.canvasRight-width:0;iapi._allocateSpace({left:left,right:right});iapi._allocateSpace({left:canvasBaseDepth});if(widthAdjust){sum=origCanvasLeftMargin+origCanvasRightMargin;currentCanvasWidth=config.canvasWidth;if(currentCanvasWidth>minCanvasWidth){diff=currentCanvasWidth-minCanvasWidth;left=diff*origCanvasLeftMargin/sum;right=diff*origCanvasRightMargin/sum}iapi._allocateSpace({left:left,right:right})}config.actualCanvasMarginRight=right;config.actualCanvasMarginBottom=bottom;iapi._manageChartMenuBar(availableHeight);availableHeight=config.availableHeight*.2;iapi._allocateSpace(iapi._getSumValueSpace(availableHeight));availableHeight=config.availableHeight*.3;if(config.realtimeEnabled){if(showRTValue){iapi._allocateSpace(iapi._realTimeValuePositioning(availableHeight))}else{iapi._hideRealTimeValue()}}availableHeight=config.availableHeight*.6;config.xAxisSpaceAllocation=xAxisSpaceAllocation=xAxis&&xAxis.placeAxis(availableHeight);xAxis&&iapi._allocateSpace(xAxisSpaceAllocation);availableHeight=config.availableHeight*.3;iapi._manageScrollerPosition&&iapi._manageScrollerPosition(availableHeight);if(config.canvasHeight-2*canvasBorderWidth<minCanvasHeight){canvasBorderHorizontal=(config.canvasHeight-minCanvasHeight)/2}iapi._allocateSpace({top:canvasBorderHorizontal||canvasBorderWidth,bottom:canvasBorderHorizontal||canvasBorderWidth});if(minCanvasHeight>height-canvasMarginTop-canvasMarginBottom){heightAdjust=true;diff=config.canvasHeight-minCanvasHeight;sum=canvasMarginTop+canvasMarginBottom;canvasMarginTop=config.canvasMarginTop=diff*canvasMarginTop/sum;canvasMarginBottom=config.canvasMarginBottom=diff*canvasMarginBottom/sum}top=canvasMarginTop>config.canvasTop?canvasMarginTop-config.canvasTop:0;bottom=canvasMarginBottom>height-config.canvasBottom?canvasMarginBottom+config.canvasBottom-height:0;iapi._allocateSpace({top:top,bottom:bottom});if(heightAdjust){sum=origCanvasTopMargin+origCanvasBottomMargin;currentCanvasHeight=config.canvasHeight;if(currentCanvasHeight>minCanvasHeight){diff=currentCanvasHeight-minCanvasHeight;top=diff*origCanvasTopMargin/sum;bottom=diff*origCanvasBottomMargin/sum}iapi._allocateSpace({top:top,bottom:bottom})}config.actualCanvasMarginTop=top;config.actualCanvasMarginLeft=left;canvas.setDimension({top:config.canvasTop,left:config.canvasLeft,width:config.canvasWidth,height:config.canvasHeight})}function __postSpaceManagement(){var iapi=this,config=iapi.config,children=iapi.getChildren(),xAxis=children.xAxis&&children.xAxis[0],yAxis=children.yAxis&&children.yAxis[0],legend=children.legend&&children.legend[0],xDepth=config.xDepth,canvasConfig=children.canvas[0].config,canvasBorderWidth=canvasConfig.canvasBorderWidth,canvasPadding=canvasConfig.canvasPadding,canvasPaddingLeft,math=Math,mathMax=math.max,canvasPaddingRight,canvasPaddingTop,canvasPaddingBottom;yAxis&&iapi._allocateXAxisLabelSpace(yAxis);canvasPaddingLeft=canvasConfig.canvasPaddingLeft;canvasPaddingRight=canvasConfig.canvasPaddingRight;canvasPaddingTop=canvasConfig.canvasPaddingTop;canvasPaddingBottom=canvasConfig.canvasPaddingBottom;yAxis&&yAxis.setAxisDimention({x:canvasConfig.canvasLeft+canvasPaddingLeft,y:canvasConfig.canvasTop+canvasConfig.canvasHeight+canvasBorderWidth,opposite:canvasConfig.canvasTop-canvasBorderWidth,axisLength:canvasConfig.canvasWidth-canvasPaddingLeft-canvasPaddingRight});xAxis&&xAxis.setAxisDimention({x:canvasConfig.canvasLeft-(config.shift||0)-canvasBorderWidth,y:canvasConfig.canvasTop+(xDepth||0)+mathMax(canvasPaddingTop,canvasPadding),opposite:canvasConfig.canvasRight+canvasBorderWidth,axisLength:canvasConfig.canvasHeight-(xDepth||0)-mathMax(canvasPaddingTop,canvasPadding)-mathMax(canvasPaddingBottom,canvasPadding)});legend&&legend.postSpaceManager()}var MSBarCartesian=function(_MSCartesian){_inherits(MSBarCartesian,_MSCartesian);function MSBarCartesian(){_classCallCheck(this,MSBarCartesian);return _possibleConstructorReturn(this,_MSCartesian.apply(this,arguments))}MSBarCartesian.prototype.getName=function getName(){return"MSBarCartesian"};MSBarCartesian.getName=function getName(){return"MSBarCartesian"};MSBarCartesian.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);this.config.enablemousetracking=true};MSBarCartesian.prototype._feedAxesRawData=function _feedAxesRawData(){return __feedAxesRawData.call(this)};MSBarCartesian.prototype._spaceManager=function _spaceManager(){__spaceManager.call(this)};MSBarCartesian.prototype._postSpaceManagement=function _postSpaceManagement(){__postSpaceManagement.call(this)};MSBarCartesian.prototype.getDSdef=function getDSdef(){return _column2["default"]};MSBarCartesian.prototype.getDSGroupdef=function getDSGroupdef(){};return MSBarCartesian}(_mscartesian2["default"]);exports.__feedAxesRawData=__feedAxesRawData;exports.__spaceManager=__spaceManager;exports.__postSpaceManagement=__postSpaceManagement;exports["default"]=MSBarCartesian},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _cartesian=__webpack_require__(259);var _cartesian2=_interopRequireDefault(_cartesian);var _legendSpacemanager=__webpack_require__(355);var _multiseriesDataset=__webpack_require__(356);var _multiseriesDataset2=_interopRequireDefault(_multiseriesDataset);var _legend=__webpack_require__(357);var _legend2=_interopRequireDefault(_legend);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var MSCartesian=function(_Cartesian){_inherits(MSCartesian,_Cartesian);function MSCartesian(){_classCallCheck(this,MSCartesian);var _this=_possibleConstructorReturn(this,_Cartesian.call(this));_this.registerFactory("dataset",_multiseriesDataset2["default"],["vCanvas"]);_this.registerFactory("legend",_legend2["default"]);return _this}MSCartesian.getName=function getName(){return"MSCartesian"};MSCartesian.prototype.getName=function getName(){return"MSCartesian"};MSCartesian.prototype.getType=function getType(){return"chartAPI"};MSCartesian.prototype._createLayers=function _createLayers(){_Cartesian.prototype._createLayers.call(this);var animationManager=this.getFromEnv("animationManager");!this.getChildContainer("legendGroup")&&this.addChildContainer("legendGroup",animationManager.setAnimation({el:"group",attr:{name:"legend"},component:this,container:this.getContainer("parentgroup"),label:"group"}))};MSCartesian.prototype._manageLegendSpace=function _manageLegendSpace(){_legendSpacemanager._manageLegendSpace.call(this)};MSCartesian.prototype.manageGradientLegendSpace=function manageGradientLegendSpace(allottedSpace){return _legendSpacemanager.manageGradientLegendSpace.call(this,allottedSpace)};return MSCartesian}(_cartesian2["default"]);exports["default"]=MSCartesian},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.manageGradientLegendSpace=exports._manageLegendSpace=undefined;var _lib=__webpack_require__(118);function _manageLegendSpace(){var iapi=this,config=iapi.config,legend=iapi.getChildren("legend")&&iapi.getChildren("legend")[0],gradientLegend=iapi.getChildren("gLegend")&&iapi.getChildren("gLegend")[0],conf,colorRangeObj=iapi.getFromEnv("dataSource").colorrange,hasLegend=config.hasLegend,spaceTakenByLegend={},hasGradientLegend=iapi.hasGradientLegend,legendPosition,allottedSpace,factor,chartAttr=iapi.getFromEnv("dataSource").chart,mapByCategory=(0,_lib.pluckNumber)(chartAttr.mapbycategory,0),isGradient=hasGradientLegend&&colorRangeObj&&(0,_lib.pluckNumber)(colorRangeObj.gradient);if(isGradient&&!mapByCategory){conf=gradientLegend.conf;hasGradientLegend=true;config.gLegendEnabled=true;factor=.5;legendPosition=conf.legendPosition}else{conf=legend&&legend.config;hasGradientLegend=false;config.gLegendEnabled=false;legendPosition=conf&&conf.legendPos;factor=legendPosition===_lib.POSITION_RIGHT?.8:.4}if(legendPosition===_lib.POSITION_RIGHT){allottedSpace=config.availableWidth*factor}else{allottedSpace=config.availableHeight*factor}if(hasGradientLegend){spaceTakenByLegend=iapi.manageGradientLegendSpace(allottedSpace)}else{if(hasLegend!==false&&legend&&!legend.getState("removed")){spaceTakenByLegend=legend&&legend._manageLegendPosition(allottedSpace)}}iapi._allocateSpace({bottom:spaceTakenByLegend&&spaceTakenByLegend.bottom||0,right:spaceTakenByLegend&&spaceTakenByLegend.right||0})}function manageGradientLegendSpace(allottedSpace){var iapi=this,config=iapi.config,gradientLegend=iapi.getFromEnv("gLegend"),conf=gradientLegend&&gradientLegend.conf,legendPosition,returnDimension,gLegendPadding,spaceUsed;config.gLegendPadding=(0,_lib.pluckNumber)(iapi.getFromEnv("chart-attrib").legendpadding,10);gLegendPadding=Math.min(config.gLegendPadding,.5*allottedSpace);if(conf){legendPosition=conf.legendPosition;spaceUsed=gradientLegend.getLogicalSpace(allottedSpace);if(legendPosition===_lib.POSITION_BOTTOM){returnDimension={bottom:(spaceUsed.height||0)+gLegendPadding}}else{returnDimension={right:(spaceUsed.width||0)+gLegendPadding}}}else{returnDimension={bottom:0,right:0}}return returnDimension}exports._manageLegendSpace=_manageLegendSpace;exports.manageGradientLegendSpace=manageGradientLegendSpace},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var jsonData=chart.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset,children=chart.getChildren(),canvas=children.canvas[0],vCanvas=void 0,datasetParent=vCanvas=canvas.getChildren("vCanvas")[0],DSClass=void 0,MultiSeriesManager=void 0,dsType=chart.config.defaultDatasetType||"",groupManager=void 0;if(!datasetsJSON){chart.setChartMessage();return}MultiSeriesManager=chart.getDSGroupdef();if(MultiSeriesManager){(0,_lib.componentFactory)(vCanvas,MultiSeriesManager,"datasetGroup_"+dsType,1,[datasetsJSON]);groupManager=vCanvas.getChildren("datasetGroup_"+dsType)}groupManager&&(datasetParent=groupManager[0]);DSClass=chart.getDSdef();(0,_lib.datasetFactory)(datasetParent,DSClass,"dataset",datasetsJSON.length,datasetsJSON)};var _lib=__webpack_require__(118)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var legend=void 0;(0,_lib.componentFactory)(chart,_legend2["default"],"legend");legend=chart.getChildren("legend")[0];legend.configure();chart.addToEnv("legend",legend);if(!chart.config.showLegend){legend.remove()}};var _lib=__webpack_require__(118);var _legend=__webpack_require__(358);var _legend2=_interopRequireDefault(_legend);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _legendItem=__webpack_require__(359);var _legendItem2=_interopRequireDefault(_legendItem);var _dependencyManager=__webpack_require__(125);var _legendAnimation=__webpack_require__(361);var _legendAnimation2=_interopRequireDefault(_legendAnimation);var _schedular=__webpack_require__(129);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,TEXT_ANCHOR_MAP={left:_lib.POSITION_START,right:_lib.POSITION_END,center:_lib.POSITION_MIDDLE},math=Math,mathMin=math.min,mathMax=math.max,mathFloor=math.floor,mathCeil=math.ceil,COMMA=",",NONE="none",NORMAL=_lib.preDefStr.NORMAL,BOLD=_lib.preDefStr.BOLD,noneStr=_lib.preDefStr.noneStr,styleValueMap={fontWeight:{1:BOLD,0:NORMAL},fontStyle:{1:"italic",0:NORMAL},textDecoration:{1:"underline",0:noneStr}},handlers=function handlers(legend){var dragInitX=void 0,dragInitY=void 0;return{dragstart:function dragstart(){dragInitX=legend.config.xL||legend.config.xPos;dragInitY=legend.config.yL||legend.config.yPos},dragmove:function dragmove(e){var dx=e.originalEvent.data[0],dy=e.originalEvent.data[1],config=legend.config,chartConfig=legend.getFromEnv("chartConfig"),translationLimit=(config.borderWidth||0*.5)+2,dragOffsetX=void 0,dragOffsetY=void 0;dragOffsetX=mathMin(mathMax(dragInitX+dx,translationLimit),chartConfig.width-config.width-translationLimit);dragOffsetY=mathMin(mathMax(dragInitY+dy,translationLimit),chartConfig.height-config.height-translationLimit);config.xPos=config.xL=dragOffsetX;config.yPos=config.yL=dragOffsetY;legend.addJob("draw",legend.dragDraw,_schedular.priorityList&&_schedular.priorityList.draw)}}};(0,_dependencyManager.addDep)({name:"legendAnimation",type:"animationRule",extension:_legendAnimation2["default"]});var Legend=function(_ComponentInterface){_inherits(Legend,_ComponentInterface);function Legend(){_classCallCheck(this,Legend);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));var legend=_this;legend._stateCosmetics={};legend._legendState=[];legend.dragDraw=function(){legend.draw()};legend.drawScroll=function(){legend.createItemGroup()};legend.config.handlers=handlers(legend);return _this}Legend.prototype.createItem=function createItem(owner){var legend=this,legendItem;legendItem=new _legendItem2["default"];legend.attachChild(legendItem,"legendItem");legendItem.setLinkedItem("owner",owner);legendItem.addEventListener("mouseover",function(){legendItem.setLegendState("hover",true)});legendItem.addEventListener("mouseout",function(){legendItem.removeLegendState("hover")});return legendItem.getId()};Legend.prototype.getItem=function getItem(id){var legend=this,items=legend.getChildren().legendItem;if(id!==UNDEF){if(items){for(var i=0;i<items.length;i++){if(items[i].getId()===id){return items[i]}}}}else{return false}};Legend.prototype.getSortedLegendItems=function getSortedLegendItems(){var legend=this,items=legend.getChildren("legendItem")||[],reverselegend=legend.config.reverselegend,map={},sortedItems=[],i=void 0,len=void 0;for(i=0,len=items.length;i<len;i++){if(items[i].config.index===UNDEF){map[len+i]=items[i]}else{map[items[i].config.index]=items[i]}}Object.keys(map).sort(function(index1,index2){if(reverselegend){return index2-index1}return index1-index2}).forEach(function(index){sortedItems.push(map[index])});return sortedItems};Legend.prototype.disposeItem=function disposeItem(id){var legend=this,legendItem=legend.getItem(id);legendItem&&legendItem.remove()};Legend.prototype.getName=function getName(){return"legend"};Legend.prototype.getType=function getType(){return"legend"};Legend.prototype.__setDefaultConfig=function __setDefaultConfig(){_ComponentInterface.prototype.__setDefaultConfig.call(this);var config=this.config;config.enabled=true;config.symbolWidth=12;config.borderRadius=1;config.lastScrollPos=0;config.oriSymbolPadding=3;config.textPadding=4;config.scrollY=0;config.backgroundColor="#FFFFFF";config.initialItemX=0;config.title={text:_lib.BLANKSTRING,x:0,y:0,padding:2};config.scroll={};config.itemStyle={}};Legend.prototype.createLegendGroup=function createLegendGroup(){var legend=this,config=legend.config,chart=legend.getFromEnv("chart"),chartConfig=chart.config,animationManager=legend.getFromEnv("animationManager"),translationLimit=(config.borderWidth||0)*.5+2,legendGroup=void 0,legendGroupCheck=legend.getContainer("legendGroup");config.xL&&(config.xL=mathMin(mathMax(config.xL,translationLimit),chartConfig.width-config.width-translationLimit));config.yL&&(config.yL=mathMin(mathMax(config.yL,translationLimit),chartConfig.height-config.height-translationLimit));legendGroup=animationManager.setAnimation({el:legendGroupCheck||"group",attr:{name:"legendGroup",transform:["T",config.xL||config.xPos,config.yL||config.yPos]},container:chart.getChildContainer("legendGroup"),component:legend});if(!legendGroupCheck){legend.addContainer("legendGroup",legendGroup)}};Legend.prototype.draw=function draw(){this.createLegendGroup();this.drawLegendBox();this.createItemGroup();this.drawCaption();this.decideScroll()};Legend.prototype.decideScroll=function decideScroll(){var legend=this,animationManager=legend.getFromEnv("animationManager"),legendConf=legend.config,legendScrollBar=legend.getLinkedItem("legendScrollBar"),scrollEnabled=legendConf.scroll.enabled;if(scrollEnabled){this.createScrollGroup();this.createScrollBar()}else if(legendConf.hasScroll){legend.removeLinkedItem("legendScrollBar");animationManager.setAnimation({el:legend.getChildContainer("itemGroup"),attr:{"clip-rect":null,transform:"none"},component:legend});legendScrollBar.config.node.hide();legendConf.scrollY=0;legendConf.hasScroll=false}};Legend.prototype.createItemGroup=function createItemGroup(){var legend=this,animationManager=legend.getFromEnv("animationManager"),legendGroup=legend.getContainer("legendGroup"),itemGroup,itemGroupCheck=legend.getChildContainer("itemGroup");itemGroup=animationManager.setAnimation({el:itemGroupCheck||"group",attr:{name:"item",transform:["T",0,legend.config.scrollY||0]},container:legendGroup,component:legend});if(!itemGroupCheck){legend.addChildContainer("itemGroup",itemGroup)}return itemGroup};Legend.prototype.createScrollGroup=function createScrollGroup(){var legend=this,animationManager=legend.getFromEnv("animationManager"),scrollGroup=void 0,scrollGroupCheck=legend.getChildContainer("scrollGroup"),legendGroup=legend.getContainer("legendGroup");scrollGroup=animationManager.setAnimation({el:scrollGroupCheck||"group",attr:{name:"scrollGroup"},container:legendGroup,component:legend,label:"scroller"});if(!scrollGroupCheck){legend.addChildContainer("scrollGroup",scrollGroup)}};Legend.prototype.createScrollBar=function createScrollBar(){var legend=this,config=legend.config,scrollItem,legendScrollBar=legend.getLinkedItem("legendScrollBar"),itemGroup=legend.getChildContainer("itemGroup"),tb=legend.getFromEnv("toolbox"),toolBoxApi=legend.getFromEnv("toolBoxAPI"),Scroller=toolBoxApi&&toolBoxApi.Scroller,borderWidth=config.borderWidth||0,semiBorder=borderWidth*.5,padding=(0,_lib.pluckNumber)(config.padding,4),halfPad=padding*.5,scrollConfig=config.scroll,scrollerWidth=10,clipSTR1,clipSTR2,clipH,options,width=config.width,height=config.height,x,y,h;scrollItem={conf:{isHorizontal:false,color:(0,_libGraphics.convertColor)(legend.getFromEnv("chart-attrib").legendscrollbgcolor)},handler:{scroll:function scroll(pos){config.lastScrollPos=pos;config.scrollY=(clipH-config.totalHeight)*pos;legend.addJob("scrollDraw",legend.drawScroll,_schedular.priorityList&&_schedular.priorityList.draw)},mousedown:function mousedown(e){e.preventDefault();e.stopPropagation()}}};if(!legendScrollBar){legendScrollBar=new Scroller;legendScrollBar.configure(scrollItem.conf,(tb.idCount||0)+1,tb.pId,legend.getFromEnv("chartInstance").id);legendScrollBar.attachEventHandlers(scrollItem.handler);this.setLinkedItem("legendScrollBar",legendScrollBar);this.config.hasScroll=true}clipSTR1="0,";clipH=height-padding;clipSTR2=COMMA+width+COMMA+clipH;itemGroup.attr({"clip-rect":clipSTR1+halfPad+clipSTR2});x=width-scrollerWidth+halfPad-borderWidth;y=semiBorder;h=height-borderWidth;options={scrollPosition:scrollConfig.scrollPosition||0,scrollRatio:(clipH+padding)/config.totalHeight,showButtons:false,displayStyleFlat:scrollConfig.flatScrollBars};legendScrollBar.draw(x,y,{height:h,scrollRatio:options.scrollRatio,startPercent:0,scrollPosition:config.lastScrollPos||0,color:config.legendScrollBgColor,parentLayer:legend.getChildContainer("scrollGroup")})};Legend.prototype.drawCaption=function drawCaption(){var legend=this,itemGroup=legend.getChildContainer("itemGroup"),caption=legend.getGraphicalElement("caption"),animationManager=this.getFromEnv("animationManager"),config=this.config,attrObj,titleStyle,captionX,padding=(0,_lib.pluckNumber)(config.padding,4),captionCss,scrollEnabled=config.scroll.enabled,scrollerWidth=10,width=config.width;if(config.title&&config.title.text!==_lib.BLANKSTRING&&config.validLegendItem){switch(config.title.align){case _lib.POSITION_START:captionX=padding;break;case _lib.POSITION_END:captionX=width-padding-(scrollEnabled?scrollerWidth:0);break;default:captionX=width*.5}titleStyle=config.title.style;attrObj={text:config.title.text,title:config.title.originalText||_lib.BLANKSTRING,x:captionX,y:padding,fill:config.title.style.color,direction:config.textDirection,"line-height":titleStyle.lineHeight,"vertical-align":_lib.POSITION_TOP,"text-anchor":config.title.align,opacity:1};captionCss={"font-weight":titleStyle.fontWeight,"font-style":titleStyle.fontStyle,"font-family":titleStyle.fontFamily,"font-size":titleStyle.fontSize};caption&&caption.show();if(!caption){caption=animationManager.setAnimation({el:"text",attr:attrObj,component:legend,container:itemGroup});caption=this.addGraphicalElement("caption",caption);caption.css(captionCss)}else{animationManager.setAnimation({el:caption,attr:attrObj,component:legend})}legend.getFromEnv("toolTipController").enableToolTip(caption,config.title.originalText)}else{if(caption){animationManager.setAnimation({el:caption,component:legend,doNotRemove:true,callback:function callback(){caption.hide()}})}}};Legend.prototype.drawLegendBox=function drawLegendBox(){var legend=this,animationManager=this.getFromEnv("animationManager"),config=legend.config,box,legendGroup=legend.getContainer("legendGroup"),width=config.width,boxCheck=legend.getGraphicalElement("box"),height=config.height,r=config.borderRadius,backgroundColor=config.backgroundColor,borderColor=config.borderColor,borderAlpha=config.borderAlpha,backgroundAlpha=config.backgroundAlpha,borderWidth=config.borderWidth||0;box=animationManager.setAnimation({el:boxCheck||"rect",attr:{x:0,y:0,width:width,height:height,r:r,stroke:borderColor,"stroke-width":borderWidth,fill:backgroundColor||NONE,"stroke-opacity":borderAlpha/100,"fill-opacity":backgroundAlpha/100,cursor:config.legendAllowDrag?"move":"default"},container:legendGroup,component:legend,label:"legendGroup"});if(!boxCheck){legend.addGraphicalElement("box",box);box.shadow(config.shadow)}return box};Legend.prototype.getPosition=function getPosition(){var legend=this,chart=legend.getFromEnv("chart"),chartConfig=chart.config,xPos,yPos,config=legend.config,canvasBottom=chartConfig.height-chartConfig.canvasBottom,canvasLeft=chartConfig.canvasLeft,canvasWidth=chartConfig.canvasWidth,marginLeft=config.chartMarginLeft||0,marginRight=config.chartMarginRight||0,marginBottom=config.chartMarginBottom||0,actionBarHeight=chartConfig.actionBarHeight||0,canvasMarginLeft=config.actualCanvasMarginLeft||0,canvasMarginBottom=chartConfig.actualCanvasMarginBottom||0,canvasMarginRight=chartConfig.actualCanvasMarginRight||0,alignLegendWithCanvas=config.alignLegendWithCanvas,chartHeight=chartConfig.height,canvasTop=chartConfig.canvasTop,width=config.width||0,height=config.height||0,chartBorderWidth=chartConfig.borderWidth,oriCanvasLeft=chartConfig.oriCanvasLeft,oriCanvasTop=chartConfig.oriTopSpace,oriCanvasBottom=chartConfig.oriBottomSpace,topSpace=0,bottomSpace=0,xLeft,spaceLeftByChart,spaceRightLeft,borderWidth=config.borderWidth||0,isVertical,legendPos=config.legendPos;if(legendPos===_lib.POSITION_RIGHT){config.align=_lib.POSITION_RIGHT;config.verticalAlign=_lib.POSITION_MIDDLE;isVertical=config.layout="vertical"}if(isVertical){xPos=chartConfig.width-marginRight-canvasMarginRight-width-chartBorderWidth;topSpace=(0,_lib.pluckNumber)(oriCanvasTop,canvasTop);bottomSpace=(0,_lib.pluckNumber)(oriCanvasBottom,canvasBottom);yPos=topSpace+(chartHeight-bottomSpace-topSpace-height)*.5+(config.y||0)}else{spaceLeftByChart=chartConfig.width-(marginLeft+canvasMarginLeft+(marginRight+canvasMarginRight));spaceRightLeft=alignLegendWithCanvas?canvasWidth-width:spaceLeftByChart-width;xLeft=!alignLegendWithCanvas?marginLeft+canvasMarginLeft:(0,_lib.pluckNumber)(oriCanvasLeft,canvasLeft);xPos=xLeft+spaceRightLeft/2;yPos=chartHeight-height-canvasMarginBottom-marginBottom-actionBarHeight}return(0,_lib.crispBound)(xPos,yPos,width,height,borderWidth)};Legend.prototype.reverseLegendFn=function reverseLegendFn(){var legend=this,items=legend.config.items||[],i,tempItems=[],len=items.length,mainDatasetIndex,subDSCount=0,config=legend.config;for(i=len-1;i>=0;i--){if(items[i].configuration.mainDS){mainDatasetIndex=i;tempItems=tempItems.concat(items.splice(mainDatasetIndex,subDSCount+1));subDSCount=0}else{subDSCount++}}if(tempItems.length){config.orderReversed=true;legend.config.items=tempItems.slice(0)}};Legend.prototype.allocatePosition=function allocatePosition(){var legend=this,legendConfig=legend.config,dim=legend.getPosition();legendConfig.xPos=dim.x;legendConfig.yPos=dim.y;legendConfig.width=dim.width;legendConfig.height=dim.height};Legend.prototype._manageLegendPosition=function _manageLegendPosition(allottedSpace){var legend=this,config=legend.config,hasSubDataset=legend.getFromEnv("chart").hasSubDataset,legendPosition=config.legendPos,items=legend.getChildren().legendItem,reverseLegend=config.reversed,prevReversed=config.prevReversed,dimensions;if(reverseLegend!==prevReversed){if(hasSubDataset){!config.orderReversed&&legend.reverseLegendFn()}else{items&&items.reverse()}}else{if(hasSubDataset&&config.orderReversed){legend.reverseLegendFn()}}config.prevReversed=config.reversed;if(legendPosition===_lib.POSITION_RIGHT){dimensions=legend._placeLegendBlockRight(allottedSpace)}else{dimensions=legend._placeLegendBlockBottom(allottedSpace)}return dimensions};Legend.prototype._placeLegendBlockBottom=function _placeLegendBlockBottom(availableHeight){var legend=this,chart=legend.getFromEnv("chart"),chartConfig=chart.config,origRenderWidth=chartConfig.width,origRenderHeight=chartConfig.height,spacingLeft=chartConfig.canvasLeft,spacingRight=chartConfig.width-(chartConfig.canvasRight||0),SmartLabel=chart.getFromEnv("smartLabel"),config=legend.config,marginLeft=config.chartMarginLeft,marginRight=config.chartMarginRight,marginTop=config.chartMarginTop,alignLegendWithCanvas=config.alignLegendWithCanvas,minimiseWrappingInLegend=config.minimiseWrappingInLegend,legendScale=config.legendScale,legendnumcolumns=config.numColumns,padding=config.padding,allowedMaxHeight=availableHeight*2,padding2=2*padding,dimensions={width:padding2,height:padding2},legendCaption=config.title,captionPadding=legendCaption.padding,itemStyle=legend.getStateCosmetics("default"),itemFontSize=parseInt(itemStyle.text["font-size"],10)||10,itemArr=legend.getSortedLegendItems(),len=itemArr.length,symbolPadding=config.oriSymbolPadding,textPadding=config.textPadding,legendPadding=config.legendPadding,canvasMarginRight=chartConfig.canvasMarginRight,canvasMarginLeft=chartConfig.canvasMarginLeft,yAxis=chart.getChildren("yAxis"),verticalAxis=yAxis&&yAxis[0].config.isVertical?yAxis:chart.getChildren("xAxis"),axis1Obj=verticalAxis&&verticalAxis[0],axis2Obj=verticalAxis&&verticalAxis[1],axis1=axis1Obj&&axis1Obj.config||{},axis2=axis2Obj&&axis2Obj.config||{},title1Width=axis1.nameMaxW,title2Width=axis2.nameMaxW,axis1NameStyle=axis1.name&&axis1.name.style||{},axis2NameStyle=axis2.name&&axis2.name.style||{},axis1Title=axis1.axisName||_lib.BLANKSTRING,axis2Title=axis2.axisName||_lib.BLANKSTRING,maxWidth=0,totalWidth=0,totalNumber=0,averageWidth=0,perItemWidth=0,maxHeight=0,legendCaptionHeight=0,maxMarkerGutter=0,tempTableStructure=[],singleRowLegend=false,legendX=0,current=0,item,nonItemWidth,rowHeight,usedHeight,legendLineHeight,i,validLegendItem,smartText,availableWidth=chartConfig.canvasWidth-chartConfig.canvasMarginLeft-chartConfig.canvasMarginRight,originalAvailableWidth=availableWidth,nonTextElemWidth,legendHeight,rowIndex,colIndex,textWidth,j,yAxisTitleHeight,yAxisTitleWidth,title1,title2,symbolWidthSpace,numRows,numberOfCell,tempCurrent,captionWidth,userConfig,itemConfig,name,scroll;config.paddingBottom=chartConfig.height-chartConfig.canvasBottom;SmartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);SmartLabel.setStyle(axis1NameStyle);title1=SmartLabel.getOriSize(axis1Title);SmartLabel.setStyle(axis2NameStyle);title2=SmartLabel.getOriSize(axis2Title);symbolWidthSpace=itemFontSize+1;if(symbolWidthSpace<=0){symbolWidthSpace=1}availableWidth-=padding2;symbolWidthSpace*=legendScale;symbolPadding*=legendScale;symbolWidthSpace=mathMin(symbolWidthSpace,availableWidth);if(symbolWidthSpace<=0){symbolPadding=symbolWidthSpace=0}config.symbolWidth=symbolWidthSpace;config.textPadding=4;config.legendHeight=legendHeight=symbolWidthSpace+2*symbolPadding;config.rowHeight=rowHeight=mathMax(parseInt(itemStyle.text["line-height"],10)||12,legendHeight);nonItemWidth=textPadding+symbolPadding+padding;SmartLabel.setStyle((0,_lib.extend2)({},itemStyle.text));legendLineHeight=SmartLabel.getOriSize(_lib.TESTSTR).height;usedHeight=legendPadding+config.borderWidth/2+1;usedHeight=mathMin(usedHeight,availableHeight-legendLineHeight-8);legendPadding=rowHeight*.05;if(title1||title2){yAxisTitleHeight=(0,_lib.pluckNumber)(title1.height,0)>(0,_lib.pluckNumber)(title2.height,0)?(yAxisTitleWidth=title1Width)&&title1.width:(yAxisTitleWidth=title2Width)&&title2.width}availableWidth=alignLegendWithCanvas?availableWidth:origRenderWidth-(yAxisTitleHeight+marginTop>origRenderHeight-availableHeight?2*yAxisTitleWidth+marginRight+marginLeft+canvasMarginRight+canvasMarginLeft:marginRight+marginLeft+canvasMarginLeft+canvasMarginRight);config.initialItemY=0;config.initialItemX=0;if(!config.showLegend||len===0){usedHeight=0;config.height=0;config.width=0}else{for(i=0;i<len;i+=1){item=itemArr[i];itemConfig=item.config||(item.config={});userConfig=itemConfig;name=itemConfig.name=(0,_lib.parseUnsafeString)(userConfig.label);if(name===_lib.BLANKSTRING||userConfig.enabled===0||userConfig.enabled===false||item.getState("removed")){itemConfig.enabled=0;continue}else{itemConfig.enabled=1}totalNumber+=1;validLegendItem=true;smartText=SmartLabel.getOriSize(name);maxWidth=mathMax(maxWidth,smartText.width);maxHeight=mathMax(maxHeight,mathMin(smartText.height,allowedMaxHeight));totalWidth+=smartText.width}config.validLegendItem=validLegendItem;averageWidth=totalWidth/totalNumber;nonTextElemWidth=legendHeight+legendPadding+textPadding+symbolPadding+padding2;totalWidth+=nonTextElemWidth*totalNumber;config.x=(spacingLeft-marginLeft-spacingRight+marginRight)/2;config.x=!alignLegendWithCanvas&&totalWidth>originalAvailableWidth?0:config.x;if(validLegendItem){averageWidth+=nonTextElemWidth;maxWidth+=nonTextElemWidth;if(legendnumcolumns>0&&totalNumber<legendnumcolumns){legendnumcolumns=totalNumber}if(totalWidth<=availableWidth&&(legendnumcolumns<=0||legendnumcolumns===totalNumber)){legendnumcolumns=totalNumber;perItemWidth=averageWidth=totalWidth/totalNumber;singleRowLegend=true;if(maxHeight>rowHeight){maxMarkerGutter=(maxHeight-rowHeight)/2;rowHeight=maxHeight}}else if(legendnumcolumns>0&&(perItemWidth=availableWidth/legendnumcolumns)>averageWidth){if(perItemWidth>maxWidth){perItemWidth=maxWidth}}else if(availableWidth>maxWidth&&(minimiseWrappingInLegend||averageWidth*1.5>maxWidth)){legendnumcolumns=mathFloor(availableWidth/maxWidth);if(totalNumber<legendnumcolumns){legendnumcolumns=totalNumber}perItemWidth=maxWidth}else if(availableWidth>=2*averageWidth){legendnumcolumns=mathFloor(availableWidth/averageWidth);if(totalNumber<legendnumcolumns){legendnumcolumns=totalNumber}perItemWidth=mathFloor(availableWidth/legendnumcolumns);if(perItemWidth>maxWidth){perItemWidth=maxWidth}}else{legendnumcolumns=1;perItemWidth=availableWidth}config.itemWidth=perItemWidth;textWidth=mathCeil(perItemWidth-nonTextElemWidth);if(textWidth<0){symbolPadding=textWidth=textPadding=0}config.symbolPadding=symbolPadding;config.textPadding=textPadding;config.width=perItemWidth*legendnumcolumns-legendPadding;if(legendCaption.oriText!==_lib.BLANKSTRING){SmartLabel.setStyle(legendCaption.style);smartText=SmartLabel.getSmartText(legendCaption.oriText,availableWidth,allowedMaxHeight);legendCaption.text=smartText.text;smartText.tooltext&&(legendCaption.originalText=smartText.tooltext);captionWidth=smartText.width+padding2;if(config.width<captionWidth){config.initialItemX=(captionWidth-config.width)/2;config.width=captionWidth}config.initialItemY=legendCaptionHeight=smartText.height+captionPadding}SmartLabel.setStyle((0,_lib.extend2)({},itemStyle.text));for(i=0;i<len;i+=1){item=itemArr[i];itemConfig=item.config;if(itemConfig.enabled!==0){if(textWidth===0){tempTableStructure[current]=true;itemConfig.name=_lib.BLANKSTRING;j=1;rowIndex=parseInt(current/legendnumcolumns,10);colIndex=current%legendnumcolumns;itemConfig._legendX=colIndex*perItemWidth;itemConfig._legendY=rowIndex*rowHeight+padding2;itemConfig._legendH=j*rowHeight;itemConfig._totalWidth=symbolWidthSpace+symbolPadding}if(singleRowLegend){smartText=SmartLabel.getOriSize(itemConfig.name);if(smartText.height<rowHeight){itemConfig._legendTestY=(rowHeight-smartText.height)/2}itemConfig._markerYGutter=maxMarkerGutter;itemConfig._legendX=legendX;itemConfig._legendY=padding2;itemConfig._legendH=rowHeight;itemConfig._totalWidth=symbolWidthSpace+nonItemWidth+smartText.width;legendX+=smartText.width+nonTextElemWidth}else{smartText=SmartLabel.getSmartText(itemConfig.name,textWidth,allowedMaxHeight);itemConfig.name=smartText.text;smartText.tooltext&&(itemConfig.originalText=smartText.tooltext);while(tempTableStructure[current]===true){current+=1}numberOfCell=smartText.height/rowHeight;tempCurrent=current;for(j=0;j<numberOfCell;j+=1,tempCurrent+=legendnumcolumns){tempTableStructure[tempCurrent]=true}if(smartText.height<rowHeight){itemConfig._legendTestY=(rowHeight-smartText.height)/2}rowIndex=parseInt(current/legendnumcolumns,10);colIndex=current%legendnumcolumns;itemConfig._legendX=colIndex*perItemWidth;itemConfig._legendY=rowIndex*rowHeight+padding2;itemConfig._legendH=j*rowHeight;itemConfig._totalWidth=symbolWidthSpace+nonItemWidth+smartText.width}current++}}numRows=singleRowLegend?1:mathCeil(tempTableStructure.length/legendnumcolumns);dimensions.height+=numRows*rowHeight+legendCaptionHeight;config.height=config.totalHeight=dimensions.height;config.rowHeight=rowHeight;config.legendNumColumns=legendnumcolumns;if(config.height-2*symbolPadding>availableHeight){config.height=availableHeight;scroll=config.scroll||(config.scroll={});scroll.enabled=true;scroll.flatScrollBars=config.flatScrollBars;scroll.scrollBar3DLighting=config.scrollBar3DLighting;config.width=config.width+12>availableWidth?config.width:config.width+12}else{config.scroll.enabled=false}usedHeight+=config.height;config.isActive=true;config.enabled=true}else{config.enabled=false;config.width=0;usedHeight=0}}return{bottom:usedHeight,right:0}};Legend.prototype._placeLegendBlockRight=function _placeLegendBlockRight(availableWidth){var legend=this,legendConf=legend.config,chart=legend.getFromEnv("chart"),chartConf=chart.config,SmartLabel=chart.getFromEnv("smartLabel"),canvasBorderThickness=chart.getChildren("canvas")[0].config.canvasBorderThickness||0,textPadding=legendConf.textPadding,captionPadding=legendConf.title.padding,symbolPadding=legendConf.oriSymbolPadding,legendPadding=legendConf.legendPadding,legendScale=legendConf.legendScale,itemStyle=legend.getStateCosmetics("default"),itemFontSize=parseInt(itemStyle.text["font-size"],10),availableHeight=chartConf.canvasHeight,allowedMaxHeight=availableHeight*2,textWidthUsed=0,padding=legendConf.padding,padding2=2*padding,blockDimensions={width:padding2,height:padding2},dimensions={},validLegendItem=false,itemArr=legend.getSortedLegendItems(),len=itemArr.length,usedWidth,smartText,textWidth,symbolWidthSpace,legendHeight,itemConfig,name,captionWidth,userConfig,i=0,item;legendConf.initialItemY=0;legendConf.initialItemX=0;availableWidth-=padding2+legendPadding;symbolWidthSpace=itemFontSize+1;if(symbolWidthSpace<=0){symbolWidthSpace=1}symbolWidthSpace*=legendScale;symbolPadding*=legendScale;symbolWidthSpace=mathMin(symbolWidthSpace,availableWidth);if(symbolWidthSpace<=0){symbolPadding=symbolWidthSpace=0}legendConf.symbolPadding=symbolPadding;legendConf.symbolWidth=symbolWidthSpace;legendConf.legendHeight=legendHeight=symbolWidthSpace+2*symbolPadding;legendConf.rowHeight=mathMax(parseInt(itemStyle.text["line-height"],10)||12,legendHeight);usedWidth=legendPadding+legendConf.borderWidth/2+canvasBorderThickness;textWidth=availableWidth-legendHeight-legendPadding-textPadding;if(textWidth<0){textWidth=0}SmartLabel.useEllipsesOnOverflow(chartConf.useEllipsesWhenOverflow);SmartLabel.setStyle((0,_lib.extend2)({},itemStyle.text));if(!legendConf.showLegend||len===0){dimensions.right=0;legendConf.height=0;legendConf.width=0}else{for(i=0;i<len;i+=1){item=itemArr[i];itemConfig=item.config||(item.config={});userConfig=itemConfig;name=itemConfig.name=(0,_lib.parseUnsafeString)(userConfig.label);itemConfig._legendX=0;itemConfig._legendY=blockDimensions.height;if(userConfig.enabled===0||userConfig.enabled===false||name===_lib.BLANKSTRING){itemConfig.enabled=0;continue}else{itemConfig.enabled=1}validLegendItem=true;if(textWidth===0){blockDimensions.height+=itemConfig._legendH=legendHeight;itemConfig.name=_lib.BLANKSTRING;itemConfig._totalWidth=symbolWidthSpace+symbolPadding}else{smartText=SmartLabel.getSmartText(name,textWidth,allowedMaxHeight);itemConfig.name=smartText.text;smartText.tooltext&&(itemConfig.originalText=smartText.tooltext);if(smartText.height<legendHeight){itemConfig._legendTestY=(legendHeight-smartText.height)/2}itemConfig._totalWidth=symbolWidthSpace+symbolPadding+textPadding+smartText.width+legendPadding;blockDimensions.height+=itemConfig._legendH=mathMax(smartText.height,legendHeight);textWidthUsed=mathMax(smartText.width,textWidthUsed)}}legendConf.validLegendItem=validLegendItem;if(validLegendItem){legendConf.itemWidth=textWidthUsed+legendHeight+legendPadding+textPadding;legendConf.width=legendConf.itemWidth+padding2;if(legendConf.title.oriText!==_lib.BLANKSTRING){SmartLabel.setStyle(legendConf.title.style);smartText=SmartLabel.getSmartText(legendConf.title.oriText,availableWidth,allowedMaxHeight);legendConf.title.text=smartText.text;smartText.tooltext&&(legendConf.title.originalText=smartText.tooltext);captionWidth=smartText.width+padding2;if(legendConf.width<captionWidth){legendConf.initialItemX=(captionWidth-legendConf.width)/2;legendConf.width=captionWidth}legendConf.initialItemY=smartText.height+captionPadding;blockDimensions.height+=legendConf.initialItemY}legendConf.height=legendConf.totalHeight=blockDimensions.height;usedWidth=mathMin(legendConf.width+usedWidth,availableWidth);dimensions.right=usedWidth+legendPadding;legendConf.isActive=true;legendConf.enabled=true}else{legendConf.enabled=false;legendConf.width=0;dimensions.right=0}}return dimensions};Legend.prototype.postSpaceManager=function postSpaceManager(){var legend=this,legendConf=legend.config,legendPosition=legendConf.legendPos,chart=legend.getFromEnv("chart"),availableHeight=chart.config.canvasHeight;if(legendPosition===_lib.POSITION_RIGHT){if(legendConf.height>availableHeight){legendConf.height=availableHeight;legendConf.scroll.enabled=true;legendConf.scroll.flatScrollBars=legendConf.flatScrollBars;legendConf.scroll.scrollBar3DLighting=legendConf.scrollBar3DLighting;legendConf.width+=(legendConf.scroll.scrollBarWidth=10)+(legendConf.scroll.scrollBarPadding=2)}else{legendConf.scroll.enabled=false}}};Legend.prototype.configure=function configure(){var legend=this,config=legend.config,chart=legend.getFromEnv("chart"),chartConfig=chart.config,legendLineHeight,style=legend.getFromEnv("style"),chartAttr=chart.getFromEnv("chart-attrib"),is3D=chart.config.is3D,PXSTRING="px",colorM=legend.getFromEnv("color-manager"),borderColor,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D,interactiveLegend=config.interactiveLegend=chart.hasInteractiveLegend!==false&&Boolean((0,_lib.pluckNumber)(chartAttr.interactivelegend,1)),borderAlpha,backgroundAlpha,roundEdges=(0,_lib.pluckNumber)(chartAttr.useroundedges,0),padding=4,outCancolor=style.outCancolor,legendItemFont=(0,_lib.pluck)(chartAttr.legenditemfont,style.outCanfontFamily),legendScale=(0,_lib.pluckNumber)(chartAttr.legendiconscale,1),legendFontSize=(0,_lib.pluckFontSize)(chartAttr.legenditemfontsize,style.fontSize)+PXSTRING,legendFontColor=(0,_lib.pluck)(chartAttr.legenditemfontcolor,outCancolor).replace(/^#?([a-f0-9]+)/gi,"#$1"),legendItemHoverFontColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.legenditemhoverfontcolor,legendFontColor)),anchorMap;config.isActive=false;config.chartMarginTop=chartConfig.origMarginTop;config.chartMarginRight=chartConfig.origMarginRight;config.chartMarginBottom=chartConfig.origMarginBottom;config.chartMarginLeft=chartConfig.origMarginLeft;config.reverselegend=(0,_lib.pluckNumber)(chartAttr.reverselegend,0);config.showLegend=(0,_lib.pluckNumber)(chartAttr.showlegend,!chart.dontShowLegendByDefault,1);legendLineHeight=(0,_lib.setLineHeight)({fontSize:legendFontSize});config.legendPos=(0,_lib.pluck)(chartAttr.legendposition,chart.legendposition,_lib.POSITION_BOTTOM).toLowerCase();config.numColumns=(0,_lib.pluckNumber)(chartAttr.legendnumcolumns,0);config.xL=config.yL=0;if(legendScale<=0||legendScale>5){legendScale=1}config.drawCustomLegendIcon=(0,_lib.pluckNumber)(chartAttr.drawcustomlegendicon,0);config.legendScale=legendScale;config.legendPadding=(0,_lib.pluckNumber)(chartAttr.legendpadding,7);config.alignLegendWithCanvas=chartConfig.alignLegendWithCanvas;config.title.style={fontFamily:(0,_lib.pluck)(chartAttr.legendcaptionfont,legendItemFont),fontSize:(0,_lib.pluckFontSize)(chartAttr.legendcaptionfontsize,style.fontSize)+PXSTRING,color:(0,_lib.pluck)(chartAttr.legendcaptionfontcolor,outCancolor).replace(/^#?([a-f0-9]+)/gi,"#$1"),fontWeight:styleValueMap.fontWeight[(0,_lib.pluckNumber)(chartAttr.legendcaptionfontbold,1)]||_lib.BLANKSTRING};anchorMap=chartAttr.legendcaptionalignment?chartAttr.legendcaptionalignment.toLowerCase():TEXT_ANCHOR_MAP.center;config.title.align=TEXT_ANCHOR_MAP[anchorMap]||TEXT_ANCHOR_MAP.center;config.title.style["text-anchor"]=config.title.align;config.padding=padding;borderColor=(0,_lib.pluck)(chartAttr.legendbordercolor,colorM.getColor(palleteString.legendBorderColor));borderAlpha=config.borderAlpha=(0,_lib.pluckNumber)(chartAttr.legendborderalpha,100);config.borderColor=(0,_libGraphics.convertColor)(borderColor,borderAlpha);config.borderWidth=(0,_lib.pluckNumber)(chartAttr.legendborderthickness,!roundEdges||chartAttr.legendbordercolor?1:0);config.borderRadius=(0,_lib.pluckNumber)(roundEdges,0);config.backgroundAlpha=backgroundAlpha=(0,_lib.pluckNumber)(chartAttr.legendbgalpha,100);config.backgroundColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.legendbgcolor,colorM.getColor(palleteString.legendBgColor)),backgroundAlpha);config.symbol3DLighting=Boolean((0,_lib.pluckNumber)(chartAttr.use3dlighting,chartAttr.useplotgradientcolor,1));config.shadow=Boolean((0,_lib.pluckNumber)(chartAttr.legendshadow,1));if(config.shadow){config.shadow={enabled:config.shadow,opacity:mathMax(borderAlpha,backgroundAlpha)/100}}config.prevReversed=Boolean((0,_lib.pluckNumber)(config.reversed,0));config.reversed=Boolean((0,_lib.pluckNumber)(chartAttr.reverselegend,0));config.lineWidth=(0,_lib.pluckNumber)(chartAttr.linethickness,2);config.borderRadius=(0,_lib.pluckNumber)(chartAttr.legendborderradius,roundEdges?3:0);config.legendAllowDrag=Boolean((0,_lib.pluckNumber)(chartAttr.legendallowdrag,0));config.title.oriText=(0,_lib.parseUnsafeString)((0,_lib.getFirstValue)(chartAttr.legendcaption,_lib.BLANKSTRING));config.legendScrollBgColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(chartAttr.legendscrollbgcolor,chartAttr.scrollcolor,colorM.getColor("altHGridColor")));config.legendScrollBarColor=(0,_lib.pluck)(chartAttr.legendscrollbarcolor,borderColor);config.legendScrollBtnColor=(0,_lib.pluck)(chartAttr.legendscrollbtncolor,borderColor);config.minimiseWrappingInLegend=(0,_lib.pluckNumber)(chartAttr.minimisewrappinginlegend,0);config.flatScrollBars=(0,_lib.pluckNumber)(chartAttr.flatscrollbars,0);config.scrollBar3DLighting=(0,_lib.pluckNumber)(chartAttr.scrollbar3dlighting,1);config.orderReversed=false;legend.setStateCosmetics("hidden",{symbol:{fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1")),stroke:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1"))},text:{fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1"))}});legend.setStateCosmetics("default",{text:{fill:(0,_libGraphics.convertColor)(legendFontColor),"font-family":legendItemFont,cursor:interactiveLegend?_lib.preDefStr.POINTER:"default","font-size":legendFontSize,"line-height":legendLineHeight,"vertical-align":_lib.POSITION_TOP,"text-anchor":_lib.POSITION_START,direction:chartConfig.textDirection==="rtl"?"rtl":"initial","font-weight":styleValueMap.fontWeight[(0,_lib.pluckNumber)(chartAttr.legenditemfontbold,0)]||_lib.BLANKSTRING},symbol:{bgColor:(0,_lib.pluck)(chartAttr.legendiconbgcolor),cursor:interactiveLegend?_lib.preDefStr.POINTER:"default",borderColor:(0,_lib.pluck)(chartAttr.legendiconbordercolor),bgAlpha:(0,_lib.pluck)(chartAttr.legendiconbgalpha,chartAttr.legendiconalpha,100),borderAlpha:(0,_lib.pluck)(chartAttr.legendiconborderalpha,chartAttr.legendiconalpha,100),borderThickness:(0,_lib.pluckNumber)(chartAttr.legendiconborderthickness),startAngle:(0,_lib.pluckNumber)(chartAttr.legendiconstartangle,45),sides:(0,_lib.pluckNumber)(chartAttr.legendiconsides,4)}});legend.setStateCosmetics("hover",function(cosmetics,legenditem){if(!legenditem.hasState("hidden")){if(!cosmetics.text){cosmetics.text={}}cosmetics.text.fill=(0,_libGraphics.convertColor)(legendItemHoverFontColor.replace(/^#?([a-f0-9]+)/gi,"#$1"));cosmetics.text.cursor="inherit"}return cosmetics});if(config.legendAllowDrag&&!config._dragEvtListenerBinded){legend.addEventListener("dragstart",config.handlers.dragstart);legend.addEventListener("dragmove",config.handlers.dragmove);config._dragEvtListenerBinded=true}else{legend.removeEventListener("dragstart",config.handlers.dragstart);legend.removeEventListener("dragmove",config.handlers.dragmove);config._dragEvtListenerBinded=false}};Legend.prototype.getLegendState=function getLegendState(){return this._legendState};Legend.prototype.hasState=function hasState(state){var states=this.getLegendState(),i,len;for(i=0,len=states.length;i<len;i++){if(states[i]===state){return true}}return false};Legend.prototype.setLegendState=function setLegendState(state,pushAtEnd){if(!this.hasState(state)){if(pushAtEnd){this._legendState.push(state)}else{this._legendState.unshift(state)}}this.asyncDraw()};Legend.prototype.removeLegendState=function removeLegendState(state){var i,len,notFound=1;if(state){for(i=0,len=this._legendState.length;i<len&&notFound;i++){if(state===this._legendState[i]){this._legendState.splice(i,1);notFound=0}}}else{this._legendState.length=0}this.asyncDraw()};Legend.prototype.setStateCosmetics=function setStateCosmetics(state,cosmetics){this._stateCosmetics[state]=cosmetics};Legend.prototype.removeStateCosmetics=function removeStateCosmetics(state){delete this._stateCosmetics[state]};Legend.prototype.getStateCosmetics=function getStateCosmetics(state){return this._stateCosmetics[state]};Legend.prototype.hide=function hide(){var legend=this,chart=legend.getFromEnv("chart"),legendGroup=chart.getChildContainer("legendGroup");legendGroup&&legendGroup.hide()};return Legend}(_componentInterface2["default"]);exports["default"]=Legend},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _dependencyManager=__webpack_require__(125);var _legendItemAnimation=__webpack_require__(360);var _legendItemAnimation2=_interopRequireDefault(_legendItemAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var POINTER=_lib.preDefStr.POINTER,NONE="none",M="M",L="L",_getSymbolPath=function _getSymbolPath(x,y,w,h,seriesType){var path=[M],w1,w2,h1,h2,height3,cx1,cx2,cy1,cy2,d1,d2,Z="Z",A="A";switch(seriesType){case"column":case"dragColumn":case"column3D":case"realtimeColumn":case"errorBar2D":w1=w*.25;w2=w1*.5;h1=h*.7;h2=h*.4;path=path.concat([x,y+h,"l",0,-h1,w1,0,0,h1,"z","m",w1+w2,0,"l",0,-h,w1,0,0,h,"z","m",w1+w2,0,"l",0,-h2,w1,0,0,h2,"z"]);break;case"bar2D":case"bar3D":w1=w*.3;w2=w*.6;h1=h/4;h2=h1/2;path=path.concat([x,y,L,x+w2,y,x+w2,y+h1,x,y+h1,Z,M,x,y+h1+h2,L,x+w,y+h1+h2,x+w,y+h1+h2+h1,x,y+2*h1+h2,Z,M,x,y+2*(h1+h2),L,x+w1,y+2*(h1+h2),x+w1,y+h,x,y+h,Z]);break;case"area":case"area3d":case"areaspline":case"dragArea":case"realTimeArea":case"splinearea":w1=w*.3;w2=w*.6;h1=h*.6;h2=h*.2;height3=h*.8;path=path.concat([x,y+height3,L,x,y+h1,x+w1,y+h2,x+w2,y+h1,x+w,y+h2,x+w,y+height3,Z]);break;case"pie2D":case"pie3d":case"doughnut2D":case"doughnut3D":w1=w*.5;w2=w1*.9;d1=1;d2=1;cx1=x+w1+d1;cy1=y+w1-d1;cx2=x+w1-d2;cy2=y+w1+d2;path=path.concat([cx1,cy1,L,cx1,cy1-w2+d1,A,w2-d1,w2-d1,0,0,1,cx1+w2-d1,cy1,Z,M,cx2,cy2,L,cx2,cy2-w2,A,w2,w2,0,1,0,cx2+w2,cy2,Z]);break;case"boxandwhisker2d":path=path.concat([x,y,L,x+w,y,x+w,y+h,x,y+h,Z]);break;default:path=path.concat([x,y,L,x+w,y,x+w,y+h,x,y+h,Z])}return{path:path}},getAnchorProps=function getAnchorProps(legendItem,symbolStyle){var legendItemConfig=legendItem.config,legendConfig=legendItem.getLinkedParent().config,symbolWidth=legendConfig.symbolWidth,padding=(0,_lib.pluckNumber)(legendConfig.padding,4),radius=symbolWidth*.5,itemX=(legendConfig.initialItemX||0)+legendItemConfig._legendX+padding,itemY=(legendConfig.initialItemY||0)+legendItemConfig._legendY-padding,cx=itemX+legendConfig.symbolPadding+radius,cy=itemY+(legendItemConfig._markerYGutter||0)+legendConfig.symbolPadding+radius,symbolStr=(0,_libGraphics.mapSymbolName)(legendItemConfig.anchorSide),symbol=legendItemConfig.symbol=symbolStr&&symbolStr.split("_")||[],dip=symbol[0]==="spoke"?1:0;if(legendItemConfig.type==="line"||legendItemConfig.drawLine){radius*=.6}return{path:(0,_lib.polyPathToPath)([symbol[1]||2,cx,cy,radius,legendItemConfig.startAngle,legendItemConfig.spoke||dip]),cursor:symbolStyle.cursor||POINTER,stroke:symbolStyle.stroke,fill:symbolStyle.fill,"stroke-width":symbolStyle["stroke-width"]||.5}};(0,_dependencyManager.addDep)({name:"legendItemAnimation",type:"animationRule",extension:_legendItemAnimation2["default"]});var LegendItem=function(_ComponentInterface){_inherits(LegendItem,_ComponentInterface);function LegendItem(){_classCallCheck(this,LegendItem);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this._stateCosmetics={};_this._legendState=[];return _this}LegendItem.prototype.getName=function getName(){return"legendItem"};LegendItem.prototype.parseLegendCosmetics=function parseLegendCosmetics(){var legendItem=this,legend=this.getLinkedParent(),legendStates=legend.getLegendState(),legendItemStates=legendItem.getLegendState(),legendCosmetic=void 0,itemCosmetic=void 0,allStates=["default"],finalCosmetics={},i=void 0;allStates=allStates.concat(legendStates,legendItemStates);for(i=0;i<allStates.length;i++){legendCosmetic=legend.getStateCosmetics(allStates[i]);itemCosmetic=legendItem.getStateCosmetics(allStates[i]);if(legendCosmetic){if(typeof legendCosmetic==="function"){finalCosmetics=legendCosmetic(finalCosmetics,legendItem)}else{(0,_lib.extend2)(finalCosmetics,legendCosmetic)}}if(itemCosmetic){if(typeof itemCosmetic==="function"){finalCosmetics=itemCosmetic(finalCosmetics,legendItem)}else{(0,_lib.extend2)(finalCosmetics,itemCosmetic)}}}return finalCosmetics};LegendItem.prototype.getType=function getType(){return"legendItem"};LegendItem.prototype.configure=function configure(configObj){var legendItem=this,config=legendItem.config,prop,value;for(prop in configObj){if(configObj.hasOwnProperty(prop)){if(_typeof(configObj[prop])!=="object"){config[prop]=configObj[prop]}else{var obj=config[prop]?config[prop]:{};for(value in configObj[prop]){obj[value]=configObj[prop][value]}config[prop]=obj}}}};LegendItem.prototype.itemClickFn=function itemClickFn(){var legendItem=this,chartAttr=legendItem.getFromEnv("chart-attrib"),interactivelegend=(0,_lib.pluckNumber)(chartAttr.interactivelegend,1),dataset=legendItem.getLinkedItem("owner");if(interactivelegend){dataset.legendInteractivity(legendItem)}};LegendItem.prototype.dispose=function dispose(){this.removeEventListener("click",this.click);this.removeEventListener("mouseover",this.mouseover);this._dispose()};LegendItem.prototype.getLegendState=function getLegendState(){return this._legendState};LegendItem.prototype.hasState=function hasState(state){var states=this.getLegendState(),i,len;for(i=0,len=states.length;i<len;i++){if(states[i]===state){return true}}return false};LegendItem.prototype.setLegendState=function setLegendState(state,pushAtEnd){if(!this.hasState(state)){if(pushAtEnd){this._legendState.push(state)}else{this._legendState.unshift(state)}}this.asyncDraw()};LegendItem.prototype.removeLegendState=function removeLegendState(state){var i,len,notFound=1;if(state){for(i=0,len=this._legendState.length;i<len&&notFound;i++){if(state===this._legendState[i]){this._legendState.splice(i,1);notFound=0}}}else{this._legendState.length=0}this.asyncDraw()};LegendItem.prototype.removeStateCosmetics=function removeStateCosmetics(state){delete this._stateCosmetics[state]};LegendItem.prototype.setStateCosmetics=function setStateCosmetics(state,cosmetics){this._stateCosmetics[state]=cosmetics};LegendItem.prototype.getStateCosmetics=function getStateCosmetics(state){return this._stateCosmetics[state]};LegendItem.prototype.draw=function draw(){var legend=this.getLinkedParent(),chart=legend.getFromEnv("chart"),chartConfig=chart.config,legendItem=this,animationManager=legendItem.getFromEnv("animationManager"),legendItemConfig=legendItem.config,config=legend.config,symbolBoxW=config.legendHeight,symbolPadding=config.symbolPadding,symbolWidth=config.symbolWidth,interactiveLegend=config.interactiveLegend,textPadding=config.textPadding||2,padding=(0,_lib.pluckNumber)(config.padding,4),itemStyle,itemHoverStyle=config.itemHoverStyle,lineWidth,itemGroup=legend.getChildContainer("itemGroup"),drawCustomLegendIcon=config.drawCustomLegendIcon,hidden=legendItem.hasState("hidden"),customLegendConfig,initialItemX,initialItemY,cy,legendItemText,legendItemTextCheck,type,itemX,itemY,legendItemLine,symbolConfig,legendItemSymbol,legendItemSymbolCheck,cx,radius,dip,symbol,strokeColor,fillColor,bgFill,anchorSide,drawLine,symbolStr,customBgColor,customBgAlpha,customBorderColor,customBorderAlpha,fillcolor,strokecolor,legendItemBackground,legendItemBackgroundCheck,textCosmetics,drawItemLine,symbolAttr,backgroundAttr,backgroundCosmetics,lineAttr,lineCosmetics={},xPos,yPos;itemStyle=legendItem.parseLegendCosmetics();customLegendConfig=itemStyle.symbol;initialItemX=config.initialItemX||0;initialItemY=config.initialItemY||0;type=legendItemConfig.type;strokeColor=itemStyle.symbol.stroke||"000000";fillColor=itemStyle.symbol.fill;lineWidth=itemStyle.symbol.lineWidth||config.lineWidth;anchorSide=legendItemConfig.anchorSide;drawLine=legendItemConfig.drawLine;itemX=initialItemX+legendItemConfig._legendX+padding;itemY=initialItemY+legendItemConfig._legendY-padding;legendItemBackgroundCheck=legendItem.getGraphicalElement("legendItemBackground");legendItemTextCheck=legendItem.getGraphicalElement("legendItemText");legendItemLine=legendItem.getGraphicalElement("legendItemLine");legendItemSymbolCheck=legendItem.getGraphicalElement("legendItemSymbol");interactiveLegend=(0,_lib.pluck)(legendItemConfig.interactiveLegend,interactiveLegend);!interactiveLegend&&(itemStyle.cursor="default");textCosmetics=itemStyle.text;xPos=itemX+symbolBoxW+textPadding-2;yPos=itemY+(legendItemConfig._legendTestY||0);textCosmetics.text=legendItemConfig.name;textCosmetics.x=xPos;textCosmetics.y=yPos;legendItemText=animationManager.setAnimation({el:legendItemTextCheck||"text",attr:textCosmetics,component:legendItem,container:itemGroup,label:"icon"});if(!legendItemTextCheck){legendItemText=legendItem.addGraphicalElement("legendItemText",legendItemText)}legendItemText.data("legendItem",legendItemConfig);drawItemLine=false;if(drawCustomLegendIcon&&legendItemConfig.customLegendIcon!==false){customBorderColor=!hidden&&customLegendConfig.borderColor;customBorderAlpha=(0,_lib.pluck)(customLegendConfig.borderAlpha);customBgColor=!hidden&&customLegendConfig.bgColor;customBgAlpha=(0,_lib.pluck)(customLegendConfig.bgAlpha,"100");fillcolor=itemStyle.symbol.rawFillColor;fillColor=!hidden?customBgColor||fillcolor:itemStyle.symbol.fill;fillColor=(0,_libGraphics.convertColor)(fillColor,customBgAlpha);strokecolor=itemStyle.symbol.rawStrokeColor;strokeColor=!hidden?customBorderColor||strokecolor||fillcolor:itemStyle.symbol.stroke;strokeColor=(0,_libGraphics.convertColor)(strokeColor,customBorderAlpha);radius=symbolWidth*.5;cx=itemX+symbolPadding+radius;cy=itemY+(legendItemConfig._markerYGutter||0)+symbolPadding+radius;symbolStr=(0,_libGraphics.mapSymbolName)(customLegendConfig.sides);symbol=symbolStr&&(0,_libGraphics.mapSymbolName)(customLegendConfig.sides).split("_")||[];dip=symbol[0]==="spoke"?1:0;symbolAttr={path:(0,_lib.polyPathToPath)([symbol[1]||2,cx,cy,radius,customLegendConfig.startAngle||0,dip]),cursor:itemStyle.symbol.cursor||POINTER,stroke:strokeColor,fill:fillColor,"stroke-width":(0,_lib.pluckNumber)(customLegendConfig.borderThickness,1)}}else if(type==="line"||drawLine){cy=itemY+(legendItemConfig._markerYGutter||0)+symbolPadding+symbolWidth*.5;lineAttr={path:[M,itemX+symbolPadding,cy,L,itemX+symbolPadding+symbolWidth,cy]};drawItemLine=true;lineCosmetics={opacity:chartConfig.legendiconalpha||1,"stroke-width":lineWidth,stroke:strokeColor,cursor:itemStyle.cursor||POINTER};if(anchorSide){symbolAttr=getAnchorProps(legendItem,itemStyle.symbol)}}else if(anchorSide){symbolAttr=getAnchorProps(legendItem,itemStyle.symbol)}else if(type!=="line"){strokeColor=legendItemConfig.symbolStroke||strokeColor;symbolConfig=_getSymbolPath(itemX+symbolPadding,itemY+(legendItemConfig._markerYGutter||0)+symbolPadding,symbolWidth,symbolWidth,type);symbolAttr={path:symbolConfig.path,"stroke-width":.5,stroke:strokeColor,fill:fillColor,cursor:itemStyle.cursor||POINTER}}if(lineAttr&&drawItemLine){Object.assign(lineAttr,lineCosmetics);legendItemLine=animationManager.setAnimation({el:legendItemLine||"path",attr:lineAttr,component:legendItem,callback:function callback(){this.show()},container:itemGroup});if(!legendItem.getGraphicalElement("legendItemLine")){legendItemLine=legendItem.addGraphicalElement("legendItemLine",legendItemLine)}}else{if(legendItemLine){legendItemLine.hide()}}if(symbolAttr){symbolAttr.opacity=(0,_lib.pluckNumber)(itemStyle.symbol.opacity,1);legendItemSymbol=animationManager.setAnimation({el:legendItemSymbolCheck||"path",attr:symbolAttr,component:legendItem,callback:function callback(){this.show()},container:itemGroup,label:"icon"});if(!legendItemSymbolCheck||!legendItemSymbolCheck.node){legendItemSymbol=legendItem.addGraphicalElement("legendItemSymbol",legendItemSymbol)}legendItemSymbol.data("legendItem",legendItemConfig)}else{legendItemSymbolCheck&&legendItemSymbolCheck.hide()}if(itemStyle.background&&itemStyle.background.legendBackgroundColor){bgFill=(0,_libGraphics.convertColor)(itemStyle.background.legendBackgroundColor,itemStyle.background.alpha)}else{bgFill=_lib.TRACKER_FILL}backgroundAttr={x:itemX,y:itemY,width:legendItemConfig._totalWidth,height:legendItemConfig._legendH,r:0,fill:bgFill,opacity:1,"stroke-width":1,stroke:NONE,cursor:itemStyle.symbol.cursor||POINTER};legendItemBackground=animationManager.setAnimation({el:legendItemBackgroundCheck||"rect",attr:backgroundAttr,css:backgroundCosmetics,component:legendItem,label:"background",container:itemGroup});if(!legendItemBackgroundCheck){legendItem.addGraphicalElement("legendItemBackground",legendItemBackground)}legendItemBackground.data("legendItem",legendItem).data("interactive",interactiveLegend).data("itemHoverStyle",itemHoverStyle).data("itemStyle",itemStyle)};return LegendItem}(_componentInterface2["default"]);exports["default"]=LegendItem},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"*.legendItem.legendItem":function legendItemLegendItem(){return{"icon.appearing":function iconAppearing(){return[{initialAttr:{opacity:0},slot:"plot",startEnd:{start:.5,end:1},finalAttr:{opacity:1}}]},"background.appearing":function backgroundAppearing(inputJSON){return[{initialAttr:{opacity:0},slot:"plot",startEnd:{start:.5,end:1},finalAttr:{opacity:inputJSON.attr.opacity}}]},"icon.disappearing":function iconDisappearing(){return[{finalAttr:{opacity:0},slot:"initial"}]}}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var appearing=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"plot"}],updating=[{slot:"plot",startEnd:{start:0,end:.5}}],disappearing=[{slot:"intial"}];exports["default"]={"*.legend.legend":function legendLegend(){return{"legendGroup.appearing":appearing,"legendGroup.updating":updating,"legendGroup.disappearing":disappearing,"scroller.appearing":appearing,"scroller.updating":updating,"scroller.disappearing":disappearing}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.drawLabel=undefined;var _column=__webpack_require__(331);var _column2=_interopRequireDefault(_column);var _lib=__webpack_require__(118);var _dependencyManager=__webpack_require__(125);var _barAnimation=__webpack_require__(363);var _barAnimation2=_interopRequireDefault(_barAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,visibleStr=_lib.preDefStr.visibleStr,hiddenStr=_lib.preDefStr.hiddenStr,POSITION_MIDDLE=_lib.preDefStr.POSITION_MIDDLE,POSITION_START=_lib.preDefStr.POSITION_START,POSITION_END=_lib.preDefStr.POSITION_END,math=Math,mathMin=math.min,mathMax=math.max,defined=function defined(obj){return obj!==UNDEF&&obj!==null},_drawLabel=function _drawLabel(){var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConf=chart.config,JSONData=dataSet.config.JSONData,animationManager=dataSet.getFromEnv("animationManager"),canvasConf=chart.getChildren("canvas")[0].config,style=chart.config.dataLabelStyle,setDataArr=JSONData.data,categories=chart.config.categories,is3D=chart.config.is3D,isStacked=chart.config.isstacked,catLen=categories&&categories.length,dataSetLen=setDataArr&&setDataArr.length,len,dataStore=dataSet.getData(),SmartLabel=chart.getFromEnv("smartLabel"),dataObj,attr,yDepth=canvasConf.yDepth,xDepth=canvasConf.xDepth,numberFormatter=chart.getFromEnv("number-formatter"),i,j,displayValue="",setData,placeValuesInside=chartConf.placevaluesinside,canvasWidth=chartConf.canvasWidth,canvasLeft=chartConf.canvasLeft,graphic,height,gutter=2,valuePadding=chartConf.valuepadding+gutter,textY,textX,outsideColSpace,isNegative,yPos,xPos,width,setValue,dataLabelContainer=dataSet.getContainer("labelGroup"),textAnchor,textWidth,xAdjust,GUTTER_4=4,skipInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo(),skippingApplied=skipInfo&&skipInfo.skippingApplied,plotDrawArray=skipInfo&&skipInfo.labelDraw||[],plotDrawArrayLength=plotDrawArray.length,config,plotLabel,plotLabelCheck,dim,tempGraphics,visible=dataSet.getState("visible"),callback=function callback(){this.hide()};visible&&dataLabelContainer.show();SmartLabel.setStyle(style);len=skippingApplied?plotDrawArrayLength:catLen<dataSetLen?catLen:dataSetLen;for(j=0;j<len;j++){i=skippingApplied?plotDrawArray[j]:j;dataObj=dataStore[i];config=dataObj&&dataObj.config;setValue=config&&config.setValue;if(dataObj===UNDEF||setValue===UNDEF||setValue===null||config.labelSkip===true){tempGraphics=dataObj&&dataObj.graphics;if(tempGraphics){tempGraphics.label&&tempGraphics.label.hide()}config&&delete config.labelSkip;continue}graphic=dataObj.graphics;if(!graphic){continue}setData=setDataArr[i];yPos=dataObj._yPos;xPos=dataObj._xPos;setValue=numberFormatter.getCleanValue(setData.value);isNegative=(0,_lib.pluckNumber)(setValue)<0;height=dataObj._height;width=dataObj._width;textAnchor=isStacked?POSITION_MIDDLE:isNegative?placeValuesInside?POSITION_START:POSITION_END:placeValuesInside?POSITION_END:POSITION_START;displayValue=config.displayValue;plotLabelCheck=graphic.label;if(config.showValue&&defined(displayValue)&&displayValue!==_lib.BLANKSTRING&&setValue!==null){attr={text:displayValue,fill:style.color,"text-bound":[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash],"line-height":style.lineHeight,visibility:dataSet.getState("visible")?visibleStr:hiddenStr};dim=SmartLabel.getOriSize(displayValue);textWidth=dim.width;textWidth+=valuePadding;xAdjust=valuePadding;textY=yPos+height*.5;textX=xPos+(isNegative?0:width);if(isNegative){outsideColSpace=xPos-canvasLeft}else{outsideColSpace=canvasLeft+canvasWidth-(xPos+width)}if(isStacked){textX+=(isNegative?width:-width)*.5;textX=mathMax(canvasLeft+textWidth*.5,textX);textX=mathMin(canvasLeft+canvasWidth-textWidth*.5,textX);textX-=is3D?xDepth:0;textY+=is3D?yDepth:0}else{if(placeValuesInside){if(width>=textWidth){textX+=isNegative?xAdjust:-xAdjust;if(is3D){textY+=yDepth;textX-=xDepth}}else{if(textWidth<outsideColSpace){textX+=isNegative?-xAdjust:xAdjust;textAnchor=isNegative?POSITION_END:POSITION_START;if(is3D&&isNegative){textX-=xDepth}}else{if(isNegative){textX=xPos+width+mathMax(textWidth-xPos-width+canvasLeft,0)-xAdjust;textAnchor=POSITION_END}else{textX=xPos-mathMax(textWidth-(canvasLeft+canvasWidth-xPos),0)+xAdjust;textAnchor=POSITION_START}if(is3D){textX-=xDepth;textY+=yDepth}}}}else{if(outsideColSpace>=textWidth){textX+=isNegative?-xAdjust:xAdjust;if(is3D&&isNegative){textX-=xDepth;textY+=xDepth}}else{textX+=isNegative?xAdjust+textWidth:-(xAdjust+textWidth);if(is3D){textX-=xDepth;textY+=yDepth}}}}if(textX>canvasLeft+canvasWidth||textX<canvasLeft){textX=canvasLeft+GUTTER_4;textAnchor=POSITION_START}attr["text-anchor"]=textAnchor;attr.x=textX;attr.y=textY;attr["text-bound"]=[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash];attr.opacity=visible?1:0;plotLabel=animationManager.setAnimation({el:plotLabelCheck||"text",container:dataLabelContainer,component:dataSet,attr:attr,callback:!visible&&callback,label:"plotLabel"});if(!plotLabelCheck){graphic.label=plotLabel}}else if(graphic.label){graphic.label=animationManager.setAnimation({el:graphic.label,component:dataSet})}}dataSet.config.labelDrawn=true};(0,_dependencyManager.addDep)({name:"barAnimation",type:"animationRule",extension:_barAnimation2["default"]});var Bar2DDataset=function(_ColumnDataset){_inherits(Bar2DDataset,_ColumnDataset);function Bar2DDataset(){_classCallCheck(this,Bar2DDataset);return _possibleConstructorReturn(this,_ColumnDataset.apply(this,arguments))}Bar2DDataset.prototype.getType=function getType(){return"dataset"};Bar2DDataset.prototype.getName=function getName(){return"bar2D"};Bar2DDataset.prototype.drawLabel=function drawLabel(){_drawLabel.call(this)};return Bar2DDataset}(_column2["default"]);exports.drawLabel=_drawLabel;exports["default"]=Bar2DDataset},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);exports["default"]={"initial.dataset.bar2D":function initialDatasetBar2D(){var component=this,chart=component.getFromEnv("chart"),yDepth=chart.config.yDepth||0,yAttrKey="x",hAttrKey="width",yAxis=component.getFromEnv("yAxis");return{"rect.appearing":function rectAppearing(inputJSON){var zeroPos=yAxis.getPixel(yAxis.getAxisBase())+(chart.isBar?-yDepth:yDepth),index=inputJSON.index,dataObj=component.components.data[index],actualFinalAttr=inputJSON.attr,yAttrVal,hAttrVal,yBasePos,endPosWRT0;yAttrVal=actualFinalAttr[yAttrKey];hAttrVal=actualFinalAttr[hAttrKey];endPosWRT0=Math.sign(yAttrVal+hAttrVal/2-zeroPos);if(endPosWRT0===1){yBasePos=yAttrVal}else{yBasePos=yAttrVal+hAttrVal}dataObj._posWRT0=endPosWRT0;return[{initialAttr:function initialAttr(){var initialAttr={};initialAttr[yAttrKey]=yBasePos;initialAttr[hAttrKey]=0;initialAttr.opacity=0;return initialAttr},finalAttr:{opacity:1},startEnd:function startEnd(){var length=inputJSON.length;return _lib.animHelperFN.getTimeByValue(_lib.animHelperFN.animByWeight(index,length,.6),{startPx:zeroPos,endPx:endPosWRT0===1?component.config.yAxisMaxPixel:component.config.yAxisMinPixel},{startPx:yBasePos,endPx:endPosWRT0===1?actualFinalAttr[yAttrKey]+actualFinalAttr[hAttrKey]:actualFinalAttr[yAttrKey]})},hookFn:function hookFn(){this.attr({opacity:1})},effect:"linear",slot:"plot"}]},"plotLabel.appearing":function plotLabelAppearing(){return[{initialAttr:{opacity:0},slot:"final"}]},"*":null}}}},,,,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.hideFn=exports.plotClickHandler=exports.labelClickFn=exports.trimData=exports.plotGraphicClick=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _area=__webpack_require__(347);var _area2=_interopRequireDefault(_area);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _pie2dAnimation=__webpack_require__(370);var _pie2dAnimation2=_interopRequireDefault(_pie2dAnimation);var _redraphaelShapes=__webpack_require__(211);var _redraphaelShapes2=_interopRequireDefault(_redraphaelShapes);var _schedular=__webpack_require__(129);var _pointColor=__webpack_require__(172);var _pointColor2=_interopRequireDefault(_pointColor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var Raphael=(0,_dependencyManager.getDep)("redraphael","plugin"),UNDEF=void 0,win=window,doc=win.document,isVML=!_lib.hasSVG,supportsTouch="createTouch"in doc,supportsOnlyTouch=supportsTouch&&!(win.navigator.maxTouchPoints||win.navigator.msMaxTouchPoints),ROLLOVER="DataPlotRollOver",ROLLOUT="DataPlotRollOut",EVENTARGS="eventArgs",TRANSFORMSTR="t",DASH_DEF="none",POINTER="pointer",visibleStr=_lib.preDefStr.visibleStr,docMode8=doc.documentMode===8,VISIBLE=docMode8?visibleStr:"",HIDDEN="hidden",M="M",L="L",math=Math,mathATan2=math.atan2,mathSin=math.sin,mathCos=math.cos,mathMax=math.max,mathMin=math.min,mathAbs=math.abs,mathCeil=math.ceil,mathFloor=math.floor,pi=math.PI,piBy2=pi/2,rad2deg=180/math.PI,pi2=2*pi,pi3By2=pi+piBy2,createGroup=function createGroup(groupName,parentContainer,dataset){var animationManager=dataset.getFromEnv("animationManager");return animationManager.setAnimation({el:"group",attr:{name:groupName},container:parentContainer,component:dataset,label:"group"})},singleFillColorFn=function singleFillColorFn(color,defaultRadius){var value=defaultRadius?1:UNDEF;return(0,_lib.toRaphaelColor)({color:(0,_libGraphics.getFirstColor)(color.color,value),alpha:(0,_libGraphics.getFirstAlpha)(color.alpha,value)})},getContainerPosition=function getContainerPosition(el,noscroll){var p={left:0,top:0},clientRect;if(el.getBoundingClientRect){clientRect=el.getBoundingClientRect();p.top=clientRect.top+(win.pageYOffset||doc.scrollTop||0)-(doc.clientTop||0);p.left=clientRect.left+(win.pageXOffset||doc.scrollLeft||0)-(doc.clientLeft||0)}else{while(el){p.left+=el.offsetLeft||0;p.top+=el.offsetTop||0;if(el!==doc.body&&el!==doc.documentElement&&!noscroll){p.left-=el.scrollLeft||0;p.top-=el.scrollTop||0}el=el.offsetParent}}return p},getClickArcTangent=function getClickArcTangent(x,y,center,ref,pieYScale){return mathATan2((y-center[1]-ref.top)/pieYScale,x-center[0]-ref.left)},plotClickHandler=function plotClickHandler(dataSet,ele){return function(e){var plotItem=ele.data("plotItem"),seriesData=plotItem.seriesData;!seriesData.isRotating&&dataSet.plotGraphicClick.call(ele,e)}},plotGraphicClick=function plotGraphicClick(dataset){return function(evt){var prevTextPos,o=this.element||this,plotItem=o.plotItem||o.data("plotItem"),elData=o.data("eventArgs")||{},chart=plotItem.chart,animationManager=dataset.getFromEnv("animationManager"),index=plotItem.index,seriesData=dataset.config,enableMultiSlicing=seriesData.enableMultiSlicing,set=dataset.components.data[index],setGraphics=set.graphics,setConfig=set.config,doNotSlice=setConfig.doNotSlice,atleastOneOtherSliced,graphic,dataLabel,sliced,slicedTranslation=setConfig.slicedTranslation,transX,transY,connector,connectorPath,lastSliceTimeStamp,minTimeForNextSlice=400,eventArgs,path;!seriesData.isRotating&&evt&&chart.plotEventHandler(o,evt);if(seriesData.isRotating||seriesData.singletonCase||doNotSlice){return}atleastOneOtherSliced=!enableMultiSlicing&&dataset.sliceInOtherPies(index);if((sliced=setConfig.sliced)&&atleastOneOtherSliced){return}if(supportsTouch&&!supportsOnlyTouch){lastSliceTimeStamp=(new Date).getTime();if(plotItem.lastSliceTimeStamp&&lastSliceTimeStamp-plotItem.lastSliceTimeStamp<minTimeForNextSlice){return}plotItem.lastSliceTimeStamp=lastSliceTimeStamp}graphic=setGraphics.element;connector=setGraphics.connector;dataLabel=setGraphics.label||setGraphics.dataLabel;slicedTranslation=(typeof slicedTranslation==="undefined"?"undefined":_typeof(slicedTranslation))==="object"?"t"+slicedTranslation:slicedTranslation;connectorPath=setConfig.connectorPath;transX=(sliced?-1:1)*setConfig.transX;transY=(sliced?-1:1)*setConfig.transY;eventArgs=graphic.data(EVENTARGS)||graphic.data(EVENTARGS,{});chart.fireChartInstanceEvent("slicingStart",{slicedState:sliced,dataIndex:"index"in elData&&elData.index,data:dataset.getPlotData(index,sliced)});animationManager.setAnimationState("slicing");animationManager.setAnimation({el:graphic,attr:{transform:sliced?"t0,0":slicedTranslation},component:dataset,label:"slice",callback:function callback(){chart.fireChartInstanceEvent("slicingEnd",{slicedState:sliced,dataIndex:"index"in elData&&elData.index,data:dataset.getPlotData(index,!sliced)})}});if(dataLabel&&dataLabel.x){if(!(prevTextPos=dataLabel.data("textPos"))){prevTextPos=dataLabel.data("textPos",{x:dataLabel.x,y:dataLabel.y})}animationManager.setAnimation({el:dataLabel,attr:{x:dataLabel.x+(sliced?0:transX)},label:"label-sliced",component:dataset});prevTextPos.x=dataLabel.x+(sliced?0:transX)}if(connectorPath){path=connectorPath.slice(0);path[1]+=transX;path[2]+=transY;path[4]+=transX;path[6]+=transX;animationManager.setAnimation({el:connector,attr:{path:path},label:"connector-sliced",component:dataset});setConfig.connectorPath=path}eventArgs.isSliced=sliced=setConfig.sliced=!sliced;return sliced}},handlers=function handlers(dataset){var animationManager=dataset.getFromEnv("animationManager");return{plotDragMove:function plotDragMove(evt){var o=this,plotItem=o.data("plotItem"),chart=plotItem.chart,evtData=evt.data,dx=evtData[0],dy=evtData[1],x=evtData[2],y=evtData[3],seriesData=plotItem.seriesData,datasetConf=dataset.config,angle;if(isNaN(dx)||isNaN(dy)||!datasetConf.enableRotation||seriesData.singletonCase||seriesData.isRightClicked){return}angle=getClickArcTangent.call(evt,x,y,seriesData.pieCenter,seriesData.chartPosition,1);if(seriesData.dragStartAngle!==angle&&!seriesData.isRotating){seriesData.isRotating=true;chart.fireChartInstanceEvent("RotationStart",{startingAngle:seriesData._rotationalStartAngle=chart._startingAngle()})}datasetConf.startAngle+=angle-seriesData.dragStartAngle;seriesData.dragStartAngle=angle;seriesData.moveDuration=0;if(!datasetConf.updateInited){datasetConf.updateInited=true;chart.addJob("pie_batch_rotate",chart._batchRotate||(chart._batchRotate=function(){dataset._rotate();datasetConf.updateInited=false}),_schedular.priorityList.draw,{oneInAFrame:true})}},plotDragStart:function plotDragStart(evt){var o=this,plotItem=o.data("plotItem"),chart=plotItem.chart,seriesData=plotItem.seriesData,datasetConf=dataset.config,button=(0,_lib.pluckNumber)(evt.button,evt.originalEvent.button),startingAng=-datasetConf.startAngle*rad2deg,angle,x=evt.data[0],y=evt.data[1];seriesData.isRightClicked=!!(!_lib.touchEnabled&&button!==0&&button!==1);if(!datasetConf.enableRotation||seriesData.isRightClicked){return}seriesData.isRotating=false;seriesData.chartPosition=getContainerPosition(chart.getFromEnv("chart-container"));angle=getClickArcTangent.call(evt,x,y,seriesData.pieCenter,seriesData.chartPosition,1);seriesData.dragStartAngle=angle;seriesData.startingAngleOnDragStart=startingAng},plotDragEnd:function plotDragEnd(){var o=this,plotItem=o.data("plotItem"),chart=plotItem.chart,dataSet=chart.getChildren("dataset")[0],dataSetConfig=dataSet.config,chartConfig=chart.config,seriesData=plotItem.seriesData,startingAng=-dataSetConfig.startAngle*rad2deg;if(seriesData.isRightClicked){return}chartConfig.clicked=true;if(!chart.disposed){dataset._rotate()}delete chartConfig.clicked;if(seriesData.isRotating){setTimeout(function(){seriesData.isRotating=false},0);chart.fireChartInstanceEvent("RotationEnd",{startingAngle:(0,_lib.normalizeAngle)(startingAng,true),changeInAngle:startingAng-dataSetConfig.startingAngleOnDragStart})}!seriesData.isHovered&&dataset.config.handlersAPI.onPlotHover(o,false)},plotRollOver:function plotRollOver(e){var ele=this,plotItem=ele.plotItem||ele.data("plotItem"),chart=plotItem.chart,conf=plotItem.seriesData,dataset=chart.getDatasets()[0],animationManager=dataset.getFromEnv("animationManager");if(!conf.isRotating){chart.plotEventHandler(ele,e,ROLLOVER);dataset.config.handlersAPI.onPlotHover(ele,true,animationManager)}dataset.fireEvent("datasetrollover",plotItem);conf.isHovered=true},plotRollOut:function plotRollOut(e){var ele=this,plotItem=ele.plotItem||ele.data("plotItem"),chart=plotItem.chart,conf=plotItem.seriesData,dataset=chart.getDatasets()[0];if(!conf.isRotating){chart.plotEventHandler(ele,e,ROLLOUT);dataset.config.handlersAPI.onPlotHover(ele,false)}dataset.fireEvent("datasetrollout",plotItem);conf.isHovered=false},onPlotHover:function onPlotHover(plot,hover){var plotItem=plot.data("plotItem"),center=plotItem.center,rolloverProps=plotItem.rolloverProperties||{},color=hover?rolloverProps.color:plotItem.color,borderWidth=hover?rolloverProps.borderWidth:plotItem.borderWidth,borderColor=hover?rolloverProps.borderColor:plotItem.borderColor;if(color){if(hover){color.cx=center[0];color.cy=center[1];color.r=plotItem.radius}rolloverProps.enabled&&animationManager.setAnimation({el:plotItem.graphic,component:dataset,attr:{fill:(0,_lib.toRaphaelColor)(color),"stroke-width":borderWidth,stroke:borderColor}})}}}},sortArrayByPoint=function sortArrayByPoint(a,b){return a.point.value-b.point.value},sortArrayByAngle=function sortArrayByAngle(a,b){return a.angle-b.angle},labelClickFn=function labelClickFn(chart,link){link&&chart.getFromEnv("linkClickFN")&&chart.getFromEnv("linkClickFN").call({link:link},true)},hideFn=function hideFn(){this.hide()},alignments=["start","start","end","end"],alignCenter="middle",ySign=[-1,1,1,-1],xSign=[1,1,-1,-1];function _trimData(datasetJSON){if(!this.config.JSONData){return}var dataSet=this,i=void 0,len=void 0,removeDataArr=void 0,legend=dataSet.getFromEnv("legend"),config=void 0,prevData=dataSet.config.JSONData,prevDataLength=prevData.data&&prevData.data.length,currDataLength=datasetJSON.data&&datasetJSON.data.length||0,dataDiff=prevDataLength-currDataLength;if(dataDiff>0){dataSet.removeData(currDataLength,dataDiff,false)}removeDataArr=dataSet.components.removeDataArr||[];for(i=0,len=removeDataArr.length;i<len;i++){config=removeDataArr[i].config;config.legendItemId&&legend.disposeItem(config.legendItemId)}}(0,_dependencyManager.addDep)({name:"pie2dAnimation",type:"animationRule",extension:_pie2dAnimation2["default"]});(0,_redraphaelShapes2["default"])(Raphael);var Pie2DDataset=function(_AreaDataset){_inherits(Pie2DDataset,_AreaDataset);function Pie2DDataset(){_classCallCheck(this,Pie2DDataset);var _this=_possibleConstructorReturn(this,_AreaDataset.call(this));_this.plotGraphicClick=plotGraphicClick(_this);return _this}Pie2DDataset.prototype.getType=function getType(){return"dataset"};Pie2DDataset.prototype.getName=function getName(){return"pie2D"};Pie2DDataset.prototype.__setDefaultConfig=function __setDefaultConfig(){_AreaDataset.prototype.__setDefaultConfig.call(this);this.config.doughnutradius=0};Pie2DDataset.prototype.configureAttributes=function configureAttributes(datasetJSON){if(!datasetJSON){return false}this.trimData(datasetJSON);this.config.JSONData=datasetJSON;var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,conf=dataSet.config,JSONData=dataSet.config.JSONData,chartAttr=dataSet.getFromEnv("chart-attrib"),is3D=chart.config.is3D,radius3D=void 0,use3DLighting=void 0,toolTipSepChar=void 0,enableMultiSlicing=void 0,enableAnimation=void 0;conf.handlersAPI=handlers(dataSet);dataSet.setState("visible",(0,_lib.pluckNumber)(dataSet.config.JSONData.visible,!Number(dataSet.config.JSONData.initiallyhidden),1)===1);(0,_lib.parseConfiguration)({},dataSet.config,chart&&chart.config);enableAnimation=conf.enableAnimation=(0,_lib.pluckNumber)(chartAttr.animation,chartAttr.defaultanimation,1);conf.animation=!enableAnimation?false:{duration:(0,_lib.pluckNumber)(chartAttr.animationduration,chartAttr.moveduration,1)*1e3};conf.transposeAnim=!enableAnimation&&!(0,_lib.pluckNumber)(conf.transposeanimation,1)?false:{duration:(0,_lib.pluckNumber)(chartAttr.transposeanimduration,.2)*1e3};conf.showPlotBorder=(0,_lib.pluckNumber)(chartAttr.showplotborder,1);conf.showHoverEffect=(0,_lib.pluckNumber)(chartAttr.plothovereffect,chartAttr.showhovereffect,UNDEF);conf.showTooltip=(0,_lib.pluckNumber)(chartAttr.showtooltip,1);conf.toolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(JSONData.plottooltext,chartAttr.plottooltext)));enableMultiSlicing=conf.enableMultiSlicing=(0,_lib.pluckNumber)(chartAttr.enablemultislicing,1);use3DLighting=conf.use3DLighting=(0,_lib.pluckNumber)(chartAttr.use3dlighting,1);radius3D=conf.radius3D=use3DLighting?(0,_lib.pluckNumber)(chartAttr.radius3d,90):100;conf.showZeroPies=(0,_lib.pluckNumber)(chartAttr.showzeropies,1);conf.showPercentInToolTip=(0,_lib.pluckNumber)(chartAttr.showpercentintooltip,1);conf.showLabels=(0,_lib.pluckNumber)(chartAttr.showlabels,1);conf.showValues=(0,_lib.pluckNumber)(JSONData.showvalues,chartAttr.showvalues,1);conf.showPercentValues=(0,_lib.pluckNumber)(chartAttr.showpercentvalues,chartAttr.showpercentagevalues,0);toolTipSepChar=conf.toolTipSepChar=(0,_lib.pluck)(chartAttr.tooltipsepchar,chartAttr.hovercapsepchar,_lib.COMMASPACE);conf.labelSepChar=(0,_lib.pluck)(chartAttr.labelsepchar,toolTipSepChar);conf.pieBorderColor=(0,_lib.pluck)(chartAttr.plotbordercolor,chartAttr.piebordercolor);conf.pieBorderAlpha=(0,_lib.pluckNumber)(chartAttr.plotborderalpha,chartAttr.pieborderalpha);conf.pieBorderThickness=conf.showPlotBorder?(0,_lib.pluckNumber)(chartAttr.plotborderthickness,chartAttr.pieborderthickness,chartConfig.plotborderthickness,1):0;conf.plotDashLen=(0,_lib.pluckNumber)(chartAttr.plotborderdashlen,5);conf.plotDashGap=(0,_lib.pluckNumber)(chartAttr.plotborderdashgap,4);conf.showValueInLegend=(0,_lib.pluckNumber)(chartAttr.showvalueinlegend,0);conf.showLabelInLegend=(0,_lib.pluckNumber)(chartAttr.showlabelinlegend,1);conf.valueBeforeLabelInLegend=(0,_lib.pluckNumber)(chartAttr.valuebeforelabelinlegend,0);conf.showValueAsPercentInLegend=(0,_lib.pluckNumber)(chartAttr.showvalueaspercentinlegend,1);conf.legendSepChar=(0,_lib.pluck)(chartAttr.legendsepchar,", ");conf.showvalues=(0,_lib.pluckNumber)(chartAttr.showvalues,1);conf.chartPosition=(0,_lib.getPosition)(chart.getFromEnv("chart-container"),chart);conf.timerThreshold=30;if(radius3D>100){radius3D=100}if(radius3D<0){radius3D=0}conf.showLegend=(0,_lib.pluckNumber)(chartAttr.showlegend,0);conf.reverselegend=!(0,_lib.pluckNumber)(chartAttr.reverselegend,0);chart.config.is3D=is3D;conf.pieYScale=(0,_lib.pluckNumber)(chartAttr.pieyscale,40);if(conf.pieYScale<1){conf.pieYScale=1}if(conf.pieYScale>=100){conf.pieYScale=80}conf.pieYScale/=100;conf.pieSliceDepth=(0,_lib.pluckNumber)(chartAttr.pieslicedepth,15);if(conf.pieSliceDepth<1){conf.pieSliceDepth=1}conf.managedPieSliceDepth=conf.pieSliceDepth;conf.enableMultiSlicing=!!enableMultiSlicing;conf.startAngle=(0,_lib.pluckNumber)(chartAttr.startingangle,0)%360*-(pi/180);conf.usePerPointLabelColor=chartAttr.colorlabelsfromplot==_lib.ONESTRING;conf.reversePlotOrder=(0,_lib.pluckNumber)(chartAttr.reverseplotorder,0);conf.animateClockWise=(0,_lib.pluckNumber)(chartAttr.animateclockwise,conf.reversePlotOrder);conf.showShadow=(0,_lib.pluckNumber)(chartAttr.showshadow,1);conf.singletonCase=JSONData.data.length===1;conf.valueTotal=0;dataSet._setConfigure();chartConfig.showLegend&&dataSet._addLegend()};Pie2DDataset.prototype.trimData=function trimData(datasetJSON){_trimData.call(this,datasetJSON)};Pie2DDataset.prototype._parseDisplayProperties=function _parseDisplayProperties(dataJSON,config){var setTooltext,pValue,toolText="",TTValue,value,labelText,displayValueText,displayValue,displayValueArgs,showValue,dataSet=this,chart=dataSet.getFromEnv("chart"),numberFormatter=dataSet.getFromEnv("number-formatter"),chartAttr=chart.getFromEnv("chart-attrib"),conf=dataSet.config,dataValue=(0,_lib.pluckNumber)(config.y,numberFormatter.getCleanValue(dataJSON.value,true)),totalValue=conf.valueTotal,showLabels=conf.showLabels,name=(0,_lib.parseUnsafeString)((0,_lib.pluck)(config.seriesName,dataJSON.label,dataJSON.name,_lib.BLANKSTRING)),showPercentValues=conf.showPercentValues,showPercentInToolTip=conf.showPercentInToolTip,labelSepChar=conf.labelSepChar,toolTipSepChar=conf.toolTipSepChar,showTooltip=conf.showTooltip;setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(dataJSON.tooltext,conf.toolText)));pValue=config.pValue=numberFormatter.percentValue(dataValue/totalValue*100);value=config.value=numberFormatter.dataLabels(dataValue)||_lib.BLANKSTRING;labelText=(0,_lib.pluckNumber)(dataJSON.showlabel,showLabels)===1?name:_lib.BLANKSTRING;displayValueText=(showValue=(0,_lib.pluckNumber)(dataJSON.showvalue,conf.showValues))===1?showPercentValues===1?pValue:value:_lib.BLANKSTRING;TTValue=showPercentInToolTip?pValue:value;displayValue=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)(dataJSON.displayvalue));displayValueArgs=(0,_lib.pluck)(displayValue,name+labelSepChar+(showPercentValues?pValue:value),_lib.BLANKSTRING);if(displayValue!==UNDEF&&showValue){displayValueText=displayValue}else{if(displayValueText!==_lib.BLANKSTRING&&labelText!==_lib.BLANKSTRING){displayValueText=labelText+labelSepChar+displayValueText}else{displayValueText=(0,_lib.pluck)(labelText,displayValueText)}}if(showTooltip){if(setTooltext!==UNDEF){toolText=(0,_lib.parseTooltext)(setTooltext,[1,2,3,5,6,7,14,24,25],{formattedValue:value,label:name,yaxisName:(0,_lib.parseUnsafeString)(chartAttr.yaxisname),xaxisName:(0,_lib.parseUnsafeString)(chartAttr.xaxisname),percentValue:pValue,sum:numberFormatter.dataLabels(totalValue),unformattedSum:totalValue},dataJSON,chartAttr)}else{toolText=name;if(toolText!=_lib.BLANKSTRING){toolText=toolText+toolTipSepChar+TTValue}else{toolText=TTValue}}}config.displayValue=displayValueText;config.displayValueArgs=displayValueArgs;config.toolText=toolText;config.seriesName=name;config.categoryLabel=labelText};Pie2DDataset.prototype._isStyled=function _isStyled(dataJSON){var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config;if(chartConfig.usedataplotcolorforlabels||dataJSON.labelbordercolor||dataJSON.labelbgcolor||dataJSON.labelborderthickness||dataJSON.labelborderalpha||dataJSON.labelalpha||dataJSON.labelfont||dataJSON.labelfontsize||dataJSON.labelfontcolor||dataJSON.labelfontalpha||dataJSON.labelalpha||dataJSON.labelfontbold||dataJSON.labelfontitalic||dataJSON.labelborderpadding||dataJSON.labelborderradius||dataJSON.labelbgalpha||dataJSON.labelborderdashed||dataJSON.labelborderdashlen||dataJSON.labelborderdashgap){return true}};Pie2DDataset.prototype._setConfigure=function _setConfigure(newDataset,newIndex){var index,name,setColor,setAlpha,borderConfig,setPlotBorderColor,setPlotBorderAlpha,pointShadow,legendText,legValue,isSliced,centerLabelConfig,setBorderDashed,pointDashStyle,dataObj,tempIndex,config,dataValue,dataConfig,dataJSON,dataSet=this,dataSetComponents=dataSet.components,removeDataArr=dataSetComponents.removeDataArr=dataSetComponents.removeDataArr||[],chart=dataSet.getFromEnv("chart"),chartAttr=chart.getFromEnv("dataSource").chart,chartConfig=chart.config,conf=dataSet.config,JSONData=dataSet.config.JSONData,setDataArr=(newDataset||JSONData).data,setDataLen=setDataArr&&setDataArr.length,showZeroPies=conf.showZeroPies,totalValue=conf.valueTotal||0,dataArr=[],plotBorderDash=(0,_lib.pluckNumber)(chartAttr.plotborderdashed,0),dataStore=dataSet.components.data||(dataSet.components.data=[]),numberFormatter=dataSet.getFromEnv("number-formatter"),colorM=dataSet.getFromEnv("color-manager"),labelInLeg=conf.labelInLeg,valInLeg=conf.valInLeg,setBorderWidth=conf.pieBorderThickness,reversePlotOrder=conf.reversePlotOrder,radius3D=conf.radius3D,enableMultiSlicing=conf.enableMultiSlicing,lastSlicedid=conf.lastSlicedid||0,seriesDashLen=(0,_lib.pluckNumber)(chartAttr.plotBorderDashed,5),seriesDashGap=(0,_lib.pluckNumber)(chartAttr.plotborderdashgap,4),valBefore=(0,_lib.pluckNumber)(chartAttr.valuebeforelabelinlegend,0),valAsPerInLeg=(0,_lib.pluckNumber)(chartAttr.showvalueaspercentinlegend,1),nullCount=0,sepChar=(0,_lib.pluck)(chartAttr.legendsepchar,", ");chartConfig.dataLabelStyle=(0,_lib.parsexAxisStyles)({},{},chartAttr,chartConfig.dataLabelStyle,setColor);for(index=0;index<setDataLen;index+=1){dataObj=setDataArr[index];dataValue=numberFormatter.getCleanValue(dataObj.value,true);if(!(dataValue===null||!showZeroPies&&dataValue===0)){dataArr.push(dataObj);totalValue+=dataValue}else{nullCount+=1}}!conf.singletonCase&&(conf.singletonCase=setDataLen-nullCount===1);if(nullCount&&dataStore.length>setDataLen-nullCount){for(index=dataStore.length-1;nullCount>0;index-=1,nullCount-=1){if(dataStore[index]){dataObj=dataStore[index];dataConfig=dataObj.config;removeDataArr.push(dataObj);dataConfig.y=null}}}if(totalValue===0){dataArr=[]}conf.valueTotal=totalValue;conf.dataLabelCounter=0;chartConfig.allPlotSliceEnabled=chartConfig.enableslicing;for(index=(setDataLen=dataArr.length)-1;index>=0;index-=1){tempIndex=index;if(newDataset){dataJSON=dataArr[index];if(newIndex!==UNDEF){tempIndex=newIndex+index;dataObj=dataStore[tempIndex]}else{tempIndex=dataStore.length-setDataLen+index;dataObj=dataStore[tempIndex]}}else{dataObj=dataStore[index]||(dataStore[index]={graphics:{},config:{}});dataJSON=dataArr[index]}config=dataObj&&dataObj.config;if(!config){config=dataStore[tempIndex].config={}}if(!dataObj.graphics){dataStore[tempIndex].graphics={}}config.y=dataValue=numberFormatter.getCleanValue(dataJSON.value,true);config.seriesName=name=(0,_lib.parseUnsafeString)((0,_lib.pluck)(dataJSON.label,dataJSON.name,_lib.BLANKSTRING));config.labellink=(0,_lib.pluck)(dataJSON.labellink,chartAttr.labellink);setColor=(0,_lib.pluck)(dataJSON.color,colorM.getPlotColor(index));setAlpha=(0,_lib.pluck)(dataJSON.alpha,chartAttr.plotfillalpha,_lib.HUNDREDSTRING);borderConfig=config.borderConfig=dataSet._parseBorderConfig(setColor,setAlpha,dataJSON);setPlotBorderColor=borderConfig.setPlotBorderColor;setPlotBorderAlpha=borderConfig.setPlotBorderAlpha;pointShadow={opacity:mathMax(setAlpha,setPlotBorderAlpha)/100};isSliced=Boolean((0,_lib.pluckNumber)(dataJSON.issliced,chartAttr.issliced,0));if(isSliced){if(!enableMultiSlicing){if(lastSlicedid!==-1){dataStore[dataStore.length-lastSlicedid-1].sliced=false}conf.lastSlicedid=index}conf.preSliced=isSliced}setBorderDashed=(0,_lib.pluckNumber)(dataJSON.dashed,plotBorderDash);pointDashStyle=setBorderDashed?(0,_lib.getDashStyle)((0,_lib.pluck)(dataJSON.dashlen,seriesDashLen),(0,_lib.pluck)(dataJSON.dashgap,seriesDashGap),setBorderWidth):DASH_DEF;dataSet._parseDisplayProperties(dataJSON,config);legendText=labelInLeg?name:_lib.BLANKSTRING;if(valInLeg){legValue=valAsPerInLeg?numberFormatter.legendPercentValue(dataValue/totalValue*100):numberFormatter.legendValue(dataValue);legendText=valBefore?legValue+(legendText&&sepChar+legendText):(legendText&&legendText+sepChar)+legValue}conf.dataLabelCounter+=1;if(dataSet._isStyled(dataJSON)){config.style=(0,_lib.parsexAxisStyles)(dataJSON,{},chartAttr,chartConfig.dataLabelStyle,setColor)}else if(config.style){delete config.style}config.showInLegend=legendText!==_lib.BLANKSTRING;config.isVisible=true;config.name=legendText;config.shadow=pointShadow;config.setColor=setColor;config.color=(0,_pointColor2["default"])(setColor,setAlpha,radius3D,conf.doughnutradius);config._3dAlpha=setAlpha;config.borderColor=(0,_libGraphics.convertColor)(setPlotBorderColor,setPlotBorderAlpha);config.borderWidth=setBorderWidth;config.link=(0,_lib.getValidValue)(dataJSON.link);config.sliced=isSliced;config.dashStyle=pointDashStyle;if(!(config.doNotSlice=(0,_lib.pluck)(dataJSON.enableslicing,chartConfig.enableslicing)!=_lib.ONESTRING)&&chartConfig.allPlotSliceEnabled===_lib.ZEROSTRING){chartConfig.allPlotSliceEnabled=_lib.ONESTRING}dataSet._parseHoverEffectOptions(index);config.centerLabelConfig=centerLabelConfig;config.radius3D=radius3D}if(reversePlotOrder){dataStore&&dataStore.reverse()}conf.dataArr=dataArr;conf.enableRotation=dataStore.length>1?(0,_lib.pluckNumber)(chartAttr.enablerotation,1):0};Pie2DDataset.prototype._parseHoverEffectOptions=function _parseHoverEffectOptions(index){var highlight,hoverColor,hoverAlpha,hoverBorderColor,hoverBorderAlpha,hoverBorderThickness,isHoverColorString,highlightColors,hColorsLen,hColorsLoop,dataSet=this,chart=dataSet.getFromEnv("chart"),chartAttr=chart.getFromEnv("dataSource").chart,conf=dataSet.config,config=dataSet.components.data[index].config,JSONData=dataSet.config.JSONData,dataJSON=JSONData.data[index],setColor=config.setColor,setAlpha=config._3dAlpha,radius3D=conf.radius3D,borderConfig=config.borderConfig,setPlotBorderAlpha=borderConfig.setPlotBorderAlpha,setPlotBorderColor=borderConfig.setPlotBorderColor,setBorderWidth=conf.setBorderWidth,hoverEffect=(0,_lib.pluckNumber)(config.hovereffect,conf.showHoverEffect),hoverEffects=config.hoverEffects={enabled:hoverEffect};if(hoverEffect===UNDEF){hoverEffect=hoverEffects.enabled=(0,_lib.pluck)(dataJSON.hovercolor,JSONData.hovercolor,chartAttr.plotfillhovercolor,dataJSON.hoveralpha,JSONData.hoveralpha,chartAttr.plotfillhoveralpha,dataJSON.borderhovercolor,JSONData.borderhovercolor,chartAttr.plotborderhovercolor,dataJSON.borderhoveralpha,JSONData.borderhoveralpha,chartAttr.plotborderhoveralpha,chartAttr.plotfillhoveralpha,dataJSON.borderhoverthickness,JSONData.borderhoverthickness,chartAttr.plotborderhoverthickness,UNDEF)!==UNDEF}if(hoverEffect){highlight=(0,_lib.pluckNumber)(dataJSON.highlightonhover,JSONData.highlight,chartAttr.highlight,1);hoverColor=(0,_lib.pluck)(dataJSON.hovercolor,JSONData.hovercolor,chartAttr.plotfillhovercolor);if(hoverColor&&highlight){highlight=0}hoverColor=(0,_lib.pluck)(hoverColor,setColor);hoverAlpha=(0,_lib.pluck)(dataJSON.hoveralpha,JSONData.hoveralpha,chartAttr.plotfillhoveralpha,setAlpha);hoverBorderColor=(0,_lib.pluck)(dataJSON.borderhovercolor,JSONData.borderhovercolor,chartAttr.plotborderhovercolor,setPlotBorderColor);hoverBorderAlpha=(0,_lib.pluck)(dataJSON.borderhoveralpha,JSONData.borderhoveralpha,chartAttr.plotborderhoveralpha,chartAttr.plotfillhoveralpha,setPlotBorderAlpha);hoverBorderThickness=(0,_lib.pluckNumber)(dataJSON.borderhoverthickness,JSONData.borderhoverthickness,chartAttr.plotborderhoverthickness,setBorderWidth);hoverColor.replace(/,+?$/,"");if(highlight===1){isHoverColorString=typeof hoverColor==="string";highlightColors=isHoverColorString?hoverColor.split(/\s{0,},\s{0,}/):hoverColor.color.split(/\s{0,},\s{0,}/);hColorsLen=highlightColors.length;for(hColorsLoop=0;hColorsLoop<hColorsLen;hColorsLoop++){highlightColors[hColorsLoop]=(0,_libGraphics.getLightColor)(highlightColors[hColorsLoop],70)}if(isHoverColorString){hoverColor=highlightColors.join(",")}else{hoverColor.color=highlightColors.join(",")}}dataSet._setHoverColor(hoverEffects,hoverColor,hoverAlpha,radius3D);hoverEffects.alpha=hoverAlpha;hoverEffects.borderColor=(0,_libGraphics.convertColor)(hoverBorderColor,hoverBorderAlpha);hoverEffects.borderAlpha=hoverBorderAlpha;hoverEffects.borderWidth=hoverBorderThickness}else{hoverEffects.enabled=false}};Pie2DDataset.prototype.placeDataLabels=function placeDataLabels(isRotating,plotItems,plot,seriesData){var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,animationManager=dataSet.getFromEnv("animationManager"),toolTipController=dataSet.getFromEnv("toolTipController"),legend=chart.getChildren("legend")[0],legendConfig,legendWidth,legendAlign,legendBorderwidth,labelGroup=dataSet.getContainer("label-group"),plotOptions=dataSet.config,canvasLeft=chartConfig.canvasLeft,canvasTop=chartConfig.canvasTop,canvasWidth=chartConfig.canvasWidth,cx=canvasLeft+chartConfig.canvasWidth*.5,cy=canvasTop+chartConfig.canvasHeight*.5,smartLabel=chart.getFromEnv("smartLabel"),dataLabelsOptions=plotOptions.dataLabelOptions,style=dataLabelsOptions.style,lineHeight=(0,_lib.pluckNumber)(mathCeil(parseFloat(style.lineHeight)),12),placeInside=plotItems.length===1?chartConfig.singletonPlaceValue:false,skipOverlapLabels=dataLabelsOptions.skipOverlapLabels,manageLabelOverflow=dataLabelsOptions.manageLabelOverflow,connectorPadding=dataLabelsOptions.connectorPadding,distanceOption=dataLabelsOptions.distance,remainingHeight,seriesCenter=seriesData&&seriesData.metrics||[cx,cy,2*plotOptions.pieMinRadius,plotOptions.innerSize||0],centerY=seriesCenter[1],centerX=seriesCenter[0],radius=seriesCenter[2]*.5,quarters=[[],[],[],[]],plotLeft=canvasLeft,plotTop=canvasTop,plotWidth=canvasWidth,dataLabelsRadius=plot.labelsRadius=radius+distanceOption,labelFontSize=parseInt(style.fontSize,10),labelHeight=labelFontSize,halfLabelHeight=labelHeight/2,xDisplacement=[connectorPadding,connectorPadding,-connectorPadding,-connectorPadding],maxLabels=plot.labelsMaxInQuadrant=mathFloor(dataLabelsRadius/labelHeight),isSmartLineSlanted=dataLabelsOptions.isSmartLineSlanted,innerRadius=seriesCenter[3]/2,align,i,labelWidth,j,oriY,maxYmayHave,spaceRequired,length,k,sliced,x1,x2,x3,x4,y1,y2,y3,points,point,angle,connector,connectorPath,excess,excessArr,labelQuadrantHeight,maxQuadrantLabel,dataLabel,dataLabelCheck,quarter,transX,transY,smartLabelObj,slicedTranslation,centerDistance,sameSideQuadrentLastY=Number.POSITIVE_INFINITY,extraLineSpaceComp,lPoint,pointConfig,pointGraphics,leftClubbedQuadrent=[],rightClubbedQuadrent=[],prevTextPos,prevConnectorPos,plotDragStart=plotOptions.handlersAPI.plotDragStart,plotDragEnd=plotOptions.handlersAPI.plotDragEnd,plotDragMove=plotOptions.handlersAPI.plotDragMove,plotRollOver=plotOptions.handlersAPI.plotRollOver,plotRollOut=plotOptions.handlersAPI.plotRollOut,_textAttrs,_textCss,_textAttrsWithXY,cloneOb=function cloneOb(ob){var clonedOb={},key="";for(key in ob){clonedOb[key]=ob[key]}return ob},applyAttrFnGen=function applyAttrFnGen(el,attr){return function(){el.attr(attr)}};if(legend){legendConfig=legend.config;legendWidth=legendConfig.symbolWidth;legendAlign=legendConfig.align;legendBorderwidth=legendConfig.borderWidth}else{legendWidth=0;legendAlign=0;legendBorderwidth=0}smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);if(!isRotating){smartLabel.setStyle(style)}if(!innerRadius&&plotOptions.singletonCase&&placeInside){point=plotItems[0];if((_textAttrs=point.config._textAttrs).text){pointGraphics=point.graphics;pointConfig=point.config;dataLabelCheck=pointGraphics.label;point.slicedTranslation=[plotLeft,plotTop];_textAttrs["text-anchor"]=alignCenter;_textAttrs.x=0;_textAttrs.y=0;_textAttrs.transform=["t",centerX,centerY];dataLabel=animationManager.setAnimation({el:dataLabelCheck||"text",attr:_textAttrs,component:dataSet,css:_textCss,label:"label",container:labelGroup});if(!dataLabelCheck){pointGraphics.label=dataLabel;dataLabel.on("dragstart",plotDragStart).on("dragmove",plotDragMove).on("dragend",plotDragEnd).on("click",labelClickFn.bind(dataLabel,chart,point.config.labellink)).on("mouseup",plotClickHandler(dataSet,dataLabel)).hover(plotRollOver,plotRollOut)}dataLabel.x=centerX;dataLabel.data("textPos",{x:centerX,y:centerY}).data("plotItem",_textAttrs.plotItem).data(EVENTARGS,_textAttrs.eventArgs);if(pointConfig.y!==null&&pointConfig.y!==UNDEF){dataLabel.show()}if(pointGraphics.connector){animationManager.setAnimation({el:pointGraphics.connector,component:dataSet,attr:{path:[]}})}}}else{if(placeInside){centerDistance=innerRadius+(radius-innerRadius)/2;(0,_lib.fcEach)(plotItems,function(point){pointConfig=point.config;if((_textAttrs=pointConfig._textAttrs).text){pointGraphics=point.graphics;dataLabelCheck=pointGraphics.label;if(pointConfig.y!==null&&pointConfig.y!==UNDEF){connector=pointGraphics.connector;connector&&connector.show();dataLabel&&dataLabel.show()}_textAttrs.transform="t0,0";angle=pointConfig.angle;y3=centerY+centerDistance*mathSin(angle);x3=centerX+centerDistance*mathCos(angle);_textAttrs._x=x3;_textAttrs._y=y3;if(point.sliced){slicedTranslation=point.slicedTranslation;transX=slicedTranslation[0]-plotLeft;transY=slicedTranslation[1]-plotTop;x3=x3+transX;y3=y3+transY}_textAttrs["text-anchor"]=alignCenter;_textAttrs.x=0;_textAttrs.y=0;_textAttrs.transform=["t",x3,y3];dataLabel=animationManager.setAnimation({el:dataLabelCheck||"text",attr:_textAttrs,component:dataSet,label:"label",css:_textCss,container:labelGroup});if(!dataLabelCheck){pointGraphics.label=dataLabel;dataLabel.on("dragstart",plotDragStart).on("dragmove",plotDragMove).on("dragend",plotDragEnd).on("click",labelClickFn.bind(dataLabel,chart,point.config.labellink)).on("mouseup",plotClickHandler(dataSet,dataLabel)).hover(plotRollOver,plotRollOut)}dataLabel.x=_textAttrs._x;dataLabel.x=_textAttrs._x;dataLabel.y=_textAttrs._y;dataLabel.data("plotItem",_textAttrs.plotItem).data(EVENTARGS,_textAttrs.eventArgs);if(_textAttrs.visibility===VISIBLE){dataLabel.show()}}})}else{for(i=plotItems.length-1;i>=0;i--){point=plotItems[i];pointConfig=point.config;_textAttrs=pointConfig._textAttrs||{};if(!(_textAttrs.text=pointConfig.displayValue)){point.graphics.connector&&(point.graphics.connector=animationManager.setAnimation({el:point.graphics.connector,component:dataSet}));point.graphics.label&&(point.graphics.label=animationManager.setAnimation({el:point.graphics.label,component:dataSet,callback:hideFn}));continue}pointGraphics=point.graphics;if(pointConfig.y!==null&&pointConfig.y!==UNDEF){dataLabel=pointGraphics.label;connector=pointGraphics.connector;connector&&connector.show();dataLabel&&dataLabel.show()}_textAttrs.text=pointConfig.displayValue;_textAttrs.transform="t0,0";angle=pointConfig.angle%pi2;if(angle<0){angle=pi2+angle}if(angle>=0&&angle<piBy2){quarter=1}else if(angle<pi){quarter=2}else if(angle<pi3By2){quarter=3}else{quarter=0}quarters[quarter].push({point:point,angle:angle})}i=k=4;while(i--){if(skipOverlapLabels){excess=quarters[i].length-maxLabels;if(excess>0){quarters[i].sort(sortArrayByPoint);excessArr=quarters[i].splice(0,excess);for(j=0,length=excessArr.length;j<length;j+=1){point=excessArr[j].point;_textAttrs=point.config._textAttrs;pointGraphics=point.graphics;if(pointGraphics.label){pointGraphics.label=animationManager.setAnimation({el:pointGraphics.label,component:dataSet})}if(pointGraphics.connector){pointGraphics.connector=animationManager.setAnimation({el:pointGraphics.connector,component:dataSet})}}}}quarters[i].sort(sortArrayByAngle)}maxQuadrantLabel=mathMax(quarters[0].length,quarters[1].length,quarters[2].length,quarters[3].length);labelQuadrantHeight=mathMax(mathMin(maxQuadrantLabel,maxLabels)*labelHeight,dataLabelsRadius+labelHeight);rightClubbedQuadrent=quarters[0].concat(quarters[1]);leftClubbedQuadrent=quarters[2].concat(quarters[3]);for(i=rightClubbedQuadrent.length-1;i>=0;i--){lPoint=rightClubbedQuadrent[i].point.config;delete lPoint.clearance;delete lPoint.clearanceShift;oriY=mathAbs(labelQuadrantHeight*mathSin(lPoint.angle));if(Math.abs(sameSideQuadrentLastY-oriY)<lineHeight*2){lPoint.clearance=0;rightClubbedQuadrent[i+1].point.clearanceShift=lineHeight/2}sameSideQuadrentLastY=oriY}sameSideQuadrentLastY=Number.POSITIVE_INFINITY;for(i=0,length=leftClubbedQuadrent.length;i<length;i++){lPoint=leftClubbedQuadrent[i].point.config;delete lPoint.clearance;delete lPoint.clearanceShift;oriY=mathAbs(labelQuadrantHeight*mathSin(lPoint.angle));if(Math.abs(sameSideQuadrentLastY-oriY)<lineHeight*2){lPoint.clearance=0;leftClubbedQuadrent[i-1].point.clearanceShift=lineHeight/2}sameSideQuadrentLastY=oriY}quarters[1].reverse();quarters[3].reverse();while(k--){points=quarters[k];length=points.length;if(!skipOverlapLabels){if(length>maxLabels){labelHeight=labelQuadrantHeight/length}else{labelHeight=labelFontSize}halfLabelHeight=labelHeight/2}spaceRequired=length*labelHeight;remainingHeight=labelQuadrantHeight;for(i=0;i<length;i+=1,spaceRequired-=labelHeight){oriY=mathAbs(labelQuadrantHeight*mathSin(points[i].angle));if(remainingHeight<oriY){oriY=remainingHeight}else if(oriY<spaceRequired){oriY=spaceRequired}remainingHeight=(points[i].oriY=oriY)-labelHeight}align=alignments[k];maxYmayHave=labelQuadrantHeight-(length-1)*labelHeight;remainingHeight=0;for(i=points.length-1;i>=0;i-=1,maxYmayHave+=labelHeight){point=points[i].point;angle=points[i].angle;pointConfig=point.config;_textAttrs=pointConfig._textAttrs||{};if(!_textAttrs.text){continue}_textCss=pointConfig._textCss;_textCss.cursor=pointConfig.labellink?"pointer":"";pointGraphics=point.graphics;sliced=pointConfig.sliced;dataLabel=pointGraphics.label;oriY=mathAbs(labelQuadrantHeight*mathSin(angle));if(oriY<remainingHeight){oriY=remainingHeight}else if(oriY>maxYmayHave){oriY=maxYmayHave}remainingHeight=oriY+labelHeight;extraLineSpaceComp=pointConfig.clearance===UNDEF?mathCeil((0,_lib.pluckNumber)(parseFloat(pointConfig.style.border),12),12)*2:mathCeil((0,_lib.pluckNumber)(parseFloat(pointConfig.style.border),pointConfig.clearance))*2;y1=(oriY+points[i].oriY)/2;x1=centerX+xSign[k]*dataLabelsRadius*mathCos(math.asin(y1/labelQuadrantHeight));y1*=ySign[k];y1+=centerY;y2=centerY+radius*mathSin(angle);x2=centerX+radius*mathCos(angle);(k<2&&x1<x2||k>1&&x1>x2)&&(x1=x2);x3=x1+xDisplacement[k];y3=y1-halfLabelHeight-2;x4=x3+xDisplacement[k];_textAttrs._x=x4;if(manageLabelOverflow){labelWidth=k>1?x4-chartConfig.canvasLeft:chartConfig.canvasLeft+plotWidth-x4;smartLabel.setStyle(pointConfig.style);lineHeight=(0,_lib.pluckNumber)(mathCeil(parseFloat(pointConfig.style.lineHeight)),12)+extraLineSpaceComp;if(legendAlign==="right"&&pointConfig.transX>0){labelWidth-=legendWidth+legendBorderwidth*2}else if(legendAlign!=="right"&&pointConfig.transY>0){y1-=labelHeight}smartLabelObj=smartLabel.getSmartText(pointConfig.displayValue,labelWidth,lineHeight);if(pointConfig.clearance===UNDEF&&smartLabelObj.height>labelHeight){y1+=labelHeight}_textAttrs.text=smartLabelObj.text;_textAttrs.tooltip=smartLabelObj.tooltext}_textAttrs._y=y3;if(sliced){transX=pointConfig.transX;transY=pointConfig.transY;x3=x3+transX;x1=x1+transX;x2=x2+transX;y2=y2+transY;x4=x4+transX}_textAttrs["text-anchor"]=align;_textAttrs.vAlign="middle";_textAttrs.opacity=1;_textAttrs.x=x4;_textAttrs.y=y1;prevTextPos=dataLabel&&dataLabel.data("textPos");if(prevTextPos){_textAttrsWithXY=cloneOb(_textAttrs);animationManager.setAnimation({el:dataLabel,attr:_textAttrsWithXY,callback:applyAttrFnGen(dataLabel,_textAttrs),component:dataSet})}else{dataLabel=pointGraphics.label=animationManager.setAnimation({el:"text",attr:_textAttrs,css:_textCss,label:"label",container:labelGroup,component:dataSet});dataLabel.on("dragstart",plotDragStart).on("dragmove",plotDragMove).on("dragend",plotDragEnd).on("click",labelClickFn.bind(dataLabel,chart,point.config.labellink)).on("mouseup",plotClickHandler(dataSet,dataLabel)).hover(plotRollOver,plotRollOut)}dataLabel.x=_textAttrs._x;dataLabel._x=_textAttrs._x;dataLabel.y=_textAttrs._y;if(_textAttrs.tooltip){toolTipController.enableToolTip(dataLabel,_textAttrs.tooltip);delete _textAttrs.tooltip}if(_textAttrs.visibility===VISIBLE){dataLabel.show()}dataLabel.data("textPos",{x:x4,y:y1}).data("plotItem",_textAttrs.plotItem).data(EVENTARGS,_textAttrs.eventArgs);if(connector=pointGraphics.connector){pointConfig.connectorPath=connectorPath=[M,x2,y2,L,isSmartLineSlanted?x1:x2,y1,x3,y1];prevConnectorPos=connector.data("connectorPath");if(prevConnectorPos){if(!chartConfig.clicked){animationManager.setAnimation({el:connector,attr:{path:connectorPath},label:"connector",component:dataSet})}}else{animationManager.setAnimation({el:connector,attr:{path:connectorPath},label:"connector",component:dataSet})}connector.data("connectorPath",{path:connectorPath})}}}}}};Pie2DDataset.prototype._setHoverColor=function _setHoverColor(hoverEffects,hoverColor,hoverAlpha,radius3D){var dataSet=this;if(radius3D){hoverEffects.color=(0,_pointColor2["default"])(hoverColor,hoverAlpha,radius3D,dataSet.config.doughnutradius)}else{hoverEffects.color=hoverColor;hoverEffects.alpha=hoverAlpha}};Pie2DDataset.prototype.updateData=function updateData(){var dataSet=this,conf=dataSet.config,dataStore=dataSet.components.data;conf.valueTotal-=dataStore[arguments[1]].config.y;_AreaDataset.prototype.updateData.call(this,arguments)};Pie2DDataset.prototype._rotate=function _rotate(){var _ringPath,_rotateAttrs,dataSet=this,chart=dataSet.getFromEnv("chart"),conf=dataSet.config,plotData=dataSet.components.data,chartConfig=chart.config,piePlotOptions=conf.piePlotOptions,startAngle=(conf.startAngle||0)%pi2,slicedOffset=conf.slicingDistance,valueTotal=conf.valueTotal,factor=pi2/valueTotal,cx=chartConfig.canvasLeft+chartConfig.canvasWidth*.5,cy=chartConfig.canvasTop+chartConfig.canvasHeight*.5,r=conf.pieMinRadius,r2=(piePlotOptions.innerSize||0)*.5,val,angle,angle1,angle2,setConfig,setGraphics,i;angle1=angle2=startAngle;for(i=0;i<plotData.length;i+=1){setConfig=plotData[i].config;setGraphics=plotData[i].graphics;val=setConfig.y;if(val===null||val===UNDEF){continue}angle2=angle1;angle1-=!conf.singletonCase?val*factor:pi2;angle=(angle1+angle2)*.5;setConfig.angle=angle;setConfig.transX=mathCos(angle)*slicedOffset;setConfig.transY=mathSin(angle)*slicedOffset;setConfig.slicedTranslation=TRANSFORMSTR+mathCos(angle)*slicedOffset+_lib.COMMASTRING+mathSin(angle)*slicedOffset;if(!(_rotateAttrs=setConfig._rotateAttrs)){_rotateAttrs=setConfig._rotateAttrs={ringpath:[],transform:_lib.BLANKSTRING}}_ringPath=_rotateAttrs.ringpath;_ringPath[0]=cx;_ringPath[1]=cy;_ringPath[2]=r;_ringPath[3]=r2;_ringPath[4]=angle1;_ringPath[5]=angle2;setGraphics.element.attr({ringpath:_rotateAttrs.ringpath,transform:setConfig.sliced?setConfig.slicedTranslation:""})}dataSet.placeDataLabels(true,plotData,conf)};Pie2DDataset.prototype._parsePiePlotOptions=function _parsePiePlotOptions(){var dataSet=this,conf=dataSet.config;return{size:conf.pieMinRadius,slicedOffset:conf.slicingDistance}};Pie2DDataset.prototype._parseDataLabelOptions=function _parseDataLabelOptions(){return{style:this.getFromEnv("chart").config.dataLabelStyle}};Pie2DDataset.prototype._addLegend=function _addLegend(){var i,config,dataObj,dataset=this,legend=dataset.getFromEnv("legend"),legendItem,configObject,dataStore=dataset.components.data;for(i=0;i<dataStore.length;i++){dataObj=dataStore[i];config=dataObj.config;if(config.y!==null&&config.seriesName){configObject={index:i,type:dataset.getName(),label:config.seriesName,enabled:(0,_lib.pluckNumber)(config.includeInLegend,1)};legendItem=legend.getItem(config.legendItemId);if(!legendItem){config.legendItemId=legend.createItem(dataset);legendItem=legend.getItem(config.legendItemId);dataset.addExtEventListener("click",legendItem.itemClickFn,legendItem)}legendItem.configure(configObject);legendItem.setStateCosmetics("default",{symbol:{fill:(0,_lib.toRaphaelColor)(config.setColor),rawFillColor:config.setColor,stroke:(0,_lib.toRaphaelColor)(config.borderColor)}})}else{if(!config.legendItemId){continue}legendItem=legend.getItem(config.legendItemId);legendItem&&legend.disposeItem(legendItem.getId());delete config.legendItemId}}};Pie2DDataset.prototype.getPlotData=function getPlotData(id,slicedState){var dataset=this,data=dataset.components.data[id].config,userData=dataset.config.userData||(dataset.config.userData=[]),plotData,value,prop;if(!userData[id]){plotData=userData[id]={};for(prop in data){_typeof(value=data[prop])!=="object"&&typeof value!=="function"&&prop.indexOf("_")!==0&&(plotData[prop]=value)}plotData.value=plotData.y;plotData.categoryLabel=plotData.label=plotData.seriesName;delete plotData.y;delete plotData.total;delete plotData.doNotSlice;delete plotData.name;delete plotData.seriesName;delete plotData.centerAngle;delete plotData.showInLegend;delete plotData.angle;delete plotData.endAngle;delete plotData.isVisible;delete plotData.setColor;delete plotData.slicedTranslation;delete plotData.startAngle;delete plotData.transX;delete plotData.transY;delete plotData.pValue}else{plotData=userData[id]}plotData.sliced=slicedState;return plotData};Pie2DDataset.prototype._parseBorderConfig=function _parseBorderConfig(setColor,setAlpha,dataJSON){var dataSet=this,conf=dataSet.config,pieBorderColor=conf.pieBorderColor,chart=dataSet.getFromEnv("chart"),chartAttr=chart.getFromEnv("dataSource").chart,setPlotBorderColor=(0,_lib.pluck)(dataJSON.bordercolor,pieBorderColor),setPlotBorderAlpha=(0,_lib.pluck)(dataJSON.borderalpha,chartAttr.plotborderalpha,chartAttr.pieborderalpha);setPlotBorderColor=(0,_lib.pluck)(setPlotBorderColor,(0,_libGraphics.getLightColor)(setColor,25)).split(_lib.COMMASTRING)[0];setPlotBorderAlpha=chartAttr.showplotborder==_lib.ZEROSTRING?_lib.ZEROSTRING:(0,_lib.pluck)(setPlotBorderAlpha,setAlpha,"80");return{setPlotBorderColor:setPlotBorderColor,setPlotBorderAlpha:setPlotBorderAlpha}};Pie2DDataset.prototype.legendInteractivity=function legendInteractivity(legendItem){var dataset=this,dataStore=dataset.components.data,len=void 0,i=void 0,legendItemId=legendItem.getId(),setGraphics=void 0,config=void 0;for(i=0,len=dataStore.length;i<len;i++){config=dataStore[i].config;if(config.legendItemId===legendItemId){setGraphics=dataStore[i].graphics;dataset.plotGraphicClick.call(setGraphics.element)}}};Pie2DDataset.prototype.hideElements=function hideElements(){var elem=this,chart=elem.data&&elem.data("plotItem").chart,dataSet=chart.getChildren("dataset")&&chart.getChildren("dataset")[0],i=0,shadowArr=elem._&&elem._.shadows||[];if(dataSet){elem.hide();for(;i<shadowArr.length;i+=1){shadowArr[i].hide()}}};Pie2DDataset.prototype._createContainer=function _createContainer(){var dataset=this,dsType=dataset.getName(),parentContainer=void 0,pieGroups=void 0,piePlotGroups=void 0,pieLabelGroups=void 0,groupName=dataset.groupName,parent=dataset.getLinkedParent(),group=groupName||dataset.dsGroup||dsType;!parent.getChildContainer(group+"Group")&&(group="default");parentContainer=parent.getChildContainer("datalabelsGroup");pieGroups=dataset.getContainer("pie-groups")||dataset.addContainer("pie-groups",createGroup("pie",parentContainer,dataset));piePlotGroups=dataset.getContainer("pie-plot-groups")||dataset.addContainer("pie-plot-groups",createGroup("pie-plot",pieGroups,dataset));pieLabelGroups=dataset.getContainer("pie-label-groups")||dataset.addContainer("pie-label-groups",createGroup("pie-label",pieGroups,dataset));dataset.getContainer("plot-group")||dataset.addContainer("plot-group",createGroup("plots",piePlotGroups,dataset));dataset.getContainer("plot-shadow-group")||dataset.addContainer("plot-shadow-group",createGroup("plot-shadows",piePlotGroups,dataset).toBack());dataset.getContainer("label-group")||dataset.addContainer("label-group",createGroup("labels",pieLabelGroups,dataset));dataset.getContainer("connector-shadow-group")||dataset.addContainer("connector-shadow-group",createGroup("connector-shadows",pieLabelGroups,dataset));dataset.getContainer("anchor-shadow-group")||dataset.addContainer("anchor-shadow-group",createGroup("anchor-shadows",pieLabelGroups,dataset))};Pie2DDataset.prototype.allocatePosition=function allocatePosition(){var dataset=this,plotData=dataset.components.data,i,dataObj,len=plotData.length;for(i=0;i<len;i++){dataObj=plotData[i];dataset.parsePlotAttributes(dataObj,i);dataset.parseLabelAttributes(dataObj,i)}};Pie2DDataset.prototype.parsePlotAttributes=function parsePlotAttributes(dataObj,index){var j,singleFillColor,dataSet=this,plotData=dataSet.components.data,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,conf=dataSet.config,i=index,toolText,setLink,ringPath,angle1,angle2,set,val,displayValue,sliced,color,angle,dataLength=plotData.length,canvasWidth=chartConfig.canvasWidth,canvasHeight=chartConfig.canvasHeight,cx=chartConfig.canvasLeft+canvasWidth*.5,cy=chartConfig.canvasTop+canvasHeight*.5,previousData,valueTotal=conf.valueTotal,factor,piePlotOptions=conf.piePlotOptions=dataSet._parsePiePlotOptions(),slicedOffset=piePlotOptions.slicedOffset,connector,r=piePlotOptions.size,r2=(conf.innerSize||0)*.5,startAngle=(conf.startAngle||0)%pi2,initialAngle,isTranspose,endAngle=startAngle-pi2,animateClockWise=conf.animateClockWise,setElAttr;factor=valueTotal&&pi2/valueTotal;conf.pieCenter=[cx,cy];angle1=startAngle;angle2=startAngle;if(index>0){angle1=plotData[index-1].config.startAngle;angle2=plotData[index-1].config.endAngle}set=dataObj.config;val=set.y;displayValue=set.displayValue;sliced=set.sliced;toolText=set.toolText;setLink=!!set.link;if(val===null||val===UNDEF||set.isVisible===false){return}color=set.color;color.r=r;color.cx=cx;color.cy=cy;angle2=angle1;angle1-=!conf.singletonCase?val*factor:pi2;angle=(angle1+angle2)*.5;if(isTranspose){if(i<dataLength){initialAngle=UNDEF;for(j=i+1;j<dataLength&&initialAngle===UNDEF;j+=1){initialAngle=plotData[j].config.endAngle}}if(initialAngle===UNDEF){initialAngle=endAngle}}else{initialAngle=animateClockWise?endAngle:startAngle}previousData=conf.previousData={cx:cx,cy:cy,r:r,r2:r2};ringPath=!dataSet.config.drawn?[cx,cy,r,r2,angle1,angle2]:[previousData.cx,previousData.cy,previousData.r,previousData.r2,angle1,angle2];set.eventArgs={index:conf.reversePlotOrder?dataLength-1-i:i,link:set.link,value:set.y,displayValue:set.displayValueArgs,categoryLabel:set.categoryLabel,isSliced:sliced,toolText:toolText,pValue:set.pValue};sliced&&(set.slicedTranslation="t"+mathCos(angle)*slicedOffset+","+mathSin(angle)*slicedOffset);setElAttr={"stroke-width":set.borderWidth,stroke:set.borderColor,fill:isVML||isTranspose&&singleFillColor?singleFillColorFn(set.color,conf.doughnutradius):(0,_lib.toRaphaelColor)(set.color),transform:sliced?set.slicedTranslation:"","stroke-dasharray":set.dashStyle,redrawDataLabels:startAngle,ringpath:ringPath,cursor:setLink?POINTER:""};set.props={element:{attr:setElAttr}};set.eventArgs={index:conf.reversePlotOrder?dataLength-1-i:i,link:set.link,value:set.y,displayValue:set.displayValueArgs,categoryLabel:set.categoryLabel,isSliced:sliced,toolText:toolText,pValue:set.pValue};set.plotItem={chart:chart,index:i,seriesData:conf,value:val,pValue:set.pValue,displayValue:set.displayValue||"",angle:set.angle=angle,angle1:set.startAngle=angle1,angle2:set.endAngle=angle2,slicedX:mathCos(angle)*slicedOffset,slicedY:mathSin(angle)*slicedOffset,sliced:sliced,labelText:displayValue,toolText:toolText,name:set.name,link:set.link,percentage:valueTotal?val*valueTotal/100:0,originalIndex:dataLength-i-1,style:set.style,color:(0,_lib.toRaphaelColor)(set.color),borderColor:set.borderColor,borderWidth:set.borderWidth,rolloverProperties:set.hoverEffects,radius:r,center:[cx,cy],innerDiameter:2*r2,centerLabelConfig:set.centerLabelConfig,isVisible:set.isVisible,label:set.seriesName,connector:connector,transX:set.transX=mathCos(angle)*slicedOffset,transY:set.transY=mathSin(angle)*slicedOffset,slicedTranslation:set.slicedTranslation="t"+mathCos(angle)*slicedOffset+","+mathSin(angle)*slicedOffset}};Pie2DDataset.prototype.parseLabelAttributes=function parseLabelAttributes(dataObj){var dataSet=this,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,dataLabelStyle=chartConfig.dataLabelStyle,conf=dataSet.config,style=chartConfig.style,set,val,displayValue,colorLabelFromPoint=false,textDirection=chartConfig.textDirection,dataLabelOptions=conf.dataLabelOptions,_textAttrs,_textCss;set=dataObj.config;if(!(_textAttrs=set._textAttrs)){_textAttrs=set._textAttrs={}}val=set.y;displayValue=set.displayValue;style=set.style;if(val===null||val===UNDEF||set.isVisible===false){return}if(displayValue!==UNDEF){if(style){if(!(_textCss=set._textCss)){_textCss=set._textCss={}}_textCss.fontFamily=style.fontFamily;_textCss.fontSize=style.fontSize;_textCss.lineHeight=style.lineHeight;_textCss.fontWeight=style.fontWeight;_textCss.fontStyle=style.fontStyle}set.plotItem.style=set.style=style||(style=dataLabelStyle);_textAttrs.text=displayValue;_textAttrs.fill=(colorLabelFromPoint?(0,_lib.toRaphaelColor)(set.color):style.color)||"#000000";_textAttrs["text-bound"]=[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash];_textAttrs.direction=textDirection;_textAttrs.lineHeight=style.lineHeight;_textAttrs.visibility=visibleStr}else{_textAttrs.visibility=HIDDEN}set.props.label={attr:_textAttrs,css:_textCss};set.props.connector={attr:{visibility:VISIBLE,"stroke-width":dataLabelOptions.connectorWidth,stroke:dataLabelOptions.connectorColor||"#606060"}}};Pie2DDataset.prototype.draw=function draw(){var singleFillColor,dataSet=this,animationManager=dataSet.getFromEnv("animationManager"),chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,dataLabelStyle=chartConfig.dataLabelStyle,conf=dataSet.config,showShadow=conf.showShadow,i,alphaanimation=chartConfig.alphaanimation,dataSetComponents=dataSet.components,dataStore=dataSetComponents.data,removeDataArr=dataSetComponents.removeDataArr=dataSetComponents.removeDataArr||[],dataObj,toolText,setElement,setElementCheck,eventArgs,style=chartConfig.style,pool=dataSet.pool,visible=dataSet.getState("visible"),plotGroup,plotShadow,labelGroup,connectorShadowGroup,anchorShadowGroup,setGraphics,set,val,displayValue,plotItem,dataLabel,plotData=dataSetComponents.data||[],dataLength=plotData.length,canvasWidth=chartConfig.canvasWidth,canvasHeight=chartConfig.canvasHeight,cx=chartConfig.canvasLeft+canvasWidth*.5,cy=chartConfig.canvasTop+canvasHeight*.5,valueTotal,plotDragStart=conf.handlersAPI.plotDragStart,plotDragEnd=conf.handlersAPI.plotDragEnd,plotDragMove=conf.handlersAPI.plotDragMove,plotRollOver=conf.handlersAPI.plotRollOver,plotRollOut=conf.handlersAPI.plotRollOut,restoreColor=function restoreColor(){var i,dataObj;if(singleFillColor){for(i=0;i<dataLength;i+=1){dataObj=plotData[i];dataObj.graphics.element&&dataObj.graphics.element.attr({fill:(0,_lib.toRaphaelColor)(dataObj.config.color)})}}},isDimensionModified=function(){var pieCenter=conf.pieCenter||[],piePlotOptions=conf.piePlotOptions||[],oldDimensions={cx:pieCenter[0],cy:pieCenter[1],r:piePlotOptions.size,r2:(conf.innerSize||0)*.5},tolerance=5;return function(newDimesion){var prop,flag=false;for(prop in newDimesion){if(mathAbs(newDimesion[prop]-oldDimensions[prop])>tolerance){flag=true;break}}return flag}}(),piePlotOptions=conf.piePlotOptions=dataSet._parsePiePlotOptions(),dataLabelOptions=conf.dataLabelOptions,connector,connectorCheck,r=piePlotOptions.size,r2=(conf.innerSize||0)*.5,plotAnimCallBack,_textAttrs,_textCss,anim={plot:{data:[],animType:"linear"},initial:{data:[]},final:{data:[]}},placeDataLabels=function placeDataLabels(){dataSet.placeDataLabels(false,dataStore,conf,null,anim)},toolTipController=dataSet.getFromEnv("toolTipController");if(!dataSet.getContainer("pie-groups")){dataSet._createContainer()}plotGroup=dataSet.getContainer("plot-group");plotShadow=dataSet.getContainer("plot-shadow-group");labelGroup=dataSet.getContainer("label-group");connectorShadowGroup=dataSet.getContainer("connector-shadow-group");anchorShadowGroup=dataSet.getContainer("anchor-shadow-group");if(dataSet.config.drawn){singleFillColor=isDimensionModified({cx:cx,cy:cy,r:r,r2:r2})&&false}labelGroup.css(dataLabelStyle);valueTotal=conf.valueTotal;if(!visible||!valueTotal){plotGroup.hide();plotShadow.hide();labelGroup.hide();connectorShadowGroup.hide();anchorShadowGroup.hide()}else{plotGroup.show();plotShadow.show();labelGroup.show();connectorShadowGroup.show();anchorShadowGroup.show()}removeDataArr.length&&dataSet.removeElement(anim);for(i=0;i<dataLength;i+=1){dataObj=plotData[i];setGraphics=dataObj.graphics;set=dataObj.config;if(!(_textAttrs=set._textAttrs)){_textAttrs=set._textAttrs={}}val=set.y;displayValue=set.displayValue;toolText=set.toolText;style=set.style;if(val===null||val===UNDEF||set.isVisible===false){continue}setElementCheck=setGraphics.element;dataLabel=setGraphics.label;connectorCheck=setGraphics.connector;if(displayValue!==UNDEF){if(style){if(!(_textCss=set._textCss)){_textCss=set._textCss={}}_textCss.fontFamily=style.fontFamily;_textCss.fontSize=style.fontSize;_textCss.lineHeight=style.lineHeight;_textCss.fontWeight=style.fontWeight;_textCss.fontStyle=style.fontStyle}else if(set._textCss){dataLabel&&dataLabel.removeCSS();delete set._textCss;_textCss=UNDEF}set.style=style||(style=dataLabelStyle);_textAttrs=set.props.label.attr;if(!dataLabel){if(pool&&pool.label&&pool.label.length){dataLabel=setGraphics.label=pool.label.splice(0,1)[0]}}else{if(_textCss){dataLabel.css(_textCss);delete _textCss.fontFamily;delete _textCss.fontSize;delete _textCss.lineHeight;delete _textCss.fontWeight;delete _textCss.fontStyle;_textCss=UNDEF}}dataLabel&&animationManager.setAnimation({el:dataLabel,attr:{opacity:1},component:dataSet});if(dataLabelOptions.distance>0&&dataLabelOptions.connectorWidth&&dataLabelOptions.enableSmartLabels){if(!connectorCheck){if(pool&&pool.connector.length){connectorCheck=setGraphics.connector=pool.connector.splice(0,1)[0]}}connector=animationManager.setAnimation({el:connectorCheck||"path",container:labelGroup,label:"connector",attr:set.props.connector.attr,component:dataSet}).show();if(!connectorCheck){setGraphics.connector=connector;connector.on("dragstart",plotDragStart).on("dragmove",plotDragMove).on("dragend",plotDragEnd).hover(plotRollOver,plotRollOut)}animationManager.setAnimation({el:connector,attr:{opacity:1},doNotRemove:true,component:dataSet})}else{connector&&animationManager.setAnimation({el:connector,doNotRemove:true,attr:{opacity:0},component:dataSet})}}else{dataLabel&&animationManager.setAnimation({el:dataLabel,callback:hideFn,doNotRemove:true,component:dataSet});connector&&animationManager.setAnimation({el:connector,callback:hideFn,doNotRemove:true,component:dataSet})}if(!valueTotal){dataLabel&&dataLabel.hide();connector&&connector.hide()}else{dataLabel&&dataLabel.show();connector&&connector.show()}if(alphaanimation){animationManager.setAnimation({el:plotGroup,attr:{opacity:1},component:dataSet,callback:plotAnimCallBack})}if(valueTotal){animationManager.setAnimation({el:labelGroup,attr:{opacity:1},component:dataSet})}setElement=animationManager.setAnimation({el:setElementCheck||"ringpath",attr:set.props.element.attr,label:"ringpath",props:{startAngle:dataSet.config.startAngle},container:plotGroup,component:dataSet});if(!setElementCheck){setGraphics.element=setElement;setElement.on("dragstart",plotDragStart).on("dragmove",plotDragMove).on("dragend",plotDragEnd).on("mouseup",plotClickHandler(dataSet,setElement)).hover(plotRollOver,plotRollOut)}plotItem=set.plotItem;eventArgs=set.eventArgs;plotItem.graphic=setElement;setElement.show().shadow(showShadow&&set.shadow,plotShadow).data("plotItem",plotItem).data("dataset",this).data(EVENTARGS,eventArgs);toolTipController.enableToolTip(setElement,toolText);_textAttrs.plotItem=plotItem;_textAttrs[EVENTARGS]=eventArgs;connector&&connector.data("plotItem",plotItem).data(EVENTARGS,eventArgs)}placeDataLabels();!dataSet.config.__attachRestoreColor&&dataSet.addExtEventListener("animationComplete",restoreColor,animationManager);dataSet.config.__attachRestoreColor=true;dataSet.config.drawn=true};Pie2DDataset.prototype.sliceInOtherPies=function sliceInOtherPies(mainPieId){var dataset=this,plotItems=dataset.components.data,i=plotItems.length,numSliced=0,plot;dataset.enableMultiSlicing=true;while(i--){i!==mainPieId&&(plot=plotItems[i]).config.sliced&&++numSliced&&dataset.plotGraphicClick.call(plot.graphics)}dataset.enableMultiSlicing=false;return!!numSliced};Pie2DDataset.prototype.removeElement=function removeElement(){var dataSet=this,animationManager=dataSet.getFromEnv("animationManager"),chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,components=dataSet.components,removeDataArr=components.removeDataArr||[],pool=dataSet.pool=dataSet.pool={},len=removeDataArr.length,conf=dataSet.config,removeData,ele,canvasWidth=chartConfig.canvasWidth,canvasHeight=chartConfig.canvasHeight,cx=chartConfig.canvasLeft+canvasWidth*.5,cy=chartConfig.canvasTop+canvasHeight*.5,hideFn=dataSet.hideElements,graphics,r=conf.pieMinRadius,r2=(conf.innerSize||0)*.5,i,startAngle=conf.startAngle,endAngle=startAngle-pi2;for(i=0;i<len;i++){removeData=removeDataArr[0];graphics=removeData.graphics;for(ele in graphics){if(ele==="element"){animationManager.setAnimation({el:graphics[ele],attr:{ringpath:[cx,cy,r,r2,endAngle,endAngle+.01],transform:""},callback:hideFn,component:dataSet})}else{animationManager.setAnimation({el:graphics[ele],attr:{opacity:0},callback:hideFn,component:dataSet})}if(!pool[ele]){pool[ele]=[]}pool[ele].push(graphics[ele])}removeDataArr.splice(0,1)}};Pie2DDataset.prototype.getEventArgs=function getEventArgs(legendItem){var dataset=this,index=legendItem.config.index,set=dataset.components.data[index],config=set.config||{},eventArgs;eventArgs={datasetName:config.seriesName,datasetIndex:index,id:config.userID,visible:config.isVisible,label:config.seriesName,value:config.value,percentValue:config.pValue,tooltext:config.toolText,link:config.link,sliced:config.sliced};return eventArgs};Pie2DDataset.prototype.remove=function remove(config){var dataset=this,legendItemId=dataset.config.legendItemId,legend=dataset.getFromEnv("legend");legend&&legendItemId&&legend.disposeItem(legendItemId);_AreaDataset.prototype.remove.call(this,config)};return Pie2DDataset}(_area2["default"]);exports["default"]=Pie2DDataset;exports.plotGraphicClick=plotGraphicClick;exports.trimData=_trimData;exports.labelClickFn=labelClickFn;exports.plotClickHandler=plotClickHandler;exports.hideFn=hideFn},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var defaultTransform="t0,0";exports["default"]={"initial.dataset.pie2D":function initialDatasetPie2D(){return{"ringpath.appearing":function ringpathAppearing(inputJSON){var ringpath=inputJSON.attr.ringpath.slice(0),finalRingPath=inputJSON.attr.ringpath.slice(0),startAngle=inputJSON.props.startAngle,dataset=inputJSON.component,dsConfig=dataset.config,animateClockWise=dsConfig.animateClockWise;if(animateClockWise){finalRingPath[4]+=2*Math.PI;finalRingPath[5]+=2*Math.PI}ringpath[4]=startAngle;ringpath[5]=startAngle;return[{initialAttr:{ringpath:ringpath},finalAttr:{ringpath:finalRingPath,transform:""},startEnd:{start:0,end:.75},effect:"linear",slot:"plot"},{initialAttr:{transform:"",ringpath:finalRingPath},finalAttr:{ringpath:finalRingPath},startEnd:{start:.75,end:1},effect:"linear",slot:"plot"}]},"label.appearing":[{initialAttr:{opacity:"0"},finalAttr:{opacity:"1"},slot:"final"}],"connector.updating":function connectorUpdating(inputJSON){return[{initialAttr:{path:inputJSON.attr.path,"stroke-opacity":"0"},finalAttr:{"stroke-opacity":"1"},slot:"final"}]},"label.updating":function labelUpdating(inputJSON){return[{initialAttr:{x:inputJSON.el.attrs.x},slot:"plot"}]}}},"slicing.dataset.pie2D":function slicingDatasetPie2D(){return{"slice.updating":function sliceUpdating(inputJSON){var t=inputJSON.attr&&inputJSON.attr.transform;if(t!==defaultTransform){return[{initialAttr:{transform:defaultTransform},slot:"plot"}]}else{return[{finalAttr:{transform:defaultTransform},slot:"plot"}]}}}}}},,,,,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports["default"]=function(R){var win=window,UNDEF,toFloat=win.parseFloat,ARRAY="array",BLANK="",COMMA=",",SPACE=" ",NONE="none",createNode=R._createNode,setFillAndStroke=R._setFillAndStroke,Element=R.el.constructor,LITEPATH="litepath",CSSFLOOD="position:absolute;left:0;top:0;width:21600px;height:21600px;",COORD21600="21600 21600",s2vcmd={Q:"L",Z:"X",q:"l",z:"x",",":" "},p2s=/,?([achlmqrstvxz]),?/gi,p2srep,path2string=function path2string(){return this.join(COMMA).replace(p2s,p2srep)},litepathsetter,vmlTransformHelper;if(R.svg){p2srep="$1";litepathsetter=function litepathsetter(){var o=this,path=R.is(arguments[0],ARRAY)?arguments[0]:Array.prototype.slice.call(arguments);if(!path){path="M0,0"}else if(typeof path==="string"){path=path.replace(p2s,p2srep)}else{path.toString=path2string}o.node.setAttribute("d",path.toString())};R._engine.litepath=function(path,svg,zoom,group,attributes){var el=createNode("path"),p;(group||svg).canvas.appendChild(el);p=new Element(el,svg,group);p.type=LITEPATH;p.id=el.raphaelid=R._oid++;el.raphael=true;setFillAndStroke(p,attributes||{fill:NONE,stroke:"#000"});return p};R._getPath.litepath=function(el){return R.parsePathString(el.node.getAttribute("d"))}}else if(R.vml){p2srep=function p2srep(cmd,$1){return s2vcmd[$1]||$1};vmlTransformHelper=function vmlTransformHelper(){var o=this;o._transform.apply(o,arguments);o._.bcoord&&(o.node.coordsize=o._.bcoord);return o};litepathsetter=function litepathsetter(path){var o=this;if(!path){path="M0,0"}else if(typeof path==="string"){path=path.replace(p2s,p2srep)}else{path.toString=path2string}o.node.path=path;return o};R._engine.litepath=function(pathString,vml,zoom,group,attributes){var el=createNode("shape"),s=el.style,p=new Element(el,vml,group),attr=attributes||{fill:NONE,stroke:"#000"},skew;s.cssText=CSSFLOOD;zoom=toFloat(zoom);if(isNaN(zoom)){el.coordsize=COORD21600}else{p._.bzoom=zoom;s.width="1px";s.height="1px";el.coordsize=p._.bcoord=zoom+SPACE+zoom}el.coordorigin=vml.coordorigin;p.type=LITEPATH;p.id=el.raphaelid=R._oid++;el.raphael=true;p._transform=p.transform;p.transform=vmlTransformHelper;R._setFillAndStroke(p,attr);(group||vml).canvas.appendChild(el);skew=createNode("skew");skew.on=true;el.appendChild(skew);p.skew=skew;return p};R._getPath.litepath=function(el){return R.parsePathString(el.node.path||BLANK)}}R.fn[LITEPATH]=function(path,zoomInput,group){var paper=this,attributes,zoom,out;if((typeof path==="undefined"?"undefined":_typeof(path))==="object"&&path.constructor!==Element){attributes=path;path=path.litepath;zoom=path.zoom;group=path.group}if(zoomInput&&zoomInput.constructor===Element){group=zoomInput;zoom=UNDEF}else{zoom=zoomInput}if(path&&path.constructor===Element){group=path;path=BLANK}out=R._engine[LITEPATH](path,this,zoom,group,attributes);out.ca[LITEPATH]=litepathsetter;path&&out.attr(LITEPATH,R.is(path,ARRAY)?[path]:path);return paper.__set__&&this.__set__.push(out),paper._elementsById[out.id]=out}}},,,,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.setAxisDimention=exports.getSpecificyAxisConf=exports.getSpecificxAxisConf=exports._feedAxesRawData=undefined;var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);var _cartesianAxisDualY=__webpack_require__(384);var _cartesianAxisDualY2=_interopRequireDefault(_cartesianAxisDualY);var _lib=__webpack_require__(118);var _combiDualYDataset=__webpack_require__(385);var _combiDualYDataset2=_interopRequireDefault(_combiDualYDataset);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var _feedAxesRawData,getSpecificxAxisConf,getSpecificyAxisConf,setAxisDimention,mathMax=Math.max;var MSDyBaseCartesian=function(_MSCartesian){_inherits(MSDyBaseCartesian,_MSCartesian);function MSDyBaseCartesian(){_classCallCheck(this,MSDyBaseCartesian);var _this=_possibleConstructorReturn(this,_MSCartesian.call(this));_this.registerFactory("axis",_cartesianAxisDualY2["default"],["canvas"]);_this.registerFactory("dataset",_combiDualYDataset2["default"],["vCanvas"]);return _this}MSDyBaseCartesian.getName=function getName(){return"MSDyBaseCartesian"};MSDyBaseCartesian.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);this.config.syncaxislimits=0};MSDyBaseCartesian.prototype._feedAxesRawData=function _feedAxesRawData(){var iapi=this,config=iapi.config,colorM=iapi.getFromEnv("color-manager"),dataObj=iapi.getFromEnv("dataSource"),chartAttrs=iapi.getFromEnv("chart-attrib"),xAxisConf,yAxisConf,sYAxisConf,is3D=iapi.config.is3D,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D,primaryAxisOnleft=config.primaryAxisOnleft=(0,_lib.pluckNumber)(chartAttrs.primaryaxisonleft,1),syncAxisLimits=(0,_lib.pluckNumber)(chartAttrs.syncaxislimits,0),sYAxisTrendlines=[{line:[]}],pYAxisTrendlines=[{line:[]}],trendlinesArr,trendlineObj,arrLen,len,i,j,trendlines=dataObj.trendlines||[],showZeroPlane=(0,_lib.pluckNumber)(chartAttrs.showzeroplane,1),showZeroPlaneValue=(0,_lib.pluckNumber)(chartAttrs.showzeroplanevalue);if(!showZeroPlane&&showZeroPlaneValue===_lib.UNDEF){showZeroPlaneValue=0}xAxisConf=iapi.getSpecificxAxisConf();yAxisConf=iapi.getSpecificyAxisConf();sYAxisConf={isActive:false,isPercent:iapi.isPercentage,axisIndex:1,uniqueClassName:1,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,"Verdana,sans"),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisNamePadding:chartAttrs.yaxisnamepadding,axisValuePadding:chartAttrs.yaxisvaluespadding,axisNameFont:chartAttrs.syaxisnamefont,axisNameFontSize:chartAttrs.syaxisnamefontsize,axisNameFontColor:chartAttrs.syaxisnamefontcolor,axisNameFontBold:chartAttrs.syaxisnamefontbold,axisNameFontItalic:chartAttrs.syaxisnamefontitalic,axisNameBgColor:chartAttrs.syaxisnamebgcolor,axisNameBorderColor:chartAttrs.syaxisnamebordercolor,axisNameAlpha:chartAttrs.syaxisnamealpha,axisNameFontAlpha:chartAttrs.syaxisnamefontalpha,axisNameBgAlpha:chartAttrs.syaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.syaxisnameborderalpha,axisNameBorderPadding:chartAttrs.syaxisnameborderpadding,axisNameBorderRadius:chartAttrs.syaxisnameborderradius,axisNameBorderThickness:chartAttrs.syaxisnameborderthickness,axisNameBorderDashed:chartAttrs.syaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.syaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.syaxisnameborderdashgap,axisNameWidth:chartAttrs.syaxisnamewidth,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,rotateAxisName:(0,_lib.pluckNumber)(chartAttrs.rotateyaxisname,1),axisName:chartAttrs.syaxisname,divLineColor:(0,_lib.pluck)(chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.divlinealpha,colorM.getColor("divLineAlpha")),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.divlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.divlinedashed,chartAttrs.divlineisdashed,0)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.divlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.divlinedashgap,2),showAlternateGridColor:(0,_lib.pluckNumber)(chartAttrs.showalternatehgridcolor,1),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatehgridcolor,colorM.getColor("altHGridColor")),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatehgridalpha,colorM.getColor("altHGridAlpha")),numDivLines:chartAttrs.numdivlines,axisMinValue:syncAxisLimits?(0,_lib.pluckNumber)(chartAttrs.syaxisminvalue,chartAttrs.pyaxisminvalue,chartAttrs.yaxisminvalue):chartAttrs.syaxisminvalue,axisMaxValue:syncAxisLimits?(0,_lib.pluckNumber)(chartAttrs.syaxismaxvalue,chartAttrs.pyaxismaxvalue,chartAttrs.yaxismaxvalue):chartAttrs.syaxismaxvalue,setAdaptiveMin:chartAttrs.setadaptivesymin||chartAttrs.setadaptiveymin,adjustDiv:chartAttrs.adjustdiv,labelStep:chartAttrs.yaxisvaluesstep,showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showsyaxisvalues,chartAttrs.showsyaxisvalue,chartAttrs.showyaxisvalues,chartAttrs.showyaxisvalue),showLimits:(0,_lib.pluckNumber)(chartAttrs.showsecondarylimits,chartAttrs.showyaxislimits,chartAttrs.showlimits),showDivLineValues:(0,_lib.pluckNumber)(chartAttrs.showdivlinesecondaryvalue,chartAttrs.showyaxisvalues,chartAttrs.showyaxisvalue,1),showZeroPlane:showZeroPlane,zeroPlaneColor:chartAttrs.zeroplanecolor,zeroPlaneThickness:(0,_lib.pluckNumber)(chartAttrs.zeroplanethickness,chartAttrs.divlinethickness,2),zeroPlaneAlpha:chartAttrs.zeroplanealpha,showZeroPlaneValue:showZeroPlaneValue,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,showAxisLine:is3D?0:(0,_lib.pluckNumber)(chartAttrs.showsyaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0),axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.syaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.syaxislinealpha,chartAttrs.axislinealpha,100),axisLineColor:(0,_lib.pluck)(chartAttrs.syaxislinecolor,chartAttrs.axislinecolor,"#000000")};xAxisConf.vtrendlines=(0,_lib.extend2)([],dataObj.vtrendlines);for(i=0,len=trendlines.length;i<len;i++){trendlinesArr=trendlines[i]&&trendlines[i].line||[];arrLen=trendlinesArr.length;for(j=0;j<arrLen;j++){trendlineObj=trendlinesArr[j]||{};if(trendlineObj.parentyaxis==="s"){sYAxisTrendlines[0].line.push(trendlineObj)}else{pYAxisTrendlines[0].line.push(trendlineObj)}}}yAxisConf.trendlines=(0,_lib.extend2)([],pYAxisTrendlines);sYAxisConf.trendlines=(0,_lib.extend2)([],sYAxisTrendlines);if(primaryAxisOnleft===1){yAxisConf.isVertical=true;yAxisConf.isReverse=true;yAxisConf.isOpposit=false;sYAxisConf.isVertical=true;sYAxisConf.isReverse=true;sYAxisConf.isOpposit=true}else{yAxisConf.isVertical=true;yAxisConf.isReverse=true;yAxisConf.isOpposit=true;sYAxisConf.isVertical=true;sYAxisConf.isReverse=true;sYAxisConf.isOpposit=false}return{yAxisConf:[yAxisConf,sYAxisConf],xAxisConf:[xAxisConf]}};MSDyBaseCartesian.prototype.getSpecificxAxisConf=function getSpecificxAxisConf(){var iapi=this,chartAttrs=iapi.getFromEnv("chart-attrib"),is3D=iapi.config.is3D,xAxisConf=iapi.getBasexAxisConf(),config=iapi.config;xAxisConf.zeroPlaneThickness=(0,_lib.pluckNumber)(chartAttrs.vzeroplanethickness,chartAttrs.vdivlinethickness,2);xAxisConf.zeroPlaneAlpha=(0,_lib.pluckNumber)(chartAttrs.vzeroplanealpha,chartAttrs.vdivlinealpha,config.zeroplanealpha);xAxisConf.showZeroPlaneValue=chartAttrs.showvzeroplanevalue;xAxisConf.showAxisLine=is3D?0:(0,_lib.pluckNumber)(chartAttrs.showxaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0);xAxisConf.axisLineColor=(0,_lib.pluck)(chartAttrs.xaxislinecolor,chartAttrs.axislinecolor,"#000000");xAxisConf.isReverse=false;xAxisConf.showAlternateGridColor=(0,_lib.pluckNumber)(chartAttrs.showalternatevgridcolor,0);xAxisConf.numDivLines=chartAttrs.numvdivlines;xAxisConf.maxLabelHeight=chartAttrs.maxlabelheight;xAxisConf.axisName=chartAttrs.xaxisname;xAxisConf.setAdaptiveMin=chartAttrs.setadaptivexmin;xAxisConf.showLimits=chartAttrs.showvlimits;xAxisConf.showDivLineValues=(0,_lib.pluckNumber)(chartAttrs.showvdivlinevalues,chartAttrs.showvdivlinevalues);return xAxisConf};MSDyBaseCartesian.prototype.getSpecificyAxisConf=function getSpecificyAxisConf(){var iapi=this,chartAttrs=iapi.getFromEnv("chart-attrib"),is3D=iapi.config.is3D,palleteString=is3D?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D,config=iapi.config,colorM=iapi.getFromEnv("color-manager"),syncAxisLimits=(0,_lib.pluckNumber)(chartAttrs.syncaxislimits,0),showZeroPlane=(0,_lib.pluckNumber)(chartAttrs.showzeroplane,1),showZeroPlaneValue=(0,_lib.pluckNumber)(chartAttrs.showzeroplanevalue);if(!showZeroPlane&&showZeroPlaneValue===_lib.UNDEF){showZeroPlaneValue=0}return{outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,"Verdana,sans"),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisNamePadding:(0,_lib.pluckNumber)(chartAttrs.pyaxisnamepadding,chartAttrs.yaxisnamepadding),axisValuePadding:(0,_lib.pluckNumber)(chartAttrs.pyaxisvaluespadding,chartAttrs.yaxisvaluespadding),axisNameFont:(0,_lib.pluck)(chartAttrs.pyaxisnamefont,chartAttrs.yaxisnamefont),axisNameFontSize:(0,_lib.pluckNumber)(chartAttrs.pyaxisnamefontsize,chartAttrs.yaxisnamefontsize),axisNameFontColor:(0,_lib.pluck)(chartAttrs.pyaxisnamefontcolor,chartAttrs.yaxisnamefontcolor),axisNameFontBold:(0,_lib.pluckNumber)(chartAttrs.pyaxisnamefontbold,chartAttrs.yaxisnamefontbold),axisNameFontItalic:(0,_lib.pluckNumber)(chartAttrs.pyaxisnamefontitalic,chartAttrs.yaxisnamefontitalic),axisNameBgColor:(0,_lib.pluck)(chartAttrs.pyaxisnamebgcolor,chartAttrs.yaxisnamebgcolor),axisNameBorderColor:(0,_lib.pluck)(chartAttrs.pyaxisnamebordercolor,chartAttrs.yaxisnamebordercolor),axisNameAlpha:(0,_lib.pluckNumber)(chartAttrs.pyaxisnamealpha,chartAttrs.yaxisnamealpha),axisNameFontAlpha:(0,_lib.pluckNumber)(chartAttrs.pyaxisnamefontalpha,chartAttrs.yaxisnamefontalpha),axisNameBgAlpha:(0,_lib.pluckNumber)(chartAttrs.pyaxisnamebgalpha,chartAttrs.yaxisnamebgalpha),axisNameBorderAlpha:(0,_lib.pluckNumber)(chartAttrs.pyaxisnameborderalpha,chartAttrs.yaxisnameborderalpha),axisNameBorderPadding:(0,_lib.pluckNumber)(chartAttrs.pyaxisnameborderpadding,chartAttrs.yaxisnameborderpadding),axisNameBorderRadius:(0,_lib.pluckNumber)(chartAttrs.pyaxisnameborderradius,chartAttrs.yaxisnameborderradius),axisNameBorderThickness:(0,_lib.pluckNumber)(chartAttrs.pyaxisnameborderthickness,chartAttrs.yaxisnameborderthickness),axisNameBorderDashed:(0,_lib.pluckNumber)(chartAttrs.pyaxisnameborderdashed,chartAttrs.yaxisnameborderdashed),axisNameBorderDashLen:(0,_lib.pluckNumber)(chartAttrs.pyaxisnameborderdashlen,chartAttrs.yaxisnameborderdashlen),axisNameBorderDashGap:(0,_lib.pluckNumber)(chartAttrs.pyaxisnameborderdashgap,chartAttrs.yaxisnameborderdashgap),axisNameWidth:(0,_lib.pluckNumber)(chartAttrs.pyaxisnamewidth,chartAttrs.yaxisnamewidth),useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,rotateAxisName:(0,_lib.pluckNumber)(chartAttrs.rotateyaxisname,1),axisName:(0,_lib.pluck)(chartAttrs.pyaxisname,chartAttrs.yaxisname),divLineColor:(0,_lib.pluck)(chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.divlinealpha,colorM.getColor("divLineAlpha")),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.divlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.divlinedashed,chartAttrs.divlineisdashed,0)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.divlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.divlinedashgap,2),showAlternateGridColor:(0,_lib.pluckNumber)(chartAttrs.showalternatehgridcolor,1),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatehgridcolor,colorM.getColor("altHGridColor")),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatehgridalpha,colorM.getColor("altHGridAlpha")),numDivLines:chartAttrs.numdivlines,axisMinValue:syncAxisLimits?(0,_lib.pluckNumber)(chartAttrs.syaxisminvalue,chartAttrs.pyaxisminvalue,chartAttrs.yaxisminvalue):(0,_lib.pluckNumber)(chartAttrs.pyaxisminvalue,chartAttrs.yaxisminvalue),axisMaxValue:syncAxisLimits?(0,_lib.pluckNumber)(chartAttrs.syaxismaxvalue,chartAttrs.pyaxismaxvalue,chartAttrs.yaxismaxvalue):(0,_lib.pluckNumber)(chartAttrs.pyaxismaxvalue,chartAttrs.yaxismaxvalue),setAdaptiveMin:chartAttrs.setadaptiveymin,adjustDiv:chartAttrs.adjustdiv,labelStep:chartAttrs.yaxisvaluesstep,showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showyaxisvalues,chartAttrs.showyaxisvalue),showLimits:(0,_lib.pluckNumber)(chartAttrs.showyaxislimits,chartAttrs.showlimits,iapi.showLimits),showDivLineValues:(0,_lib.pluckNumber)(chartAttrs.showdivlinevalues,chartAttrs.showdivlinevalue),showZeroPlane:showZeroPlane,zeroPlaneColor:chartAttrs.zeroplanecolor,zeroPlaneThickness:(0,_lib.pluckNumber)(chartAttrs.zeroplanethickness,chartAttrs.divlinethickness,config.zeroplanethickness,2),zeroPlaneAlpha:(0,_lib.pluckNumber)(chartAttrs.zeroplanealpha,chartAttrs.divlinealpha,config.zeroplanealpha),showZeroPlaneValue:showZeroPlaneValue,showZeroPlaneOnTop:config.showzeroplaneontop,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,showAxisLine:is3D?0:(0,_lib.pluckNumber)(chartAttrs.showyaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0),axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.yaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.yaxislinealpha,chartAttrs.axislinealpha,100),axisLineColor:(0,_lib.pluck)(chartAttrs.yaxislinecolor,chartAttrs.axislinecolor,"#000000"),forceTrendBelow:!!config.is3D}};MSDyBaseCartesian.prototype.setAxisDimention=function setAxisDimention(){var iapi=this,config=iapi.config,children=iapi.getChildren(),yAxisArr=children.yAxis,xAxis=children.xAxis&&children.xAxis[0],yAxis=yAxisArr[0],sYAxis=yAxisArr[1],xDepth=config.xDepth,canvas=children.canvas[0],canvasConfig=canvas.config,canvasBorderWidth=canvasConfig.canvasBorderWidth,canvasPadding=canvasConfig.canvasPadding,canvasPaddingLeft=canvasConfig.canvasPaddingLeft,canvasPaddingRight=canvasConfig.canvasPaddingRight,canvasPaddingTop=canvasConfig.canvasPaddingTop,yAxisStartXPos,sYAxisStartXPos,primaryAxisOnleft=config.primaryAxisOnleft,canvasPaddingBottom=canvasConfig.canvasPaddingBottom;xAxis&&xAxis.setAxisDimention({x:config.canvasLeft+(xDepth||0)+mathMax(canvasPaddingLeft,canvasPadding),y:config.canvasBottom+(config.shift||0)+canvasBorderWidth,opposite:config.canvasTop-canvasBorderWidth,axisLength:config.canvasWidth-(xDepth||0)-mathMax(canvasPaddingLeft,canvasPadding)-mathMax(canvasPaddingRight,canvasPadding)});if(primaryAxisOnleft){config.yAxisStartXPos=config.canvasLeft-canvasBorderWidth;config.sYAxisStartXPos=config.canvasRight+canvasBorderWidth}else{config.yAxisStartXPos=config.canvasRight+canvasBorderWidth;config.sYAxisStartXPos=config.canvasLeft-canvasBorderWidth}yAxisStartXPos=config.yAxisStartXPos;sYAxisStartXPos=config.sYAxisStartXPos;yAxis&&yAxis.setAxisDimention({x:yAxisStartXPos,y:config.canvasTop+canvasPaddingTop,opposite:sYAxisStartXPos,axisLength:config.canvasHeight-canvasPaddingTop-canvasPaddingBottom});sYAxis&&sYAxis.setAxisDimention({x:sYAxisStartXPos,y:config.canvasTop+canvasPaddingTop,opposite:yAxisStartXPos,axisLength:config.canvasHeight-canvasPaddingTop-canvasPaddingBottom})};return MSDyBaseCartesian}(_mscartesian2["default"]);exports._feedAxesRawData=_feedAxesRawData=MSDyBaseCartesian.prototype._feedAxesRawData;exports.getSpecificxAxisConf=getSpecificxAxisConf=MSDyBaseCartesian.prototype.getSpecificxAxisConf;exports.getSpecificyAxisConf=getSpecificyAxisConf=MSDyBaseCartesian.prototype.getSpecificyAxisConf;exports.setAxisDimention=setAxisDimention=MSDyBaseCartesian.prototype.setAxisDimention;exports._feedAxesRawData=_feedAxesRawData;exports.getSpecificxAxisConf=getSpecificxAxisConf;exports.getSpecificyAxisConf=getSpecificyAxisConf;exports.setAxisDimention=setAxisDimention;exports["default"]=MSDyBaseCartesian},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var children=void 0,canvas=chart.getChildren("canvas")[0],dataChanged=function dataChanged(obj1,obj2){return JSON.stringify(obj1)!==JSON.stringify(obj2)},zoomObj={zoomable:true,pannable:true},xAxis=void 0,syncAxisLimits=!!Number(chart.config.syncaxislimits),yAxes=void 0,axisRefVisualCartesian=canvas.getChildren("axisRefVisualCartesian")[0],config=chart._feedAxesRawData(),redraw=function redraw(e){var sender=e.sender;axisRefVisualCartesian.addexplicitDrawItems(sender.getId(),sender);axisRefVisualCartesian.asyncDraw()},addCountInfo=function addCountInfo(e){var dependentInfo=yAxes[1].config.dependentInfo;if(e.sender.getId()===dependentInfo.id){dependentInfo.numDivLines=e.data}},addLimitInfo=function addLimitInfo(e){var dependentInfo=yAxes[1].config.dependentInfo;if(e.sender.getId()===dependentInfo.id&&dataChanged(dependentInfo.dataLimit,e.data)){dependentInfo.dataLimit=e.data;if(yAxes[1].config.isDataLimitSet){yAxes[1].setDataLimit()}}},addLimitInfoP=function addLimitInfoP(e){var dependentInfo=yAxes[0].config.dependentInfo;if(e.sender.getId()===dependentInfo.id&&dataChanged(dependentInfo.dataLimit,e.data)){dependentInfo.dataLimit=e.data;yAxes[0].setDataLimit()}};(0,_lib.componentFactory)(chart,_category2["default"],"xAxis",1,config.xAxisConf);(0,_lib.componentFactory)(chart,_numeric2["default"],"yAxis",2,config.yAxisConf);children=chart.getChildren();xAxis=children.xAxis[0];yAxes=children.yAxis;yAxes.forEach(function(axis){axis.setLinkedItem("canvas",canvas);axisRefVisualCartesian.setLinkedItem(axis.getId(),axis);axisRefVisualCartesian.addExtEventListener("visiblerangeset",redraw,axis);canvas.attachAxis(axis,true,chart.zoomY?zoomObj:{})});xAxis.setLinkedItem("canvas",canvas);axisRefVisualCartesian.setLinkedItem(xAxis.getId(),xAxis);yAxes[1].setAxisConfig({dependentInfo:{id:yAxes[0].getId(),count:true,limit:syncAxisLimits}});if(!yAxes[1].getState("divlineEventAdded")){yAxes[1].addExtEventListener("divlinesSet",addCountInfo,yAxes[0]);yAxes[1].setState("divlineEventAdded",true)}if(syncAxisLimits){if(!yAxes[1].getState("dataLimitEventAdded")){yAxes[1].addExtEventListener("dataLimitSet",addLimitInfo,yAxes[0]);yAxes[1].setState("dataLimitEventAdded",true)}yAxes[0].setAxisConfig({dependentInfo:{id:yAxes[1].getId(),limit:true}});if(!yAxes[0].getState("dataLimitEventAdded")){yAxes[0].addExtEventListener("dataLimitSet",addLimitInfoP,yAxes[1]);yAxes[0].setState("dataLimitEventAdded",true)}}axisRefVisualCartesian.addExtEventListener("visiblerangeset",redraw,xAxis);canvas.attachAxis(xAxis,false,chart.zoomX?zoomObj:{});chart._setCategories()};var _lib=__webpack_require__(118);var _numeric=__webpack_require__(292);var _numeric2=_interopRequireDefault(_numeric);var _category=__webpack_require__(321);var _category2=_interopRequireDefault(_category);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var jsonData=chart.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset,children=chart.getChildren(),canvas=children.canvas[0],vCanvasArr=canvas.getChildren("vCanvas"),vCanvas=vCanvasArr[0],svCanvas=vCanvasArr[1],datasetJSON=void 0,isdual=chart.getFromEnv("chartConfig").isdual,i=void 0,canvasDatasetsDef={vCanvasDatasetsDef0:{},vCanvasDatasetsDef1:{}},datasetsDef=void 0,datasetDef=void 0,DsGroupClass=void 0,dsType=void 0,parentyaxis=void 0,relatedVCanvas=void 0,relatedPrevDatasetMap=void 0,prevDatasetMap={vCanvas0:{},vCanvas1:{}};if(!datasetsJSON){chart.setChartMessage()}for(i=0;i<datasetsJSON.length;i++){datasetJSON=datasetsJSON[i];parentyaxis=datasetJSON.parentyaxis||"";if(parentyaxis.toLowerCase()==="s"&&isdual){dsType=(0,_lib.pluck)(datasetJSON.renderas,chart.config.sDefaultDatasetType);relatedVCanvas=svCanvas;relatedPrevDatasetMap=prevDatasetMap.vCanvas1;datasetsDef=canvasDatasetsDef.vCanvasDatasetsDef1}else{dsType=(0,_lib.pluck)(datasetJSON.renderas,chart.config.defaultDatasetType);relatedVCanvas=vCanvas;relatedPrevDatasetMap=prevDatasetMap.vCanvas0;datasetsDef=canvasDatasetsDef.vCanvasDatasetsDef0}dsType=chart.getDSType(dsType,parentyaxis.toLowerCase()==="s");DsGroupClass=chart.getDSGroupdef(dsType,parentyaxis.toLowerCase()==="s");if(DsGroupClass){(0,_lib.componentFactory)(relatedVCanvas,DsGroupClass,MULTISERIESCOLUMNMANAGER);relatedPrevDatasetMap[DsGroupClass.getName().toLowerCase()]=true}relatedPrevDatasetMap[dsType.toLowerCase()]=true;if(datasetsDef[dsType]){datasetsDef[dsType].conf.push(datasetJSON);datasetsDef[dsType].indices.push(i)}else{datasetsDef[dsType]={};datasetsDef[dsType].indices=[i];datasetsDef[dsType].classDef=chart.getDSdef(dsType);datasetsDef[dsType].conf=[datasetJSON];datasetsDef[dsType].pYAxis=parentyaxis.toLowerCase();datasetsDef[dsType].parent=DsGroupClass?relatedVCanvas.getChildren(MULTISERIESCOLUMNMANAGER)[0]:relatedVCanvas}}chart.config._hascolumn=false;for(var key in canvasDatasetsDef){if(canvasDatasetsDef.hasOwnProperty(key)){datasetsDef=canvasDatasetsDef[key];for(dsType in datasetsDef){if(datasetsDef.hasOwnProperty(dsType)){datasetDef=datasetsDef[dsType];if(datasetDef.parent.getType()==="group"){datasetDef.parent.configure(datasetDef.conf)}(0,_lib.datasetFactory)(datasetDef.parent,datasetDef.classDef,"dataset_"+dsType,datasetDef.conf.length,datasetDef.conf,datasetDef.indices);dsType==="column"&&(chart.config._hascolumn=true)}}}}(0,_dataset.removeComponents)(vCanvasArr[0],Object.keys(prevDatasetMap.vCanvas0));(0,_dataset.removeComponents)(vCanvasArr[1],Object.keys(prevDatasetMap.vCanvas1))};var _lib=__webpack_require__(118);var _dataset=__webpack_require__(386);var MULTISERIESCOLUMNMANAGER="multiseriesColumnManager"},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var removeComponents=function removeComponents(component,set){component&&component.iterateComponents(function(child){if(set.indexOf(child.getName().toLowerCase())===-1&&!child.getLinkedParent().getState("removed")){child.remove()}})};exports.removeComponents=removeComponents},,,,,,,,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _area=__webpack_require__(347);var _area2=_interopRequireDefault(_area);var _lib=__webpack_require__(118);var _spline=__webpack_require__(397);var _spline2=_interopRequireDefault(_spline);var _dependencyManager=__webpack_require__(125);var _mssplinePath=__webpack_require__(398);var _mssplineareaAnimation=__webpack_require__(399);var _mssplineareaAnimation2=_interopRequireDefault(_mssplineareaAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var BLANKSTRING="",SETROLLOVERATTR=_lib.preDefStr.setRolloverAttrStr,SETROLLOUTATTR=_lib.preDefStr.setRolloutAttrStr,MAX_MITER_LINEJOIN=2;(0,_dependencyManager.addDep)({name:"mssplineareaAnimation",type:"animationRule",extension:_mssplineareaAnimation2["default"]});var MSSplineAreaDataset=function(_AreaDataset){_inherits(MSSplineAreaDataset,_AreaDataset);function MSSplineAreaDataset(){_classCallCheck(this,MSSplineAreaDataset);var _this=_possibleConstructorReturn(this,_AreaDataset.call(this));_this.drawCommonElements=_lib.stubFN;return _this}MSSplineAreaDataset.prototype.getType=function getType(){return"dataset"};MSSplineAreaDataset.prototype.configureAttributes=function configureAttributes(dataObj){_AreaDataset.prototype.configureAttributes&&_AreaDataset.prototype.configureAttributes.call(this,dataObj);_spline2["default"].call(this)};MSSplineAreaDataset.prototype.getDataLimits=function getDataLimits(){return{max:this.config.maxValue,min:this.config.minValue}};MSSplineAreaDataset.prototype.drawPlots=function drawPlots(){var dataSet=this,conf=dataSet.config,chart=dataSet.getFromEnv("chart"),chartConfig=chart.config,len,i,num,xAxis=dataSet.getFromEnv("xAxis"),xPos,yPos,lastXPos,lastYPos=null,linePathArr=[],dataTemp=[],pathObject,config,dataStore=dataSet.components.data,dataObj,setElement,hotElement,setValue,connectNullData=chartConfig.connectnulldata,minimizeTendency=chartConfig.minimizetendency,plotBorderColor=conf.plotbordercolor,plotBorderAlpha=conf.plotborderalpha,plotBorderDashStyle=conf.plotBorderDashStyle,plotBorderThickness=conf.plotborderthickness,container=dataSet.getContainer(),pathArr=[],splineElementDummy=dataSet.getGraphicalElement("splineElement"),splineElement,colorArr=conf.fillColor,removeDataArr=dataSet.components.removeDataArr||[],removeDataArrLen=removeDataArr.length,shadowContainer=container&&container.shadowGroup,shadow=conf.shadow,hoverEffects,visible=dataSet.getState("visible"),anchorAlpha,radius,attr,animState,isAnchorVisible,anchorShadow,anchorProps={},isOnlyLineBorder=!chartConfig.drawfullareaborder,connectorDummy=dataSet.getGraphicalElement("connector"),connector,animationManager=dataSet.getFromEnv("animationManager"),imageElement,splineElementAttr,connectorAttr,scrollMinVal,scrollMaxVal,_oldStartIndex=conf._oldStartIndex,_oldEndIndex=conf._oldEndIndex,JSONData=dataSet.config.JSONData,seriesType=JSONData.renderas||chart.config.defaultDatasetType,isSplineArea=/area/gi.test(seriesType);conf.imagesLoaded=0;if(!dataStore){dataStore=dataSet.components.data}len=xAxis.getTicksLen();scrollMinVal=conf.scrollMinVal;scrollMaxVal=conf.scrollMaxVal;if(scrollMinVal>_oldStartIndex){dataSet.flushOnScroll(_oldStartIndex,scrollMinVal>_oldEndIndex?_oldEndIndex:scrollMinVal)}if(scrollMaxVal<_oldEndIndex){dataSet.flushOnScroll(scrollMaxVal<_oldStartIndex?_oldStartIndex:scrollMaxVal,_oldEndIndex)}conf._oldStartIndex=scrollMinVal;conf._oldEndIndex=scrollMaxVal;for(i=scrollMinVal;i<scrollMaxVal;i++){dataObj=dataStore[i];if(!dataObj){continue}config=dataObj&&dataObj.config;setValue=config.setValue;anchorProps=config.anchorProps;anchorShadow=anchorProps.shadow;setElement=dataObj.graphics.element;hotElement=dataObj.graphics.hotElement;imageElement=dataObj.graphics.image;if(setValue===null){setElement&&setElement.hide();hotElement&&hotElement.hide();imageElement&&imageElement.hide();if(!connectNullData){lastYPos=null}}else{yPos=config._Py;xPos=config._Px;if(visible===false){yPos=config._Pby}dataTemp.push({x:xPos,y:yPos,lastXPos:lastXPos,lastYPos:lastYPos});lastXPos=xPos;lastYPos=yPos;anchorAlpha=anchorProps.anchorAlpha;radius=anchorProps.radius;isAnchorVisible=radius&&anchorAlpha;hoverEffects=config.hoverEffects;if(!setElement){animState="appearing"}else{if(visible&&isAnchorVisible){animState="updating"}else{animState="disappearing"}}if(anchorProps.imageUrl){dataSet.drawAnchorImage(dataObj)}else{attr=Object.assign({},config.props.element.attr);if(animState==="disappearing"||!visible){attr=_lib.UNDEF}setElement=dataObj.graphics.element=animationManager.setAnimation({el:setElement||"path",attr:attr,container:container.plotGroup,component:dataSet,label:"anchor"});imageElement&&imageElement.hide();setElement&&setElement.show().shadow(anchorShadow,container.anchorShadowGroup).data("anchorRadius",anchorProps.radius).data("anchorHoverRadius",hoverEffects.anchorRadius).data("eventArgs",config.eventArgs);if(hoverEffects.enabled){setElement&&setElement.data("anchorRadius",anchorProps.radius).data("anchorHoverRadius",hoverEffects.anchorRadius).data("hoverEnabled",hoverEffects.enabled).data(SETROLLOVERATTR,hoverEffects.attrs.setRolloverAttr).data(SETROLLOUTATTR,hoverEffects.attrs.setRolloutAttr)}}}}num=len;pathObject=(0,_mssplinePath.getSplinePath)(dataTemp,config&&config._Pby,minimizeTendency,isSplineArea,num);pathArr=pathObject.closedPath;pathArr=pathArr.join();splineElementAttr={path:pathArr,stroke:(0,_lib.toRaphaelColor)({color:plotBorderColor,alpha:plotBorderAlpha}),"stroke-width":isOnlyLineBorder?0:plotBorderThickness,fill:(0,_lib.toRaphaelColor)(colorArr),"stroke-linecap":"round","stroke-linejoin":plotBorderThickness>MAX_MITER_LINEJOIN?"round":"miter","stroke-dasharray":plotBorderDashStyle};if(!dataSet.getState("visible")){splineElementAttr=_lib.UNDEF}splineElement=animationManager.setAnimation({el:splineElementDummy||"path",attr:splineElementAttr,container:container.commonElemsGroup,component:dataSet,label:"line"});if(!splineElement&&splineElementDummy){dataSet.removeGraphicalElement(splineElementDummy)}if(!splineElementDummy){dataSet.addGraphicalElement("splineElement",splineElement)}if(pathArr===BLANKSTRING||!dataSet.getState("visible")){splineElement&&splineElement.hide()}else{splineElement.show().shadow(shadow,shadowContainer)}if(isOnlyLineBorder){connectorAttr={path:linePathArr,stroke:(0,_lib.toRaphaelColor)({color:plotBorderColor,alpha:plotBorderAlpha}),"stroke-width":plotBorderThickness,"stroke-linecap":"round","stroke-linejoin":plotBorderThickness>MAX_MITER_LINEJOIN?"round":"miter","stroke-dasharray":plotBorderDashStyle,name:"connector"};connector=animationManager.setAnimation({el:connectorDummy||"path",attr:connectorAttr,container:container.areaGroup,state:!connectorDummy?"appearing":dataSet.getState("visible")?"updating":"disappearing",component:dataSet,label:"line"});if(!connectorDummy){dataSet.addGraphicalElement("connector",connector)}}for(i=0;i<removeDataArrLen;i++){dataSet._removeDataVisuals(removeDataArr.shift())}};MSSplineAreaDataset.prototype.getName=function getName(){return"splinearea"};return MSSplineAreaDataset}(_area2["default"]);exports["default"]=MSSplineAreaDataset},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var getSplineExtremities=function getSplineExtremities(data,chartWidth,connectNullData,index,limits){var arrKnot=[],validValueFound=false,u=index||0;limits=limits||{max:Number.MIN_VALUE,min:Number.MAX_VALUE};for(;u<data.length;++u){if(!validValueFound){if(!isNaN(data[u].config.setValue)&&data[u].config.setValue!==null){validValueFound=true}else{continue}arrKnot.push({index:u,y:data[u].config.setValue})}else{if(isNaN(data[u].config.setValue)||data[u].config.setValue===null){if(connectNullData){continue}else{break}}else{arrKnot.push({index:u,y:data[u].config.setValue})}}}if(arrKnot.length>2){evalSplineExtremities(arrKnot,chartWidth,limits)}if(u<data.length&&!connectNullData){getSplineExtremities(data,chartWidth,connectNullData,u,limits)}return limits},evalSplineExtremities=function evalSplineExtremities(arrKnot,chartWidth,limits){var objGrad={},u,i,t,calcValue,delX;for(i=0;i<arrKnot.length;++i){t=arrKnot[i].index;objGrad["D"+t]=0}for(u=0;u<10;++u){for(i=0;i<arrKnot.length;++i){if(i===0){calcValue=(3*(arrKnot[i+1].y-arrKnot[i].y)-objGrad["D"+arrKnot[i+1].index])/2}else if(i===arrKnot.length-1){calcValue=(3*(arrKnot[i].y-arrKnot[i-1].y)-objGrad["D"+arrKnot[i-1].index])/2}else{calcValue=(3*(arrKnot[i+1].y-arrKnot[i-1].y)-objGrad["D"+arrKnot[i+1].index]-objGrad["D"+arrKnot[i-1].index])/4}objGrad["D"+arrKnot[i].index]=calcValue}}delX=Math.round(chartWidth/(arrKnot.length-1));for(i=1;i<arrKnot.length;++i){getSegmentExtremities(i,arrKnot,objGrad,limits,delX)}},getSegmentExtremities=function getSegmentExtremities(index,data,objGradientStore,limits,delX){var arrKnot=data,i=index,j=0,slope1,slope2,a1,a2,a3,a4,maxY,minY,k,n,t,y1;slope1=objGradientStore["D"+arrKnot[j].index];slope2=objGradientStore["D"+arrKnot[i].index];a1=arrKnot[j].y;a2=slope1;a3=3*(arrKnot[i].y-arrKnot[j].y)-2*slope1-slope2;a4=2*(arrKnot[j].y-arrKnot[i].y)+slope1+slope2;maxY=limits.max;minY=limits.min;for(k=0,n=delX;k<=n;k++){t=k/n;y1=a1+a2*t+a3*t*t+a4*t*t*t;if(y1<minY){minY=y1}if(y1>maxY){maxY=y1}}limits.max=maxY;limits.min=minY},_calculateMaxMin=function _calculateMaxMin(){var dataset=this,conf=dataset.config,chart=dataset.getFromEnv("chart"),chartConf=dataset.getFromEnv("chartConfig"),chartWidth=chart.config.origRenderWidth,connectNullData=chartConf.connectnulldata,minimizeTendency=chartConf.minimizetendency,dataStore=dataset.components.data,infMin=Number.MIN_VALUE,infMax=Number.MAX_VALUE,limits;if(minimizeTendency===0){limits=getSplineExtremities(dataStore,chartWidth,connectNullData);conf.maxValue=Math.max(conf.maxValue,limits.max);conf.minValue=Math.min(conf.minValue,limits.min);if(conf.maxValue===infMin){conf.maxValue=0}if(conf.minValue===infMax){conf.minValue=0}}};exports["default"]=_calculateMaxMin},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var M="M",L="L",Z="Z",R="R",C="C",math=Math,mathSqrt=math.sqrt,mathAbs=math.abs,getSlope=function getSlope(x1,y1,x2,y2){return(y2-y1)/(x2-x1)},getPointY=function getPointY(x,m,x1,y1){return(x-x1)*m+y1},getPointX=function getPointX(y,m,x1,y1){return(y-y1)/m+x1},evalX=function evalX(x1,y1,x2,y2){var sinTheta=(y2-y1)/mathSqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1)),rearPart=mathAbs(.5*sinTheta),frontPart=1-rearPart;return x1*rearPart+x2*frontPart},cmrcManager=function cmrcManager(curveArr,appendClosePath,endXPos,endYPos){var len=curveArr.length,lastCurveCommandArr=curveArr[len-1],len2=lastCurveCommandArr.length,command=lastCurveCommandArr[0],lastRecorderXPos=lastCurveCommandArr[len2-2];if(len2<3){return}if((command===R||command===C)&&len2===3){curveArr[len-1][0]=L}if(appendClosePath){curveArr.push([L,lastRecorderXPos,endYPos,endXPos,endYPos,Z])}};function getSplinePath(dataTemp,yBasePos,minTend,isSplineArea,num){var minimizeTendency=minTend,arrS=[null],curvePath=[],linePath=[],lastArrLength,lastObj,y1,y0,y2,x1,x0,x2,lastYPos,lastXPos,lineArrLen,slope,point,anchorX,anchorY,anchorX0,anchorY0,slopePrev,arrLen,startingIndex,tempArr,startXPos,prevPoint,nextPoint,i,len;for(i=0,len=dataTemp.length;i<len;i+=1){point=dataTemp[i];prevPoint=dataTemp[i-1]||{};nextPoint=dataTemp[i+1]||{};x1=point.x;y1=point.y;x0=prevPoint.x;y0=prevPoint.y;x2=nextPoint.x;y2=nextPoint.y;lastYPos=point.lastYPos;lastXPos=point.lastXPos;arrLen=curvePath.length;lineArrLen=linePath.length;if(minimizeTendency){if(lastYPos!==null){lastObj=tempArr;if(i===dataTemp.length-1){slopePrev=arrS[i-startingIndex-1];anchorX=(x1+x0)/2;anchorX0=anchorX;anchorY0=getPointY(anchorX0,slopePrev,x0,y0);if(y0>y1&&anchorY0<y1||y0<y1&&anchorY0>y1){anchorY0=y1;anchorX0=getPointX(anchorY0,slopePrev,x0,y0)}tempArr.push(anchorX0,anchorY0,anchorX,(y1+y0)/2,x1,y1);curvePath.push(tempArr);linePath.push(tempArr);isSplineArea&&cmrcManager(curvePath,true,startXPos,yBasePos);isSplineArea&&cmrcManager(linePath,false)}else{slopePrev=arrS[i-startingIndex-1];if(y0>y1&&y2>=y1||y0<y1&&y2<=y1){slope=0;anchorX=evalX(x0,y0,x1,y1);anchorY=y1;if(i-startingIndex!==1){anchorX0=anchorX;anchorY0=getPointY(anchorX0,slopePrev,x0,y0);if(y0>y1&&anchorY0<y1||y0<y1&&anchorY0>y1){anchorY0=y1;anchorX0=getPointX(anchorY0,slopePrev,x0,y0)}tempArr.push(anchorX0,anchorY0,anchorX,anchorY,x1,y1)}else{tempArr.push((x1+x0)/2,(y1+y0)/2,anchorX,anchorY,x1,y1)}}else if(y0===y1){slope=0;tempArr.push(x0,y0,x1,y1,x1,y1)}else if(y0>y1&&y1>y2||y0<y1&&y1<y2){slope=getSlope(x0,y0,x2,y2);anchorX=evalX(x0,y0,x1,y1);anchorY=getPointY(anchorX,slope,x1,y1);if(y0>y1&&anchorY>y0||y0<y1&&anchorY<y0){anchorY=y0;anchorX=getPointX(anchorY,slope,x1,y1)}if(i-startingIndex!==1){anchorX0=anchorX;anchorY0=getPointY(anchorX0,slopePrev,x0,y0);if(y0>y1&&anchorY0<y1||y0<y1&&anchorY0>y1){anchorY0=y1;anchorX0=getPointX(anchorY0,slopePrev,x0,y0)}tempArr.push(anchorX0,anchorY0,anchorX,anchorY,x1,y1)}else{tempArr.push((x1+x0)/2,(y1+y0)/2,anchorX,anchorY,x1,y1)}}arrS.push(slope)}}else if(lastYPos===null&&i!==0){lastObj||(lastObj=[]);if(lastObj[0]===C){curvePath.push(tempArr);linePath.push(tempArr);isSplineArea&&cmrcManager(curvePath,true,startXPos,yBasePos);isSplineArea&&cmrcManager(linePath,false)}curvePath.push([M,x1,y1]);linePath.push([M,x1,y1]);startXPos=x1;tempArr=[C];startingIndex=i;arrS=[null]}else{curvePath.push([M,x1,y1]);linePath.push([M,x1,y1]);startXPos=x1;tempArr=[C];startingIndex=i}}else{if(lastYPos!==null){if(arrLen>=2){if(curvePath[arrLen-1][0]===M){curvePath.push([R])}if(linePath[lineArrLen-1][0]===M){linePath.push([R])}arrLen=curvePath.length;lineArrLen=linePath.length;lastObj=curvePath[arrLen-1];lastArrLength=lastObj.length;curvePath[arrLen-1].push(x1);curvePath[arrLen-1].push(y1);linePath[lineArrLen-1].push(x1);linePath[lineArrLen-1].push(y1);if(i===num-1){if(lastObj[0]===R){cmrcManager(curvePath,true,startXPos,yBasePos);cmrcManager(linePath,false)}}}else{curvePath.push([M,lastXPos,lastYPos]);curvePath.push([R,x1,y1]);linePath.push([M,lastXPos,lastYPos]);linePath.push([R,x1,y1]);startXPos=lastXPos}}else if(lastYPos===null&&arrLen>=2){lastObj=curvePath[arrLen-1];if(lastObj[0]===R){cmrcManager(curvePath,true,startXPos,yBasePos);cmrcManager(linePath,false)}curvePath.push([M,x1,y1]);linePath.push([M,x1,y1]);startXPos=x1}}}lastObj=curvePath[curvePath.length-1];if(isSplineArea&&lastObj){lastArrLength=lastObj.length;if(lastObj[lastArrLength-1]!==Z&&(lastObj[0]===R||lastObj[0]===C)){cmrcManager(curvePath,true,startXPos,yBasePos);cmrcManager(linePath,false)}}if(!isSplineArea){curvePath=minimizeTendency?curvePath:linePath;curvePath.length>=2&&cmrcManager(curvePath,false)}return{closedPath:curvePath,openPath:linePath}}exports.getSplinePath=getSplinePath},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);function getBaseSplinePath(pathArr){var pathArrLen=pathArr.length,basePathArr=[],pathInstruction=void 0,storePathInstruction=void 0,pathRepetitionStarted=false,newPathStarted=true,index=void 0;for(index=0;index<pathArrLen;++index){pathInstruction=pathArr[index];if(newPathStarted){basePathArr.push(pathInstruction);storePathInstruction=(0,_lib.extend2)([],pathInstruction);newPathStarted=false;continue}if(pathInstruction==="Z"){newPathStarted=true;pathRepetitionStarted=false;storePathInstruction[0]="L";basePathArr.push(storePathInstruction,"Z");continue}if(pathRepetitionStarted){continue}basePathArr.push(pathInstruction);if(pathInstruction.toString()===pathArr[index-1].toString()){pathRepetitionStarted=true}}return basePathArr}exports["default"]={"*.dataset.splinearea":function datasetSplinearea(){return{"anchor.appearing":[{initialAttr:{opacity:0},finalAttr:{opacity:1},startEnd:{start:.5,end:1},slot:"plot"}],"anchor.updating":[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],"anchor.disappearing":[{finalAttr:{opacity:0,"fill-opacity":0,"stroke-opacity":0},slot:"final"}],"line.appearing":function lineAppearing(inputJSON){var dataset=inputJSON.component,dataStore=dataset.components.data,initialPath=dataset.getLinePath(dataStore,null,"zero"),finalAttr=inputJSON.attr;return[{initialAttr:{opacity:0,path:getBaseSplinePath(initialPath.getPathArr())},finalAttr:{opacity:1,path:finalAttr&&finalAttr.path},startEnd:{start:0,end:.5},slot:"plot",hookFn:function hookFn(){this.attr({opacity:1})}}]},"label.appearing":[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],"label.updating":function labelUpdating(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]},"group.appearing":function groupAppearing(inputJSON){if(inputJSON.attr.name==="label-group"){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]}else if(inputJSON.attr.name==="plot-group"){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},startEnd:{start:.5,end:1},slot:"plot"}]}else{return[{initialAttr:{opacity:1},finalAttr:{opacity:1},slot:"final"}]}}}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _line=__webpack_require__(346);var _line2=_interopRequireDefault(_line);var _lib=__webpack_require__(118);var _spline=__webpack_require__(397);var _spline2=_interopRequireDefault(_spline);var _dependencyManager=__webpack_require__(125);var _mssplinePath=__webpack_require__(398);var _mssplineAnimation=__webpack_require__(401);var _mssplineAnimation2=_interopRequireDefault(_mssplineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF;(0,_dependencyManager.addDep)({name:"mssplineAnimation",type:"animationRule",extension:_mssplineAnimation2["default"]});var MSSplineDataset=function(_LineDataset){_inherits(MSSplineDataset,_LineDataset);function MSSplineDataset(){_classCallCheck(this,MSSplineDataset);return _possibleConstructorReturn(this,_LineDataset.apply(this,arguments))}MSSplineDataset.prototype.getType=function getType(){return"dataset"};MSSplineDataset.prototype.getName=function getName(){return"spline"};MSSplineDataset.prototype.configureAttributes=function configureAttributes(dataObj){_LineDataset.prototype.configureAttributes&&_LineDataset.prototype.configureAttributes.call(this,dataObj);_spline2["default"].call(this)};MSSplineDataset.prototype.getDataLimits=function getDataLimits(){return{max:this.config.maxValue,min:this.config.minValue}};MSSplineDataset.prototype.drawCommonElements=function drawCommonElements(){var dataset=this,dataStore=dataset.components.data,dsConfig=dataset.config,connectNullData=Number(dataset.getFromEnv("chartConfig").connectnulldata),xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),lineDashStyle=dsConfig.lineDashStyle,lineThickness=dsConfig.linethickness,dataTemp=[],lastYPos=null,lastXPos,colorHash,lineColorObj={color:dsConfig.linecolor,alpha:dsConfig.alpha},lim={x:xAxis.getLimit(),y:yAxis.getLimit()},i,ii=dataset.getState("visible")?dataStore.length:0,lineOb=dsConfig.lineOb||{},dataObj,config,setValue,startIndex=0,endIndex,tempStore=[],chart=this.getFromEnv("chart"),isSplineArea=/area/gi.test(chart.defaultDatasetType);lim.x.minPixel=xAxis.getPixel(lim.x.min);lim.x.maxPixel=xAxis.getPixel(lim.x.max);lim.y.minPixel=yAxis.getPixel(lim.y.min);lim.y.maxPixel=yAxis.getPixel(lim.y.max);lim.y.base=yAxis.getPixel(0);lim.x.base=xAxis.getPixel(0);for(i=0;i<ii;++i){dataObj=dataStore[i];if(!dataObj){continue}config=dataObj.config||{};setValue=config.setValue;config._Pbx=UNDEF;config._Pby=UNDEF;tempStore[i]={config:{_Px:config._Px,_Py:config._Py,setValue:config.setValue}};if(!connectNullData&&(setValue===null||setValue===UNDEF)){lastYPos=null;continue}dataTemp.push({x:config._Px,y:config._Py,lastYPos:lastYPos,lastXPos:lastXPos});lastYPos=config._Py;lastXPos=config._Px}dsConfig.pathStartIndex=startIndex;dsConfig.pathEndIndex=endIndex;colorHash="default";lineOb[colorHash]=lineOb[colorHash]||{};lineOb[colorHash].used=true;lineOb[colorHash].path=[{pathArr:(0,_mssplinePath.getSplinePath)(dataTemp,yAxis.getPixel(yAxis.getAxisBase()),chart.config.minimizetendency,isSplineArea).closedPath,path2Arr:[],getPathArr:function getPathArr(){var pathObj=this,pathArr=pathObj.pathArr,path2Arr=pathObj.path2Arr;if(pathArr.length||path2Arr.length){return pathArr.concat(path2Arr)}else{return[]}}}];lineOb[colorHash].attr={"stroke-dasharray":lineDashStyle,"stroke-width":lineThickness,stroke:(0,_lib.toRaphaelColor)(lineColorObj),"stroke-linecap":"round"};dataset._drawCommonElementsHelper(lineOb);dataset.config.lineOb=lineOb;dsConfig.prevLim=lim;dsConfig.prevDataStore=tempStore};return MSSplineDataset}(_line2["default"]);exports["default"]=MSSplineDataset},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lineAnimation=__webpack_require__(349);var _lineAnimation2=_interopRequireDefault(_lineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"*.dataset.spline":_lineAnimation2["default"]["*.dataset.line"]}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var math=Math,mathMin=math.min,mathMax=math.max,mathAbs=math.abs,UNDEF;var ColumnMultiSeriesgroup=function(_ComponentInterface){_inherits(ColumnMultiSeriesgroup,_ComponentInterface);function ColumnMultiSeriesgroup(){_classCallCheck(this,ColumnMultiSeriesgroup);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this.setState("visible",true);return _this}ColumnMultiSeriesgroup.prototype.getType=function getType(){return"group"};ColumnMultiSeriesgroup.getName=function getName(){return"columnMultiSeriesgroup"};ColumnMultiSeriesgroup.prototype.getName=function getName(){return"columnMultiSeriesgroup"};ColumnMultiSeriesgroup.prototype.preConfigure=function preConfigure(managerJSON){if(!managerJSON){return false}this.config.JSONData=managerJSON;_ComponentInterface.prototype.preConfigure.call(this,managerJSON)};ColumnMultiSeriesgroup.prototype.configure=function configure(managerJSON){if(!managerJSON){return false}_ComponentInterface.prototype.configure.call(this,managerJSON)};ColumnMultiSeriesgroup.prototype.setVisibility=function setVisibility(){var manager=this,numVisibleDataset=0;manager._mapChildren(function(child){child.setVisibility&&child.setVisibility()});manager._mapChildren(function(child){child.getState("visible")&&numVisibleDataset++});manager.setState("visible",!!numVisibleDataset)};ColumnMultiSeriesgroup.prototype.createContainer=function createContainer(){var manager=this,animationManager=manager.getFromEnv("animationManager"),key=void 0,parent=manager.getLinkedParent(),pContainer=void 0,parentChildContainers=parent.getChildContainer();for(key in parentChildContainers){pContainer=parentChildContainers[key];!manager.getChildContainer(key)&&manager.addChildContainer(key,animationManager.setAnimation({el:"group",attr:{name:"manager-"+key},component:manager,container:pContainer}))}};ColumnMultiSeriesgroup.prototype.allocatePosition=function allocatePosition(){this.setColumnPosition()};ColumnMultiSeriesgroup.prototype.draw=function draw(){this.createContainer()};ColumnMultiSeriesgroup.prototype.getCanvasPadding=function getCanvasPadding(){var manager=this,dim,key,returnDimension={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0};manager.setColumnPosition();manager._mapChildren(function(child){dim=!child.getState("removed")&&child.getState("visible")&&child.getCanvasPadding&&child.getCanvasPadding()||{};for(key in dim){if(dim.hasOwnProperty(key)){returnDimension[key]=Math.max(dim[key],returnDimension[key])}}});return returnDimension};ColumnMultiSeriesgroup.prototype.setColumnPosition=function setColumnPosition(){var manager=this,chartConfig=manager.getFromEnv("chartConfig"),chartAttr=manager.getFromEnv("chart-attrib"),xAxis=manager.getFromEnv("xAxis"),oldNumOfColumns=manager.getFromEnv("numOfColumns"),definedGroupPadding=chartConfig.plotSpacePercent,plotSpacePercent=mathMax((0,_lib.pluckNumber)(definedGroupPadding,20)%100,0),groupPadding=plotSpacePercent/200,xAxisZeroPos=xAxis.getPixel(0),xAxisFirstPos=xAxis.getPixel(1),maxColWidth=manager.getFromEnv("chart").isBar?chartConfig.maxBarHeight:chartConfig.maxColWidth,groupMaxWidth=mathAbs(xAxisFirstPos-xAxisZeroPos),groupNetWidth=void 0,columnWidth=void 0,commonXShift=void 0,plotEffectivePadding=void 0,plotPaddingPercent=chartConfig.plotPaddingPercent,plotPadding=void 0,xPosFirst=void 0,xPosNext=void 0,isCrisp=true,groupNetHalfWidth=void 0,groupNetGapWidth=4,overlapColumns=chartConfig.overlapColumns,count=0,numOfColumns=0;manager.addToEnv("groupMaxWidth",groupMaxWidth);manager._mapChildren(function(child){if(!child.getState("removed")&&child.getState("visible")!==false){numOfColumns++}});manager.addToEnv("numOfColumns",numOfColumns);manager.addToEnv("numColDiff",(0,_lib.pluckNumber)(oldNumOfColumns-numOfColumns,0));groupNetWidth=(1-definedGroupPadding*.01)*groupMaxWidth||mathMin(groupMaxWidth*(1-groupPadding*2),maxColWidth*(numOfColumns||1));chartAttr.plotspacepercent===UNDEF&&groupNetWidth>=chartConfig.canvasWidth/2&&(groupNetWidth=groupMaxWidth-maxColWidth/2);columnWidth=numOfColumns===0?groupNetWidth:groupNetWidth/numOfColumns;plotPadding=numOfColumns>1?!overlapColumns&&plotPaddingPercent===UNDEF?4:plotPaddingPercent>0?columnWidth*plotPaddingPercent/100:0:0;plotEffectivePadding=mathMin(columnWidth-1,plotPadding);manager.addToEnv("plotWidth",columnWidth-plotEffectivePadding);commonXShift=-(numOfColumns/2*columnWidth-columnWidth/2);manager._mapChildren(function(child){if(!child.getState("removed")&&child.getState("visible")){child.addToEnv("shift",commonXShift+count*columnWidth+plotEffectivePadding/2);count++}});groupNetHalfWidth=groupNetWidth/2;xPosFirst=xAxisZeroPos-groupNetHalfWidth;xPosNext=xAxisFirstPos-groupNetHalfWidth;if(xPosNext-(xPosFirst+groupNetWidth)<groupNetGapWidth){isCrisp=false}if(plotSpacePercent===0){isCrisp=true}manager.addToEnv("isCrisp",isCrisp)};ColumnMultiSeriesgroup.prototype.childChanged=function childChanged(){var updateInfo=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var manager=this,config=manager.config,parent=manager.getLinkedParent(),range=void 0,count=0,prevVisiblity=manager.getState("visible"),changeInfo={},informParent=void 0;manager._mapChildren(function(child){if(child.getState("visible")){count++}});manager.setState("visible",!!count);prevVisiblity!==!!count&&(informParent=true);if(updateInfo.dataLimitChanged!==false){range=manager.getDataLimits();if(range.min!==config.range.min||range.max!==config.range.max){config.range.min=range.min;config.range.max=range.max;changeInfo.dataLimitChanged=true;informParent=true}}if(informParent){parent.childChanged&&parent.childChanged(changeInfo)}else{manager.asyncDraw()}};ColumnMultiSeriesgroup.prototype.getAxisValuePadding=function getAxisValuePadding(){var paddingObj={},axisPaddingLeft=-Infinity,axisPaddingRight=-Infinity;this._mapChildren(function(child){if(child.getState("removed")){return}paddingObj=child.getAxisValuePadding&&child.getAxisValuePadding()||{};axisPaddingLeft=Math.max(axisPaddingLeft,paddingObj.left||-Infinity);axisPaddingRight=Math.max(axisPaddingRight,paddingObj.right||-Infinity)});if(axisPaddingLeft===-Infinity){axisPaddingLeft=0}if(axisPaddingRight===-Infinity){axisPaddingRight=0}if(!this.config.padding){this.config.padding={};this.config.padding.left=axisPaddingLeft;this.config.padding.right=axisPaddingRight}return{left:axisPaddingLeft,right:axisPaddingRight}};ColumnMultiSeriesgroup.prototype.getDataLimits=function getDataLimits(allVisible){var manager=this,min=+Infinity,max=-Infinity,maxminObj=void 0,numOfColumns=0,getMaxMin=function getMaxMin(_maxminObj){max=Math.max(max,_maxminObj.max);min=Math.min(min,_maxminObj.min)};manager._mapChildren(function(child){if(child.getState("removed")){return}if(child.getState("visible")===false){if(allVisible){maxminObj=child.getDataLimits(allVisible);getMaxMin(maxminObj)}return}numOfColumns++;maxminObj=child.getDataLimits(allVisible);getMaxMin(maxminObj)});if(!numOfColumns){manager.setState("visible",false)}else{manager.setState("visible",true)}if(!this.config.range){this.config.range={};this.config.range.min=this.config.dataMin;this.config.range.max=this.config.dataMax}return{max:max,min:min}};ColumnMultiSeriesgroup.prototype.isVisible=function isVisible(){return!this.isNotVisible};return ColumnMultiSeriesgroup}(_componentInterface2["default"]);exports["default"]=ColumnMultiSeriesgroup},,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);var _column=__webpack_require__(331);var _column2=_interopRequireDefault(_column);var _column3=__webpack_require__(402);var _column4=_interopRequireDefault(_column3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var MSColumn2D=function(_MSCartesian){_inherits(MSColumn2D,_MSCartesian);MSColumn2D.getName=function getName(){return"MSColumn2D"};MSColumn2D.prototype.getName=function getName(){return"MSColumn2D"};function MSColumn2D(){_classCallCheck(this,MSColumn2D);var _this=_possibleConstructorReturn(this,_MSCartesian.call(this));_this.eiMethods={};return _this}MSColumn2D.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);this.config.friendlyName="Multi-series Column Chart";this.config.defaultDatasetType="column";this.config.enablemousetracking=true};MSColumn2D.prototype.getDSdef=function getDSdef(){return _column2["default"]};MSColumn2D.prototype.getDSGroupdef=function getDSGroupdef(){return _column4["default"]};return MSColumn2D}(_mscartesian2["default"]);exports["default"]=MSColumn2D},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function scrollTo(value){if(value>=0&&value<=1){var apiInstance=this.apiInstance,children=apiInstance.getChildren&&apiInstance.getChildren(),xAxis=children.xAxis[0],limit=xAxis.getLimit&&xAxis.getLimit(),visibleConfig=xAxis.getVisibleConfig&&xAxis.getVisibleConfig(),visibleLength=visibleConfig.maxValue-visibleConfig.minValue,totalLength=limit.max-limit.min,start=value*(totalLength-visibleLength)+limit.min,end=start+visibleLength,previousValue=(visibleConfig.minValue-limit.min)/(totalLength-visibleLength);apiInstance.fireChartInstanceEvent("scrollStart",{scrollPosition:previousValue});xAxis.setVisibleConfig(start,end);apiInstance.fireChartInstanceEvent("scrollEnd",{previousScrollPosition:previousValue,scrollPosition:value})}}exports.scrollTo=scrollTo},,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);var _dependencyManager=__webpack_require__(125);var _cartesianStackAnimation=__webpack_require__(410);var _cartesianStackAnimation2=_interopRequireDefault(_cartesianStackAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var visibleStr=_lib.preDefStr.visibleStr,UNDEF=void 0,math=Math,mathMin=math.min,mathMax=math.max;(0,_dependencyManager.addDep)({name:"cartesianStackAnimation",type:"animationRule",extension:_cartesianStackAnimation2["default"]});var CartesianStackgroup=function(_ComponentInterface){_inherits(CartesianStackgroup,_ComponentInterface);function CartesianStackgroup(){_classCallCheck(this,CartesianStackgroup);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this.setState("visible",true);return _this}CartesianStackgroup.prototype.getType=function getType(){return"group"};CartesianStackgroup.getName=function getName(){return"cartesianStackGroup"};CartesianStackgroup.prototype.getName=function getName(){return"cartesianStackGroup"};CartesianStackgroup.prototype.preConfigure=function preConfigure(managerJSON){if(!managerJSON){return false}this.config.JSONData=managerJSON;_ComponentInterface.prototype.preConfigure.call(this,managerJSON)};CartesianStackgroup.prototype.configure=function configure(managerJSON){if(!managerJSON){return false}_ComponentInterface.prototype.configure.call(this,managerJSON)};CartesianStackgroup.prototype.setSkippingInfo=function setSkippingInfo(skipObj){var dataSet=this;dataSet.addToEnv("skipInfo",skipObj||{drawOnlyMap:[],plotsPerBin:1,draw:[],hide:[],skippingApplied:false,dragHashMap:[],prevDrawArray:[]})};CartesianStackgroup.prototype.getSkippingInfo=function getSkippingInfo(){return this.getFromEnv("skipInfo")||{drawOnlyMap:[],plotsPerBin:1,draw:[],hide:[],skippingApplied:false,dragHashMap:[],prevDrawArray:[]}};CartesianStackgroup.prototype.setVisibility=function setVisibility(){var numVisibleDataset=0;this._mapChildren(function(child){child.getState("visible")&&numVisibleDataset++});this.setState("visible",!!numVisibleDataset)};CartesianStackgroup.prototype.createContainer=function createContainer(){var manager=this,animationManager=manager.getFromEnv("animationManager"),key=void 0,parent=manager.getLinkedParent(),pContainer=void 0,parentChildContainers=parent.getChildContainer();for(key in parentChildContainers){pContainer=parentChildContainers[key];!manager.getChildContainer(key)&&manager.addChildContainer(key,animationManager.setAnimation({el:"group",attr:{name:"manager-"+key},container:pContainer,component:manager}))}!manager.getContainer("sumLabelsLayer")&&manager.addContainer("sumLabelsLayer",animationManager.setAnimation({el:"group",attr:{name:"manager-sumLabelsLayer","class":"fusioncharts-datalabels"},label:"group",container:parent.getChildContainer("sumLabelsLayer"),component:manager}));!manager.getChildContainer("commonElemGroup")&&manager.addChildContainer("commonElemGroup",animationManager.setAnimation({el:"group",attr:{name:"manager-common-elem-group"},label:"group",container:parent.getChildContainer("areaVcanvasGroup"),component:manager}));!manager.getChildContainer("anchorGroup")&&manager.addChildContainer("anchorGroup",animationManager.setAnimation({el:"group",attr:{name:"manager-anchor-group"},label:"group",container:parent.getChildContainer("areaVcanvasGroup"),component:manager}))};CartesianStackgroup.prototype.draw=function draw(){this.createContainer();this.drawSumValue()};CartesianStackgroup.prototype._setStackPosition=function _setStackPosition(){var manager=this,dataMin=+Infinity,dataMax=-Infinity,oldNumOfColumns=manager.getFromEnv("numOfColumns"),numOfColumns=0,stackValueArr=[],skipInfo=manager.getSkippingInfo&&manager.getSkippingInfo()||{},skippingDrawArray=skipInfo.draw||[],skipDrawArrayLenth=skippingDrawArray.length,skippingApplied=skipInfo.skippingApplied;manager._mapChildren(function(child){if(child.getState("removed")||child.getState("visible")===false){return}numOfColumns++;var datum=void 0,data=child.getData(),i=void 0,j=void 0,setValue=void 0,stackedValue=0,len=data&&data.length,base=0;if(skippingApplied){len=skipDrawArrayLenth}for(j=0;j<len;j++){i=skippingDrawArray[j]||j;datum=data[i];if(datum&&datum.config&&datum.config.setValue!==UNDEF){if(!stackValueArr[i]){stackValueArr[i]={}}setValue=datum.config.setValue;stackValueArr[i].positive||(stackValueArr[i].positive=0);stackValueArr[i].negative||(stackValueArr[i].negative=0);if(setValue>=0){base=stackValueArr[i].positive;stackedValue=setValue+base;stackValueArr[i].positive=stackedValue}else if(setValue<0){base=stackValueArr[i].negative;stackedValue=setValue+base;stackValueArr[i].negative=stackedValue}if(setValue!==null){stackValueArr[i].isNotNull=true}dataMax=mathMax(stackedValue,dataMax);dataMin=mathMin(stackedValue,dataMin);datum.config._y=stackedValue;datum.config._b=base}}});manager.config.stackValues=stackValueArr;manager.config.dataMin=dataMin;manager.config.dataMax=dataMax;if(!numOfColumns){manager.setState("visible",false)}else{manager.setState("visible",true)}manager.addToEnv("stackValues",stackValueArr);manager.addToEnv("numOfColumns",numOfColumns);manager.addToEnv("numColDiff",(0,_lib.pluckNumber)(oldNumOfColumns-numOfColumns,0))};CartesianStackgroup.prototype.allocatePosition=function allocatePosition(){this._setStackPosition()};CartesianStackgroup.prototype._getXpos=function _getXpos(index){var manager=this,shift=manager.getFromEnv("shift")||0,xAxis=manager.getFromEnv("xAxis");return xAxis.getPixel(index)+shift};CartesianStackgroup.prototype.drawSumValue=function drawSumValue(){var start=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var end=arguments[1];var manager=this,config=manager.config,yAxis=manager.getFromEnv("yAxis"),paper=manager.getFromEnv("paper"),animationManager=manager.getFromEnv("animationManager"),chart=manager.getFromEnv("chart"),isBar=chart.isBar,SmartLabel=manager.getFromEnv("smartLabel"),chartConfig=chart.config,canvasRight=chartConfig.canvasRight,chartAttrs=manager.getFromEnv("chart-attrib"),stack100percent=(0,_lib.pluckNumber)(chartConfig.stack100percent),rotateValues=chartConfig.rotatevalues?270:0,stackValues=config.stackValues,range=end||stackValues&&stackValues.length,style=chartConfig.dataLabelStyle,i=void 0,xPos=void 0,yPos=void 0,bgColor=void 0,bdColor=void 0,labelDim=void 0,sumLabelsLayer=manager.getContainer("sumLabelsLayer"),sumLabels=manager.getGraphicalElement("sumLabels"),sumLabel=void 0,attrs=void 0,positive=void 0,negative=void 0,offsetY=void 0,displayValue=void 0,sumValue=void 0,prevLen=void 0,currLen=void 0,label=void 0,showsum=(0,_lib.pluckNumber)(chartAttrs.showsum,chart.showsum,0);if(showsum){sumLabelsLayer.css(style);SmartLabel.setStyle(style);prevLen=sumLabels&&sumLabels.length;currLen=stackValues.length;if(prevLen>currLen){while(prevLen>=currLen){label=sumLabels[prevLen];prevLen--;if(label){label.hide();manager.removeGraphicalElement(label)}}}for(i=start;i<range;i++){sumLabel=Array.isArray(sumLabels)&&sumLabels[i];if(!stackValues[i]||!stackValues[i].isNotNull){sumLabel&&sumLabel.hide();continue}positive=stackValues[i].positive;negative=stackValues[i].negative;sumValue=positive+negative;offsetY=sumValue<0?negative:positive;displayValue=yAxis.dataLabels(sumValue);if(displayValue){bgColor=style.backgroundColor;bdColor=style.borderColor;labelDim=SmartLabel.getOriSize(displayValue);if(isBar){yPos=manager._getXpos(i)+labelDim.height/2;xPos=yAxis.getPixel(stack100percent?100:offsetY)+labelDim.width/2;if(!stack100percent){xPos-=xPos+labelDim.width>canvasRight?xPos+labelDim.width-canvasRight:0}}else{xPos=manager._getXpos(i);yPos=yAxis.getPixel(stack100percent?100:offsetY)}attrs=manager.getSumValuePosition(labelDim,{stack100percent:stack100percent,rotateValues:rotateValues,xPos:xPos,yPos:yPos,offsetY:offsetY});attrs.text=displayValue;attrs.fill=style.color;attrs["text-bound"]=[bgColor,bdColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash];attrs["line-height"]=style.lineHeight;attrs.visibility=visibleStr;attrs.transform=paper.getSuggestiveRotation(rotateValues,attrs.x,attrs.y);if(attrs["text-anchor"]){delete attrs["text-bound"]}sumLabel=animationManager.setAnimation({el:sumLabel||"text",attr:attrs,label:"text",container:sumLabelsLayer,component:manager});sumLabel.show();if(!(Array.isArray(sumLabels)&&sumLabels[i])){manager.addGraphicalElement("sumLabels",sumLabel,true)}}}}else{animationManager.setAnimation({el:sumLabelsLayer,label:"sumLabelGroup"});sumLabelsLayer.hide()}};CartesianStackgroup.prototype.getSumValuePosition=function getSumValuePosition(labelDim,labelConfig){var manager=this,chart=manager.getFromEnv("chart"),config=chart.config,canvasBottom=config.canvasBottom,canvasTop=config.canvasTop,is3D=chart.config.is3D,isBar=chart.isBar,stack100percent=labelConfig.stack100percent,gutter=2,yDepth=config.yDepth,xDepth=config.xDepth,origTextHeight,outsideColSpace,yPos=labelConfig.yPos,textHeight,xPos=labelConfig.xPos,labelHeight,canvasBorderThickness=manager.getFromEnv("canvasConfig").canvasBorderWidth,offsetY=labelConfig.offsetY,rotateValues=labelConfig.rotateValues;if(rotateValues){labelHeight=labelDim.width}else{labelHeight=labelDim.height}textHeight=origTextHeight=labelHeight;textHeight=textHeight/2+gutter;if(!stack100percent){if(offsetY>=0){outsideColSpace=yPos-canvasTop;if(outsideColSpace<origTextHeight){yPos=yPos+textHeight-outsideColSpace}else{yPos=yPos-textHeight;xPos+=isBar?gutter:0}}if(offsetY<0){outsideColSpace=canvasBottom-yPos;if(outsideColSpace<origTextHeight){yPos=yPos-textHeight}else{yPos=yPos+textHeight}if(is3D){xPos-=xDepth;yPos+=yDepth}}}else{if(canvasTop<=origTextHeight){yPos=textHeight}else{yPos=isBar?labelConfig.yPos:canvasTop-textHeight-canvasBorderThickness;xPos+=isBar?canvasBorderThickness:0}}return{x:xPos,y:yPos}};CartesianStackgroup.prototype.childChanged=function childChanged(){var updateInfo=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var manager=this,config=manager.config,parent=manager.getLinkedParent(),range=void 0,prevVisiblity=manager.getState("visible"),count=0,changeInfo={},informParent=void 0;manager._mapChildren(function(child){if(child.getState("visible")){count++}});manager.setState("visible",!!count);prevVisiblity!==!!count&&(informParent=true);if(updateInfo.dataLimitChanged!==false){range=manager.getDataLimits();if(range.min!==config.range.min||range.max!==config.range.max){config.range.min=range.min;config.range.max=range.max;changeInfo.dataLimitChanged=true;informParent=true}}if(informParent){parent.childChanged&&parent.childChanged(changeInfo)}else{manager.asyncDraw()}};CartesianStackgroup.prototype.getAxisValuePadding=function getAxisValuePadding(){var paddingObj={},axisPaddingLeft=-Infinity,axisPaddingRight=-Infinity;this._mapChildren(function(child){if(child.getState("removed")){return}paddingObj=child.getAxisValuePadding&&child.getAxisValuePadding()||{};axisPaddingLeft=Math.max(axisPaddingLeft,paddingObj.left||-Infinity);axisPaddingRight=Math.max(axisPaddingRight,paddingObj.right||-Infinity)});if(axisPaddingLeft===-Infinity){axisPaddingLeft=0}if(axisPaddingRight===-Infinity){axisPaddingRight=0}if(!this.config.padding){this.config.padding={};this.config.padding.left=axisPaddingLeft;this.config.padding.right=axisPaddingRight}return{left:axisPaddingLeft,right:axisPaddingRight}};CartesianStackgroup.prototype.getDataLimits=function getDataLimits(allVisible){this._setStackPosition();if(!this.config.range){this.config.range||(this.config.range={});this.config.range.min=this.config.dataMin;this.config.range.max=this.config.dataMax}return allVisible?this._getStackLimit():{max:this.config.dataMax,min:this.config.dataMin}};CartesianStackgroup.prototype._getStackLimit=function _getStackLimit(){var manager=this,dataMin=+Infinity,dataMax=-Infinity,stackValueArr=[],skipInfo=manager.getSkippingInfo&&manager.getSkippingInfo()||{},skippingDrawArray=skipInfo.draw||[],skipDrawArrayLenth=skippingDrawArray.length,skippingApplied=skipInfo.skippingApplied;manager._mapChildren(function(child){if(child.getState("removed")){return}var datum=void 0,data=child.getData(),i=void 0,j=void 0,setValue=void 0,stackedValue=0,len=data&&data.length,base=0;if(skippingApplied){len=skipDrawArrayLenth}for(j=0;j<len;j++){i=skippingDrawArray[j]||j;datum=data[i];if(datum&&datum.config&&datum.config.setValue!==UNDEF&&datum.config.setValue!==null){if(!stackValueArr[i]){stackValueArr[i]={}}setValue=datum.config.setValue;stackValueArr[i].positive||(stackValueArr[i].positive=0);stackValueArr[i].negative||(stackValueArr[i].negative=0);if(setValue>0){base=stackValueArr[i].positive;stackedValue=setValue+base;stackValueArr[i].positive=stackedValue}else if(setValue<0){base=stackValueArr[i].negative;stackedValue=setValue+base;stackValueArr[i].negative=stackedValue}dataMax=mathMax(stackedValue,dataMax);dataMin=mathMin(stackedValue,dataMin)}}});return{max:dataMax,min:dataMin}};CartesianStackgroup.prototype.isVisible=function isVisible(){return!this.isNotVisible};CartesianStackgroup.prototype.getMaxSumValueSpace=function getMaxSumValueSpace(){var manager=this,stackSumValues=manager.config.stackValues,chart=manager.getFromEnv("chart"),i,dim={},len=stackSumValues&&stackSumValues.length,numberFormatter=manager.getFromEnv("number-formatter"),formattedValue,width,height,maxHeight=0,maxWidth=0,sumValue,SmartLabel=manager.getFromEnv("smartLabel"),dataLabelStyle=chart.config.dataLabelStyle;SmartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);SmartLabel.setStyle(dataLabelStyle);for(i=0;i<len;i++){if(stackSumValues[i]){sumValue=stackSumValues[i].positive+stackSumValues[i].negative;formattedValue=numberFormatter.dataLabels(sumValue);dim=SmartLabel.getOriSize(formattedValue);width=dim.width;height=dim.height;maxWidth=mathMax(maxWidth,width);maxHeight=mathMax(maxHeight,height)}}return{maxWidth:maxWidth,maxHeight:maxHeight}};CartesianStackgroup.prototype.getCanvasPadding=function getCanvasPadding(){var manager=this,dim,key,returnDimension={paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0};manager._setStackPosition();manager._mapChildren(function(child){dim=child.getCanvasPadding&&child.getCanvasPadding()||{};for(key in dim){if(dim.hasOwnProperty(key)){returnDimension[key]=Math.max(dim[key],returnDimension[key])}}});return returnDimension};return CartesianStackgroup}(_componentInterface2["default"]);exports["default"]=CartesianStackgroup},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var groupFadeIn=function groupFadeIn(){return[{initialAttr:{opacity:1},finalAttr:{opacity:1},slot:"plot"}]},sumlabelFadeIn=function sumlabelFadeIn(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]};exports["default"]={"initial.group.cartesianStackGroup":function initialGroupCartesianStackGroup(){return{"group.appearing":groupFadeIn,"text.appearing":sumlabelFadeIn,"*":null}},"initial.group.marimekkoStackgroup":function initialGroupMarimekkoStackgroup(){return{"text.appearing":sumlabelFadeIn,"*":null}}}},,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mscolumn2d=__webpack_require__(404);var _mscolumn2d2=_interopRequireDefault(_mscolumn2d);var _quadrant=__webpack_require__(415);var _quadrant2=_interopRequireDefault(_quadrant);var _xyAxis=__webpack_require__(417);var _xyAxis2=_interopRequireDefault(_xyAxis);var _legend=__webpack_require__(357);var _legend2=_interopRequireDefault(_legend);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,MOUSEOUT="mouseout",_getHoveredTrendLine=function _getHoveredTrendLine(chartX,chartY,trendLines){var i,trendLinesLen=trendLines&&trendLines.length,xPos=chartX,yPos=chartY,slope,trendObj,A,B,C,dist,x1,y1,x2,y2;if(!trendLinesLen){return undefined}for(i=trendLinesLen-1;i>=0;i--){trendObj=trendLines[i];x1=trendObj.x1;y1=trendObj.y1;x2=trendObj.x2;y2=trendObj.y2;if(trendObj.isTrendZone){if(xPos>=x1&&xPos<=x2&&yPos>=y1&&yPos<=y2){return trendObj}}else{if(y1!==y2&&x1!==x2){slope=(y1-y2)/(x1-x2);A=slope;B=-1;C=y1-slope*x1;dist=Math.abs(A*xPos+B*yPos+C)/Math.sqrt(Math.pow(A,2)+Math.pow(B,2))}else if(x1===x2){dist=Math.abs(x1-xPos)}else if(y1===y2){dist=Math.abs(y1-yPos)}if(dist<=trendObj.tolerance){return trendObj}}}};var ScatterBase=function(_MSColumn2D){_inherits(ScatterBase,_MSColumn2D);function ScatterBase(){_classCallCheck(this,ScatterBase);var _this=_possibleConstructorReturn(this,_MSColumn2D.call(this));_this.registerFactory("axis",_xyAxis2["default"],["canvas"]);_this.registerFactory("legend",_legend2["default"]);_this.registerFactory("quadrant",function(chart){var canvas=chart.getChildren("canvas")[0],quadrant=void 0,children=chart.getChildren(),redraw=function redraw(){return quadrant.asyncDraw()};(0,_lib.componentFactory)(canvas,_quadrant2["default"],"quadrant");quadrant=canvas.getChildren("quadrant")[0];quadrant.addExtEventListener("visiblerangeset",redraw,children.xAxis[0]);quadrant.addExtEventListener("visiblerangeset",redraw,children.yAxis[0]);quadrant.configure()},["dataset"]);return _this}ScatterBase.getName=function getName(){return"ScatterBase"};ScatterBase.prototype.mouseoutHandler=function mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex){var chart=this,datasets=chart.config.datasetOrder||chart.getDatasets(),mouseTracker=chart.getChildren("mouseTracker")[0];datasets[_lastDatasetIndex]._firePlotEvent(MOUSEOUT,_lastPointIndex,e);delete mouseTracker._lastDatasetIndex;delete mouseTracker._lastPointIndex};ScatterBase.prototype.parseChartAttr=function parseChartAttr(dataObj){_MSColumn2D.prototype.parseChartAttr.call(this,dataObj);this.config.drawTrendRegion=0};ScatterBase.prototype.__setDefaultConfig=function __setDefaultConfig(){var config=this.config;_MSColumn2D.prototype.__setDefaultConfig&&_MSColumn2D.prototype.__setDefaultConfig.call(this);config.valuefontbold=0;config.stickytracking=1;config.usemessagelog=0;config.animationeffect="linear";config.showshadow=1;config.showhovereffect=UNDEF;config.plothovereffect=UNDEF;config.anchorhovereffect=UNDEF;config.plotborderdashed=UNDEF;config.stack100percent=UNDEF;config.showpercentvalues=UNDEF;config.showpercentintooltip=UNDEF;config.plotbordercolor=UNDEF;config.showtooltip=1;config.seriesnameintooltip=1;config.rotatevalues=0;config.minimizetendency=0;config.plotfillangle=270;config.valuepadding=2;config.useplotgradientcolor=1;config.plotborderthickness=1;config.plotfillalpha="70";config.showvalues=1;config.valueposition="auto";config.tooltipsepchar=", ";config.usedataplotcolorforlabels=0;config.placevaluesinside=0;config.showplotborder=1;config.use3dlighting=1;config.useroundedges=0;config.plotspacepercent=20;config.plotpaddingpercent=UNDEF;config.plotfillratio=UNDEF;config.maxcolwidth=50;config.plotborderdashlen=5;config.plotborderdashgap=4;config.useScaleRecursively=true;config.zeroplanethickness=1;config.zeroplanealpha=40;config.showzeroplaneontop=0;config.setadaptivexmin=1};ScatterBase.prototype._drawTrendTooltip=function _drawTrendTooltip(trendline,e){var iapi=this,toolTipController=iapi.getFromEnv("toolTipController"),currentToolTip=iapi.config.currentTrendToolTip,toolText=trendline.tooltext,originalEvent=e.originalEvent;if(currentToolTip){toolTipController.draw(originalEvent,toolText,currentToolTip)}else{currentToolTip=iapi.config.currentTrendToolTip=toolTipController.draw(originalEvent,toolText)}};ScatterBase.prototype._mouseEvtHandler=function _mouseEvtHandler(e,data){var iapi=this,mouseTracker=data.mouseTracker,canvas=iapi.getChildren("canvas")[0],toolTipController=iapi.getFromEnv("toolTipController"),hoveredVtrendline,hoveredTrendLine,oriEvent=e.originalEvent,chartConfig=iapi.config,canvasBaseDepth=chartConfig.canvasBaseDepth||0,canvasLeft=chartConfig.canvasLeft-(chartConfig.toleranceLeft||0),canvasRight=chartConfig.canvasRight+(chartConfig.toleranceRight||0),canvasBottom=chartConfig.canvasBottom+(chartConfig.toleranceBottom||0),canvasTop=chartConfig.canvasTop-(chartConfig.toleranceTop||0),datasets=chartConfig.datasetOrder||iapi.getDatasets(),coordinate,chartX,chartY,dataset,hoveredInfo,pointFound=false,i=datasets.length,j,l,derivedEvensInfo,_lastDatasetIndex=mouseTracker._lastDatasetIndex,_lastPointIndex=mouseTracker._lastPointIndex;coordinate=(0,_lib.getMouseCoordinate)(iapi.getFromEnv("chart-container"),oriEvent,iapi);chartX=coordinate.chartX;chartY=coordinate.chartY;if(chartX>canvasLeft-canvasBaseDepth&&chartX<canvasRight&&chartY>canvasTop&&chartY<canvasBottom+canvasBaseDepth){while(i--&&!pointFound){dataset=datasets[i];if(dataset&&dataset.getState("visible")){hoveredInfo=dataset._getHoveredPlot&&dataset._getHoveredPlot(chartX,chartY);if(hoveredInfo&&hoveredInfo.hovered||hoveredVtrendline){pointFound=true;hoveredInfo.datasetIndex=i;derivedEvensInfo=mouseTracker.getMouseEvents(e,hoveredInfo.datasetIndex,hoveredInfo.pointIndex)}}}hoveredVtrendline=_getHoveredTrendLine(chartX,chartY,canvas.config.vtrendlines);hoveredTrendLine=_getHoveredTrendLine(chartX,chartY,canvas.config.trendlines)}if((!pointFound||derivedEvensInfo&&derivedEvensInfo.fireOut)&&typeof _lastDatasetIndex!=="undefined"){if(datasets[_lastDatasetIndex]&&datasets[_lastDatasetIndex]._firePlotEvent){if(derivedEvensInfo&&!derivedEvensInfo.events.length){mouseTracker.mouseoutTimer=setTimeout(function(){iapi.mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex)},20)}else{iapi.mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex)}}}if(pointFound){if(iapi.config.currentTrendToolTip){toolTipController.hide(iapi.config.currentTrendToolTip)}l=derivedEvensInfo.events&&derivedEvensInfo.events.length;if(l){mouseTracker._lastDatasetIndex=hoveredInfo.datasetIndex;_lastPointIndex=mouseTracker._lastPointIndex=hoveredInfo.pointIndex}for(j=0;j<l;j+=1){dataset&&dataset._firePlotEvent&&dataset._firePlotEvent(derivedEvensInfo.events[j],_lastPointIndex,e,hoveredInfo.datasetIndex)}}else if(hoveredVtrendline&&hoveredVtrendline.tooltext){iapi._drawTrendTooltip(hoveredVtrendline,e)}else if(hoveredTrendLine&&hoveredTrendLine.tooltext){iapi._drawTrendTooltip(hoveredTrendLine,e)}else if(iapi.config.currentTrendToolTip){toolTipController.hide(iapi.config.currentTrendToolTip)}};ScatterBase.prototype._setCategories=function _setCategories(){var iapi=this,dataObj=iapi.getFromEnv("dataSource"),chartAttr=dataObj.chart,xAxis=iapi.getChildren("xAxis"),xAxisLabelMode=(0,_lib.pluck)(chartAttr.xaxislabelmode,"categories"),categoriesArr=dataObj.categories,categories=categoriesArr&&categoriesArr[0]&&categoriesArr[0].category;xAxis[0].setAxisConfig({xAxisLabelMode:"categories"});if(xAxisLabelMode!=="auto"&&xAxisLabelMode!=="mixed"&&categories&&categories.length>0){xAxis[0].setTickValues(categories)}else if(xAxisLabelMode!=="auto"){xAxis[0].setTickValues(categories);xAxis[0].setAxisConfig({xAxisLabelMode:"mixed"})}else{xAxis[0].setTickValues(categories);xAxis[0].setAxisConfig({xAxisLabelMode:"auto"})}};ScatterBase.prototype._allocateSpace=function _allocateSpace(dimensions){var iapi=this,canvas=iapi.getChildren("canvas"),canvasConfig=canvas&&canvas[0].config,config=iapi.config,canvasHeight=config.canvasHeight,canvasWidth=config.canvasWidth,availableHeight=config.availableHeight,availableWidth=config.availableWidth;config.canvasLeft+=dimensions.left||0;config.canvasTop+=dimensions.top||0;canvasWidth=config.canvasWidth=Math.max(canvasWidth-((dimensions.left||0)+(dimensions.right||0)),0);canvasHeight=config.canvasHeight=Math.max(canvasHeight-((dimensions.top||0)+(dimensions.bottom||0)),0);config.availableHeight=Math.max(availableHeight-((dimensions.top||0)+(dimensions.bottom||0)),0);config.availableWidth=Math.max(availableWidth-((dimensions.left||0)+(dimensions.right||0)),0);config.canvasRight=config.canvasLeft+canvasWidth;config.canvasBottom=config.canvasTop+canvasHeight;if(canvasConfig){canvasConfig.canvasPaddingLeft=Math.max(canvasConfig.canvasPaddingLeft,dimensions.paddingLeft||0);canvasConfig.canvasPaddingRight=Math.max(canvasConfig.canvasPaddingRight,dimensions.paddingRight||0);canvasConfig.canvasPaddingTop=Math.max(canvasConfig.canvasPaddingTop,dimensions.paddingTop||0);canvasConfig.canvasPaddingBottom=Math.max(canvasConfig.canvasPaddingBottom,dimensions.paddingBottom||0)}canvas[0].setDimension({top:config.canvasTop,left:config.canvasLeft,width:config.canvasWidth,height:config.canvasHeight})};ScatterBase.prototype._postSpaceManagement=function _postSpaceManagement(){var iapi=this,config=iapi.config,components=iapi.getChildren(),xAxis=components.xAxis&&components.xAxis[0],legend=components.legend&&components.legend[0],xDepth=config.xDepth,i,canvas,canvasArr=iapi.getChildren("canvas");iapi.setAxisDimention();xAxis&&iapi._allocateXAxisLabelSpace(xAxis);xAxis&&xAxis.shiftLabels(-xDepth,0);legend&&legend.postSpaceManager();for(i=0;i<(canvasArr&&canvasArr.length);i++){canvas=canvasArr[i];canvas.setCanvasPadding()}iapi.setAxisDimention()};ScatterBase.prototype._checkInvalidSpecificData=function _checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset;if(!datasetsJSON){return true}};return ScatterBase}(_mscolumn2d2["default"]);exports["default"]=ScatterBase},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _quadrantAnimation=__webpack_require__(416);var _quadrantAnimation2=_interopRequireDefault(_quadrantAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var BLANKSTRING="",PXSTRING="px",DASH_DEF="none",NORMALSTRING="normal",POSITION_START=_lib.preDefStr.POSITION_START,POSITION_TOP=_lib.preDefStr.POSITION_TOP,POSITION_BOTTOM=_lib.preDefStr.POSITION_BOTTOM,POSITION_END=_lib.preDefStr.POSITION_END;(0,_dependencyManager.addDep)({name:"quadrantAnimation",type:"animationRule",extension:_quadrantAnimation2["default"]});var Quadrant=function(_ComponentInterface){_inherits(Quadrant,_ComponentInterface);function Quadrant(){_classCallCheck(this,Quadrant);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));var quadrant=_this;quadrant.pIndex=1;quadrant.components={};quadrant.conf={};quadrant.graphics={};return _this}Quadrant.prototype.getType=function getType(){return"canvas"};Quadrant.prototype.getName=function getName(){return"quadrant"};Quadrant.prototype.configure=function configure(){var borderColor,borderPadding,borderRadius,backgroundColor,borderDash,fontBdrColor,bgColor,borderThickness,tlConfig,trConfig,blConfig,brConfig,quadrantLabelTL,quadrantLabelTR,quadrantLabelBL,quadrantLabelBR,quadrantXVal,quadrantYVal,quadrantLineColor,quadrantLineThickness,quadrantLineDashLen,quadrantLineIsDashed,quadrantLineDashGap,dashStyle,drawQuadrant,quadrant=this,quadrantConfig=quadrant.conf,chart=quadrant.getFromEnv("chart"),chartConfig=chart.config,chartAttr=chart.getFromEnv("dataSource").chart,canvas=chart.getChildren("canvas")[0],canvasConf=canvas.config,inCanvasStyle=chartConfig.dataLabelStyle,smartLabel=chart.getFromEnv("smartLabel");drawQuadrant=quadrantConfig.enabled=(0,_lib.pluckNumber)(chartAttr.drawquadrant,0);if(drawQuadrant){quadrantXVal=(0,_lib.pluckNumber)(chartAttr.quadrantxval);quadrantYVal=(0,_lib.pluckNumber)(chartAttr.quadrantyval);quadrantLineColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.quadrantlinecolor,canvasConf.canvasBorderColor),(0,_lib.pluck)(chartAttr.quadrantlinealpha,chartAttr.quadrantlinealpha,_lib.HUNDREDSTRING));quadrantLineThickness=(0,_lib.pluckNumber)(chartAttr.quadrantlinethickness,canvasConf.canvasBorderThickness);quadrantLineIsDashed=(0,_lib.pluckNumber)(chartAttr.quadrantlinedashed,chartAttr.quadrantlineisdashed,0);quadrantLineDashLen=(0,_lib.pluckNumber)(chartAttr.quadrantlinedashlen,4);quadrantLineDashGap=(0,_lib.pluckNumber)(chartAttr.quadrantlinedashgap,2);dashStyle=quadrantLineIsDashed?(0,_lib.getDashStyle)(quadrantLineDashLen,quadrantLineDashGap):DASH_DEF;quadrantConfig.xVal=quadrantXVal;quadrantConfig.yVal=quadrantYVal;quadrantConfig.quadrantLineColor=quadrantLineColor;quadrantConfig.quadrantLineThickness=quadrantLineThickness;quadrantConfig.dashStyle=dashStyle;quadrantLabelTL=(0,_lib.getValidValue)(chartAttr.quadrantlabeltl,BLANKSTRING);quadrantLabelTR=(0,_lib.getValidValue)(chartAttr.quadrantlabeltr,BLANKSTRING);quadrantLabelBL=(0,_lib.getValidValue)(chartAttr.quadrantlabelbl,BLANKSTRING);quadrantLabelBR=(0,_lib.getValidValue)(chartAttr.quadrantlabelbr,BLANKSTRING);quadrantConfig.quadrantLabelPadding=(0,_lib.pluckNumber)(chartAttr.quadrantlabelpadding,3);smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);smartLabel.setStyle(inCanvasStyle);if(quadrantLabelTL!==BLANKSTRING){fontBdrColor=(0,_lib.getFirstValue)(chartAttr.quadrantlabeltlbordercolor,chartAttr.quadrantlabelbordercolor,BLANKSTRING);bgColor=(0,_lib.pluck)(chartAttr.quadrantlabeltlbgcolor,chartAttr.quadrantlabelbgcolor);borderThickness=(0,_lib.pluckNumber)(chartAttr.quadrantlabeltlborderthickness,chartAttr.quadrantlabelborderthickness,1);fontBdrColor=fontBdrColor?(0,_libGraphics.convertColor)(fontBdrColor,(0,_lib.pluckNumber)(chartAttr.quadrantlabeltlborderalpha,chartAttr.quadrantlabelborderalpha,chartAttr.quadrantlabeltlalpha,chartAttr.quadrantlabelalpha,100)):BLANKSTRING;tlConfig=quadrantConfig.tlConfig;if(!tlConfig){tlConfig=quadrantConfig.tlConfig={enabled:true,styleObj:{}}}tlConfig.label=quadrantLabelTL;tlConfig.styleObj.fontSize=(0,_lib.pluck)((0,_lib.pluckNumber)(chartAttr.quadrantlabeltlfontsize,chartAttr.quadrantlabelfontsize),parseInt(inCanvasStyle.fontSize,10))+PXSTRING;tlConfig.styleObj.lineHeight=inCanvasStyle.lineHeight;tlConfig.styleObj.fontFamily=(0,_lib.pluck)(chartAttr.quadrantlabeltlfont,chartAttr.quadrantlabelfont,inCanvasStyle.fontFamily);tlConfig.styleObj.color=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.quadrantlabeltlfontcolor,chartAttr.quadrantlabelfontcolor,inCanvasStyle.color),(0,_lib.pluckNumber)(chartAttr.quadrantlabeltlfontalpha,chartAttr.quadrantlabelfontalpha,100));tlConfig.styleObj.fontWeight=(0,_lib.pluckNumber)(chartAttr.quadrantlabeltlfontbold,chartAttr.quadrantlabelfontbold)?"bold":NORMALSTRING;tlConfig.styleObj.fontStyle=(0,_lib.pluckNumber)(chartAttr.quadrantlabeltlfontitalic,chartAttr.quadrantlabelfontitalic)?"italic":NORMALSTRING;(0,_lib.setLineHeight)(tlConfig.styleObj);borderColor=fontBdrColor;borderPadding=(0,_lib.pluckNumber)(chartAttr.quadrantlabeltlborderpadding,chartAttr.quadrantlabelborderpadding,2);borderRadius=(0,_lib.pluckNumber)(chartAttr.quadrantlabeltlborderradius,chartAttr.quadrantlabelborderradius,0);backgroundColor=bgColor?(0,_libGraphics.convertColor)(bgColor,(0,_lib.pluckNumber)(chartAttr.quadrantlabeltlbgalpha,chartAttr.quadrantlabelbgalpha,chartAttr.quadrantlabeltlalpha,chartAttr.quadrantlabelalpha,100)):BLANKSTRING;borderDash=(0,_lib.pluckNumber)(chartAttr.quadrantlabeltlborderdashed,chartAttr.quadrantlabelborderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(chartAttr.quadrantlabeltlborderdashlen,chartAttr.quadrantlabelborderdashlen,4),(0,_lib.pluckNumber)(chartAttr.quadrantlabeltlborderdashgap,chartAttr.quadrantlabelborderdashgap,2)):DASH_DEF;tlConfig["text-bound"]=[backgroundColor,borderColor,borderThickness,borderPadding,borderRadius,borderDash]}else{quadrantConfig.tlConfig&&(quadrantConfig.tlConfig.label=quadrantLabelTL)}if(quadrantLabelTR!==BLANKSTRING){fontBdrColor=(0,_lib.getFirstValue)(chartAttr.quadrantlabeltrbordercolor,chartAttr.quadrantlabelbordercolor,BLANKSTRING);bgColor=(0,_lib.pluck)(chartAttr.quadrantlabeltrbgcolor,chartAttr.quadrantlabelbgcolor);borderThickness=(0,_lib.pluckNumber)(chartAttr.quadrantlabeltrborderthickness,chartAttr.quadrantlabelborderthickness,1);fontBdrColor=fontBdrColor?(0,_libGraphics.convertColor)(fontBdrColor,(0,_lib.pluckNumber)(chartAttr.quadrantlabeltrborderalpha,chartAttr.quadrantlabelborderalpha,chartAttr.quadrantlabeltralpha,chartAttr.quadrantlabelalpha,100)):BLANKSTRING;trConfig=quadrantConfig.trConfig;if(!trConfig){trConfig=quadrantConfig.trConfig={enabled:true,styleObj:{}}}trConfig.label=(0,_lib.getValidValue)(chartAttr.quadrantlabeltr,BLANKSTRING);trConfig.styleObj.fontSize=(0,_lib.pluck)((0,_lib.pluckNumber)(chartAttr.quadrantlabeltrfontsize,chartAttr.quadrantlabelfontsize),parseInt(inCanvasStyle.fontSize,10))+PXSTRING;trConfig.styleObj.lineHeight=inCanvasStyle.lineHeight;trConfig.styleObj.fontFamily=(0,_lib.pluck)(chartAttr.quadrantlabeltrfont,chartAttr.quadrantlabelfont,inCanvasStyle.fontFamily);trConfig.styleObj.color=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.quadrantlabeltrfontcolor,chartAttr.quadrantlabelfontcolor,inCanvasStyle.color),(0,_lib.pluckNumber)(chartAttr.quadrantlabeltrfontalpha,chartAttr.quadrantrabelfontalpha,100));trConfig.styleObj.fontWeight=(0,_lib.pluckNumber)(chartAttr.quadrantlabeltrfontbold,chartAttr.quadrantlabelfontbold)?"bold":NORMALSTRING;trConfig.styleObj.fontStyle=(0,_lib.pluckNumber)(chartAttr.quadrantlabeltrfontitalic,chartAttr.quadrantlabelfontitalic)?"italic":NORMALSTRING;(0,_lib.setLineHeight)(trConfig.styleObj);borderColor=fontBdrColor;borderPadding=(0,_lib.pluckNumber)(chartAttr.quadrantlabeltrborderpadding,chartAttr.quadrantlabelborderpadding,2);borderRadius=(0,_lib.pluckNumber)(chartAttr.quadrantlabeltrborderradius,chartAttr.quadrantlabelborderradius,0);backgroundColor=bgColor?(0,_libGraphics.convertColor)(bgColor,(0,_lib.pluckNumber)(chartAttr.quadrantlabeltrbgalpha,chartAttr.quadrantlabelbgalpha,chartAttr.quadrantlabeltralpha,chartAttr.quadrantlabelalpha,100)):BLANKSTRING;borderDash=(0,_lib.pluckNumber)(chartAttr.quadrantlabeltrborderdashed,chartAttr.quadrantlabelborderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(chartAttr.quadrantlabeltrborderdashlen,chartAttr.quadrantlabelborderdashlen,4),(0,_lib.pluckNumber)(chartAttr.quadrantlabeltrborderdashgap,chartAttr.quadrantlabelborderdashgap,2)):DASH_DEF;trConfig["text-bound"]=[backgroundColor,borderColor,borderThickness,borderPadding,borderRadius,borderDash]}else{quadrantConfig.trConfig&&(quadrantConfig.trConfig.label=quadrantLabelTR)}if(quadrantLabelBL!==BLANKSTRING){fontBdrColor=(0,_lib.getFirstValue)(chartAttr.quadrantlabelblbordercolor,chartAttr.quadrantlabelbordercolor,BLANKSTRING);bgColor=(0,_lib.pluck)(chartAttr.quadrantlabelblbgcolor,chartAttr.quadrantlabelbgcolor);borderThickness=(0,_lib.pluckNumber)(chartAttr.quadrantlabelblborderthickness,chartAttr.quadrantlabelborderthickness,1);fontBdrColor=fontBdrColor?(0,_libGraphics.convertColor)(fontBdrColor,(0,_lib.pluckNumber)(chartAttr.quadrantlabelblborderalpha,chartAttr.quadrantlabelborderalpha,chartAttr.quadrantlabelblalpha,chartAttr.quadrantlabelalpha,100)):BLANKSTRING;blConfig=quadrantConfig.blConfig;if(!blConfig){blConfig=quadrantConfig.blConfig={enabled:true,styleObj:{}}}blConfig.label=quadrantLabelBL;blConfig.styleObj.fontSize=(0,_lib.pluck)((0,_lib.pluckNumber)(chartAttr.quadrantlabelblfontsize,chartAttr.quadrantlabelfontsize),parseInt(inCanvasStyle.fontSize,10))+PXSTRING;blConfig.styleObj.lineHeight=inCanvasStyle.lineHeight;blConfig.styleObj.fontFamily=(0,_lib.pluck)(chartAttr.quadrantlabelblfont,chartAttr.quadrantlabelfont,inCanvasStyle.fontFamily);blConfig.styleObj.color=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.quadrantlabelblfontcolor,chartAttr.quadrantlabelfontcolor,inCanvasStyle.color),(0,_lib.pluckNumber)(chartAttr.quadrantlabelblfontalpha,chartAttr.quadrantlabelfontalpha,100));blConfig.styleObj.fontWeight=(0,_lib.pluckNumber)(chartAttr.quadrantlabelblfontbold,chartAttr.quadrantlabelfontbold)?"bold":NORMALSTRING;blConfig.styleObj.fontStyle=(0,_lib.pluckNumber)(chartAttr.quadrantlabelblfontitalic,chartAttr.quadrantlabelfontitalic)?"italic":NORMALSTRING;(0,_lib.setLineHeight)(blConfig.styleObj);borderColor=fontBdrColor;borderPadding=(0,_lib.pluckNumber)(chartAttr.quadrantlabelblborderpadding,chartAttr.quadrantlabelborderpadding,2);borderRadius=(0,_lib.pluckNumber)(chartAttr.quadrantlabelblborderradius,chartAttr.quadrantlabelborderradius,0);backgroundColor=bgColor?(0,_libGraphics.convertColor)(bgColor,(0,_lib.pluckNumber)(chartAttr.quadrantlabelblbgalpha,chartAttr.quadrantlabelbgalpha,chartAttr.quadrantlabelblalpha,chartAttr.quadrantlabelalpha,100)):BLANKSTRING;borderDash=(0,_lib.pluckNumber)(chartAttr.quadrantlabelblborderdashed,chartAttr.quadrantlabelborderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(chartAttr.quadrantlabelblborderdashlen,chartAttr.quadrantlabelborderdashlen,4),(0,_lib.pluckNumber)(chartAttr.quadrantlabelblborderdashgap,chartAttr.quadrantlabelborderdashgap,2)):DASH_DEF;blConfig["text-bound"]=[backgroundColor,borderColor,borderThickness,borderPadding,borderRadius,borderDash]}else{quadrantConfig.blConfig&&(quadrantConfig.blConfig.label=quadrantLabelBL)}if(quadrantLabelBR!==BLANKSTRING){fontBdrColor=(0,_lib.getFirstValue)(chartAttr.quadrantlabelbrbordercolor,chartAttr.quadrantlabelbordercolor,BLANKSTRING);bgColor=(0,_lib.pluck)(chartAttr.quadrantlabelbrbgcolor,chartAttr.quadrantlabelbgcolor);borderThickness=(0,_lib.pluckNumber)(chartAttr.quadrantlabelbrborderthickness,chartAttr.quadrantlabelborderthickness,1);fontBdrColor=fontBdrColor?(0,_libGraphics.convertColor)(fontBdrColor,(0,_lib.pluckNumber)(chartAttr.quadrantlabelbrborderalpha,chartAttr.quadrantlabelborderalpha,chartAttr.quadrantlabelbralpha,chartAttr.quadrantlabelalpha,100)):BLANKSTRING;brConfig=quadrantConfig.brConfig;if(!brConfig){brConfig=quadrantConfig.brConfig={enabled:true,styleObj:{}}}brConfig.label=(0,_lib.getValidValue)(chartAttr.quadrantlabelbr,BLANKSTRING);brConfig.styleObj.fontSize=(0,_lib.pluck)((0,_lib.pluckNumber)(chartAttr.quadrantlabelbrfontsize,chartAttr.quadrantlabelfontsize),parseInt(inCanvasStyle.fontSize,10))+PXSTRING;brConfig.styleObj.lineHeight=inCanvasStyle.lineHeight;brConfig.styleObj.fontFamily=(0,_lib.pluck)(chartAttr.quadrantlabelbrfont,chartAttr.quadrantlabelfont,inCanvasStyle.fontFamily);brConfig.styleObj.color=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttr.quadrantlabelbrfontcolor,chartAttr.quadrantlabelfontcolor,inCanvasStyle.color),(0,_lib.pluckNumber)(chartAttr.quadrantlabelbrfontalpha,chartAttr.quadrantrabelfontalpha,100));brConfig.styleObj.fontWeight=(0,_lib.pluckNumber)(chartAttr.quadrantlabelbrfontbold,chartAttr.quadrantlabelfontbold)?"bold":NORMALSTRING;brConfig.styleObj.fontStyle=(0,_lib.pluckNumber)(chartAttr.quadrantlabelbrfontitalic,chartAttr.quadrantlabelfontitalic)?"italic":NORMALSTRING;(0,_lib.setLineHeight)(brConfig.styleObj);backgroundColor=bgColor?(0,_libGraphics.convertColor)(bgColor,(0,_lib.pluckNumber)(chartAttr.quadrantlabelbrbgalpha,chartAttr.quadrantlabelbgalpha,chartAttr.quadrantlabelbralpha,chartAttr.quadrantlabelalpha,100)):BLANKSTRING;borderColor=fontBdrColor;borderPadding=(0,_lib.pluckNumber)(chartAttr.quadrantlabelbrborderpadding,chartAttr.quadrantlabelborderpadding,2);borderRadius=(0,_lib.pluckNumber)(chartAttr.quadrantlabelbrborderradius,chartAttr.quadrantlabelborderradius,0);borderDash=(0,_lib.pluckNumber)(chartAttr.quadrantlabelbrborderdashed,chartAttr.quadrantlabelborderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(chartAttr.quadrantlabelbrborderdashlen,chartAttr.quadrantlabelborderdashlen,4),(0,_lib.pluckNumber)(chartAttr.quadrantlabelbrborderdashgap,chartAttr.quadrantlabelborderdashgap,2)):DASH_DEF;brConfig["text-bound"]=[backgroundColor,borderColor,borderThickness,borderPadding,borderRadius,borderDash]}else{quadrantConfig.brConfig&&(quadrantConfig.brConfig.label=quadrantLabelBR)}}};Quadrant.prototype._preDraw=function _preDraw(){var quadrantXVal,quadrantYVal,labelWidthPart1,labelWidthPart2,labelHeightPart1,labelHeightPart2,FALSE=false,quadrant=this,quadrantConfig=quadrant.conf,chart=quadrant.getFromEnv("chart"),xAxis=chart.getChildren("xAxis")[0],yAxis=chart.getChildren("yAxis")[0],xAxisLimit=xAxis.getLimit(),yAxisLimit=yAxis.getLimit(),xMax=xAxisLimit.max,yMax=yAxisLimit.max,xMin=xAxisLimit.min,yMin=yAxisLimit.min,chartConfig=chart.config,canvasWidth=chartConfig.canvasWidth,canvasHeight=chartConfig.canvasHeight,quadrantLabelPadding=quadrantConfig.quadrantLabelPadding,tlConfig=quadrantConfig.tlConfig,trConfig=quadrantConfig.trConfig,blConfig=quadrantConfig.blConfig,brConfig=quadrantConfig.brConfig;quadrantXVal=quadrantConfig.xVal||(quadrantConfig.xVal=(xMin+xMax)/2);quadrantYVal=quadrantConfig.yVal||(quadrantConfig.yVal=(yMin+yMax)/2);if(quadrantYVal>=yMin&&quadrantYVal<=yMax&&quadrantXVal>=xMin&&quadrantXVal<=xMax){labelWidthPart1=canvasWidth/(xMax-xMin)*(quadrantXVal-xMin);labelWidthPart2=canvasWidth-labelWidthPart1;labelHeightPart2=canvasHeight/(yMax-yMin)*(quadrantYVal-yMin);labelHeightPart1=canvasHeight-labelHeightPart2;labelWidthPart1-=quadrantLabelPadding;labelWidthPart2-=quadrantLabelPadding;labelHeightPart1-=quadrantLabelPadding;labelHeightPart2-=quadrantLabelPadding;if(labelHeightPart1<0||labelWidthPart1<0){tlConfig.enabled=FALSE}if(labelHeightPart1<0||labelWidthPart2<0){trConfig.enabled=FALSE}if(labelHeightPart2<0||labelWidthPart1<0){blConfig.enabled=FALSE}if(labelHeightPart2<0||labelWidthPart1<0){brConfig.enabled=FALSE}}else{quadrantConfig.enabled=FALSE}return quadrant};Quadrant.prototype._createGroups=function _createGroups(){var quadrant=this,chart=quadrant.getFromEnv("chart"),animationManager=chart.getFromEnv("animationManager"),quadrantContainer=chart.getChildren("canvas")[0].getChildContainer("quadrantGroup"),quadrantChildContainer,quadrantChildContainerCheck=quadrant.getContainer("quadrantChildContainer"),quadrantLineGroup=quadrant.getContainer("quadrantLineGroup"),quadrantTLGroup=quadrant.getContainer("quadrantTLGroup"),quadrantTRGroup=quadrant.getContainer("quadrantTRGroup"),quadrantBLGroup=quadrant.getContainer("quadrantBLGroup"),quadrantBRGroup=quadrant.getContainer("quadrantBRGroup");quadrantChildContainer=animationManager.setAnimation({el:quadrantChildContainerCheck||"group",attr:{name:"quadrant-child-container"},container:quadrantContainer,component:quadrant,label:"group"});if(!quadrantChildContainerCheck){quadrant.addContainer("quadrantChildContainer",quadrantChildContainer)}quadrant.addContainer("quadrantLineGroup",animationManager.setAnimation({el:quadrantLineGroup||"group",attr:{name:"quadrantLineGroup"},container:quadrantChildContainer,component:quadrant,label:"group"}));quadrant.addContainer("quadrantTLGroup",animationManager.setAnimation({el:quadrantTLGroup||"group",attr:{name:"quadrantTLGroup"},container:quadrantChildContainer,component:quadrant,label:"group"}));quadrant.addContainer("quadrantTRGroup",animationManager.setAnimation({el:quadrantTRGroup||"group",attr:{name:"quadrantTRGroup"},container:quadrantChildContainer,component:quadrant,label:"group"}));quadrant.addContainer("quadrantBLGroup",animationManager.setAnimation({el:quadrantBLGroup||"group",attr:{name:"quadrantBLGroup"},container:quadrantChildContainer,component:quadrant,label:"group"}));quadrant.addContainer("quadrantBRGroup",animationManager.setAnimation({el:quadrantBRGroup||"group",attr:{name:"quadrantBRGroup"},container:quadrantChildContainer,component:quadrant,label:"group"}))};Quadrant.prototype.draw=function draw(){var quadrant=this._preDraw(),quadrantConfig=quadrant.conf,chart=quadrant.getFromEnv("chart"),chartConfig=chart.config,reverseXAxis=chartConfig.reverseXAxis,smartText,defaultObj={wrtVisible:true},smartLabel=quadrant.getFromEnv("smartLabel"),animationManager=quadrant.getFromEnv("animationManager"),graphics=quadrant.graphics,tlLabel=graphics.tlLabel,trLabel=graphics.trLabel,blLabel=graphics.blLabel,brLabel=graphics.brLabel,textDirection=chartConfig.textDirection,xAxis=chart.getChildren("xAxis")[0],yAxis=chart.getChildren("yAxis")[0],quadrantChildContainer,quadrantLineGroup,quadrantTLGroup,quadrantTRGroup,quadrantBLGroup,quadrantBRGroup,tlConfig=quadrantConfig.tlConfig||{},trConfig=quadrantConfig.trConfig||{},blConfig=quadrantConfig.blConfig||{},brConfig=quadrantConfig.brConfig||{},quadrantLabelTL=tlConfig.enabled&&tlConfig.label,quadrantLabelTR=trConfig.enabled&&trConfig.label,quadrantLabelBL=blConfig.enabled&&blConfig.label,quadrantLabelBR=brConfig.enabled&&brConfig.label,offsetLeft=chartConfig.canvasLeft,offsetTop=chartConfig.canvasTop,padding=quadrantConfig.quadrantLabelPadding,xAxisLimit=xAxis.getLimit(),yAxisLimit=yAxis.getLimit(),xAxisMax=reverseXAxis?xAxisLimit.min:xAxisLimit.max,xAxisMin=reverseXAxis?xAxisLimit.max:xAxisLimit.min,yAxisMax=yAxisLimit.max,yAxisMin=yAxisLimit.min,xMin=xAxis.getPixel(xAxisMin,defaultObj)+padding,xMax=xAxis.getPixel(xAxisMax,defaultObj)-padding,yMin=yAxis.getPixel(yAxisMin,defaultObj)-padding,yMax=yAxis.getPixel(yAxisMax,defaultObj)+padding,quadXPos=xAxis.getPixel(quadrantConfig.xVal,defaultObj),quadYPos=yAxis.getPixel(quadrantConfig.yVal,defaultObj),quadLeftWidth=quadXPos-xMin,quadRightWidth=xMax-quadXPos,quadTopHeight=quadYPos-yMax,quadBottomHeight=yMin-quadYPos,horizontalQuadLine=graphics.horizontalQuadLine,verticalQuadLine=graphics.verticalQuadLine,hookFnHide=function hookFnHide(){this.hide()};quadrant._createGroups();quadrantChildContainer=quadrant.getContainer("quadrantChildContainer");quadrantLineGroup=quadrant.getContainer("quadrantLineGroup");quadrantTLGroup=quadrant.getContainer("quadrantTLGroup");quadrantTRGroup=quadrant.getContainer("quadrantTRGroup");quadrantBLGroup=quadrant.getContainer("quadrantBLGroup");quadrantBRGroup=quadrant.getContainer("quadrantBRGroup");if(quadrantConfig.enabled){quadrantChildContainer.show();graphics.horizontalQuadLine=animationManager.setAnimation({el:horizontalQuadLine||"path",container:quadrantLineGroup,attr:{path:"M"+offsetLeft+" "+quadYPos+"h"+chartConfig.canvasWidth,stroke:quadrantConfig.quadrantLineColor,"stroke-dasharray":quadrantConfig.dashStyle,"stroke-width":quadrantConfig.quadrantLineThickness,"stroke-linecap":"butt"},component:quadrant,label:"path"});graphics.verticalQuadLine=animationManager.setAnimation({el:verticalQuadLine||"path",container:quadrantLineGroup,attr:{path:"M"+quadXPos+" "+offsetTop+"v"+chartConfig.canvasHeight,stroke:quadrantConfig.quadrantLineColor,"stroke-width":quadrantConfig.quadrantLineThickness,"stroke-dasharray":quadrantConfig.dashStyle,"stroke-linecap":"butt"},component:quadrant,label:"path"});if(quadrantLabelTL){smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);smartLabel.setStyle(quadrantConfig.tlConfig.styleObj);smartText=smartLabel.getSmartText(quadrantLabelTL,quadLeftWidth,quadTopHeight);tlLabel=graphics.tlLabel=animationManager.setAnimation({el:tlLabel||"text",attr:{"text-anchor":POSITION_START,"vertical-align":POSITION_TOP,x:xMin,y:yMax,text:smartText.text,direction:textDirection,"text-bound":quadrantConfig.tlConfig["text-bound"]},container:quadrantTLGroup,component:quadrant,label:"text"});tlLabel.css(quadrantConfig.tlConfig.styleObj)}else{tlLabel&&animationManager.setAnimation({el:tlLabel,callback:hookFnHide,component:this,label:"text"})}if(quadrantLabelTR){smartLabel.setStyle(quadrantConfig.trConfig.styleObj);smartText=smartLabel.getSmartText(quadrantLabelTR,quadRightWidth,quadTopHeight);trLabel=graphics.trLabel=animationManager.setAnimation({el:trLabel||"text",attr:{"text-anchor":POSITION_END,"vertical-align":POSITION_TOP,direction:textDirection,x:xMax,y:yMax,text:smartText.text,"text-bound":quadrantConfig.trConfig["text-bound"]},container:quadrantTRGroup,component:quadrant,label:"text"});trLabel.css(quadrantConfig.trConfig.styleObj)}else{trLabel&&animationManager.setAnimation({el:trLabel,callback:hookFnHide,component:this,label:"text"})}if(quadrantLabelBL){smartLabel.setStyle(quadrantConfig.blConfig.styleObj);smartText=smartLabel.getSmartText(quadrantLabelBL,quadLeftWidth,quadBottomHeight);blLabel=graphics.blLabel=animationManager.setAnimation({el:blLabel||"text",attr:{"text-anchor":POSITION_START,"vertical-align":POSITION_BOTTOM,direction:textDirection,x:xMin,y:yMin,text:smartText.text,"text-bound":quadrantConfig.blConfig["text-bound"]},container:quadrantBLGroup,component:quadrant,label:"text"});blLabel.css(quadrantConfig.blConfig.styleObj)}else{blLabel&&animationManager.setAnimation({el:blLabel,callback:hookFnHide,component:this,label:"text"})}if(quadrantLabelBR){smartLabel.setStyle(quadrantConfig.brConfig.styleObj);smartText=smartLabel.getSmartText(quadrantLabelBR,quadRightWidth,quadBottomHeight);brLabel=graphics.brLabel=animationManager.setAnimation({el:brLabel||"text",attr:{"text-anchor":POSITION_END,"vertical-align":POSITION_BOTTOM,direction:textDirection,x:xMax,y:yMin,text:smartText.text,"text-bound":quadrantConfig.brConfig["text-bound"]},container:quadrantBRGroup,component:quadrant,label:"text"});brLabel.css(quadrantConfig.brConfig.styleObj)}else{brLabel&&animationManager.setAnimation({el:brLabel,callback:hookFnHide,component:this,label:"text"})}}else{quadrantChildContainer&&animationManager.setAnimation({el:quadrantChildContainer,component:quadrant,doNotRemove:true,callback:function callback(){this.hide()},label:"group"})}};return Quadrant}(_componentInterface2["default"]);exports["default"]=Quadrant},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.canvas.quadrant":function initialCanvasQuadrant(){return{"path.appearing":function pathAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"axis"}]},"text.appearing":function textAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"plot"}]}}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var canvas=chart.getChildren("canvas")[0],axisRefVisualCartesian=canvas.getChildren("axisRefVisualCartesian")[0],zoomObj={zoomable:true,pannable:true},config=chart._feedAxesRawData(),yAxis=void 0,xAxis=void 0,redraw=function redraw(e){var sender=e.sender;axisRefVisualCartesian.addexplicitDrawItems(sender.getId(),sender);axisRefVisualCartesian.asyncDraw()};(0,_lib.componentFactory)(chart,_numeric2["default"],"yAxis",1,config.yAxisConf);(0,_lib.componentFactory)(chart,_numeric2["default"],"xAxis",1,config.xAxisConf);yAxis=chart.getChildren("yAxis")[0];xAxis=chart.getChildren("xAxis")[0];yAxis.setLinkedItem("canvas",canvas);xAxis.setLinkedItem("canvas",canvas);axisRefVisualCartesian.setLinkedItem(yAxis.getId(),yAxis);axisRefVisualCartesian.setLinkedItem(xAxis.getId(),xAxis);axisRefVisualCartesian.addExtEventListener("visiblerangeset",redraw,xAxis);axisRefVisualCartesian.addExtEventListener("visiblerangeset",redraw,yAxis);canvas.attachAxis(xAxis,false,chart.zoomX?zoomObj:{});canvas.attachAxis(yAxis,true,chart.zoomY?zoomObj:{});chart._setCategories()};var _lib=__webpack_require__(118);var _numeric=__webpack_require__(292);var _numeric2=_interopRequireDefault(_numeric);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _line=__webpack_require__(346);var _line2=_interopRequireDefault(_line);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _kdtree=__webpack_require__(419);var _kdtree2=_interopRequireDefault(_kdtree);var _scatterAnimation=__webpack_require__(420);var _scatterAnimation2=_interopRequireDefault(_scatterAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var math=Math,mathMax=math.max,mathMin=math.min,mathRound=math.round;var UNDEF,COMMA=",",NONE="none",COMMASTRING=",",PLOTGRADIENTCOLOR="plotGradientColor",SHOWSHADOW="showShadow",getPointColor=function getPointColor(color,alpha){var colorObj,innerColor,outerColor;color=(0,_libGraphics.getFirstColor)(color);alpha=(0,_libGraphics.getFirstAlpha)(alpha);innerColor=(0,_libGraphics.getLightColor)(color,70);outerColor=(0,_libGraphics.getDarkColor)(color,50);colorObj={FCcolor:{gradientUnits:"objectBoundingBox",cx:.4,cy:.4,r:"100%",color:innerColor+COMMASTRING+outerColor,alpha:alpha+COMMASTRING+alpha,ratio:_lib.BGRATIOSTRING,radialGradient:true}};return colorObj};(0,_dependencyManager.addDep)({name:"scatterAnimation",type:"animationRule",extension:_scatterAnimation2["default"]});var ScatterDataset=function(_LineDataset){_inherits(ScatterDataset,_LineDataset);function ScatterDataset(){_classCallCheck(this,ScatterDataset);return _possibleConstructorReturn(this,_LineDataset.apply(this,arguments))}ScatterDataset.prototype.getType=function getType(){return"dataset"};ScatterDataset.prototype.setupHoverTracker=function setupHoverTracker(){var dataset=this,searchDataArr=dataset.config.searchDataArr=[],dsComponents=dataset.components,dataStore=dsComponents.data,anchorProps={},i,j,ii,xPos,yPos,dataObj,plotConfig,skippingInfo=dataset.getSkippingInfo&&dataset.getSkippingInfo(),plotDrawArray=skippingInfo&&skippingInfo.draw||[],plotDrawArrayLength=plotDrawArray.length,skippingApplied=skippingInfo&&skippingInfo.skippingApplied;ii=dataStore.length;if(skippingApplied){ii=plotDrawArrayLength}for(j=0;j<ii;j++){i=plotDrawArray[j]||[j];dataObj=dataStore[i];if(dataObj){plotConfig=dataObj.config;xPos=plotConfig._Px;yPos=plotConfig._Py;anchorProps=plotConfig.anchorProps;searchDataArr.push({x:xPos,y:yPos,index:i,data:dataObj,r:anchorProps.radius||0})}}this.config.dataTree=(new _kdtree2["default"]).buildKdTree(searchDataArr)};ScatterDataset.prototype.getName=function getName(){return"scatter"};ScatterDataset.prototype.configureAttributes=function configureAttributes(datasetJSON){if(!datasetJSON){return false}this.trimData(datasetJSON);this.config.JSONData=datasetJSON;var plotBorderDash,parentYAxis,enableAnimation,defaultShadow,dataSet=this,chart=dataSet.getFromEnv("chart"),conf=dataSet.config,JSONData=conf.JSONData,areaAlpha=chart.areaAlpha,chartAttr=chart.getFromEnv("dataSource").chart,colorM=dataSet.getFromEnv("color-manager"),showplotborder=(0,_lib.pluckNumber)(JSONData.showplotborder,chartAttr.showplotborder||1),plotFillColor=colorM.getPlotColor(dataSet.index),usePlotGradientColor,lineDashed=conf.lineDashed=(0,_lib.pluckNumber)(JSONData.linedashed,JSONData.dashed,chartAttr.linedashed,0),isLineSet=dataSet.isLineSet;conf.plotColor=plotFillColor;defaultShadow=(0,_lib.pluckNumber)(chart.defaultPlotShadow,colorM.getColor(SHOWSHADOW));conf.xAxisLabelMode=(0,_lib.pluck)(chartAttr.xaxislabelmode,"categories");conf.toolTipSepChar=(0,_lib.pluck)(chartAttr.tooltipsepchar,", ");conf.defaultValuePadding={left:0,right:0};if(isLineSet){conf.parentYAxis=parentYAxis=1}else{conf.parentYAxis=parentYAxis=(0,_lib.pluck)(JSONData.parentyaxis&&JSONData.parentyaxis.toLowerCase(),"p")==="s"?1:0}dataSet.config.yAxis=dataSet.getFromEnv("yAxis")[parentYAxis];conf.connectNullData=(0,_lib.pluckNumber)(chartAttr.connectnulldata,0);conf.seriesname=(0,_lib.parseUnsafeString)(JSONData.seriesname);conf.includeinlegend=(0,_lib.pluckNumber)(JSONData.includeinlegend,conf.seriesname?1:0);conf.enableAnimation=enableAnimation=(0,_lib.pluckNumber)(chartAttr.animation,chartAttr.defaultanimation,1);conf.animation=!enableAnimation?false:{duration:(0,_lib.pluckNumber)(chartAttr.animationduration,1)*1e3};conf.transposeanimation=(0,_lib.pluckNumber)(chartAttr.transposeanimation,enableAnimation);conf.transposeanimduration=(0,_lib.pluckNumber)(chartAttr.transposeanimduration,.2)*1e3;conf.showvalues=(0,_lib.pluckNumber)(JSONData.showvalues,chartAttr.showvalues);conf.valuePadding=(0,_lib.pluckNumber)(chartAttr.valuepadding,2);conf.valuePosition=(0,_lib.pluck)(JSONData.valueposition,chartAttr.valueposition,"auto");conf.showTooltip=(0,_lib.pluckNumber)(chartAttr.showtooltip,1);conf.seriesNameInTooltip=(0,_lib.pluckNumber)(chartAttr.seriesnameintooltip,1);conf.plotFillColor=conf.plotfillcolor=(0,_lib.pluck)(JSONData.color,chartAttr.plotfillcolor,plotFillColor);conf.plotFillAngle=conf.plotFillAngle=(0,_lib.pluck)(chartAttr.plotfillangle,270);conf.plotFillAlpha=conf.plotfillalpha=(0,_lib.pluck)(JSONData.alpha,chartAttr.plotfillalpha,areaAlpha,"70");usePlotGradientColor=(0,_lib.pluckNumber)(chartAttr.useplotgradientcolor,1);conf.plotGradientColor=conf.plotgradientcolor=usePlotGradientColor!==0?(0,_lib.getDefinedColor)(chartAttr.plotgradientcolor,colorM.getColor(PLOTGRADIENTCOLOR)):"";conf.fillColor=conf.fillcolor={color:conf.plotfillcolor+(conf.plotgradientcolor?COMMA+conf.plotgradientcolor:_lib.BLANKSTRING),alpha:conf.plotfillalpha,angle:conf.plotFillAngle};conf.plotBorderAlpha=conf.plotborderalpha=showplotborder?(0,_lib.pluck)(JSONData.plotborderalpha,chartAttr.plotborderalpha,JSONData.alpha,"95"):0;conf.plotBorderColor=conf.plotbordercolor=(0,_lib.pluck)(JSONData.plotbordercolor,chartAttr.plotbordercolor,chartAttr.areabordercolor,"666666");conf.dashed=plotBorderDash=(0,_lib.pluckNumber)(JSONData.dashed,chartAttr.plotborderdashed);conf.plotBorderDashLen=conf.plotborderdashlen=(0,_lib.pluck)(JSONData.plotborderdashlen,chartAttr.plotborderdashlen,5);conf.plotBorderDashGap=conf.plotborderdashgap=(0,_lib.pluck)(JSONData.plotborderdashgap,chartAttr.plotborderdashgap,4);conf.plotBorderThickness=conf.plotborderthickness=(0,_lib.pluckNumber)(JSONData.plotborderthickness,chartAttr.plotborderthickness,1);conf.plotBorderDashStyle=conf.plotborderdashstyle=plotBorderDash?(0,_lib.getDashStyle)(conf.plotborderdashlen,conf.plotborderdashgap):"none";conf.showHoverEffect=conf.showhovereffect=(0,_lib.pluckNumber)(chartAttr.plothovereffect,chartAttr.anchorhovereffect,chartAttr.showhovereffect,UNDEF);conf.rotateValues=(0,_lib.pluckNumber)(chartAttr.rotatevalues)?270:0;conf.drawLine=(0,_lib.pluckNumber)(JSONData.drawline,chartAttr.drawlines,0);conf.lineThickness=conf.linethickness=(0,_lib.pluckNumber)(JSONData.linethickness,chartAttr.linethickness,2);conf.lineDashLen=conf.linedashlen=(0,_lib.pluckNumber)(JSONData.linedashlen,chartAttr.linedashlen,5);conf.lineDashGap=conf.linedashgap=(0,_lib.pluckNumber)(JSONData.linedashgap,chartAttr.linedashgap,4);conf.lineAlpha=conf.linealpha=(0,_lib.pluckNumber)(JSONData.linealpha,chartAttr.linealpha,JSONData.alpha,_lib.HUNDREDSTRING);conf.lineColor=conf.linecolor=(0,_lib.pluck)(JSONData.linecolor,chartAttr.linecolor,JSONData.color,conf.plotColor);conf.lineDashStyle=conf.linedashstyle=(0,_lib.getDashStyle)(conf.linedashlen,conf.linedashgap);conf.lineDashStyle=conf.linedashstyle=lineDashed?conf.linedashstyle:NONE;conf.shadow={opacity:(0,_lib.pluckNumber)(chartAttr.showshadow,defaultShadow)?conf.linealpha/100:0};conf.drawanchors=(0,_lib.pluckNumber)(JSONData.drawanchors,JSONData.showanchors,chartAttr.drawanchors,chartAttr.showanchors);conf.anchorbgcolor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(JSONData.anchorbgcolor,chartAttr.anchorbgcolor,colorM.getColor("anchorBgColor")));conf.anchorbordercolor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(JSONData.anchorbordercolor,JSONData.color,chartAttr.anchorbordercolor,conf.linecolor));conf.anchorradius=(0,_lib.pluckNumber)(JSONData.anchorradius,chartAttr.anchorradius,3);conf.anchoralpha=(0,_lib.pluck)(JSONData.anchoralpha,JSONData.alpha,chartAttr.anchoralpha,_lib.HUNDREDSTRING);conf.anchorbgalpha=(0,_lib.pluck)(JSONData.anchorbgalpha,JSONData.alpha,chartAttr.anchorbgalpha,_lib.HUNDREDSTRING);conf.anchorborderthickness=(0,_lib.pluck)(JSONData.anchorborderthickness,chartAttr.anchorborderthickness,1);conf.anchorsides=(0,_lib.pluckNumber)(JSONData.anchorsides,chartAttr.anchorsides,conf.index+3);conf.anchorimageurl=(0,_lib.pluck)(JSONData.anchorimageurl,chartAttr.anchorimageurl);conf.anchorimagealpha=(0,_lib.pluckNumber)(JSONData.anchorimagealpha,chartAttr.anchorimagealpha,100);conf.anchorimagescale=(0,_lib.pluckNumber)(JSONData.anchorimagescale,chartAttr.anchorimagescale,100);conf.anchorimagepadding=(0,_lib.pluckNumber)(JSONData.anchorimagepadding,chartAttr.anchorimagepadding,1);conf.anchorstartangle=(0,_lib.pluckNumber)(JSONData.anchorstartangle,chartAttr.anchorstartangle,90);conf.anchorshadow=(0,_lib.pluckNumber)(JSONData.anchorshadow,chartAttr.anchorshadow,0);conf.plotToolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(JSONData.plottooltext,chartAttr.plottooltext)));dataSet.setState("visible",(0,_lib.pluckNumber)(JSONData.visible,!Number(JSONData.initiallyhidden),1)===1);dataSet._setConfigure();chart.config.hasLegend!==false&&chart.config.showLegend&&dataSet._addLegend();dataSet.setState("dirty",true)};ScatterDataset.prototype.calculateScrollRange=function calculateScrollRange(){var dataSet=this,dsConfig=dataSet.config,chart=dataSet.getFromEnv("chart"),xAxis=dataSet.getFromEnv("xAxis"),hasScroll=chart.hasScroll,dataStore=dataSet.components.data,dsLen=dataStore.length;dsConfig.scrollMinVal=hasScroll?mathMax(mathRound(xAxis.getVisibleConfig().minValue)-1,0):0;dsConfig.scrollMaxVal=hasScroll?mathMin(mathRound(xAxis.getVisibleConfig().maxValue)+2,dsLen):dsLen;dsConfig.scrollMinValForLabel=dsConfig.scrollMinVal;dsConfig.scrollMaxValForLabel=dsConfig.scrollMaxVal};ScatterDataset.prototype._setConfigure=function _setConfigure(){var i,config,dataObj,setData,setValue,toolText,toolTipValue,macroIndices,parserConfig,formatedVal,formatedValX,setDisplayValue,infMin=-Infinity,infMax=+Infinity,yMax=infMin,yMin=infMax,xMin=infMax,xMax=infMin,dataSet=this,dataStore=dataSet.components.data||(dataSet.components.data=[]),chart=dataSet.getFromEnv("chart"),conf=dataSet.config,JSONData=conf.JSONData,chartAttr=chart.getFromEnv("dataSource").chart,setDataArr=JSONData.data||[],dataSetLen=setDataArr.length,numberFormatter=dataSet.getFromEnv("number-formatter"),yAxisName=(0,_lib.parseUnsafeString)(chartAttr.yaxisname),xAxisName=(0,_lib.parseUnsafeString)(chartAttr.xaxisname),lineDashed=conf.lineDashed,lineDashStyle=conf.linedashstyle,parentYAxis=conf.parentYAxis,tooltipSepChar=conf.toolTipSepChar,seriesname=conf.seriesname;conf.imageCount=0;for(i=0;i<dataSetLen;i+=1){setData=setDataArr[i];dataObj=dataStore[i]||(dataStore[i]={});config=dataObj.config||(dataObj.config={});config.setValue=setValue={x:numberFormatter.getCleanValue(setData.x),y:numberFormatter.getCleanValue(setData.y)};if(setValue.x!==null&&setValue.y!==null){if(setValue.x>xMax){xMax=setValue.x;conf.rightMostData=dataObj}if(setValue.x<xMin){xMin=setValue.x;conf.leftMostData=dataObj}if(setValue.y>yMax){yMax=setValue.y;conf.topMostData=dataObj}if(setValue.y<yMin){yMin=setValue.y;conf.bottomMostData=dataObj}}config._x=setValue.x;config._y=setValue.y;config.setLink=(0,_lib.pluck)(setData.link);config.anchorProps=this._parseAnchorProperties(i);config.showValue=(0,_lib.pluckNumber)(setData.showvalue,conf.showvalues);config.dashed=(0,_lib.pluckNumber)(setData.dashed,lineDashed);config.color=(0,_lib.pluck)(setData.color,conf.linecolor);config.alpha=(0,_lib.pluck)(setData.alpha,conf.linealpha);config.dashStyle=config.dashed?lineDashStyle:"none";config.toolTipValue=toolTipValue=numberFormatter.dataLabels(setValue.y,parentYAxis);config.setDisplayValue=setDisplayValue=(0,_lib.parseUnsafeString)(setData.displayvalue);formatedVal=config.formatedVal=(0,_lib.pluck)(setData.toolTipValue,numberFormatter.dataLabels(setValue.y,parentYAxis));formatedValX=numberFormatter.xAxis(setValue.x);config.displayValue=(0,_lib.pluck)(setDisplayValue,toolTipValue);config.setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.tooltext,conf.plotToolText)));if(!conf.showTooltip){toolText=false}else if(config.setTooltext!==UNDEF){macroIndices=[4,5,6,7,8,9,10,11];parserConfig={yaxisName:yAxisName,xaxisName:xAxisName,yDataValue:formatedVal,xDataValue:formatedValX};toolText=(0,_lib.parseTooltext)(config.setTooltext,macroIndices,parserConfig,setData,chartAttr,JSONData)}else{if(formatedVal===null){toolText=false}else{toolText=seriesname?seriesname+tooltipSepChar:_lib.BLANKSTRING;toolText+=setValue.x?formatedValX+tooltipSepChar:_lib.BLANKSTRING;toolText+=toolTipValue}}config.toolText=toolText;if(!dataObj){dataObj=dataStore[i]={graphics:{}}}else if(!dataObj.graphics){dataStore[i].graphics={}}config.hoverEffects=this._parseHoverEffectOptions(dataObj,setData);config.anchorProps.isAnchorHoverRadius=config.hoverEffects.anchorRadius}conf.xMax=xMax;conf.xMin=xMin;conf.yMin=yMin;conf.yMax=yMax;dataSet.ErrorValueConfigure&&dataSet.ErrorValueConfigure()};ScatterDataset.prototype._getHoveredPlot=function _getHoveredPlot(x,y){var res=this.config.dataTree.getNeighbour({x:x,y:y},true);if(res){return{pointIndex:res.index||res.i,hovered:true,pointObj:res.data}}};ScatterDataset.prototype.drawPlots=function drawPlots(){_LineDataset.prototype.drawPlots.call(this);this.setupHoverTracker()};ScatterDataset.prototype.getRegressionPoints=function getRegressionPoints(){var dataset=this,regression=dataset.getChildren("regression"),regressionPoints,xMax=-Infinity,xMin=Infinity,yMax=-Infinity,yMin=Infinity,i,j,k,line,points,regLineLength,regPointsLength;if(!regression||!regression.length||regression[0].getState("removed")){return}regressionPoints=regression[0]._config.regressionPoints||[];regLineLength=regressionPoints.length;for(i=0;i<regLineLength;i++){line=regressionPoints[i];for(j=0;j<line.length;j++){points=line[j]||[];regPointsLength=points.length;for(k=0;k<regPointsLength;k++){xMax=Math.max(xMax,points[k].x);xMin=Math.min(xMin,points[k].x);yMax=Math.max(yMax,points[k].y);yMin=Math.min(yMin,points[k].y)}}}return{max:yMax,min:yMin,xMax:xMax,xMin:xMin}};ScatterDataset.prototype.getDataLimits=function getDataLimits(){var dataset=this,conf=dataset.config,chart=dataset.getFromEnv("chart"),chartConfig=chart.config,max=conf.yMax,min=conf.yMin,xMax=conf.xMax,xMin=conf.xMin,infMin=-Infinity,infMax=+Infinity,transposeAxis=chartConfig.transposeAxis,regressionPoints=dataset.getRegressionPoints();if(dataset.getState("visible")===false&&transposeAxis){max=infMin;min=infMax;xMax=infMin;xMin=infMax}if(regressionPoints){max=Math.max(max,regressionPoints.max);min=Math.min(min,regressionPoints.min);xMax=Math.max(xMax,regressionPoints.xMax);xMin=Math.min(xMin,regressionPoints.xMin)}return{max:max,min:min,xMax:xMax,xMin:xMin}};ScatterDataset.prototype.getAxisValuePadding=function getAxisValuePadding(){return this.config.defaultValuePadding};ScatterDataset.prototype.getCanvasPadding=function getCanvasPadding(){var dataset=this,conf=dataset.config||(dataset.config={}),components=dataset.components||{},chartConfig=dataset.getFromEnv("chartConfig"),rotateValues=chartConfig.rotatevalues,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),reversexaxis=xAxis.config.isReverse,dataLabelStyle=dataset.getFromEnv("dataLabelStyle"),data=components.data||[],dataLen=data.length,firstData=conf.leftMostData||data[0],lastData=conf.rightMostData||data[data.length-1],topMostData=conf.topMostData,bottomMostData=conf.bottomMostData,radiusLimit=mathMin(chartConfig.canvasHeight,chartConfig.canvasWidth)/8,sqrtMaxZ,startValue=xAxis.getValue(0),firstDataChangeFlag=1,secondDataChangeFlag=1,radiusFactor,configAttr,configAttrFirst,configAttrLast,dataConf,anchorRadius,zMax=chartConfig.zMax,sqrtBubbleZ,minPoint,bubbleScale=conf.bubbleScale,i,xReduced,xReducedFirst,xReducedLast,label,bubbleRadius,bubbleRadiusVal,labelDimEnd={},labelDimStart={},anchorSpace=0,labelSpace=0,showValue,xAxisRange=xAxis.config.axisRange,xAxisMin=xAxisRange.min,xAxisMax=xAxisRange.max,yAxisRange=yAxis.config.axisRange,yAxisMin=yAxisRange.min,yAxisMax=yAxisRange.max,startPixel=xAxis.getPixel(xAxisMin),endPixel=xAxis.getPixel(xAxisMax),SmartLabel=dataset.getFromEnv("smartLabel"),returnDimension={paddingLeft:0,paddingRight:0},labelWidth=0,yReduced;sqrtMaxZ=Math.sqrt(zMax);radiusFactor=radiusLimit/sqrtMaxZ;for(i=0;i<dataLen;i++){configAttr=data[i].config;configAttrFirst=firstData.config;configAttrLast=lastData.config;sqrtBubbleZ=Math.sqrt(configAttr.z);bubbleRadius=Math.round(sqrtBubbleZ*radiusFactor)*bubbleScale||0;bubbleRadiusVal=xAxis.getValue(bubbleRadius)-startValue;xReduced=configAttr.x-bubbleRadiusVal/2;if(firstDataChangeFlag===1){sqrtBubbleZ=Math.sqrt(configAttrFirst.z);bubbleRadius=Math.round(sqrtBubbleZ*radiusFactor)*bubbleScale||0;bubbleRadiusVal=xAxis.getValue(bubbleRadius)-startValue;xReducedFirst=configAttrFirst.x-bubbleRadiusVal/2}if(secondDataChangeFlag===1){sqrtBubbleZ=Math.sqrt(configAttrLast.z);bubbleRadius=Math.round(sqrtBubbleZ*radiusFactor)*bubbleScale||0;bubbleRadiusVal=xAxis.getValue(bubbleRadius)-startValue;xReducedLast=configAttrLast.x-bubbleRadiusVal/2}firstDataChangeFlag=0;secondDataChangeFlag=0;if(xReducedFirst>xReduced){firstData=data[i];firstDataChangeFlag=1}if(xReducedLast<xReduced){lastData=data[i];secondDataChangeFlag=1}}if(firstData){dataConf=firstData.config;anchorRadius=dataConf.anchorProps.radius;showValue=dataConf.showValue;if(showValue){label=dataConf.displayValue;SmartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);SmartLabel.setStyle(dataLabelStyle);labelDimStart=SmartLabel.getOriSize(label);labelWidth=rotateValues?labelDimStart.height:labelDimStart.width}if(dataConf.setValue!==null){xReduced=xAxis.getPixel(dataConf.setValue.x);if(reversexaxis){minPoint=xReduced-labelWidth*.5;labelSpace=endPixel-minPoint}else{minPoint=xReduced-labelWidth*.5;labelSpace=startPixel-minPoint}if(!reversexaxis&&xReduced-anchorRadius<=startPixel||reversexaxis&&xReduced-anchorRadius<=endPixel){anchorSpace=reversexaxis?endPixel-(xReduced-anchorRadius):startPixel-(xReduced-anchorRadius)}else{anchorSpace=0}}returnDimension.paddingLeft=mathMax(labelSpace,anchorSpace)}if(lastData){dataConf=lastData.config;showValue=dataConf.showValue;anchorRadius=dataConf.anchorProps.radius;if(showValue){label=dataConf.displayValue;SmartLabel.setStyle(dataLabelStyle);labelDimEnd=SmartLabel.getOriSize(label);labelWidth=rotateValues?labelDimEnd.height:labelDimEnd.width}if(dataConf.setValue!==null){xReduced=xAxis.getPixel(dataConf.setValue.x);minPoint=xReduced-startPixel+labelWidth*.5;labelSpace=minPoint-endPixel+startPixel;if(reversexaxis){labelSpace=minPoint}if(!reversexaxis&&xReduced+anchorRadius>=endPixel||reversexaxis&&xReduced+anchorRadius>=startPixel){anchorSpace=reversexaxis?xReduced+anchorRadius-startPixel:xReduced+anchorRadius-endPixel}else{anchorSpace=0}}returnDimension.paddingRight=mathMax(labelSpace,anchorSpace)}if(topMostData){dataConf=topMostData.config;anchorRadius=dataConf.anchorProps.radius||0;yAxisMax=yAxis.getPixel(yAxisMax);if(dataConf.setValue!==null){yReduced=yAxis.getPixel(dataConf.setValue.y);anchorSpace=(0,_lib.pluckNumber)(anchorRadius,0)+(0,_lib.pluckNumber)(dataConf.anchorProps.borderThickness,0)/2}if(yAxisMax-(yReduced-anchorSpace)>0){returnDimension.paddingTop=yAxisMax-(yReduced-anchorSpace)}else{returnDimension.paddingTop=0}}if(bottomMostData){dataConf=bottomMostData.config;anchorRadius=dataConf.anchorProps.radius||0;yAxisMin=yAxis.getPixel(yAxisMin);if(dataConf.setValue!==null){yReduced=yAxis.getPixel(dataConf.setValue.y);anchorSpace=(0,_lib.pluckNumber)(anchorRadius,0)+(0,_lib.pluckNumber)(dataConf.anchorProps.borderThickness,0)/2}if(yReduced+anchorSpace-yAxisMin>0){returnDimension.paddingBottom=yReduced+anchorSpace-yAxisMin}else{returnDimension.paddingBottom=0}}return returnDimension};ScatterDataset.prototype._addLegend=function _addLegend(){var symbolColor,mFillColor,mLineColor,dataset=this,chart=dataset.getFromEnv("chart"),conf=dataset.config,config,legendItem,legend=chart.getChildren("legend")[0],drawAnchors=(0,_lib.pluckNumber)(conf.drawanchors,1),marker={fillColor:getPointColor(conf.anchorbgcolor,_lib.HUNDREDSTRING),lineColor:{FCcolor:{color:conf.anchorbordercolor,alpha:conf.anchoralpha}},lineWidth:conf.anchorborderthickness},item3dlighting=legend.config.symbol3DLighting;if(item3dlighting){if(marker.fillcolor&&marker.fillcolor.FCcolor){symbolColor=(0,_lib.extend2)({},marker.fillcolor);symbolColor.FCcolor.alpha="100"}else{symbolColor=(0,_lib.pluck)(marker.fillColor)}}else{symbolColor={FCcolor:{color:(0,_lib.pluck)((mFillColor=marker.fillColor)&&(mFillColor.FCcolor&&mFillColor.FCcolor.color.split(COMMA)[0]||mFillColor)),angle:0,ratio:"0",alpha:"100"}}}config={enabled:conf.includeInLegend,type:dataset.type,drawLine:(0,_lib.pluck)(conf.drawLine,true),anchorSide:drawAnchors?conf.anchorsides:0,label:(0,_lib.getFirstValue)(dataset.config.JSONData.seriesname)};if(conf.includeinlegend){legendItem=legend.getItem(dataset.config.legendItemId);if(!legendItem){dataset.config.legendItemId=legend.createItem(dataset);legendItem=legend.getItem(dataset.config.legendItemId);dataset.addExtEventListener("click",function(){legendItem.itemClickFn()},legendItem)}else{legendItem.configure({style:legend.config.itemStyle,hiddenStyle:legend.config.itemHiddenStyle,datasetVisible:legend.config.datasetVisible,hoverStyle:legend.config.itemHoverStyle})}legendItem.configure(config);legendItem.setStateCosmetics("default",{symbol:{fill:(0,_lib.toRaphaelColor)(symbolColor),rawFillColor:conf.anchorbgcolor,rawStrokeColor:conf.lineColor,stroke:(0,_lib.toRaphaelColor)((0,_lib.pluck)((mLineColor=marker.lineColor)&&(mLineColor.FCcolor&&mLineColor.FCcolor.color.split(COMMA)[0]||mLineColor))),"stroke-width":conf.anchorborderthickness}});if(!dataset.getState("visible")){legendItem.setLegendState("hidden")}else{legendItem.removeLegendState("hidden")}}else if(dataset.config.legendItemId){legend.disposeItem(dataset.config.legendItemId)}};ScatterDataset.prototype.getDSGroupdef=function getDSGroupdef(){return UNDEF};ScatterDataset.prototype.trimData=function trimData(datasetJSON){if(!this.config.JSONData){return}var dataSet=this,config=dataSet.config,context=config&&config.context,prevCatlen=context&&context.prevCatlen,xAxis=dataSet.getFromEnv("xAxis"),currCatLen=xAxis.getTicksLen(),catDiff=prevCatlen-currCatLen,prevData=config.JSONData,prevDataLength=prevData.data&&prevData.data.length,currDataLength=datasetJSON.data&&datasetJSON.data.length||0,dataDiff=prevDataLength-currDataLength,diff=void 0,startIndex=void 0;if(catDiff>dataDiff){diff=catDiff;startIndex=currCatLen}else{diff=dataDiff;startIndex=currDataLength}if(diff>0){this.removeData(startIndex,diff,false)}};return ScatterDataset}(_line2["default"]);exports["default"]=ScatterDataset},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}
/** !
 * @license FusionCharts JavaScript Library - KDtree
 * Copyright FusionCharts Technologies LLP
 * License Information at <http://www.fusioncharts.com/license>
 *
 * @version //? write(JSON.parse(require('fs').readFileSync('./package.json')).version);
 */var UNDEF,isWithinCircle=function isWithinCircle(x,y,cx,cy,r){return Math.pow(cx-x,2)+Math.pow(cy-y,2)<=Math.pow(r,2)},mathPI=Math.PI,mathCos=Math.cos,mathSin=Math.sin,mathMax=Math.max,mathMin=Math.min,deg2rad=mathPI/180,rad=function rad(deg){return deg%360*deg2rad},orientation=function orientation(p1x,p1y,q1x,q1y,p2x,p2y){var A=q1y-p1y,B=p2x-q1x,C=q1x-p1x,D=p2y-q1y,val1,val2,val;val1=A*B;val2=C*D;if(isNaN(val1)){val1=0}if(isNaN(val2)){val2=0}val=val1-val2;if(val===0){return 0}return val>0?1:2},onSegment=function onSegment(p1x,p1y,q1x,q1y,p2x,p2y){if(q1x<=mathMax(p1x,p2x)&&q1x>=mathMin(p1x,p2x)&&q1y<=mathMax(p1y,p2y)&&q1y>=mathMin(p1y,p2y)){return true}return false},doIntersect=function doIntersect(p1x,p1y,q1x,q1y,p2x,p2y,q2x,q2y){var o1=orientation(p1x,p1y,q1x,q1y,p2x,p2y),o2=orientation(p1x,p1y,q1x,q1y,q2x,q2y),o3=orientation(p2x,p2y,q2x,q2y,p1x,p1y),o4=orientation(p2x,p2y,q2x,q2y,q1x,q1y);if(o1!==o2&&o3!==o4){return true}if(o1===0&&onSegment(p1x,p1y,p2x,p2y,q1x,q1y)){return true}if(o2===0&&onSegment(p1x,p1y,q2x,q2y,q1x,q1y)){return true}if(o3===0&&onSegment(p2x,p2y,p1x,p1y,q2x,q2y)){return true}if(o4===0&&onSegment(p2x,p2y,q1x,q1y,q2x,q2y)){return true}return false},isWithinPolygon=function isWithinPolygon(x,y,cx,cy,r,sides,startAngle){var i,extreme=Infinity,angle,count=0,p1x,p2x,p2y,p1y,inangle,inside=false;if(isWithinCircle(x,y,cx,cy,r)&&sides>=3){angle=startAngle===UNDEF?mathPI*.5:rad(startAngle);inangle=2*mathPI/sides;p1x=cx+r*mathCos(-angle);p1y=cy+r*mathSin(-angle);for(i=0;i<sides;i++){angle+=inangle;p2x=cx+r*mathCos(-angle);p2y=cy+r*mathSin(-angle);if(doIntersect(p1x,p1y,p2x,p2y,x,y,extreme,y)){if(orientation(p1x,p1y,x,y,p2x,p2y)===0){return onSegment(p1x,p1y,x,y,p2x,p2y)}count++}p1x=p2x;p1y=p2y}inside=count%2!==0}return inside},_compair2closest=function _compair2closest(p1,p2){if(!p1||p1&&p2&&p2.i>p1.i){return p2}return p1};function kdTreeAbs(arr){"use strict";var tolerance=arr&&arr[0]&&arr[0].r||5,i,max=Math.max,floor=Math.floor,sqrt=Math.sqrt,min=Math.min,log=Math.log,exp=Math.exp,pow=Math.pow,_quickselectX,_quickselectY;function swap(arr,i,j){var tmp=arr[i];arr[i]=arr[j];arr[j]=tmp}_quickselectX=function quickselectX(arr,k,left,right){var n,m,z,s,sd,newLeft,newRight,t,i,j;while(right>left){if(right-left>600){n=right-left+1;m=k-left+1;z=log(n);s=.5*exp(2*z/3);sd=.5*sqrt(z*s*(n-s)/n)*(m-n/2<0?-1:1);newLeft=max(left,floor(k-m*s/n+sd));newRight=min(right,floor(k+(n-m)*s/n+sd));_quickselectX(arr,k,newLeft,newRight)}t=arr[k];i=left;j=right;swap(arr,left,k);if(arr[right].x>t.x){swap(arr,left,right)}while(i<j){swap(arr,i,j);i++;j--;while(arr[i].x<t.x){i++}while(arr[j].x>t.x){j--}}if(arr[left].x===t.x){swap(arr,left,j)}else{j++;swap(arr,j,right)}if(j<=k){left=j+1}if(k<=j){right=j-1}}};_quickselectY=function quickselectY(arr,k,left,right){var n,m,z,s,sd,newLeft,newRight,t,i,j;while(right>left){if(right-left>600){n=right-left+1;m=k-left+1;z=log(n);s=.5*exp(2*z/3);sd=.5*sqrt(z*s*(n-s)/n)*(m-n/2<0?-1:1);newLeft=max(left,floor(k-m*s/n+sd));newRight=min(right,floor(k+(n-m)*s/n+sd));_quickselectY(arr,k,newLeft,newRight)}t=arr[k];i=left;j=right;swap(arr,left,k);if(arr[right].y>t.y){swap(arr,left,right)}while(i<j){swap(arr,i,j);i++;j--;while(arr[i].y<t.y){i++}while(arr[j].y>t.y){j--}}if(arr[left].y===t.y){swap(arr,left,j)}else{j++;swap(arr,j,right)}if(j<=k){left=j+1}if(k<=j){right=j-1}}};arr=arr||[];for(i=arr.length;i--;){if(arr[i].r>tolerance){tolerance=arr[i].r}arr[i].i=i;arr[i].x=+arr[i].x;arr[i].y=+arr[i].y}function buildKdTree(arr,left,right,isY){var ob={},mid,access=isY?"y":"x";if(left===right){ob.point=arr[left];return ob}if(right-left===1){if(arr[left][access]>arr[right][access]){ob.point=arr[left];ob.left={point:arr[right]}}else{ob.point=arr[right];ob.left={point:arr[left]}}return ob}mid=left+right>>1;if(isY){_quickselectY(arr,mid,left,right)}else{_quickselectX(arr,mid,left,right)}ob.point=arr[mid];ob.left=buildKdTree(arr,left,mid-1,!isY);ob.right=buildKdTree(arr,mid+1,right,!isY);return ob}return{tree:arr.length===0?{}:buildKdTree(arr,0,arr.length-1,false),search:function search(x,y,type,options){var tree=this.tree,res,x1=x-tolerance,x2=x+tolerance,y1=y-tolerance,y2=y+tolerance,lastHovered=false,lastDist=0,searchX,searchY;options=options||{};function calcDist(x,y,p,q){return sqrt(pow(x-p,2)+pow(y-q,2))}function inRange(a,b){if(type==="circle"){return calcDist(a,b,x,y)<=x1}return a>=x1&&a<=x2&&b>=y1&&b<=y2}function inRangeApply(a,r1,r2){return a>=r1&&a<=r2}function apply(ob){var currentHovered=inRangeApply(x,ob.x1,ob.x2)&&inRangeApply(y,ob.y1,ob.y2),currentDist=calcDist(x,y,ob.point.x,ob.point.y);if(!res){res=ob;lastHovered=currentHovered;lastDist=currentDist;return}if(currentHovered){if(lastHovered){if(ob.point.i>res.point.i){res=ob;lastHovered=currentHovered;lastDist=currentDist}}else{res=ob;lastHovered=currentHovered;lastDist=currentDist}}else{if(!lastHovered){if(currentDist<lastDist){res=ob;lastHovered=currentHovered;lastDist=currentDist}}}}function defineSearchArea(rx,ry){if(type==="circle"){x1=rx}else{x1=x-rx||0;x2=x+rx||0;y1=y-ry||0;y2=y+ry||0}}searchY=function searchY(ob){var rx,ry;if(!ob||!ob.point){return}rx=options.rx||ob.point.r;ry=options.ry||ob.point.r;defineSearchArea(rx,ry);if(inRange(ob.point.x,ob.point.y)){apply(ob)}if(y1<=ob.point.y){searchX(ob.left)}if(y2>=ob.point.y){searchX(ob.right)}};searchX=function searchX(ob){var rx,ry;if(!ob||!ob.point){return}rx=options.rx||ob.point.r;ry=options.ry||ob.point.r;defineSearchArea(rx,ry);if(inRange(ob.point.x,ob.point.y)){apply(ob)}if(x1<=ob.point.x){searchY(ob.left)}if(x2>=ob.point.x){searchY(ob.right)}};searchX(tree);return res&&res.point||res}}}var KdTree=function(){function KdTree(shape){_classCallCheck(this,KdTree);var kdTreeObj=this;kdTreeObj.configure(shape)}KdTree.prototype.configure=function configure(shape){var kdTreeObj=this;kdTreeObj.validatorFn=shape?kdTreeObj.shapeValidator():kdTreeObj.defaultValidator()};KdTree.prototype.defaultValidator=function defaultValidator(){var kdTreeObj=this;return function(setElem){var mousePoint=kdTreeObj.mousePoint;return!!(setElem&&Math.pow((setElem.x-mousePoint.x)/kdTreeObj.xLimit,2)+Math.pow((setElem.y-mousePoint.y)/kdTreeObj.yLimit,2)<=1)}};KdTree.prototype.shapeValidator=function shapeValidator(){var kdTreeObj=this;return function(setElem){var mousePoint=kdTreeObj.mousePoint,shapeInfo=setElem&&setElem.shapeInfo,inside=false,type,innerradius,r,x=mousePoint.x,y=mousePoint.y,sides,startAngle,x1,x2,y1,y2;type=shapeInfo&&shapeInfo.type;switch(type){case"circle":r=shapeInfo.radius;inside=isWithinCircle(x,y,setElem.x,setElem.y,r);break;case"arc":innerradius=shapeInfo.innerradius;r=shapeInfo.radius;inside=!isWithinCircle(x,y,setElem.x,setElem.y,innerradius)&&isWithinCircle(x,y,setElem.x,setElem.y,r);break;case"polygon":r=shapeInfo.radius;startAngle=shapeInfo.startAngle;sides=shapeInfo.sides;inside=isWithinPolygon(x,y,setElem.x,setElem.y,r,sides,startAngle);break;case"rect":case"rectangle":x1=setElem.x;y1=setElem.y;x2=x1+(shapeInfo.width||0);y2=y1+(shapeInfo.height||0);inside=x>=x1&&x<=x2&&y>=y1&&y<=y2;break;case"default":inside=false;break}return inside}};KdTree.prototype.buildKdTree=function buildKdTree(points){this.kdTree=kdTreeAbs(points);this.tree=this.kdTree.tree;return this};KdTree.prototype.getNeighbour=function getNeighbour(point,basicSearch,type){var kDTreeObj=this,tree=kDTreeObj.tree,limitBox={x1:point.x-kDTreeObj.xLimit,x2:point.x+kDTreeObj.xLimit,y1:point.y-kDTreeObj.yLimit,y2:point.y+kDTreeObj.yLimit},validatorFn=kDTreeObj.validatorFn;kDTreeObj.mousePoint=point;if(basicSearch){return this.kdTree&&this.kdTree.search(point.x,point.y,type,point.options)}if(tree){return kDTreeObj._searchBtwnLimit(limitBox,tree,true,validatorFn)}};KdTree.prototype._searchBtwnLimit=function _searchBtwnLimit(limitBox,tree,isX,validatorFn){var point,returnPoint,kdTreeObj=this,axis=isX?"x":"y",lowerLimit=isX?limitBox.x1:limitBox.y1,upperLimit=isX?limitBox.x2:limitBox.y2;point=tree&&tree.point&&tree.point[axis];if(point===UNDEF){return}if(validatorFn(tree.point)){returnPoint=tree.point}if(point>=lowerLimit&&tree.left){returnPoint=_compair2closest(returnPoint,kdTreeObj._searchBtwnLimit(limitBox,tree.left,!isX,validatorFn))}if(point<=upperLimit&&tree.right){returnPoint=_compair2closest(returnPoint,kdTreeObj._searchBtwnLimit(limitBox,tree.right,!isX,validatorFn))}return returnPoint};KdTree.prototype._setSearchLimit=function _setSearchLimit(xLimit,yLimit){var kdTree=this;kdTree.xLimit=xLimit;kdTree.yLimit=yLimit};return KdTree}();KdTree.prototype.constructor=KdTree;exports["default"]=KdTree},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lineAnimation=__webpack_require__(349);var _lineAnimation2=_interopRequireDefault(_lineAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports["default"]={"*.dataset.scatter":_lineAnimation2["default"]["*.dataset.line"]}},,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports._manageInteractiveSpace=undefined;var _scatterbase=__webpack_require__(414);var _scatterbase2=_interopRequireDefault(_scatterbase);var _zoomscatter=__webpack_require__(425);var _zoomscatter2=_interopRequireDefault(_zoomscatter);var _lib=__webpack_require__(118);var _iconsymbol=__webpack_require__(426);var _dependencyManager=__webpack_require__(125);var _schedular=__webpack_require__(129);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var Raphael=(0,_dependencyManager.getDep)("redraphael","plugin"),_manageInteractiveSpace=void 0,UNDEF=void 0;Raphael.addSymbol(_iconsymbol.symbolList);var ZoomScatter=function(_ScatterBase){_inherits(ZoomScatter,_ScatterBase);ZoomScatter.getName=function getName(){return"ZoomScatter"};function ZoomScatter(){_classCallCheck(this,ZoomScatter);var _this=_possibleConstructorReturn(this,_ScatterBase.call(this));_this.highlightEnabled=false;_this.isXY=true;_this.zoom=true;_this.zoomX=true;_this.zoomY=true;_this.defaultZeroPlaneHighlighted=false;return _this}ZoomScatter.prototype.getName=function getName(){return"ZoomScatter"};ZoomScatter.prototype.__setDefaultConfig=function __setDefaultConfig(){_ScatterBase.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="ZoomScatter Chart";config.defaultDatasetType="zoomscatter";config.enablemousetracking=true;config.animation=0};ZoomScatter.prototype.configureAttributes=function configureAttributes(dataObj){var chartAttr,iapi=this,conf=iapi.config;_ScatterBase.prototype.configureAttributes.call(this,dataObj);chartAttr=iapi.getFromEnv("dataSource").chart;conf.stepZoom=400/(100-(0,_lib.pluckNumber)(chartAttr.stepzoom,25));if(conf.stepZoom<=2){conf.stepZoom=1.9}conf.showToolBarButtonToolText=(0,_lib.pluckNumber)(chartAttr.showtoolbarbuttontooltext,1);conf.btnResetChartToolText=(0,_lib.pluck)(chartAttr.btnresetcharttooltext,"Reset Chart");conf.btnZoomOutToolText=(0,_lib.pluck)(chartAttr.btnzoomouttooltext,"Zoom out to previous level");conf.btnZoomInToolText=(0,_lib.pluck)(chartAttr.btnzoomintooltext,"<strong>Zoom in</strong><br/>Or double-"+"click on plot to zoom-in");conf.btnSelectZoomToolText=(0,_lib.pluck)(chartAttr.btnselectzoomtooltext,"<strong>Select a region to zoom-in</strong><br/>Click to enable pan mode.");conf.btnPanToolText=(0,_lib.pluck)(chartAttr.btnpantooltext,"<strong>Drag to move across chart</strong><br/>Click to enable select-zoom mode.")};ZoomScatter.includeInputOptions=function includeInputOptions(){return["DragPan","DragZoomIn","ZoomResetButton","ZoomOutButton","ZoomInButton","DbTapZoom","PinchZoom"]};ZoomScatter.prototype._manageInteractiveSpace=function _manageInteractiveSpace(){var iapi=this,config=iapi.config,chartChildren=iapi.getChildren(),xAxis=chartChildren.xAxis[0],yAxis=chartChildren.yAxis[0],bottom,canvas=chartChildren.canvas&&chartChildren.canvas[0],canvasConfig=canvas.config,canvasBorderWidth=canvasConfig.canvasBorderWidth,canvasPaddingTop=canvasConfig.canvasPaddingTop,canvasPaddingBottom=canvasConfig.canvasPaddingBottom,canvasPadding=canvasConfig.canvasPadding||0,canvasPaddingLeft=canvasConfig.canvasPaddingLeft,canvasPaddingRight=canvasConfig.canvasPaddingRight,xAxisSpaceAllocation,yAxisSpaceAllocation,availableHeight,availableWidth,prevXAxisSpaceAllocation=config.xAxisSpaceAllocation,prevYAxisSpaceAllocation=config.yAxisSpaceAllocation[0].spaceTaken,yAxisStartXPos,left;availableHeight=config.availableHeight;xAxisSpaceAllocation=config.xAxisSpaceAllocation=xAxis.placeAxis(availableHeight+prevXAxisSpaceAllocation.bottom);availableWidth=config.availableWidth;yAxisSpaceAllocation=config.yAxisSpaceAllocation[0].spaceTaken=yAxis.placeAxis(availableWidth+prevYAxisSpaceAllocation.left);bottom=xAxisSpaceAllocation.bottom-prevXAxisSpaceAllocation.bottom;left=yAxisSpaceAllocation.left-prevYAxisSpaceAllocation.left;bottom&&iapi._allocateSpace({bottom:bottom});left&&iapi._allocateSpace({left:left});xAxis&&xAxis.setAxisDimention({x:config.canvasLeft+Math.max(canvasPaddingLeft,canvasPadding),y:config.canvasBottom+canvasBorderWidth,opposite:config.canvasTop-canvasBorderWidth,axisLength:config.canvasWidth-Math.max(canvasPaddingLeft,canvasPadding)-Math.max(canvasPaddingRight,canvasPadding)});yAxisStartXPos=config.canvasLeft-canvasBorderWidth;yAxis&&yAxis.setAxisDimention({x:yAxisStartXPos,y:config.canvasTop+canvasPaddingTop,axisLength:config.canvasHeight-canvasPaddingTop-canvasPaddingBottom});(bottom||left)&&canvas.asyncDraw()};ZoomScatter.prototype.getInputConfigurations=function getInputConfigurations(){var iapi=this,config=iapi.config,zoomDecimalLimit=2,hookFn=function hookFn(){iapi.addJob("spaceManage",function(){iapi._manageInteractiveSpace()},_schedular.priorityList.configure)},inputComponents={dragZoomIn:{scaleX:true,scaleY:true,boxStyle:{"stroke-width":1,stroke:"red",fill:"#00FF00",opacity:.2,cursor:"ne-resize"},dragendFn:hookFn,tooltext:config.btnSelectZoomToolText,zoomDecimalLimit:zoomDecimalLimit},zoomResetButton:{tooltext:config.btnResetChartToolText,hookFn:hookFn},zoomOutButton:{tooltext:config.btnZoomOutToolText,hookFn:hookFn},zoomInButton:{tooltext:config.btnZoomInToolText,stepzoom:config.stepZoom,zoomDecimalLimit:zoomDecimalLimit,hookFn:hookFn},dragPan:{tooltext:config.btnPanToolText},dbTapZoom:{stepzoom:config.stepZoom,zoomDecimalLimit:zoomDecimalLimit,hookFn:hookFn},pinchZoom:{zoomDecimalLimit:zoomDecimalLimit}};return inputComponents};ZoomScatter.prototype._checkInvalidSpecificData=function _checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset;if(!datasetsJSON){return true}};ZoomScatter.prototype.getDatasets=function getDatasets(){var iapi=this,dataSetArr=[];iapi.iterateComponents(function(child){if(child.getType&&child.getType()==="dataset"){dataSetArr.push(child)}});return dataSetArr};ZoomScatter.prototype.getDSdef=function getDSdef(){return _zoomscatter2["default"]};ZoomScatter.prototype.getDSGroupdef=function getDSGroupdef(){return UNDEF};return ZoomScatter}(_scatterbase2["default"]);exports._manageInteractiveSpace=_manageInteractiveSpace=ZoomScatter.prototype._manageInteractiveSpace;exports["default"]=ZoomScatter;exports._manageInteractiveSpace=_manageInteractiveSpace},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _scatter=__webpack_require__(418);var _scatter2=_interopRequireDefault(_scatter);var _kdtree=__webpack_require__(419);var _kdtree2=_interopRequireDefault(_kdtree);var _schedular=__webpack_require__(129);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _linearRegression=__webpack_require__(215);var _linearRegression2=_interopRequireDefault(_linearRegression);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF,win=window,hideFn=function hideFn(){this.hide()},POINTER="pointer",pi=Math.PI,DEFAULT_CURSOR=_lib.preDefStr.DEFAULT,pi2=2*pi,COLOR_WHITE="#FFFFFF",sameSign=function sameSign(a,b){return a*b>=0},lineIntersect=function intersect(x1,y1,x2,y2,x3,y3,x4,y4){var a1,a2,b1,b2,c1,c2,r1,r2,r3,r4,denom;a1=y2-y1;b1=x1-x2;c1=x2*y1-x1*y2;r3=a1*x3+b1*y3+c1;r4=a1*x4+b1*y4+c1;if(r3!==0&&r4!==0&&sameSign(r3,r4)){return 0}a2=y4-y3;b2=x3-x4;c2=x4*y3-x3*y4;r1=a2*x1+b2*y1+c2;r2=a2*x2+b2*y2+c2;if(r1!==0&&r2!==0&&sameSign(r1,r2)){return 0}denom=a1*b2-a2*b1;if(denom===0){return 1}return 1},lineIntersectsGrid=function lineIntersectsGrid(a,b,grid){if(isNaN(a.x)||isNaN(a.y)||isNaN(b.x)||isNaN(b.y)){return}return lineIntersect(a.x,a.y,b.x,b.y,grid.xMinWPad,grid.yMaxWPad,grid.xMaxWPad,grid.yMaxWPad)||lineIntersect(a.x,a.y,b.x,b.y,grid.xMaxWPad,grid.yMaxWPad,grid.xMaxWPad,grid.yMinWPad)||lineIntersect(a.x,a.y,b.x,b.y,grid.xMaxWPad,grid.yMinWPad,grid.xMinWPad,grid.yMinWPad)},getVisibilityRatio=function getVisibilityRatio(axis){var res=(axis.config.axisRange.max-axis.config.axisRange.min)/(axis.getVisibleConfig().maxValue-axis.getVisibleConfig().minValue);res=Math.round(res*1e3)/1e3;return res},numberNeighbours=function numberNeighbours(n){return[n-1,n,n+1]},inRange=function inRange(a,b,c){return a>=b&&a<=c},inRangeMod=function inRangeMod(a,b,c){return inRange(a,b,c)||inRange(a,c,b)},getFillColor=function getFillColor(color,opacity){opacity=parseFloat(opacity/100);if(opacity<0){opacity=0}else if(opacity>1){opacity=1}if(!color){color=COLOR_WHITE}if(_lib.isIE&&!_lib.hasSVG){return opacity?color:"transparent"}else{color=color.replace(/^#?([a-f0-9]+)/gi,"$1");color=(0,_libGraphics.HEXtoRGB)(color);color[3]=opacity.toString();return"rgba("+color.join(",")+")"}},getVisibleGridsIndex=function getVisibleGridsIndex(axis){var resArr=[],visibleConfig=axis.getVisibleConfig(),visibleRangeDiff=visibleConfig.maxValue-visibleConfig.minValue,visibleRangeMid=visibleConfig.minValue+visibleRangeDiff/2,focus,axisConfig=axis.config,axisRange=axisConfig.axisRange,focusedGrid;focus=Math.abs((visibleRangeMid-(axisConfig.isReverse?axisRange.max:axisRange.min))/visibleRangeDiff);focusedGrid=resArr.focusedGrid=Math.floor(focus);resArr.push(focusedGrid);if(focus%1>.5){resArr.push(focusedGrid+1)}else if(focus%1<.5){resArr.unshift(focusedGrid-1)}return resArr};var ZoomScatter=function(_Scatter){_inherits(ZoomScatter,_Scatter);function ZoomScatter(){_classCallCheck(this,ZoomScatter);return _possibleConstructorReturn(this,_Scatter.apply(this,arguments))}ZoomScatter.prototype.getType=function getType(){return"dataset"};ZoomScatter.prototype.getName=function getName(){return"zoomScatter"};ZoomScatter.prototype.configureAttributes=function configureAttributes(datasetJSON){_Scatter.prototype.configureAttributes.call(this,datasetJSON);var plotFillHoverColor,plotFillHoverAlpha,borderHoverColor,borderHoverThickness,borderHoverAlpha,showHoverEffect,staticRadius,dataset=this,conf=dataset.config,chart=dataset.getFromEnv("chart"),chartConfig=chart.config,chartAttr=chart.getFromEnv("dataSource").chart,userGivenBorderColor=(0,_lib.pluck)(datasetJSON.anchorbordercolor,chartAttr.anchorbordercolor),seriesAnchorBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(userGivenBorderColor,conf.plotBorderColor)),seriesAnchorBorderThickness=(0,_lib.pluckNumber)(datasetJSON.anchorborderthickness,chartAttr.anchorborderthickness,userGivenBorderColor?1:0),seriesAnchorBgColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(datasetJSON.anchorbgcolor,datasetJSON.color,chartAttr.anchorbgcolor,conf.plotColor)),seriesAnchorAlpha=(0,_lib.pluck)(datasetJSON.anchoralpha,datasetJSON.alpha,chartAttr.anchoralpha,_lib.HUNDREDSTRING),seriesAnchorBgAlpha=(0,_lib.pluck)(datasetJSON.anchorbgalpha,datasetJSON.alpha,chartAttr.anchorbgalpha,_lib.HUNDREDSTRING),lineColorObj={color:conf.lineColor,alpha:conf.lineAlpha};conf.plotCosmetics={fillStyle:getFillColor(seriesAnchorBgColor,seriesAnchorAlpha*seriesAnchorBgAlpha/100),strokeStyle:getFillColor(seriesAnchorBorderColor,seriesAnchorAlpha),borderWidth:seriesAnchorBorderThickness,lineWidth:conf.lineThickness,lineStrokeStyle:(0,_lib.toRaphaelColor)(lineColorObj)};dataset.config.JSONData=datasetJSON;conf.anchorBorderThickness=(0,_lib.pluckNumber)(datasetJSON.anchorborderthickness,chartAttr.anchorborderthickness,userGivenBorderColor?1:0);conf.chunkSize=Math.floor(Math.min((datasetJSON.data||[]).length/5,5e4));staticRadius=conf.staticRadius=(0,_lib.pluckNumber)(chartAttr.staticradius,0);conf.radius=(0,_lib.pluckNumber)(datasetJSON.radius,datasetJSON.anchorradius,chartAttr.radius,chartAttr.anchorradius,staticRadius?3:.5);showHoverEffect=conf.showHoverEffect;plotFillHoverColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(datasetJSON.plotfillhovercolor,datasetJSON.hovercolor,chartAttr.plotfillhovercolor,chartAttr.hovercolor,conf.anchorbgcolor));plotFillHoverAlpha=(0,_lib.pluck)(datasetJSON.plotfillhoveralpha,datasetJSON.hoveralpha,chartAttr.plotfillhoveralpha,chartAttr.hoveralpha,_lib.HUNDREDSTRING);borderHoverColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(datasetJSON.plotfillhovercolor,datasetJSON.hovercolor,chartAttr.plotfillhovercolor,chartAttr.hovercolor,plotFillHoverColor));borderHoverAlpha=(0,_lib.pluck)(datasetJSON.plotfillhoveralpha,datasetJSON.hoveralpha,chartAttr.plotfillhoveralpha,chartAttr.hoveralpha,_lib.HUNDREDSTRING);borderHoverThickness=(0,_lib.pluckNumber)(datasetJSON.borderhoverthickness,chartAttr.borderhoverthickness,1);conf.hoverCosmetics={showHoverEffect:showHoverEffect,fill:getFillColor(plotFillHoverColor,plotFillHoverAlpha),borderColor:getFillColor(borderHoverColor,borderHoverAlpha),borderThickness:borderHoverThickness};conf.tooltip={toolTipVisible:chartConfig.showtooltip,seriesNameInToolTip:chartConfig.seriesnameintooltip,toolTipSepChar:chartConfig.tooltipsepchar};conf.lastViewPort={};this.disableScrollBars();this.setState("dirty",true)};ZoomScatter.prototype.hasDrawingRefChanged=function hasDrawingRefChanged(){var dataset=this,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),dsConfig=dataset.config,axisConfig=dsConfig.axisConfig=dsConfig.axisConfig||{},res=false,currVizRatioX=getVisibilityRatio(xAxis),chartConfig=dataset.getFromEnv("chartConfig"),currVizRatioY=getVisibilityRatio(yAxis);res=axisConfig.xZoomScale!==currVizRatioX||axisConfig.yZoomScale!==currVizRatioY||dsConfig.prevCanvasHeight!==chartConfig.canvasHeight||dsConfig.prevCanvasWidth!==chartConfig.canvasWidth;axisConfig.xZoomScale=currVizRatioX;axisConfig.yZoomScale=currVizRatioY;dsConfig.prevCanvasHeight=chartConfig.canvasHeight;dsConfig.prevCanvasWidth=chartConfig.canvasWidth;return res};ZoomScatter.prototype.saveScrollPos=function saveScrollPos(){var dataset=this,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),dsConfig=dataset.config,axisConfig=dsConfig.axisConfig=dsConfig.axisConfig||{};axisConfig.xScrollPos=xAxis.config.apparentScrollPos;axisConfig.yScrollPos=yAxis.config.apparentScrollPos};ZoomScatter.prototype.disableScrollBars=function disableScrollBars(){var dataset=this,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis");xAxis.setScrollType("none");yAxis.setScrollType("none")};ZoomScatter.prototype.calculateZoomedRadius=function calculateZoomedRadius(){var dataset=this,dsConfig=dataset.config,chartConfig=dataset.getFromEnv("chart").config,axisConfig=dsConfig.axisConfig;dsConfig.zoomedRadius=Math.min(dsConfig.staticRadius?dsConfig.radius:dsConfig.radius*Math.min(axisConfig.xZoomScale,axisConfig.yZoomScale),chartConfig.canvasWidth/2,chartConfig.canvasHeight/2)};ZoomScatter.prototype.setupKdTree=function setupKdTree(){var dataset=this,data,datastore=dataset.components.data,ii=datastore.length,i,setVal,searchDataArr=[];for(i=0;i<ii;++i){data=datastore[i];setVal=data.config.setValue;if(isNaN(setVal.x)||isNaN(setVal.y)){continue}setVal.index=i;searchDataArr.push({x:setVal.x,y:setVal.y,index:i,data:data,r:1})}dataset.addJob("kdtree",function(){dataset.dataTree=(new _kdtree2["default"]).buildKdTree(searchDataArr)},_schedular.priorityList.kdTree)};ZoomScatter.prototype._getHoveredPlot=function _getHoveredPlot(x,y){var res,dataset=this,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),xVal,yVal;xVal=xAxis.getValue(x+xAxis.getTranslation());yVal=yAxis.getValue(y+yAxis.getTranslation());res=dataset.dataTree&&dataset.dataTree.getNeighbour({x:xVal,y:yVal,options:dataset.zoomRadiusOb},true);if(res){res.data.x=res.x;res.data.y=res.y;return{pointIndex:res.index||res.i,hovered:true,pointObj:res.data}}};ZoomScatter.prototype._decideTooltipType=function _decideTooltipType(plotIndex,e){var dataset=this,toolTipController=dataset.getFromEnv("toolTipController"),currentToolTip=dataset.config.currentToolTip,components=dataset.components,dataStore=components.data,data=dataStore[plotIndex],toolText=data&&(data.config.finalTooltext||data.config.toolText),originalEvent=e.originalEvent;if(toolText){if(currentToolTip){toolTipController.draw(originalEvent,toolText,currentToolTip)}else{currentToolTip=dataset.config.currentToolTip=toolTipController.draw(originalEvent,toolText)}}};ZoomScatter.prototype._firePlotEvent=function _firePlotEvent(eventType,plotIndex,e){var dataset=this,chart=dataset.getFromEnv("chart"),components=dataset.components,toolTipController=dataset.getFromEnv("toolTipController"),dataStore=components.data,data=dataStore[plotIndex],style=dataset.getFromEnv("paper").canvas.style,config,setLink;if(data){config=data.config;setLink=config.setLink;switch(eventType){case"mouseover":dataset._decideTooltipType(plotIndex,e);dataset.highlightPoint(dataset.config.showHoverEffect,data);chart.plotEventHandler(dataset.getGraphicalElement("tracker"),e,"dataplotRollover");setLink&&(style.cursor="pointer");break;case"mouseout":toolTipController.hide(dataset.config.currentToolTip);setLink&&(style.cursor=DEFAULT_CURSOR);dataset.highlightPoint(false);chart.plotEventHandler(dataset.getGraphicalElement("tracker"),e,"dataplotRollout");break;case"click":chart.plotEventHandler(dataset.getGraphicalElement("tracker"),e,"dataplotClick");break;case"mousemove":dataset._decideTooltipType(plotIndex,e)}}};ZoomScatter.prototype.highlightPoint=function highlightPoint(showHover,point){var dataset=this,chart=dataset.getFromEnv("chart"),chartConfig=chart.config,animationManager=dataset.getFromEnv("animationManager"),trackerCheck=dataset.getGraphicalElement("tracker"),tracker,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),datasetConfig=dataset&&dataset.config,radius=datasetConfig&&datasetConfig.zoomedRadius||0,hoverCosmetics=datasetConfig&&datasetConfig.hoverCosmetics,fill=hoverCosmetics&&hoverCosmetics.fill,borderColor=hoverCosmetics&&hoverCosmetics.borderColor,borderThickness=hoverCosmetics&&hoverCosmetics.borderThickness,attrObj={},setLink=point&&point.link;if(showHover){attrObj={r:radius,fill:fill,stroke:borderColor,"stroke-width":borderThickness,cx:xAxis.getPixel(point.x),cy:yAxis.getPixel(point.y)}}animationManager.setAnimationState(showHover?"mouseover":"mouseout");tracker=animationManager.setAnimation({el:trackerCheck||"circle",attr:showHover&&attrObj,container:dataset.getContainer("plotGroup"),component:dataset,doNotRemove:true,callback:!showHover&&hideFn});showHover&&tracker.show();if(!trackerCheck){dataset.addGraphicalElement("tracker",tracker)}point&&tracker.data("eventArgs",{x:point.x,y:point.y,tooltip:point.config.toolText,link:setLink});chartConfig.lastHoveredPoint=point;attrObj.cursor=setLink?POINTER:""};ZoomScatter.prototype.drawCommonElements=function drawCommonElements(){};ZoomScatter.prototype.animateCommonElements=function animateCommonElements(){};ZoomScatter.prototype.remove=function remove(){_Scatter.prototype.remove.call(this);this._deleteGridImages()};ZoomScatter.prototype.drawPlots=function drawPlots(){var dataset=this,animationManager=dataset.getFromEnv("animationManager"),xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),scaleX,scaleY,dsConfig=dataset.config,plotGroup=dataset.getContainer("plotGroup"),zoomedRadius,containerLine,containerPlot,prevContainerLine=dataset.getContainer("containerLine"),prevContainerPlot=dataset.getContainer("containerPlot"),quickRenderVisibleGrids=false,borderThickness=dataset.config.anchorBorderThickness;dataset.saveScrollPos();containerLine=animationManager.setAnimation({el:prevContainerLine||"group",attr:{name:"lineGroup"},container:plotGroup,component:dataset,label:"group"});containerPlot=animationManager.setAnimation({el:prevContainerPlot||"group",attr:{name:"plotGroup"},container:plotGroup,component:dataset,label:"group"});if(!dataset.getState("visible")){containerLine.hide();containerPlot.hide()}else{containerLine.show();containerPlot.show()}!prevContainerLine&&dataset.addContainer("containerLine",containerLine);!prevContainerPlot&&dataset.addContainer("containerPlot",containerPlot);if(dataset.hasDrawingRefChanged()||dataset.wasLastDrawPixelated||dataset.getState("dirty")){dataset.wasLastDrawPixelated=false;dataset.calculateZoomedRadius();scaleX=getVisibilityRatio(xAxis);scaleY=getVisibilityRatio(yAxis);zoomedRadius=dsConfig.radius*Math.min(scaleX,scaleY);dataset.zoomRadiusOb={rx:xAxis.getValue(zoomedRadius+borderThickness)-xAxis.getValue(0),ry:yAxis.getValue(0)-yAxis.getValue(zoomedRadius+borderThickness)};dataset._deleteGridImages();dataset._graphics._grid={};quickRenderVisibleGrids=true}dataset._gridDraw(quickRenderVisibleGrids);dataset.setState("dirty",false)};ZoomScatter.prototype._deleteGridImages=function _deleteGridImages(){var imageElem,lineImage,lineCanvas,canvasElem,gridElem,rowIndex,colIndex,row,dataset=this,datasetConfig=dataset.config,datasetGraphics=dataset._graphics,imagePool=datasetGraphics._imagePool||(datasetGraphics._imagePool=[]),canvasPool=datasetGraphics._canvasPool||(datasetGraphics._canvasPool=[]),lineImagePool=datasetGraphics._lineImagePool||(datasetGraphics._lineImagePool=[]),lineCanvasPool=datasetGraphics._lineCanvasPool||(datasetGraphics._lineCanvasPool=[]),grid=datasetGraphics._grid||[],batchDrawTimers=datasetConfig._batchDrawTimers;if(batchDrawTimers&&batchDrawTimers.length){while(batchDrawTimers.length){clearTimeout(batchDrawTimers.shift())}}for(rowIndex in grid){row=grid[rowIndex];if(row){for(colIndex in row){gridElem=row[colIndex];if(gridElem&&gridElem.drawState){imageElem=gridElem.image;imageElem.attr({src:"",width:0,height:0});imagePool.push(imageElem);delete gridElem.image;canvasElem=gridElem.canvas;canvasPool.push(canvasElem);delete gridElem.canvas;delete gridElem.ctx;if(lineImage=gridElem.lineImage){lineImage.attr({src:"",width:0,height:0});lineImagePool.push(lineImage);delete gridElem.lineImage;lineCanvas=gridElem.lineCanvas;lineCanvasPool.push(lineCanvas);delete gridElem.lineCanvas;delete gridElem.lineCtx}}}}}delete datasetGraphics._grid};ZoomScatter.prototype._gridDraw=function _gridDraw(quickRenderVisibleGrids){var dataset=this,datasetConfig=dataset.config;clearTimeout(datasetConfig.timer);if(quickRenderVisibleGrids){dataset._gridManager()}else{datasetConfig.timer=setTimeout(function(){dataset._gridManager()},10)}};ZoomScatter.prototype.getAllGrids=function getAllGrids(){var dataset=this,dsConfig=dataset.config,chartConfig=dataset.getFromEnv("chart").config,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),visibleXGrids=getVisibleGridsIndex(xAxis),visibleYGrids=getVisibleGridsIndex(yAxis),nineGridsXIndices=numberNeighbours(visibleXGrids.focusedGrid),nineGridsYIndices=numberNeighbours(visibleYGrids.focusedGrid),visibleArr=[],nearByArr=[],i=0,j=0,datasetGraphics=dataset._graphics,grids=datasetGraphics._grid,row={},element,scaleX=getVisibilityRatio(xAxis),scaleY=getVisibilityRatio(yAxis),noRow=Math.ceil(scaleY),noCol=Math.ceil(scaleX),startRow=Math.max(visibleYGrids.focusedGrid-1,0),endRow=Math.min(visibleYGrids.focusedGrid+1,noRow-1),startCol=Math.max(visibleXGrids.focusedGrid-1,0),endCol=Math.min(visibleXGrids.focusedGrid+1,noCol-1),cellWidth=xAxis.getAxisConfig("axisDimention").axisLength||chartConfig.canvasWidth,cellHeight=yAxis.getAxisConfig("axisDimention").axisLength||chartConfig.canvasHeight,xAxisConfig=xAxis.config,yAxisConfig=yAxis.config,xMin=xAxisConfig.axisRange.min,xMax=xAxisConfig.axisRange.max,yMin=yAxisConfig.axisRange.min,yMax=yAxisConfig.axisRange.max,radius=dsConfig.radius*Math.min(scaleX,scaleY),borderWidth=dsConfig.plotCosmetics.borderWidth,padPx=radius+borderWidth,xRadiusPad=Math.abs(padPx/(cellWidth*scaleX/(xAxis.config.axisRange.max-xAxis.config.axisRange.min))),yRadiusPad=Math.abs(padPx/(cellHeight*scaleY/(yAxis.config.axisRange.max-yAxis.config.axisRange.min))),xRightValue,xLeftValue,yTopValue,yBottomValue,appliedLeftXPad,appliedRightXPad,gridY,gridX,yRefPx=yAxis.getPixel(yAxis.config.axisRange.max),xRefPx=xAxis.getPixel(xAxis.config.axisRange.min);if(!grids){dataset.config.grids=grids={}}for(i=startRow;i<=endRow;++i){grids[i]=row=grids[i]||{};gridY=yRefPx+i*cellHeight;yTopValue=yAxis.getValue(gridY);yBottomValue=yAxis.getValue(gridY+cellHeight);for(j=startCol;j<=endCol;++j){appliedLeftXPad=j===0?padPx:0;appliedRightXPad=j===noCol-1?padPx:0;gridX=xRefPx+j*cellWidth-appliedLeftXPad;xLeftValue=xAxis.getValue(gridX);xRightValue=xAxis.getValue(gridX+cellWidth+appliedLeftXPad+appliedRightXPad);row[j]=element=row[j]||{xPixel:gridX,width:Math.abs(xAxis.getPixel(xRightValue)-gridX),yPixel:gridY,height:yAxis.getPixel(yBottomValue)-gridY,xLeftValue:xLeftValue,yTopValue:yTopValue,xRightValue:xRightValue,yBottomValue:yBottomValue,drawState:0,xMinWPad:Math.max(Math.min(xLeftValue,xRightValue)-xRadiusPad,xMin),yMinWPad:Math.max(Math.min(yTopValue,yBottomValue)-yRadiusPad,yMin),xMaxWPad:Math.min(Math.max(xLeftValue,xRightValue)+xRadiusPad,xMax),yMaxWPad:Math.min(Math.max(yTopValue,yBottomValue)+yRadiusPad,yMax),i:i,j:j};if(!element.drawState){if(~visibleXGrids.indexOf(j)&&~visibleYGrids.indexOf(i)){visibleArr.push(element)}else if(~nineGridsXIndices.indexOf(j)&&~nineGridsYIndices.indexOf(i)){nearByArr.push(element)}}}}return{focused:visibleArr,nearBy:nearByArr}};ZoomScatter.prototype.allocatePosition=function allocatePosition(){var dataset=this,datasetConfig=dataset.config,dsStore=dataset.components.data,dsStoreLength=dsStore.length,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),cx,cy,i,element,config,radius=datasetConfig.zoomedRadius;for(i=0;i<dsStoreLength;i++){config=dsStore[i].config;element=config.setValue;cx=xAxis.getPixel(element.x);cy=yAxis.getPixel(element.y);config.props={element:{attr:{polypath:[0,cx,cy,radius||config.anchorProps.radius]}},label:{attr:{}}}}};ZoomScatter.prototype._gridManager=function _gridManager(){var dataset=this,gridsOb={},callback;gridsOb=dataset.getAllGrids();dataset.config._drawGrid=gridsOb.focused;if(gridsOb.focused.length||gridsOb.nearBy.length){dataset.config._drawGrid=gridsOb.focused;callback=function callback(){dataset.config._drawGrid=gridsOb.nearBy;dataset._drawGridArr()};dataset._drawGridArr(callback)}};ZoomScatter.prototype._drawGridArr=function _drawGridArr(callBack){var gridElem,canvasElem,lineCanvasElem,ctx,lineCtx,dataset=this,datasetConfig=dataset.config,drawLine=datasetConfig.drawLine,gridIndexArr=datasetConfig._drawGrid,gridSubArr=[],animationManager=dataset.getFromEnv("animationManager"),containerLine=dataset.getContainer("containerLine"),containerPlot=dataset.getContainer("containerPlot"),xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),width,height,scaleX=getVisibilityRatio(xAxis),scaleY=getVisibilityRatio(yAxis),imagePool=dataset._graphics._imagePool||[],canvasPool=dataset._graphics._canvasPool||[],lineImagePool=dataset._graphics._lineImagePool||[],lineCanvasPool=dataset._graphics._lineCanvasPool||[],plotCosmetics=datasetConfig.plotCosmetics,radius=datasetConfig.radius*Math.min(scaleX,scaleY),gridX,gridY;if(gridIndexArr.length){while(gridIndexArr.length){gridElem=gridIndexArr.shift();gridX=gridElem.xPixel;gridY=gridElem.yPixel;width=gridElem.width;height=gridElem.height;if(gridElem.drawState===2){continue}gridElem.drawState=2;if(drawLine){if(lineImagePool.length){gridElem.lineImage=lineImagePool.shift()}gridElem.lineImage=animationManager.setAnimation({el:gridElem.lineImage||"image",attr:{x:gridX,y:gridY,width:width,height:height},container:containerLine,component:dataset,label:"image"});if(lineCanvasPool.length){gridElem.lineCanvas=lineCanvasElem=lineCanvasPool.shift()}else{gridElem.lineCanvas=lineCanvasElem=win.document.createElement("canvas")}lineCanvasElem.setAttribute("width",width);lineCanvasElem.setAttribute("height",height);lineCtx=gridElem.lineCtx=lineCanvasElem.getContext("2d");lineCtx.fillStyle=plotCosmetics.fillStyle;lineCtx.strokeStyle=plotCosmetics.lineStrokeStyle;lineCtx.lineWidth=plotCosmetics.lineWidth}if(imagePool.length){gridElem.image=imagePool.shift()}gridElem.image=animationManager.setAnimation({el:gridElem.image||"image",attr:{x:gridX,y:gridY,width:width,height:height},container:containerPlot,component:dataset,label:"image"});if(canvasPool.length){gridElem.canvas=canvasElem=canvasPool.shift()}else{gridElem.canvas=canvasElem=win.document.createElement("canvas")}canvasElem.setAttribute("width",width);canvasElem.setAttribute("height",height);ctx=gridElem.ctx=canvasElem.getContext("2d");if(radius<1){ctx.strokeStyle=plotCosmetics.fillStyle;ctx.lineWidth=.5}else{ctx.fillStyle=plotCosmetics.fillStyle;ctx.strokeStyle=plotCosmetics.strokeStyle;ctx.lineWidth=plotCosmetics.borderWidth}gridSubArr.push(gridElem)}datasetConfig._batchDrawindex=dataset.config.JSONData.data&&dataset.config.JSONData.data.length-1||0;dataset._drawGridArrBatch(gridSubArr,callBack,!datasetConfig.animation.enabled)}else{callBack&&callBack()}};ZoomScatter.prototype._drawGridArrBatch=function _drawGridArrBatch(gridArr,callBack,doNotUpdateImage){var cx,cy,cx1,cx2,cy1,cy2,storeX,j,gridElem,ctx,lineCtx,element,leftElement,rightElement,lineImage,lineCanvas,image,canvas,regresionPoints,dataset=this,datasetConfig=dataset.config,drawLine=datasetConfig.drawLine,plotCosmetics=datasetConfig.plotCosmetics,i=datasetConfig._batchDrawindex,arr=dataset.components.data,chunkSize=datasetConfig.chunkSize,endIndex=i-chunkSize,xAxis=dataset.getFromEnv("xAxis"),yAxis=dataset.getFromEnv("yAxis"),chart=dataset.getFromEnv("chart"),animationManager=dataset.getFromEnv("animationManager"),dataSource=chart.getFromEnv("dataSource"),JSONData=datasetConfig.JSONData,radius=datasetConfig.zoomedRadius,regressionStatus=(0,_lib.pluckNumber)(JSONData.showregressionline,chart.config.showregressionline,0),regressionLineColor,regressionLineThickness,regressionLineAlpha,_store=datasetConfig._store||[],doStroke=plotCosmetics.lineWidth||radius<1,leftElCx,leftElCy;if(regressionStatus){regressionLineColor=(0,_lib.toRaphaelColor)((0,_lib.pluck)(JSONData.regressionlinecolor,dataSource.chart.regressionlinecolor,datasetConfig.anchorbordercolor,datasetConfig.lineColor,"fff000"));regressionLineThickness=(0,_lib.pluckNumber)(JSONData.regressionlinethickness,dataSource.chart.regressionlinethickness,1);regressionLineAlpha=(0,_lib.pluckNumber)(JSONData.regressionlinealpha,dataSource.chart.regressionlinealpha,100)/100}for(j=0;j<gridArr.length;j+=1){gridArr[j].ctx.beginPath();if(drawLine){gridArr[j].lineCtx.beginPath()}}endIndex=endIndex<=0?0:endIndex;for(;i>=endIndex;i-=1){element=arr[i]&&arr[i].config.setValue;if(!element||isNaN(element.x)||isNaN(element.y)){continue}for(j=0;j<gridArr.length;j+=1){gridElem=gridArr[j];if(!inRangeMod(element.x,gridElem.xMinWPad,gridElem.xMaxWPad)||!inRangeMod(element.y,gridElem.yMinWPad,gridElem.yMaxWPad)){if(drawLine&&i&&lineIntersectsGrid(element,arr[i-1].config.setValue,gridElem)){leftElement=arr[i-1].config.setValue;leftElCx=xAxis.getPixel(leftElement.x)-gridElem.xPixel;leftElCy=yAxis.getPixel(leftElement.y)-gridElem.yPixel;cx=xAxis.getPixel(element.x)-gridElem.xPixel;cy=yAxis.getPixel(element.y)-gridElem.yPixel;lineCtx=gridElem.lineCtx;lineCtx.moveTo(Math.round(leftElCx),Math.round(leftElCy));lineCtx.lineTo(cx,cy)}continue}ctx=gridElem.ctx;lineCtx=gridElem.lineCtx;cx=xAxis.getPixel(element.x)-gridElem.xPixel;cy=yAxis.getPixel(element.y)-gridElem.yPixel;storeX=_store[cx];if(!storeX){storeX=_store[cx]={}}if(!storeX[cy]){storeX[cy]=true;if(drawLine){leftElement=i&&arr[i-1].config.setValue;rightElement=i<arr.length-1&&arr[i+1].config.setValue;if(leftElement&&!isNaN(leftElement.x)&&!isNaN(leftElement.y)){leftElCx=xAxis.getPixel(leftElement.x)-gridElem.xPixel;leftElCy=yAxis.getPixel(leftElement.y)-gridElem.yPixel;lineCtx.moveTo(Math.round(leftElCx),Math.round(leftElCy));lineCtx.lineTo(cx,cy);if((!inRangeMod(rightElement.x,gridElem.xMinWPad,gridElem.xMaxWPad)||!inRangeMod(rightElement.y,gridElem.yMinWPad,gridElem.yMaxWPad))&&!isNaN(rightElement.x)&&!isNaN(rightElement.y)){lineCtx.lineTo(xAxis.getPixel(rightElement.x)-gridElem.xPixel,yAxis.getPixel(rightElement.y)-gridElem.yPixel)}}}if(radius<1){ctx.moveTo(cx,cy);ctx.lineTo(cx+1,cy)}else{ctx.moveTo(cx+radius,cy);ctx.arc(cx,cy,radius,0,pi2)}}}}for(j=0;j<gridArr.length;j+=1){gridElem=gridArr[j];ctx=gridElem.ctx;ctx.fill();doStroke&&ctx.stroke();ctx.closePath();if(drawLine){lineCtx=gridElem.lineCtx;doStroke&&lineCtx.stroke();lineCtx.closePath()}}datasetConfig._batchDrawindex=i;if(i>=0){if(!doNotUpdateImage){for(j=0;j<gridArr.length;j+=1){image=gridArr[j].image;canvas=gridArr[j].canvas;animationManager.setAnimation({el:image,attr:{src:canvas.toDataURL("image/png")},component:dataset});if(datasetConfig.drawLine){lineImage=gridArr[j].lineImage;lineCanvas=gridArr[j].lineCanvas;animationManager.setAnimation({el:lineImage,src:canvas.toDataURL("image/png"),component:dataset})}}}(datasetConfig._batchDrawTimers||(datasetConfig._batchDrawTimers=[])).push(setTimeout(function(){dataset.getFromEnv("chart")&&dataset._drawGridArrBatch(gridArr,callBack,doNotUpdateImage)},0))}else{dataset.setupKdTree();delete datasetConfig._store;if(regressionStatus){regresionPoints=datasetConfig.regressionPoints;for(j=0;j<gridArr.length;j+=1){gridElem=gridArr[j];image=gridElem.image;canvas=gridElem.canvas;ctx=gridElem.ctx;if(!regresionPoints.length){continue}cx1=xAxis.getPixel(regresionPoints[0].x)-gridElem.xPixel;cy1=yAxis.getPixel(regresionPoints[0].y)-gridElem.yPixel;cx2=xAxis.getPixel(regresionPoints[1].x)-gridElem.xPixel;cy2=yAxis.getPixel(regresionPoints[1].y)-gridElem.yPixel;ctx.beginPath();ctx.strokeStyle=regressionLineColor;ctx.lineWidth=regressionLineThickness;ctx.globalAlpha=regressionLineAlpha;ctx.moveTo(cx1,cy1);ctx.lineTo(cx2,cy2);ctx.stroke();ctx.closePath()}}for(j=0;j<gridArr.length;j+=1){gridElem=gridArr[j];image=gridElem.image;canvas=gridElem.canvas;gridElem.drawState=1;animationManager.setAnimation({el:image,attr:{src:canvas.toDataURL("image/png")},component:dataset});if(drawLine){lineImage=gridElem.lineImage;lineCanvas=gridElem.lineCanvas;animationManager.setAnimation({el:lineImage,attr:{src:lineCanvas.toDataURL("image/png")},component:dataset})}}callBack&&callBack()}};ZoomScatter.prototype.getRegressionPoints=function getRegressionPoints(){var dataset=this,regressionPoints=dataset.config.regressionPoints,xMax=-Infinity,xMin=Infinity,yMax=-Infinity,yMin=Infinity,i,regPointsLength;if(!regressionPoints||!regressionPoints.length){return}regPointsLength=regressionPoints.length;for(i=0;i<regPointsLength;i++){xMax=Math.max(xMax,regressionPoints[i].x);xMin=Math.min(xMin,regressionPoints[i].x);yMax=Math.max(yMax,regressionPoints[i].y);yMin=Math.min(yMin,regressionPoints[i].y)}return{max:yMax,min:yMin,xMax:xMax,xMin:xMin}};ZoomScatter.prototype.show=function show(){var dataSet=this,lineGroup=dataSet.getContainer("containerLine"),plotGroup=dataSet.getContainer("containerPlot"),legend=dataSet.getFromEnv("legend");if(legend&&legend.getItem(dataSet.config.legendItemId)){legend.getItem(dataSet.config.legendItemId).removeLegendState("hidden")}dataSet.setState("visible",true);lineGroup.show();plotGroup.show();dataSet.setState("dirty",true)};ZoomScatter.prototype.setContainerVisibility=function setContainerVisibility(){};ZoomScatter.prototype.draw=function draw(){var dataSet=this,conf=dataSet.config,xAxis=dataSet.getFromEnv("xAxis"),xAxisZeroPos=xAxis.getPixel(0),xAxisFirstPos=xAxis.getPixel(1),groupMaxWidth=dataSet.getFromEnv("groupMaxWidth"),drawn=conf.drawn,scrollMinValForLabel,scrollMaxValForLabel,skipInfo=dataSet.getSkippingInfo&&dataSet.getSkippingInfo()||{},skippingApplied=skipInfo.skippingApplied;if(!groupMaxWidth){groupMaxWidth=Math.abs(xAxisFirstPos-xAxisZeroPos);dataSet.addToEnv("groupMaxWidth",groupMaxWidth)}!drawn&&dataSet.createContainer();dataSet.setContainerVisibility(true);if(skippingApplied){dataSet.hidePlots()}dataSet.drawPlots();dataSet.drawCommonElements&&!dataSet.config.skipCommonElements&&dataSet.drawCommonElements();conf.drawn?dataSet.drawLabel(scrollMinValForLabel,scrollMaxValForLabel):dataSet.addJob("labelDrawID",function(){dataSet.drawLabel(scrollMinValForLabel,scrollMaxValForLabel)},_schedular.priorityList.label);conf.drawn=true;dataSet.removePlots()};ZoomScatter.prototype.hide=function hide(){var dataSet=this,lineGroup=dataSet.getContainer("containerLine"),plotGroup=dataSet.getContainer("containerPlot"),legend=dataSet.getFromEnv("legend");if(legend&&legend.getItem(dataSet.config.legendItemId)){legend.getItem(dataSet.config.legendItemId).setLegendState("hidden")}lineGroup.hide();plotGroup.hide();dataSet.setState("dirty",true);dataSet.setState("visible",false)};ZoomScatter.prototype._addLegend=function _addLegend(){var dataset=this,chart=dataset.getFromEnv("chart"),chartAttr=chart.getFromEnv("dataSource").chart,legend=chart.getFromEnv("legend"),conf=dataset.config,legendItem,config,JSONData=dataset.config.JSONData,userGivenBorderColor=(0,_lib.pluck)(JSONData.anchorbordercolor,chartAttr.anchorbordercolor),seriesAnchorBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(userGivenBorderColor,conf.plotBorderColor)),seriesAnchorBgColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(JSONData.anchorbgcolor,JSONData.color,chartAttr.anchorbgcolor,conf.plotColor)),seriesAnchorAlpha=(0,_lib.pluck)(JSONData.anchoralpha,JSONData.alpha,chartAttr.anchoralpha,_lib.HUNDREDSTRING),seriesAnchorBgAlpha=(0,_lib.pluck)(JSONData.anchorbgalpha,JSONData.alpha,chartAttr.anchorbgalpha,_lib.HUNDREDSTRING),fillColor=getFillColor(seriesAnchorBgColor,seriesAnchorAlpha*seriesAnchorBgAlpha/100),strokeColor=getFillColor(seriesAnchorBorderColor,seriesAnchorAlpha);config={enabled:conf.includeInLegend,type:dataset.type,anchorSide:2,label:(0,_lib.getFirstValue)(dataset.config.JSONData.seriesname)};if(conf.includeinlegend){legendItem=legend.getItem(dataset.config.legendItemId);if(!legendItem){dataset.config.legendItemId=legend.createItem(dataset);legendItem=legend.getItem(dataset.config.legendItemId);dataset.addExtEventListener("click",function(){legendItem.itemClickFn()},legendItem)}else{legendItem.configure({style:legend.config.itemStyle,hiddenStyle:legend.config.itemHiddenStyle,datasetVisible:legend.config.datasetVisible,hoverStyle:legend.config.itemHoverStyle})}legendItem.configure(config);legendItem.setStateCosmetics("default",{symbol:{fill:fillColor,stroke:strokeColor,rawFillColor:seriesAnchorBgColor,rawStrokeColor:conf.anchorbordercolor,"stroke-width":conf.anchorBorderThickness}});if(!dataset.getState("visible")){legendItem.setLegendState("hidden")}else{legendItem.removeLegendState("hidden")}}else if(dataset.config.legendItemId){legend.disposeItem(dataset.config.legendItemId)}};ZoomScatter.prototype._setConfigure=function _setConfigure(){var i,config,dataObj,setData,setValue,toolText,toolTipValue,macroIndices,parserConfig,formatedVal,formatedValX,setDisplayValue,infMin=-Infinity,infMax=+Infinity,yMax=infMin,yMin=infMax,xMin=infMax,xMax=infMin,dataset=this,dataStore=dataset.components.data||(dataset.components.data=[]),chart=dataset.getFromEnv("chart"),conf=dataset.config,JSONData=dataset.config.JSONData,chartAttr=chart.getFromEnv("dataSource").chart,setDataArr=JSONData.data||[],datasetLen=setDataArr.length,numberFormatter=dataset.getFromEnv("number-formatter"),yAxisName=(0,_lib.parseUnsafeString)(chartAttr.yaxisname),xAxisName=(0,_lib.parseUnsafeString)(chartAttr.xaxisname),lineDashed=conf.lineDashed,lineDashStyle=conf.lineDashStyle,regressionStatus=(0,_lib.pluckNumber)(JSONData.showregressionline,chart.config.showregressionline,0),regressionShowYonX=(0,_lib.pluckNumber)(JSONData.showyonx,chartAttr.showyonx,1),parentYAxis=conf.parentYAxis,tooltipSepChar=conf.toolTipSepChar,seriesname=conf.seriesname;for(i=0;i<datasetLen;i+=1){setData=setDataArr[i];dataObj=dataStore[i]||(dataStore[i]={});config=dataObj.config||(dataObj.config={});config.setValue=setValue={x:numberFormatter.getCleanValue(setData.x),y:numberFormatter.getCleanValue(setData.y),index:i};if(xMax<setValue.x){xMax=setValue.x;conf.rightMostData=dataObj}if(xMin>setValue.x){xMin=setValue.x;conf.leftMostData=dataObj}yMax=Math.max(yMax,setValue.y);yMin=Math.min(yMin,setValue.y);conf.showRegressionLine&&this.pointValueWatcher(setValue.x,setValue.y,conf.regressionObj);config.setLink=(0,_lib.pluck)(setData.link);config.anchorProps=this._parseAnchorProperties(i);config.showValue=(0,_lib.pluckNumber)(setData.showvalue,conf.showValues);config.dashed=(0,_lib.pluckNumber)(setData.dashed,lineDashed);config.color=(0,_lib.pluck)(setData.color,conf.lineColor);config.alpha=(0,_lib.pluck)(setData.alpha,conf.lineAlpha);config.dashStyle=config.dashed?lineDashStyle:"none";config.toolTipValue=toolTipValue=numberFormatter.dataLabels(setValue.y,parentYAxis);config.setDisplayValue=setDisplayValue=(0,_lib.parseUnsafeString)(setData.displayvalue);formatedVal=config.formatedVal=(0,_lib.pluck)(setData.toolTipValue,numberFormatter.dataLabels(setValue.y,parentYAxis));formatedValX=numberFormatter.xAxis(setValue.x);config.displayValue=(0,_lib.pluck)(setDisplayValue,toolTipValue);config.setTooltext=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.tooltext,conf.plotToolText)));if(!conf.showTooltip){toolText=false}else if(config.setTooltext!==UNDEF){macroIndices=[4,5,6,7,8,9,10,11];parserConfig={yaxisName:yAxisName,xaxisName:xAxisName,yDataValue:formatedVal,xDataValue:formatedValX};toolText=(0,_lib.parseTooltext)(config.setTooltext,macroIndices,parserConfig,setData,chartAttr,JSONData)}else{if(formatedVal===null){toolText=false}else{toolText=seriesname?seriesname+tooltipSepChar:_lib.BLANKSTRING;toolText+=setValue.x?formatedValX+tooltipSepChar:_lib.BLANKSTRING;toolText+=toolTipValue}}config.toolText=toolText;if(!dataObj){dataObj=dataStore[i]={graphics:{}}}else if(!dataObj.graphics){dataStore[i].graphics={}}config.hoverEffects=this._parseHoverEffectOptions(dataObj);config.anchorProps.isAnchorHoverRadius=config.hoverEffects.anchorRadius}conf.xMax=xMax;conf.xMin=xMin;conf.yMin=yMin;conf.yMax=yMax;if(regressionStatus){conf.regressionPoints=(0,_linearRegression2["default"])(JSONData.data.slice(),regressionShowYonX)[1]}else{conf.regressionPoints=[]}dataset.ErrorValueConfigure&&dataset.ErrorValueConfigure()};return ZoomScatter}(_scatter2["default"]);exports["default"]=ZoomScatter},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.symbolList=undefined;var _dependencyManager=__webpack_require__(125);var Raphael=(0,_dependencyManager.getDep)("redraphael","plugin"),mathCos=Math.cos,mathSin=Math.sin,PI=Math.PI,symbolList=void 0;exports.symbolList=symbolList={pinModeIcon:function pinModeIcon(posx,posy,rad){var x=posx,y=posy,r=rad,r1=r*.5,r2=r-r1,x1=x-r,x2=x+r,x3=x-r1,x4=x+r1,x5=x-.5,x6=x+.5,x7=x6+1,x8=x6+1.5,y1=y-r,y2=y+r1,y3=y-r1,y4=y+r2,y5=y+r+.5;return["M",x1,y1,"L",x3,y3,x3,y4,x1,y2,x5,y2,x,y5,x6,y2,x2,y2,x4,y4,x4,y3,x2,y1,x8,y1,x8,y3,x8,y4,x7,y4,x7,y3,x8,y3,x8,y1,"Z"]},zoomOutIcon:function zoomOutIcon(x,y,radius){var icoX=x-radius*.2,icoY=y-radius*.2,rad=radius*.8,startAngle=Raphael.rad(43),endAngle=Raphael.rad(48),startX=icoX+rad*mathCos(startAngle),startY=icoY+rad*mathSin(startAngle),endX=icoX+rad*mathCos(endAngle),endY=icoY+rad*mathSin(endAngle),handleHeight=radius,handAngle=Raphael.rad(45),handX1=startX+handleHeight*mathCos(handAngle),handY1=startY+handleHeight*mathSin(handAngle),handX2=endX+handleHeight*mathCos(handAngle),handY2=endY+handleHeight*mathSin(handAngle),semiW=2;return["M",startX,startY,"A",rad,rad,0,1,0,endX,endY,"Z","M",startX+1,startY+1,"L",handX1,handY1,handX2,handY2,endX+1,endY+1,"Z","M",icoX-semiW,icoY,"L",icoX+semiW,icoY,"Z"]},resetIcon:function resetIcon(x,y,radius){var r=radius,startX=x-r,startY=y,endAngle=(PI/2+PI)/2,endX=x+r*mathCos(endAngle),endY=y+r*mathSin(endAngle),arrowLength=r*2/3,paths=["M",startX,startY,"A",r,r,0,1,1,endX,endY,"L",endX+arrowLength,endY-1,endX+2,endY+arrowLength-.5,endX,endY];return paths},zoomInIcon:function zoomInIcon(x,y,radius){var icoX=x-radius*.2,icoY=y-radius*.2,rad=radius*.8,startAngle=Raphael.rad(43),endAngle=Raphael.rad(48),startX=icoX+rad*mathCos(startAngle),startY=icoY+rad*mathSin(startAngle),endX=icoX+rad*mathCos(endAngle),endY=icoY+rad*mathSin(endAngle),handleHeight=radius,handAngle=Raphael.rad(45),handX1=startX+handleHeight*mathCos(handAngle),handY1=startY+handleHeight*mathSin(handAngle),handX2=endX+handleHeight*mathCos(handAngle)-1,handY2=endY+handleHeight*mathSin(handAngle)-1,semiW=2;return["M",startX,startY,"A",rad,rad,0,1,0,endX,endY,"Z","M",startX+1,startY+1,"L",handX1,handY1,handX2,handY2,endX+1,endY+1,"Z","M",icoX-semiW,icoY,"L",icoX+semiW,icoY,"Z","M",icoX,icoY-semiW,"L",icoX,icoY+semiW,"Z"]},zoomModeIcon:function zoomModeIcon(cx,cy,radius){var x=cx,path=[],y=cy,icoX=x-radius*.2,icoY=y-radius*.2,rad=radius*.8,startAngle=Raphael.rad(43),endAngle=Raphael.rad(48),startX=icoX+rad*mathCos(startAngle),startY=icoY+rad*mathSin(startAngle),endX=icoX+rad*mathCos(endAngle),endY=icoY+rad*mathSin(endAngle),handleHeight=radius,handAngle=Raphael.rad(45),handX1=startX+handleHeight*mathCos(handAngle),handY1=startY+handleHeight*mathSin(handAngle),handX2=endX+handleHeight*mathCos(handAngle)-1,handY2=endY+handleHeight*mathSin(handAngle)-1,semiW=2;path=path.concat(["M",startX,startY,"A",rad,rad,0,1,0,endX,endY,"Z","M",startX+1,startY+1,"L",handX1,handY1,handX2,handY2,handX2+1,handY2-1,handX2+1.5,handY2+1.5,handX2-1,handY2+1,handX2,handY2,endX+1,endY+1,"Z","M",icoX-semiW,icoY,"L",icoX+semiW,icoY,"Z","M",icoX,icoY-semiW,"L",icoX,icoY+semiW,"Z"]);return path},panModeIcon:function panModeIcon(cx,cy,radius){var x=cx-45/4,y=cy;x=cx;radius*=2.5;return[].concat(["M",x-radius/16,y-radius/8,"L",x+radius/16,y-radius/8,"L",x+radius/16,y-radius/3.2,"L",x+6*radius/32,y-10*radius/32,"L",x,y-radius/2,"L",x-6*radius/32,y-10*radius/32,"L",x-radius/16,y-radius/3.2,"Z","M",x+4*radius/32,y-2*radius/32,"L",x+10*radius/32,y-2*radius/32,"L",x+10*radius/32,y-6*radius/32,"L",x+16*radius/32,y,"L",x+10*radius/32,y+6*radius/32,"L",x+10*radius/32,y+2*radius/32,"L",x+4*radius/32,y+2*radius/32,"Z","M",x+2*radius/32,y+5*radius/32,"L",x+2*radius/32,y+10*radius/32,"L",x+6*radius/32,y+10*radius/32,"L",x,y+16*radius/32,"L",x-6*radius/32,y+10*radius/32,"L",x-2*radius/32,y+10*radius/32,"L",x-2*radius/32,y+5*radius/32,"Z","M",x-4*radius/32,y-2*radius/32,"L",x-10*radius/32,y-2*radius/32,"L",x-10*radius/32,y-6*radius/32,"L",x-16*radius/32,y,"L",x-10*radius/32,y+6*radius/32,"L",x-10*radius/32,y+2*radius/32,"L",x-4*radius/32,y+2*radius/32,"Z"])}};exports.symbolList=symbolList},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports._checkInvalidSpecificData=undefined;var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);var _column=__webpack_require__(331);var _column2=_interopRequireDefault(_column);var _cartesian=__webpack_require__(409);var _cartesian2=_interopRequireDefault(_cartesian);var _msstackedcolumnDataset=__webpack_require__(428);var _msstackedcolumnDataset2=_interopRequireDefault(_msstackedcolumnDataset);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var __checkInvalidSpecificData=function __checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource"),datasetsJSON=jsonData.dataset,categories=jsonData.categories,i=void 0;if(!datasetsJSON||!categories){return true}if(i=datasetsJSON.length){while(i--){if(!datasetsJSON[i].dataset){return true}}}};var MSStackedColumn2D=function(_MSCartesian){_inherits(MSStackedColumn2D,_MSCartesian);function MSStackedColumn2D(){_classCallCheck(this,MSStackedColumn2D);var _this=_possibleConstructorReturn(this,_MSCartesian.call(this));_this.registerFactory("dataset",_msstackedcolumnDataset2["default"],["vCanvas"]);return _this}MSStackedColumn2D.getName=function getName(){return"MSStackedColumn2D"};MSStackedColumn2D.prototype._checkInvalidSpecificData=function _checkInvalidSpecificData(){return __checkInvalidSpecificData.call(this)};MSStackedColumn2D.prototype.getName=function getName(){return"MSStackedColumn2D"};MSStackedColumn2D.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Multi-series Stacked Column Chart";config.defaultDatasetType="column";config.isstacked=true;config.enablemousetracking=true};MSStackedColumn2D.prototype.getDSdef=function getDSdef(){return _column2["default"]};MSStackedColumn2D.prototype.getDSGroupdef=function getDSGroupdef(){return _cartesian2["default"]};return MSStackedColumn2D}(_mscartesian2["default"]);exports["default"]=MSStackedColumn2D;exports._checkInvalidSpecificData=__checkInvalidSpecificData},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var jsonData=chart.getFromEnv("dataSource"),pDatasetsJSON=jsonData.dataset,pLength=pDatasetsJSON&&pDatasetsJSON.length,i=void 0,length=void 0,prevLength=0,datasetsJSON=void 0,canvas=chart.getChildren("canvas")[0],vCanvas=canvas.getChildren("vCanvas")[0],indices=void 0,stackGroups=void 0,stackConf=[],stackGroupParent=void 0;if(!pDatasetsJSON){chart.setChartMessage();return}(0,_lib.componentFactory)(vCanvas,_column2["default"],"multiSeriesGroup_column");stackGroupParent=vCanvas.getChildren("multiSeriesGroup_column")[0];for(i=0;i<pLength;i++){stackConf.push(pDatasetsJSON[i].dataset)}(0,_lib.componentFactory)(stackGroupParent,chart.getDSGroupdef(),"stackedGroup_column",pLength,stackConf);stackGroups=stackGroupParent.getChildren("stackedGroup_column");for(i=0;i<stackGroups.length;i++){if(stackGroups[i].getState("removed")!==true){datasetsJSON=pDatasetsJSON[i].dataset;if(!datasetsJSON){chart.setChartMessage();return}length=datasetsJSON&&datasetsJSON.length;indices=Array(length).fill(i*prevLength).map(function(n,j){return n+j});(0,_lib.datasetFactory)(stackGroups[i],chart.getDSdef(),"dataset_column",length,datasetsJSON,indices);prevLength=length}}chart.config._lastDatasetIndex=indices[indices.length-1]};var _lib=__webpack_require__(118);var _column=__webpack_require__(402);var _column2=_interopRequireDefault(_column);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _area=__webpack_require__(347);var _area2=_interopRequireDefault(_area);var _areabase=__webpack_require__(431);var _areabase2=_interopRequireDefault(_areabase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var MSArea=function(_AreaBase){_inherits(MSArea,_AreaBase);MSArea.getName=function getName(){return"MSArea"};function MSArea(){_classCallCheck(this,MSArea);var _this=_possibleConstructorReturn(this,_AreaBase.call(this));_this.defaultPlotShadow=0;return _this}MSArea.prototype.getName=function getName(){return"MSArea"};MSArea.prototype.getDSdef=function getDSdef(){return _area2["default"]};MSArea.prototype.getDSGroupdef=function getDSGroupdef(){return undefined};MSArea.prototype.__setDefaultConfig=function __setDefaultConfig(){_AreaBase.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Multi-series Area Chart";config.defaultDatasetType="area";config.defaultcrosslinethickness=1};return MSArea}(_areabase2["default"]);exports["default"]=MSArea},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports._setDefaultConfig=undefined;var _mscolumn2d=__webpack_require__(404);var _mscolumn2d2=_interopRequireDefault(_mscolumn2d);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,SEVENTYSTRING=_lib.preDefStr.SEVENTYSTRING,_setDefaultConfig=function _setDefaultConfig(){var config=this.config;config.anchorborderthickness=1;config.anchorimageurl=UNDEF;config.anchorimagepadding=1;config.anchorsides=1;config.anchoralpha=UNDEF;config.anchorbgalpha=_lib.HUNDREDSTRING;config.anchorimagealpha=_lib.HUNDREDSTRING;config.anchorimagescale=100;config.anchorstartangle=90;config.anchorshadow=0;config.anchorbgcolor=UNDEF;config.anchorbordercolor=UNDEF;config.anchorradius=3;config.showvalues=1;config.plotfillalpha=SEVENTYSTRING;config.linedashlen=5;config.linedashgap=4;config.linedashed=UNDEF;config.linealpha=_lib.HUNDREDSTRING;config.linethickness=2;config.drawfullareaborder=1;config.connectnulldata=0};var AreaBase=function(_MSColumn2D){_inherits(AreaBase,_MSColumn2D);function AreaBase(){_classCallCheck(this,AreaBase);return _possibleConstructorReturn(this,_MSColumn2D.apply(this,arguments))}AreaBase.getName=function getName(){return"AreaBase"};AreaBase.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSColumn2D.prototype.__setDefaultConfig.call(this);_setDefaultConfig.call(this)};return AreaBase}(_mscolumn2d2["default"]);exports["default"]=AreaBase;exports._setDefaultConfig=_setDefaultConfig},,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _msdybasecartesian=__webpack_require__(383);var _msdybasecartesian2=_interopRequireDefault(_msdybasecartesian);var _msstackedcolumn2d=__webpack_require__(427);var _line=__webpack_require__(346);var _line2=_interopRequireDefault(_line);var _column=__webpack_require__(331);var _column2=_interopRequireDefault(_column);var _cartesian=__webpack_require__(409);var _cartesian2=_interopRequireDefault(_cartesian);var _msstackedcolumnLineDataset=__webpack_require__(443);var _msstackedcolumnLineDataset2=_interopRequireDefault(_msstackedcolumnLineDataset);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,SEVENTYSTRING=_lib.preDefStr.SEVENTYSTRING;var MSStackedColumn2DLineDy=function(_MSDyBaseCartesian){_inherits(MSStackedColumn2DLineDy,_MSDyBaseCartesian);MSStackedColumn2DLineDy.getName=function getName(){return"MSStackedColumn2DLineDy"};function MSStackedColumn2DLineDy(){_classCallCheck(this,MSStackedColumn2DLineDy);var _this=_possibleConstructorReturn(this,_MSDyBaseCartesian.call(this));_this.stack100percent=0;_this.hasLineSet=true;_this.lineset=true;_this.registerFactory("dataset",_msstackedcolumnLineDataset2["default"],["vCanvas"]);return _this}MSStackedColumn2DLineDy.prototype.getName=function getName(){return"MSStackedColumn2DLineDy"};MSStackedColumn2DLineDy.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSDyBaseCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.sDefaultDatasetType="line";config.friendlyName="Multi-series Dual Y-Axis Stacked Column and Line Chart";config.defaultDatasetType="column";config.isdual=true;config.haslineset=true;config.isstacked=true;config.enablemousetracking=true;config.anchorborderthickness=1;config.anchorimageurl=UNDEF;config.anchorimagepadding=1;config.anchorsides=1;config.anchoralpha=UNDEF;config.anchorbgalpha=_lib.HUNDREDSTRING;config.anchorimagealpha=_lib.HUNDREDSTRING;config.anchorimagescale=100;config.anchorstartangle=90;config.anchorshadow=0;config.anchorbgcolor=UNDEF;config.anchorbordercolor=UNDEF;config.anchorradius=3;config.showvalues=1;config.plotfillalpha=SEVENTYSTRING;config.linedashlen=5;config.linedashgap=4;config.linedashed=UNDEF;config.linealpha=_lib.HUNDREDSTRING;config.linethickness=2;config.drawfullareaborder=1;config.connectnulldata=0};MSStackedColumn2DLineDy.prototype._checkInvalidSpecificData=function _checkInvalidSpecificData(){return _msstackedcolumn2d._checkInvalidSpecificData.call(this)};MSStackedColumn2DLineDy.prototype.getDSdef=function getDSdef(name){return name==="line"?_line2["default"]:_column2["default"]};MSStackedColumn2DLineDy.prototype.getDSGroupdef=function getDSGroupdef(){return _cartesian2["default"]};return MSStackedColumn2DLineDy}(_msdybasecartesian2["default"]);exports["default"]=MSStackedColumn2DLineDy},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var jsonData=chart.getFromEnv("dataSource"),dataset=jsonData.dataset,lineSets=jsonData.lineset,linesetStartIndex=void 0,indices=void 0,canvas=chart.getChildren("canvas")[0],vCanvas=canvas.getChildren("vCanvas")[1];if(!dataset&&lineSets.length===0){chart.setChartMessage();return}(0,_msstackedcolumnDataset2["default"])(chart);linesetStartIndex=chart.config._lastDatasetIndex+1;if(lineSets&&lineSets.length){indices=Array(lineSets.length).fill(linesetStartIndex).map(function(n,j){return n+j});(0,_lib.datasetFactory)(vCanvas,chart.getDSdef("line"),"dataset_line",lineSets.length,lineSets,indices)}else{removeLineSet(vCanvas)}};var _msstackedcolumnDataset=__webpack_require__(428);var _msstackedcolumnDataset2=_interopRequireDefault(_msstackedcolumnDataset);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var removeLineSet=function removeLineSet(component){var lineSet=component.getChildren("dataset_line"),i=void 0;for(i=lineSet&&lineSet.length-1;i>-1;i--){lineSet[i].remove()}}},,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _areabase=__webpack_require__(431);var _areabase2=_interopRequireDefault(_areabase);var _line=__webpack_require__(346);var _line2=_interopRequireDefault(_line);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0;var MSLine=function(_AreaBase){_inherits(MSLine,_AreaBase);MSLine.getName=function getName(){return"MSLine"};function MSLine(){_classCallCheck(this,MSLine);var _this=_possibleConstructorReturn(this,_AreaBase.call(this));_this.defaultPlotShadow=1;_this.axisPaddingLeft=0;_this.axisPaddingRight=0;return _this}MSLine.prototype.getName=function getName(){return"MSLine"};MSLine.prototype.__setDefaultConfig=function __setDefaultConfig(){_AreaBase.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Multi-series Line Chart";config.defaultDatasetType="line";config.zeroplanethickness=1;config.zeroplanealpha=40;config.showzeroplaneontop=0;config.enablemousetracking=true;config.defaultcrosslinethickness=1};MSLine.prototype.getDSdef=function getDSdef(){return _line2["default"]};MSLine.prototype.getDSGroupdef=function getDSGroupdef(){return UNDEF};return MSLine}(_areabase2["default"]);exports["default"]=MSLine},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _areabase=__webpack_require__(431);var _msspline=__webpack_require__(400);var _msspline2=_interopRequireDefault(_msspline);var _sscartesian=__webpack_require__(258);var _sscartesian2=_interopRequireDefault(_sscartesian);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var Spline=function(_SSCartesian){_inherits(Spline,_SSCartesian);Spline.getName=function getName(){return"Spline"};function Spline(){_classCallCheck(this,Spline);var _this=_possibleConstructorReturn(this,_SSCartesian.call(this));_this.defaultPlotShadow=1;return _this}Spline.prototype.getName=function getName(){return"Spline"};Spline.prototype.__setDefaultConfig=function __setDefaultConfig(){_SSCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Spline Chart";config.singleseries=true;config.defaultDatasetType="msspline";config.minimizetendency=0;config.zeroplanethickness=1;config.zeroplanealpha=40;config.showzeroplaneontop=0;config.enablemousetracking=true;config.defaultcrosslinethickness=1;_areabase._setDefaultConfig.call(this)};Spline.prototype.getDSdef=function getDSdef(){return _msspline2["default"]};return Spline}(_sscartesian2["default"]);exports["default"]=Spline},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _spline=__webpack_require__(458);var _spline2=_interopRequireDefault(_spline);var _areabase=__webpack_require__(431);var _mssplinearea=__webpack_require__(396);var _mssplinearea2=_interopRequireDefault(_mssplinearea);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var SplineArea=function(_Spline){_inherits(SplineArea,_Spline);SplineArea.getName=function getName(){return"SplineArea"};function SplineArea(){_classCallCheck(this,SplineArea);var _this=_possibleConstructorReturn(this,_Spline.call(this));_this.defaultPlotShadow=0;return _this}SplineArea.prototype.getName=function getName(){return"SplineArea"};SplineArea.prototype.__setDefaultConfig=function __setDefaultConfig(){_Spline.prototype.__setDefaultConfig.call(this);var config=this.config;_areabase._setDefaultConfig.call(this);config.friendlyName="Spline Area Chart";config.singleseries=true;config.hasLegend=false;config.defaultDatasetType="mssplinearea";config.anchoralpha="100";config.minimizetendency=0;config.enablemousetracking=true;config.defaultcrosslinethickness=1;config.showzeroplaneontop=1};SplineArea.prototype.getDSdef=function getDSdef(){return _mssplinearea2["default"]};SplineArea.prototype.getDSGroupdef=function getDSGroupdef(){};return SplineArea}(_spline2["default"]);exports["default"]=SplineArea},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _areabase=__webpack_require__(431);var _msspline=__webpack_require__(400);var _msspline2=_interopRequireDefault(_msspline);var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var MSSpline=function(_MSCartesian){_inherits(MSSpline,_MSCartesian);MSSpline.getName=function getName(){return"MSSpline"};function MSSpline(){_classCallCheck(this,MSSpline);var _this=_possibleConstructorReturn(this,_MSCartesian.call(this));_this.defaultPlotShadow=1;return _this}MSSpline.prototype.getName=function getName(){return"MSSpline"};MSSpline.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Multi-series Spline  Chart";config.defaultDatasetType="msspline";config.minimizetendency=0;config.zeroplanethickness=1;config.zeroplanealpha=40;config.showzeroplaneontop=0;config.enablemousetracking=true;config.defaultcrosslinethickness=1;_areabase._setDefaultConfig.call(this)};MSSpline.prototype.getDSdef=function getDSdef(){return _msspline2["default"]};MSSpline.prototype.getDSGroupdef=function getDSGroupdef(){};return MSSpline}(_mscartesian2["default"]);exports["default"]=MSSpline},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _areabase=__webpack_require__(431);var _msdybasecartesian=__webpack_require__(383);var _msdybasecartesian2=_interopRequireDefault(_msdybasecartesian);var _msspline=__webpack_require__(400);var _msspline2=_interopRequireDefault(_msspline);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var MSSplineDy=function(_MSDyBaseCartesian){_inherits(MSSplineDy,_MSDyBaseCartesian);MSSplineDy.getName=function getName(){return"MSSplineDy"};function MSSplineDy(){_classCallCheck(this,MSSplineDy);var _this=_possibleConstructorReturn(this,_MSDyBaseCartesian.call(this));_this.isDual=true;return _this}MSSplineDy.prototype.getName=function getName(){return"MSSplineDy"};MSSplineDy.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSDyBaseCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.friendlyName="Multi-series Dual Y-Axis Spline Chart";config.defaultDatasetType="msspline";config.minimizetendency=0;config.zeroplanethickness=1;config.zeroplanealpha=40;config.showzeroplaneontop=0;config.enablemousetracking=true;config.defaultcrosslinethickness=1;config.isdual=true;_areabase._setDefaultConfig.call(this)};MSSplineDy.prototype.getDSdef=function getDSdef(){return _msspline2["default"]};MSSplineDy.prototype.getDSGroupdef=function getDSGroupdef(){};MSSplineDy.prototype.getDSType=function getDSType(){return"spline"};return MSSplineDy}(_msdybasecartesian2["default"]);exports["default"]=MSSplineDy},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _msspline=__webpack_require__(460);var _msspline2=_interopRequireDefault(_msspline);var _areabase=__webpack_require__(431);var _mssplinearea=__webpack_require__(396);var _mssplinearea2=_interopRequireDefault(_mssplinearea);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var MSSplineArea=function(_MSSpline){_inherits(MSSplineArea,_MSSpline);MSSplineArea.getName=function getName(){return"MSSplineArea"};function MSSplineArea(){_classCallCheck(this,MSSplineArea);var _this=_possibleConstructorReturn(this,_MSSpline.call(this));_this.friendlyName="Multi-series Spline Area Chart";_this.defaultPlotShadow=0;return _this}MSSplineArea.prototype.getName=function getName(){return"MSSplineArea"};MSSplineArea.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSSpline.prototype.__setDefaultConfig.call(this);var config=this.config;_areabase._setDefaultConfig.call(this);config.defaultDatasetType="mssplinearea";config.minimizetendency=0;config.zeroplanethickness=2;config.zeroplanealpha=80;config.showzeroplaneontop=1;config.enablemousetracking=true;config.defaultcrosslinethickness=1};MSSplineArea.prototype.getDSdef=function getDSdef(){return _mssplinearea2["default"]};MSSplineArea.prototype.getDSGroupdef=function getDSGroupdef(){};return MSSplineArea}(_msspline2["default"]);exports["default"]=MSSplineArea},,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports._clearChart=exports._linearDataParser=exports.feedData=exports.realTimeDraw=exports._RTmanageSpace=exports.realTimeUpdate=exports._getData=exports._isUpdateActive=exports._restartUpdate=exports._stopUpdate=exports.eiMethods=exports._realTimeConfigure=undefined;var _lib=__webpack_require__(118);var _schedular=__webpack_require__(129);var NORMALSTRING="normal",math=Math,mathMax=math.max,UNDEF=void 0,dropHash=_lib.regex.dropHash,PXSTRING="px",feedIndex=0,count=0,getDataset=function getDataset(component){var datasets=[];component.iterateComponents(function(child){if(child.getType()==="dataset"){datasets.push(child)}});return datasets},_realTimeConfigure=function _realTimeConfigure(){var iapi=this,config=iapi.config,realTimeConfig=config.realTimeConfig||(config.realTimeConfig={}),refreshInterval,realtimeValueFontColor,realtimeValueFontSize,jsonData=iapi.getFromEnv("dataSource"),chartAttrs=jsonData.chart,catLen=jsonData.categories&&Array.isArray(jsonData.categories)&&jsonData.categories[0]&&jsonData.categories[0].category&&jsonData.categories[0].category.length||0;realTimeConfig.showRTValue=(0,_lib.pluckNumber)(chartAttrs.showrealtimevalue,1);realTimeConfig.dataStreamURL=(0,_lib.parseUnsafeString)(chartAttrs.datastreamurl,_lib.BLANKSTRING);realTimeConfig.dataStamp=chartAttrs.datastamp;realTimeConfig.useMessageLog=(0,_lib.pluckNumber)(chartAttrs.usemessagelog,0);realTimeConfig.clearInterval=(0,_lib.pluckNumber)(chartAttrs.clearchartinterval,0);realTimeConfig.realtimeValueSeparator=(0,_lib.pluck)(chartAttrs.realtimevaluesep,_lib.COMMASPACE);realTimeConfig.refreshInterval=refreshInterval=(0,_lib.pluckNumber)(chartAttrs.refreshinterval,chartAttrs.updateinterval,2);realTimeConfig.updateInterval=iapi.config.updateInterval=(0,_lib.pluckNumber)(chartAttrs.updateinterval,refreshInterval);realTimeConfig.realtimeValuePadding=(0,_lib.pluckNumber)(chartAttrs.realtimevaluepadding);realTimeConfig.realtimeValueFont=(0,_lib.pluck)(chartAttrs.realtimevaluefont,_lib.BLANKSTRING);realTimeConfig.realtimeValueFontBold=(0,_lib.pluck)(chartAttrs.realtimevaluefontbold,0);realTimeConfig.realtimeValueFontColor=realtimeValueFontColor=(0,_lib.pluck)(chartAttrs.realtimevaluefontcolor,_lib.BLANKSTRING);realTimeConfig.realtimeValueFontSize=realtimeValueFontSize=(0,_lib.pluckNumber)(chartAttrs.realtimevaluefontsize,_lib.BLANKSTRING);realTimeConfig.realTimeValuePadding=(0,_lib.pluckNumber)(chartAttrs.realtimevaluepadding,5);realTimeConfig.fontWeight=(0,_lib.pluckNumber)(chartAttrs.realtimevaluefontbold,0)?"bold":NORMALSTRING;realTimeConfig.numDisplaySets=(0,_lib.pluckNumber)(chartAttrs.numdisplaysets,mathMax(catLen,15));realTimeConfig.refreshInstantly=(0,_lib.pluckNumber)(chartAttrs.refreshinstantly,0);realTimeConfig.showRTmenuItem=(0,_lib.pluckNumber)(chartAttrs.showrtmenuitem,0);realTimeConfig.sync=(0,_lib.pluckNumber)(chartAttrs.sync,refreshInterval>.6);if(realtimeValueFontColor){realTimeConfig.realtimeValueFontColor=realtimeValueFontColor.replace(dropHash,_lib.HASHSTRING)}if(realtimeValueFontSize){realTimeConfig.realtimeValueFontSize=realtimeValueFontSize+PXSTRING}refreshInterval*=1e3},_stopUpdate=function _stopUpdate(source){var iapi=this,realTimeConfig=iapi.config.realTimeConfig,loadData=iapi.config.timers&&iapi.config.timers.setTimeout.loadData;iapi.getChildren("dataStreamer")[0]._stopUpdate();loadData&&clearTimeout(loadData);realTimeConfig.clearIntervalFlag=false;iapi.fireChartInstanceEvent("dataRestored",{source:source})},_restartUpdate=function _restartUpdate(){this.getChildren("dataStreamer")[0]._restartUpdate()},_isUpdateActive=function _isUpdateActive(){return this.getChildren("dataStreamer")[0]._isUpdateActive()},eiMethods={feedData:function feedData(){var chartContainer=this,chart=chartContainer.apiInstance,callback=arguments[1],updateStr,output;if(callback){updateStr=arguments[0];chart.addJob("feedDataId"+count+++feedIndex++,function(){output=chart.feedData(updateStr);if(typeof callback==="function"){callback(output)}},_schedular.priorityList.postRender)}else{return chart.feedData.apply(chart,arguments)}},setData:function setData(){var chart=this.apiInstance,value=arguments[0],label=arguments[1];chart.addJob("setDataId"+count++,function(){chart._setData(value,label)},_schedular.priorityList.postRender)},stopUpdate:function stopUpdate(){var chart=this.apiInstance;chart.addJob("stopUpdateId"+count++,function(){chart._stopUpdate()},_schedular.priorityList.postRender)},restartUpdate:function restartUpdate(){this.apiInstance._restartUpdate.apply(this.apiInstance,arguments)},isUpdateActive:function isUpdateActive(){return this.apiInstance._isUpdateActive.apply(this.apiInstance,arguments)},clearChart:function clearChart(){var chart=this.apiInstance;chart.addJob("clearChartId"+count++,function(){chart._clearChart()},_schedular.priorityList.postRender)},getData:function getData(){return this.apiInstance._getData.apply(this.apiInstance,arguments)},getDataForId:function getDataForId(){return this.apiInstance._getDataForId.apply(this.apiInstance,arguments)},setDataForId:function setDataForId(){return this.apiInstance._setDataForId.apply(this.apiInstance,arguments)},getDataJSON:function getDataJSON(){return this.apiInstance._getDataJSON.apply(this.apiInstance,arguments)}},_getData=function _getData(){var iapi=this,components=iapi.getChildren(),dataset=iapi.getDatasets(),xAxis=components.xAxis&&components.xAxis[0]||components.scale,length,i,j,store=[],maxLength=0,data,innerStore;if(dataset){length=dataset.length;for(i=0;i<length;i++){maxLength=mathMax(maxLength,dataset[i].components.data.length)}for(i=0;i<maxLength;i++){innerStore=store[i]=[];innerStore[0]=xAxis.getLabel(i).label;for(j=1;j<=length;j++){data=dataset[j-1].components.data[i];innerStore[j]=data&&data.config.setValue}}return store}},realTimeUpdate=function realTimeUpdate(dataObj){var iapi=this,datasets=getDataset(iapi),i,cachedArrivedJSON=iapi.config.cachedArrivedJSON,currJSONDataset,cachedCategories=cachedArrivedJSON&&cachedArrivedJSON.categories,newDataset=dataObj.dataset,newCategory=dataObj.categories&&dataObj.categories.category||[];iapi.fireChartInstanceEvent("updateDataReceived",dataObj);iapi.fireEvent("realtimeDataUpdate",dataObj);!iapi.config.cachedArrivedJSON&&(cachedArrivedJSON=iapi.config.cachedArrivedJSON={});cachedArrivedJSON.dataset=cachedArrivedJSON.dataset||[];cachedCategories=cachedArrivedJSON.categories||(cachedArrivedJSON.categories={});cachedCategories.category=cachedCategories.category||[];for(i=0;i<datasets.length;i++){currJSONDataset=cachedArrivedJSON.dataset[i]||(cachedArrivedJSON.dataset[i]={});currJSONDataset.data||(currJSONDataset.data=[]);currJSONDataset.data.push.apply(currJSONDataset.data,newDataset[i].data)}cachedCategories.category.push.apply(cachedCategories.category,newCategory)},_RTmanageSpace=function _RTmanageSpace(){var iapi=this,config=iapi.config,chartChildren=iapi.getChildren(),xAxis=chartChildren.xAxis[0],yAxis=chartChildren.yAxis[0],sYAxis=chartChildren.yAxis[1],bottom,canvas=chartChildren.canvas&&chartChildren.canvas[0],canvasConfig=canvas.config,canvasBorderWidth=canvasConfig.canvasBorderWidth,canvasPaddingTop=canvasConfig.canvasPaddingTop,canvasPaddingBottom=canvasConfig.canvasPaddingBottom,canvasPadding=canvasConfig.canvasPadding||0,canvasPaddingLeft=canvasConfig.canvasPaddingLeft,canvasPaddingRight=canvasConfig.canvasPaddingRight,xAxisSpaceAllocation,yAxisSpaceAllocation,sYAxisSpaceAllocation,availableHeight,availableWidth,prevXAxisSpaceAllocation=config.xAxisSpaceAllocation,spaceTakenByYAxis=config.yAxisSpaceAllocation||[],prevYAxisSpaceAllocation=spaceTakenByYAxis[0]&&spaceTakenByYAxis[0].spaceTaken||{},prevSYAxisSpaceAllocation=spaceTakenByYAxis[1]&&spaceTakenByYAxis[1].spaceTaken||{},primaryAxisOnleft=config.primaryAxisOnleft,pYAxisStartXPos,sYAxisStartXPos,pYAxisOppLength,sYAxisOppLength,tempVar,yAxisPrevDim=yAxis&&JSON.stringify(yAxis.getAxisDimension()),sYAxisPrevDim=yAxis&&JSON.stringify(yAxis.getAxisDimension()),yAxisDim,sYAxisDim;availableHeight=config.availableHeight;xAxisSpaceAllocation=config.xAxisSpaceAllocation=xAxis.placeAxis(availableHeight+prevXAxisSpaceAllocation.bottom);bottom=xAxisSpaceAllocation.bottom-prevXAxisSpaceAllocation.bottom;if(bottom!==0){iapi._allocateSpace({bottom:bottom});availableWidth=config.availableWidth;spaceTakenByYAxis[0].spaceTaken=yAxisSpaceAllocation=yAxis.placeAxis(availableWidth+prevYAxisSpaceAllocation.left);iapi._allocateSpace({left:yAxisSpaceAllocation.left-prevYAxisSpaceAllocation.left});availableWidth=config.availableWidth;pYAxisStartXPos=config.canvasLeft-canvasBorderWidth;pYAxisOppLength=config.canvasRight+canvasBorderWidth;if(sYAxis){sYAxisStartXPos=pYAxisOppLength;sYAxisOppLength=pYAxisStartXPos;if(primaryAxisOnleft===0){tempVar=pYAxisStartXPos;pYAxisStartXPos=sYAxisStartXPos;sYAxisStartXPos=tempVar;tempVar=pYAxisOppLength;pYAxisOppLength=sYAxisOppLength;sYAxisOppLength=tempVar}spaceTakenByYAxis[1].spaceTaken=sYAxisSpaceAllocation=sYAxis.placeAxis(availableWidth+(prevSYAxisSpaceAllocation.right||0));iapi._allocateSpace({right:(sYAxisSpaceAllocation.right||0)-(prevSYAxisSpaceAllocation.right||0)});sYAxis.setAxisDimention({x:sYAxisStartXPos,y:config.canvasTop+canvasPaddingTop,opposite:sYAxisOppLength,axisLength:config.canvasHeight-canvasPaddingTop-canvasPaddingBottom})}xAxis&&xAxis.setAxisDimention({x:config.canvasLeft+mathMax(canvasPaddingLeft,canvasPadding),y:config.canvasBottom+(config.shift||0)+canvasBorderWidth,opposite:config.canvasTop-canvasBorderWidth,axisLength:config.canvasWidth-mathMax(canvasPaddingLeft,canvasPadding)-mathMax(canvasPaddingRight,canvasPadding)});yAxis&&yAxis.setAxisDimention({x:pYAxisStartXPos,y:config.canvasTop+canvasPaddingTop,opposite:pYAxisOppLength,axisLength:config.canvasHeight-canvasPaddingTop-canvasPaddingBottom})}iapi.canvasPadding&&canvas.setCanvasPadding();canvas.setDimension({top:config.canvasTop,left:config.canvasLeft,width:config.canvasWidth,height:config.canvasHeight});canvasBorderWidth=canvasConfig.canvasBorderWidth;canvasPaddingTop=canvasConfig.canvasPaddingTop;canvasPaddingBottom=canvasConfig.canvasPaddingBottom;canvasPadding=canvasConfig.canvasPadding||0;canvasPaddingLeft=canvasConfig.canvasPaddingLeft;canvasPaddingRight=canvasConfig.canvasPaddingRight;sYAxis&&sYAxis.setAxisDimention({x:config.canvasRight+canvasBorderWidth,y:config.canvasTop+canvasPaddingTop,opposite:sYAxisOppLength,axisLength:config.canvasHeight-canvasPaddingTop-canvasPaddingBottom});xAxis&&xAxis.setAxisDimention({x:config.canvasLeft+mathMax(canvasPaddingLeft,canvasPadding),y:config.canvasBottom+(config.shift||0)+canvasBorderWidth,opposite:config.canvasTop-canvasBorderWidth,axisLength:config.canvasWidth-mathMax(canvasPaddingLeft,canvasPadding)-mathMax(canvasPaddingRight,canvasPadding)});yAxis&&yAxis.setAxisDimention({x:config.canvasLeft-canvasBorderWidth,y:config.canvasTop+canvasPaddingTop,opposite:config.canvasRight+canvasBorderWidth,axisLength:config.canvasHeight-canvasPaddingTop-canvasPaddingBottom});yAxisDim=yAxis&&JSON.stringify(yAxis.getAxisDimension());sYAxisDim=yAxis&&JSON.stringify(yAxis.getAxisDimension());config.drawYAxis=yAxisDim!==yAxisPrevDim;config.drawSyAxis=sYAxisDim!==sYAxisPrevDim},realTimeDraw=function realTimeDraw(){var eventArgs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var iapi=this,iapiConf=iapi.config,chartChildren=iapi.getChildren(),canvas=chartChildren.canvas&&chartChildren.canvas[0],xAxis=chartChildren.xAxis&&chartChildren.xAxis[0],yAxis=chartChildren.yAxis&&chartChildren.yAxis[0],sYAxis=chartChildren.yAxis&&chartChildren.yAxis[1],dataset=getDataset(iapi),dslen=dataset.length,len,dataObj=iapiConf.cachedArrivedJSON,newDataset=dataObj&&dataObj.dataset,newCategory=dataObj&&dataObj.categories&&dataObj.categories.category||[],catLen=xAxis&&xAxis.getTicksLen(),realTimeConfig=iapiConf.realTimeConfig=iapiConf.realTimeConfig||(iapiConf.realTimeConfig={}),prevData=realTimeConfig.prevData,newCatLength=0,curDataset,datasetParent,showRTValue=realTimeConfig.showRTValue,i,drawLatency,isClear=realTimeConfig.clear,getValueArray=function getValueArray(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var dataLen=data.length,newData=[],i,dataObject;for(i=0;i<dataLen;++i){dataObject=data[i];newData.push(dataObject.value)}return newData};iapiConf._eventArgs=eventArgs;eventArgs.prevData=prevData;realTimeConfig.prevData=[];iapi.getFromEnv("animationManager").setAnimationState("realTimeUpdate");iapi.__rtDrawStartAt=new Date;iapi.__realtimeUpdateComplete||(iapi.__realtimeUpdateComplete=function(){drawLatency=new Date-iapi.__rtDrawStartAt;if(!isClear){iapiConf._eventArgs.latency=drawLatency;iapiConf._eventArgs.updateObject=realTimeConfig.legacyUpdateObj}iapi.getChildren("dataStreamer")[0].addToEnv("realtimeDrawingLatency",drawLatency);iapi.fireChartInstanceEvent("realTimeUpdateComplete",iapiConf._eventArgs)});iapi.addJob("realtimeupdatecomplete",iapi.__realtimeUpdateComplete,_schedular.priorityList.postRender);if(dataset){canvas.asyncDraw();if(dataObj){if(xAxis){xAxis.asyncDraw();xAxis.categoryInsert(catLen,newCategory,true);for(i=0,len=newCategory.length;i<len;i++){if(!newCategory[i].vline){newCatLength+=1}}xAxis.categoryDelete(0,newCatLength,true);xAxis.categoryTranslate(newCatLength)}iapiConf._sumValuesUpdated=false;if(isClear){for(i=0;i<dslen;i++){dataset[i]._realTimeConfigure(true)}realTimeConfig.clear=false}for(i=0;i<dslen;i++){curDataset=newDataset[i];dataset[i].addData(curDataset);dataset[i].removeData(0,curDataset.data.length);dataset[i].resetCatPos();dataset[i].setMaxMin();datasetParent=dataset[i].getLinkedParent();datasetParent.childChanged();realTimeConfig.prevData.push(getValueArray(curDataset.data))}iapiConf.cachedArrivedJSON=UNDEF}iapi.rtManageSpace&&iapi._RTmanageSpace();iapiConf.drawYAxis&&yAxis&&yAxis.asyncDraw();iapiConf.drawSyAxis&&sYAxis&&sYAxis.asyncDraw();iapi._preDraw();if(showRTValue&&iapi._drawRealTimeValue){iapi.asyncRealTimeValueDraw()}}},feedData=function feedData(stream){var iapi=this,dataStreamer=iapi.getFromEnv("dataStreamer");dataStreamer.responseTextHandler(stream);dataStreamer.refreshVisualHandler({source:"feedData",data:stream})},_linearDataParser=function _linearDataParser(responseText){var iapi=this,AMPERSAND="&",EQUALS="=",PIPE="|",COMMA=",",commands,command,params,valueVisibility,toolTexts,toolTextsTarget,colors,links,vlineLabels,vlineColors,vlineThickness,vlineDashed,showLabels,i,l,labels,vlines,values,target,dataStamp,pause,clear,len,data,j,existingDatasets=getDataset(iapi),existingDatasetsLen=existingDatasets&&existingDatasets.length,valuesLen,realTimeConfig=iapi.config.realTimeConfig,legacyUpdateObj=realTimeConfig.legacyUpdateObj={},dataObjValues=legacyUpdateObj.values=[],dataObjTarget=legacyUpdateObj.target=[],dataObjShowValues=legacyUpdateObj.valueVisibility=[],dataObjToolTexts=legacyUpdateObj.toolTexts=[],dataObjToolTextsTarget=legacyUpdateObj.toolTextsTarget=[],dataObjColors=legacyUpdateObj.colors=[],dataObjLinks=legacyUpdateObj.links=[],maxValueLen=0,dataObj,updateObj={categories:{category:[]},dataset:[]},labelsLen,category=updateObj.categories.category,dataset=updateObj.dataset,lowerCaseCommand,tempToolText=responseText,toolText;responseText=responseText&&responseText.toString&&responseText.toString()||"";if(iapi.rtParserModify){tempToolText=tempToolText.replace(/([^\\])(\|)/g,"$1,");responseText=responseText.replace(/\|/g,",")}commands=responseText.split(AMPERSAND);for(i=0,l=commands.length;i<l;i+=1){command=commands[i].split(EQUALS);params=command[1];command=command[0];if(command===_lib.BLANKSTRING||command===UNDEF||params===UNDEF||params===_lib.BLANKSTRING){continue}lowerCaseCommand=command.toLowerCase();switch(lowerCaseCommand){case"label":legacyUpdateObj.labels=labels=params.split(COMMA);break;case"vline":legacyUpdateObj.vlines=vlines=params.split(COMMA);break;case"vlinelabel":legacyUpdateObj.vlineLabels=vlineLabels=params.split(COMMA);break;case"vlinecolor":legacyUpdateObj.vlineColors=vlineColors=params.split(COMMA);break;case"vlinethickness":legacyUpdateObj.vlineThickness=vlineThickness=params.split(COMMA);break;case"vlinedashed":legacyUpdateObj.vlineDashed=vlineDashed=params.split(COMMA);break;case"value":values=params.split(PIPE);break;case"target":target=params.split(PIPE);break;case"showlabel":legacyUpdateObj.showLabels=showLabels=params.split(COMMA);break;case"showvalue":valueVisibility=params.split(PIPE);break;case"tooltext":toolTexts=tempToolText.match(/tooltext=(.*?\\&)*.*?[^\\]&/i);toolTexts=toolTexts?toolTexts[0].substr(9,toolTexts[0].length-10):tempToolText.match(/(tooltext=)(.*)/i)[2];toolTexts=toolTexts&&toolTexts.replace(/([^\\])(\|)/g,"$1_FC@@**");toolTexts=toolTexts.split("_FC@@**");break;case"targettooltext":toolTextsTarget=params.split(PIPE);break;case"link":links=params.split(PIPE);break;case"color":colors=params.split(PIPE);break;case"datastamp":legacyUpdateObj.dataStamp=dataStamp=params;break;case"stopupdate":legacyUpdateObj.pause=pause=params=="1";break;case"clear":legacyUpdateObj.clear=clear=params=="1";break;default:legacyUpdateObj[command]=updateObj[command]=params}}valuesLen=values&&values.length;for(i=0;i<valuesLen;i++){dataObjValues[i]=values[i].split(COMMA);dataObjTarget[i]=target&&target[i]&&target[i].split(COMMA);dataObjShowValues[i]=valueVisibility&&valueVisibility[i]&&valueVisibility[i].split(COMMA);dataObjToolTextsTarget[i]=toolTextsTarget&&toolTextsTarget[i]&&toolTextsTarget[i].split(COMMA);dataObjColors[i]=colors&&colors[i]&&colors[i].split(COMMA);dataObjLinks[i]=links&&links[i]&&links[i].split(COMMA);if(toolTexts){toolText=toolTexts[i];if(toolText){toolText=toolText.replace(/([^\\])(\,)/g,"$1_FC@@**");dataObjToolTexts[i]=toolText.split("_FC@@**")}}maxValueLen=mathMax(maxValueLen,dataObjValues[i].length)}labelsLen=labels&&labels.length;len=mathMax(labelsLen||0,maxValueLen||0);for(i=0;i<len;i++){category.push({label:labels&&labels[i],color:vlineColors&&vlineColors[i],showlabel:showLabels&&showLabels[i]})}if(vlines){category.push({label:vlineLabels&&vlineLabels[0],vline:vlines&&vlines[0],color:vlineColors&&vlineColors[0],thickness:vlineThickness&&vlineThickness[0],dashed:vlineDashed&&vlineDashed[0],showlabel:showLabels&&showLabels[0]})}for(i=0;i<existingDatasetsLen;i++){dataObj={};data=dataObj.data=[];for(j=0;j<len;j++){data.push({value:dataObjValues[i]&&dataObjValues[i][j],target:dataObjTarget[i]&&dataObjTarget[i][j],showvalue:dataObjShowValues[i]&&dataObjShowValues[i][j],tooltext:dataObjToolTexts[i]&&dataObjToolTexts[i][j]&&decodeURIComponent(dataObjToolTexts[i][j].replace(/\\/g,"")),tooltexttarget:dataObjToolTextsTarget[i]&&dataObjToolTextsTarget[i][j],color:dataObjColors[i]&&dataObjColors[i][j],link:dataObjLinks[i]&&dataObjLinks[i][j]&&decodeURIComponent(dataObjLinks[i][j])})}dataset.push(dataObj)}if(pause){iapi._stopUpdate()}if(clear){iapi._clearChart()}if(dataStamp){iapi.config.dataStamp=dataStamp}return updateObj},_clearChart=function _clearChart(_source){var iapi=this,chartChildren=iapi.getChildren(),xAxis=chartChildren.xAxis&&chartChildren.xAxis[0],dataset=getDataset(iapi),catLen=xAxis.getTicksLen(),visibleRange=xAxis.getVisibleConfig(),maxValue=visibleRange.maxValue,minValue=visibleRange.minValue,stretch=catLen>maxValue?maxValue-minValue:catLen,realTimeConfig=iapi.config.realTimeConfig||(iapi.config.realTimeConfig={}),showRTValue=realTimeConfig.showRTValue,curDataset,i,len=dataset.length;realTimeConfig.clear=true;if(dataset){if(xAxis){xAxis.categoryDelete(0,stretch,true)}iapi.config._sumValuesUpdated=false;for(i=0;i<len;i++){curDataset=dataset[i];dataset[i].removeData(0,curDataset.components.data.length);dataset[i].resetCatPos()}iapi._setCategories()}if(showRTValue&&iapi._drawRealTimeValue){iapi.asyncRealTimeValueDraw()}iapi.fireChartInstanceEvent("ChartCleared",{source:_source},[iapi.getId(),_source])};exports._realTimeConfigure=_realTimeConfigure;exports.eiMethods=eiMethods;exports._stopUpdate=_stopUpdate;exports._restartUpdate=_restartUpdate;exports._isUpdateActive=_isUpdateActive;exports._getData=_getData;exports.realTimeUpdate=realTimeUpdate;exports._RTmanageSpace=_RTmanageSpace;exports.realTimeDraw=realTimeDraw;exports.feedData=feedData;exports._linearDataParser=_linearDataParser;exports._clearChart=_clearChart},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){__webpack_require__(518);__webpack_require__(84);__webpack_require__(519);__webpack_require__(522);__webpack_require__(533);__webpack_require__(536);__webpack_require__(538);module.exports=__webpack_require__(7).Map},function(module,exports,__webpack_require__){"use strict";var classof=__webpack_require__(96);var test={};test[__webpack_require__(62)("toStringTag")]="z";if(test+""!="[object z]"){__webpack_require__(18)(Object.prototype,"toString",function toString(){return"[object "+classof(this)+"]"},true)}},function(module,exports,__webpack_require__){var $iterators=__webpack_require__(520);var getKeys=__webpack_require__(48);var redefine=__webpack_require__(18);var global=__webpack_require__(6);var hide=__webpack_require__(8);var Iterators=__webpack_require__(87);var wks=__webpack_require__(62);var ITERATOR=wks("iterator");var TO_STRING_TAG=wks("toStringTag");var ArrayValues=Iterators.Array;var DOMIterables={CSSRuleList:true,CSSStyleDeclaration:false,CSSValueList:false,ClientRectList:false,DOMRectList:false,DOMStringList:false,DOMTokenList:true,DataTransferItemList:false,FileList:false,HTMLAllCollection:false,HTMLCollection:false,HTMLFormElement:false,HTMLSelectElement:false,MediaList:true,MimeTypeArray:false,NamedNodeMap:false,NodeList:true,PaintRequestList:false,Plugin:false,PluginArray:false,SVGLengthList:false,SVGNumberList:false,SVGPathSegList:false,SVGPointList:false,SVGStringList:false,SVGTransformList:false,SourceBufferList:false,StyleSheetList:true,TextTrackCueList:false,TextTrackList:false,TouchList:false};for(var collections=getKeys(DOMIterables),i=0;i<collections.length;i++){var NAME=collections[i];var explicit=DOMIterables[NAME];var Collection=global[NAME];var proto=Collection&&Collection.prototype;var key;if(proto){if(!proto[ITERATOR])hide(proto,ITERATOR,ArrayValues);if(!proto[TO_STRING_TAG])hide(proto,TO_STRING_TAG,NAME);Iterators[NAME]=ArrayValues;if(explicit)for(key in $iterators)if(!proto[key])redefine(proto,key,$iterators[key],true)}}},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(80);var step=__webpack_require__(521);var Iterators=__webpack_require__(87);var toIObject=__webpack_require__(24);module.exports=__webpack_require__(86)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated);this._i=0;this._k=kind},function(){var O=this._t;var kind=this._k;var index=this._i++;if(!O||index>=O.length){this._t=undefined;return step(1)}if(kind=="keys")return step(0,index);if(kind=="values")return step(0,O[index]);return step(0,[index,O[index]])},"values");Iterators.Arguments=Iterators.Array;addToUnscopables("keys");addToUnscopables("values");addToUnscopables("entries")},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__webpack_require__){"use strict";var strong=__webpack_require__(523);var validate=__webpack_require__(529);var MAP="Map";module.exports=__webpack_require__(530)(MAP,function(get){return function Map(){return get(this,arguments.length>0?arguments[0]:undefined)}},{get:function get(key){var entry=strong.getEntry(validate(this,MAP),key);return entry&&entry.v},set:function set(key,value){return strong.def(validate(this,MAP),key===0?0:key,value)}},strong,true)},function(module,exports,__webpack_require__){"use strict";var dP=__webpack_require__(9).f;var create=__webpack_require__(46);var redefineAll=__webpack_require__(524);var ctx=__webpack_require__(21);var anInstance=__webpack_require__(525);var forOf=__webpack_require__(526);var $iterDefine=__webpack_require__(86);var step=__webpack_require__(521);var setSpecies=__webpack_require__(527);var DESCRIPTORS=__webpack_require__(13);var fastKey=__webpack_require__(528).fastKey;var validate=__webpack_require__(529);var SIZE=DESCRIPTORS?"_s":"size";var getEntry=function(that,key){var index=fastKey(key);var entry;if(index!=="F")return that._i[index];for(entry=that._f;entry;entry=entry.n){if(entry.k==key)return entry}};module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i");that._t=NAME;that._i=create(null);that._f=undefined;that._l=undefined;that[SIZE]=0;if(iterable!=undefined)forOf(iterable,IS_MAP,that[ADDER],that)});redefineAll(C.prototype,{clear:function clear(){for(var that=validate(this,NAME),data=that._i,entry=that._f;entry;entry=entry.n){entry.r=true;if(entry.p)entry.p=entry.p.n=undefined;delete data[entry.i]}that._f=that._l=undefined;that[SIZE]=0},"delete":function(key){var that=validate(this,NAME);var entry=getEntry(that,key);if(entry){var next=entry.n;var prev=entry.p;delete that._i[entry.i];entry.r=true;if(prev)prev.n=next;if(next)next.p=prev;if(that._f==entry)that._f=next;if(that._l==entry)that._l=prev;that[SIZE]--}return!!entry},forEach:function forEach(callbackfn){validate(this,NAME);var f=ctx(callbackfn,arguments.length>1?arguments[1]:undefined,3);var entry;while(entry=entry?entry.n:this._f){f(entry.v,entry.k,this);while(entry&&entry.r)entry=entry.p}},has:function has(key){return!!getEntry(validate(this,NAME),key)}});if(DESCRIPTORS)dP(C.prototype,"size",{get:function(){return validate(this,NAME)[SIZE]}});return C},def:function(that,key,value){var entry=getEntry(that,key);var prev,index;if(entry){entry.v=value}else{that._l=entry={i:index=fastKey(key,true),k:key,v:value,p:prev=that._l,n:undefined,r:false};if(!that._f)that._f=entry;if(prev)prev.n=entry;that[SIZE]++;if(index!=="F")that._i[index]=entry}return that},getEntry:getEntry,setStrong:function(C,NAME,IS_MAP){$iterDefine(C,NAME,function(iterated,kind){this._t=validate(iterated,NAME);this._k=kind;this._l=undefined},function(){var that=this;var kind=that._k;var entry=that._l;while(entry&&entry.r)entry=entry.p;if(!that._t||!(that._l=entry=entry?entry.n:that._t._f)){that._t=undefined;return step(1)}if(kind=="keys")return step(0,entry.k);if(kind=="values")return step(0,entry.v);return step(0,[entry.k,entry.v])},IS_MAP?"entries":"values",!IS_MAP,true);setSpecies(NAME)}}},function(module,exports,__webpack_require__){var redefine=__webpack_require__(18);module.exports=function(target,src,safe){for(var key in src)redefine(target,key,src[key],safe);return target}},function(module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||forbiddenField!==undefined&&forbiddenField in it){throw TypeError(name+": incorrect invocation!")}return it}},function(module,exports,__webpack_require__){var ctx=__webpack_require__(21);var call=__webpack_require__(92);var isArrayIter=__webpack_require__(93);var anObject=__webpack_require__(10);var toLength=__webpack_require__(31);var getIterFn=__webpack_require__(95);var BREAK={};var RETURN={};var exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable);var f=ctx(fn,that,entries?2:1);var index=0;var length,step,iterator,result;if(typeof iterFn!="function")throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn))for(length=toLength(iterable.length);length>index;index++){result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]);if(result===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;){result=call(iterator,f,step.value,entries);if(result===BREAK||result===RETURN)return result}};exports.BREAK=BREAK;exports.RETURN=RETURN},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(6);var dP=__webpack_require__(9);var DESCRIPTORS=__webpack_require__(13);var SPECIES=__webpack_require__(62)("species");module.exports=function(KEY){var C=global[KEY];if(DESCRIPTORS&&C&&!C[SPECIES])dP.f(C,SPECIES,{configurable:true,get:function(){return this}})}},function(module,exports,__webpack_require__){var META=__webpack_require__(20)("meta");var isObject=__webpack_require__(11);var has=__webpack_require__(19);var setDesc=__webpack_require__(9).f;var id=0;var isExtensible=Object.isExtensible||function(){return true};var FREEZE=!__webpack_require__(14)(function(){return isExtensible(Object.preventExtensions({}))});var setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})};var fastKey=function(it,create){if(!isObject(it))return typeof it=="symbol"?it:(typeof it=="string"?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i};var getWeak=function(it,create){if(!has(it,META)){if(!isExtensible(it))return true;if(!create)return false;setMeta(it)}return it[META].w};var onFreeze=function(it){if(FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META))setMeta(it);return it};var meta=module.exports={KEY:META,NEED:false,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(11);module.exports=function(it,TYPE){if(!isObject(it)||it._t!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required!");return it}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(6);var $export=__webpack_require__(5);var redefine=__webpack_require__(18);var redefineAll=__webpack_require__(524);var meta=__webpack_require__(528);var forOf=__webpack_require__(526);var anInstance=__webpack_require__(525);var isObject=__webpack_require__(11);var fails=__webpack_require__(14);var $iterDetect=__webpack_require__(97);var setToStringTag=__webpack_require__(89);var inheritIfRequired=__webpack_require__(531);module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=global[NAME];var C=Base;var ADDER=IS_MAP?"set":"add";var proto=C&&C.prototype;var O={};var fixMethod=function(KEY){var fn=proto[KEY];redefine(proto,KEY,KEY=="delete"?function(a){return IS_WEAK&&!isObject(a)?false:fn.call(this,a===0?0:a)}:KEY=="has"?function has(a){return IS_WEAK&&!isObject(a)?false:fn.call(this,a===0?0:a)}:KEY=="get"?function get(a){return IS_WEAK&&!isObject(a)?undefined:fn.call(this,a===0?0:a)}:KEY=="add"?function add(a){fn.call(this,a===0?0:a);return this}:function set(a,b){fn.call(this,a===0?0:a,b);return this})};if(typeof C!="function"||!(IS_WEAK||proto.forEach&&!fails(function(){(new C).entries().next()}))){C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER);redefineAll(C.prototype,methods);meta.NEED=true}else{var instance=new C;var HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance;var THROWS_ON_PRIMITIVES=fails(function(){instance.has(1)});var ACCEPT_ITERABLES=$iterDetect(function(iter){new C(iter)});var BUGGY_ZERO=!IS_WEAK&&fails(function(){var $instance=new C;var index=5;while(index--)$instance[ADDER](index,index);return!$instance.has(-0)});if(!ACCEPT_ITERABLES){C=wrapper(function(target,iterable){anInstance(target,C,NAME);var that=inheritIfRequired(new Base,target,C);if(iterable!=undefined)forOf(iterable,IS_MAP,that[ADDER],that);return that});C.prototype=proto;proto.constructor=C}if(THROWS_ON_PRIMITIVES||BUGGY_ZERO){fixMethod("delete");fixMethod("has");IS_MAP&&fixMethod("get")}if(BUGGY_ZERO||HASNT_CHAINING)fixMethod(ADDER);if(IS_WEAK&&proto.clear)delete proto.clear}setToStringTag(C,NAME);O[NAME]=C;$export($export.G+$export.W+$export.F*(C!=Base),O);if(!IS_WEAK)common.setStrong(C,NAME,IS_MAP);return C}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(11);var setPrototypeOf=__webpack_require__(532).set;module.exports=function(that,target,C){var S=target.constructor;var P;if(S!==C&&typeof S=="function"&&(P=S.prototype)!==C.prototype&&isObject(P)&&setPrototypeOf){setPrototypeOf(that,P)}return that}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(11);var anObject=__webpack_require__(10);var check=function(O,proto){anObject(O);if(!isObject(proto)&&proto!==null)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{set=__webpack_require__(21)(Function.call,__webpack_require__(40).f(Object.prototype,"__proto__").set,2);set(test,[]);buggy=!(test instanceof Array)}catch(e){buggy=true}return function setPrototypeOf(O,proto){check(O,proto);if(buggy)O.__proto__=proto;else set(O,proto);return O}}({},false):undefined),check:check}},function(module,exports,__webpack_require__){var $export=__webpack_require__(5);$export($export.P+$export.R,"Map",{toJSON:__webpack_require__(534)("Map")})},function(module,exports,__webpack_require__){var classof=__webpack_require__(96);var from=__webpack_require__(535);module.exports=function(NAME){return function toJSON(){if(classof(this)!=NAME)throw TypeError(NAME+"#toJSON isn't generic");return from(this)}}},function(module,exports,__webpack_require__){var forOf=__webpack_require__(526);module.exports=function(iter,ITERATOR){var result=[];forOf(iter,false,result.push,result,ITERATOR);return result}},function(module,exports,__webpack_require__){__webpack_require__(537)("Map")},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(5);module.exports=function(COLLECTION){$export($export.S,COLLECTION,{of:function of(){var length=arguments.length;var A=new Array(length);while(length--)A[length]=arguments[length];return new this(A)}})}},function(module,exports,__webpack_require__){__webpack_require__(539)("Map")},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(5);var aFunction=__webpack_require__(22);var ctx=__webpack_require__(21);var forOf=__webpack_require__(526);module.exports=function(COLLECTION){$export($export.S,COLLECTION,{from:function from(source){var mapFn=arguments[1];var mapping,A,n,cb;aFunction(this);mapping=mapFn!==undefined;if(mapping)aFunction(mapFn);if(source==undefined)return new this;A=[];if(mapping){n=0;cb=ctx(mapFn,arguments[2],2);forOf(source,false,function(nextItem){A.push(cb(nextItem,n++))})}else{forOf(source,false,A.push,A)}return new this(A)}})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){_createColorRangeManager(chart)};var _colorrange=__webpack_require__(581);var _colorrange2=_interopRequireDefault(_colorrange);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _createColorRangeManager(chart){var manager=chart.getChildren("colorManager");if(!chart.getFromEnv("dataSource").colorrange){manager&&(manager[0].config.legendItemIds=[]);chart.deleteFromEnv("colorManager");return}if(manager){chart.addToEnv("colorManager",manager[0]);manager[0].configure();return}manager=new _colorrange2["default"];chart.attachChild(manager,"colorManager");chart.addToEnv("colorManager",manager);manager.configure()}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _colorBucket=__webpack_require__(582);var _colorBucket2=_interopRequireDefault(_colorBucket);var _gradientColorRange=__webpack_require__(584);var _gradientColorRange2=_interopRequireDefault(_gradientColorRange);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}function getOppositeColor(code){return(0,_libGraphics.getLightColor)(code,1)}function getValidHexColor(code){var color=code||DEF_COLOR;return(0,_libGraphics.getValidColor)(color)||DEF_COLOR}var TRACKER_FILL="rgba(192,192,192,"+(_lib.isIE?.002:1e-6)+")",UNDEF=void 0,PERCENT_STR="%",DEF_COLOR="#000000",legendManager=function(){var chart,defaultConf={};defaultConf.legendCarpetConf={spreadFactor:.85,allowDrag:false,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}};defaultConf.legendCaptionConf={spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}};defaultConf.legendBodyConf={spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}};defaultConf.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:(0,_lib.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}};defaultConf.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:TRACKER_FILL,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:TRACKER_FILL,stroke:"#FFFFFF"}}};defaultConf.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}};function normalizePreprocessedData(confArr){var numberFormatter=chart.getFromEnv("number-formatter"),index,length,rawVal;for(index=0,length=confArr.length;index<length;index++){rawVal=confArr[index].maxvalue;if(!rawVal){continue}confArr[index].maxvalue=numberFormatter.getCleanValue(rawVal)}}return{init:function init(options){chart=options.chart},legacyDataParser:function legacyDataParser(data,extremes){var colormanagerConf={},numberFormatter=chart.getFromEnv("number-formatter"),dataSource=chart.getFromEnv("dataSource"),datasets=dataSource.dataset,mapData=dataSource.data,colorConfArr,colorConf,startColor,endColor,index,validColor,length,colorRange,value,dispValue,mapByPercent,isMaxValPresent;extremes=extremes||{};if(!data){return false}if(chart.defaultDatasetType==="maps"&&(extremes.min===UNDEF||extremes.max===UNDEF)){extremes={min:Infinity,max:-Infinity};mapData&&mapData.forEach(function(dataObj){extremes.min=Math.min(extremes.min,(0,_lib.pluckNumber)(dataObj.value,extremes.min));extremes.max=Math.max(extremes.max,(0,_lib.pluckNumber)(dataObj.value,extremes.min))})}else if(chart.getName()==="HeatMap"&&(extremes.min===UNDEF||extremes.max===UNDEF)){extremes={min:Infinity,max:-Infinity};datasets.forEach(function(dataset){dataset.data&&dataset.data.forEach(function(dataObj){extremes.min=Math.min(extremes.min,(0,_lib.pluckNumber)(dataObj.value,extremes.min));extremes.max=Math.max(extremes.max,(0,_lib.pluckNumber)(dataObj.value,extremes.max))})})}colormanagerConf.mapByPercent=mapByPercent=!!(0,_lib.pluckNumber)(data.mapbypercent,0);colorConfArr=data.color||[];if(data.minvalue===UNDEF){data.minvalue=extremes.min!==UNDEF?mapByPercent?0:extremes.min:0}if(data.maxvalue===UNDEF){data.maxvalue=extremes.max!==UNDEF?mapByPercent?100:extremes.max:100}if(data.maxvalue===data.minvalue||extremes.min===Infinity||extremes.max===-Infinity){data.minvalue=0;data.maxvalue=100}isMaxValPresent=false;for(index=0,length=colorConfArr.length;index<length;index++){if(colorConfArr[index].maxvalue){isMaxValPresent=true;break}}if(!isMaxValPresent){colorConfArr=[]}startColor=data.code;colorRange=colormanagerConf.colorRange=[];colormanagerConf.gradient=!!(0,_lib.pluckNumber)(data.gradient,1);if(!colorConfArr.length){if(startColor){endColor=getValidHexColor(startColor);startColor=getValidHexColor()}else{startColor=getValidHexColor();endColor=getOppositeColor(startColor)}colorConfArr.push({code:endColor,maxvalue:data.maxvalue,label:UNDEF})}else{startColor=getValidHexColor(startColor)}normalizePreprocessedData(colorConfArr);colorConfArr=colorConfArr.sort(function(m,n){return m.maxvalue-n.maxvalue});value=dispValue=data.minvalue&&numberFormatter.getCleanValue(data.minvalue);dispValue=(value!==UNDEF||value!==null)&&(mapByPercent?value+PERCENT_STR:numberFormatter.legendValue(value));colorRange.push({code:(0,_lib.dehashify)(startColor),value:value,displayValue:dispValue,label:data.startlabel});for(index=0,length=colorConfArr.length;index<length;index++){colorConf=colorConfArr[index];validColor=getValidHexColor(colorConf.code||colorConf.color);value=dispValue=colorConf.maxvalue;if(isNaN(parseInt(value,10))){continue}dispValue=(value!==UNDEF||value!==null)&&(mapByPercent?value+PERCENT_STR:numberFormatter.legendValue(value));colorRange.push({code:(0,_lib.dehashify)(validColor),value:value,displayValue:dispValue,label:colorConf.label||colorConf.displayvalue})}colorRange[colorRange.length-1].label=data.endlabel||colorConf.label;return colormanagerConf},getDefaultConf:function getDefaultConf(key){return defaultConf[key]}}}();var ColorRange=function(_ComponentInterface){_inherits(ColorRange,_ComponentInterface);function ColorRange(){_classCallCheck(this,ColorRange);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this.datasource={};_this.config.legendItemIds=[];return _this}ColorRange.prototype.configure=function configure(){var colorManager=this,chart=this.getFromEnv("chart"),colorrange=void 0,isMap=chart.defaultDatasetType==="maps",isTreeMap=chart.getName()==="TreeMap",legendType=void 0,mapByCategory=this.getFromEnv("dataSource").chart.mapbycategory,numberFormatter=chart.getFromEnv("number-formatter"),nData=void 0,showLegend=chart.config.showLegend,colorRangeInstance=chart.getChildren("colorRange")&&chart.getChildren("colorRange")[0];chart.addToEnv("colorManager",colorManager);colorManager.datasource=chart.getFromEnv("dataSource");colorrange=colorManager.datasource.colorrange;colorRangeInstance&&colorRangeInstance.remove({instant:true});if(!showLegend){colorManager.config.legendItemIds=[]}if(isMap){if(colorrange.gradient&&Number(colorrange.gradient)){legendType="gradient"}else if(colorrange.color){legendType="icon"}else{legendType="none"}}else if(isTreeMap){legendType="gradient"}else{if(colorrange.gradient&&colorrange.gradient!="0"&&!Number(mapByCategory)){legendType="gradient"}else{legendType="icon"}}switch(legendType){case"gradient":legendManager.init({chart:chart});nData=legendManager.legacyDataParser(colorrange);(0,_lib.componentFactory)(chart,_gradientColorRange2["default"],"colorRange",1,[nData]);colorRangeInstance=chart.getChildren("colorRange")[0];chart.addToEnv("colorRange",colorRangeInstance);if(!nData){colorRangeInstance._dontPlot=true}colorManager.config.legendItemIds=[];colorManager._configureGradientLegend(colorRangeInstance);break;case"icon":(0,_lib.componentFactory)(chart,_colorBucket2["default"],"colorRange",1,[{colorRange:colorrange,sortLegend:0,mapByCategory:(0,_lib.pluckNumber)(mapByCategory,0),defaultColor:"cccccc",numberFormatter:numberFormatter}]);chart.addToEnv("colorRange",chart.getChildren("colorRange")[0]);showLegend&&colorManager._addLegendItems();break;case"none":chart.deleteFromEnv("colorManager");colorManager.config.legendItemIds=[]}};ColorRange.prototype._configureGradientLegend=function _configureGradientLegend(colorRangeInstance){var colorManager=this,chart=colorManager.getFromEnv("chart"),gradientLegend=chart.getFromEnv("gLegend");if(!gradientLegend){return}gradientLegend.setColorRange(colorRangeInstance);colorManager.addExtEventListener("rangeUpdated",function(e,d){colorManager.fireEvent("legendUpdate",{"original-event":e,maxMinArray:d,component:"gradientlegend"})},gradientLegend)};ColorRange.prototype._addLegendItems=function _addLegendItems(){var colorManager=this,config=colorManager.config,chart=colorManager.getFromEnv("chart"),legend=chart.getChildren("legend")[0],colorrange=chart.getFromEnv("colorRange"),colorMap=colorrange.colorArr,fillColor=void 0,lightColor=void 0,len=colorMap.length,legendItem=void 0,i=void 0,lconfig=void 0;for(i=0;i<len;i++){lconfig={label:(0,_lib.pluck)(colorMap[i].label,colorMap[i].displayvalue),datasetObj:colorMap[i],index:i};lightColor=(0,_libGraphics.getLightColor)(colorMap[i].code,40);fillColor={FCcolor:{color:colorMap[i].code+","+colorMap[i].code+","+lightColor,ratio:"0,70,30",angle:270,alpha:"100,100,100"}};legendItem=legend.getItem(config.legendItemIds[i]);if(!legendItem){config.legendItemIds.push(legend.createItem(colorManager));legendItem=legend.getItem(config.legendItemIds[i]);legendItem.addEventListener("click",legendItem.itemClickFn)}legendItem.removeLegendState("hidden");colorMap[i].legendItemId=legendItem&&legendItem.getId();legendItem.configure(lconfig);legendItem.setStateCosmetics("default",{symbol:{fill:(0,_lib.toRaphaelColor)(fillColor),rawFillColor:colorMap[i].code}})}for(i=len;i<config.legendItemIds.length;i++){legend.disposeItem(config.legendItemIds[i])}config.legendItemIds.splice(len)};ColorRange.prototype.legendInteractivity=function legendInteractivity(legendItem){var colorManager=this,colorObj=colorManager.getFromEnv("colorRange").colorArr[legendItem.config.index];colorManager.fireEvent("legendUpdate",{legendItem:legendItem,colorObj:colorObj,component:"legend"})};ColorRange.prototype.getColor=function getColor(value){var colorManager=this,colorrange=colorManager.datasource.colorrange,mapbycategory=colorManager.datasource.chart.mapbycategory;return!Number(mapbycategory)&&Number(colorrange.gradient)?{code:colorManager.getColorByValue(value)}:colorManager.getColorObj(value)};ColorRange.prototype.getValueRatio=function getValueRatio(){return this.getFromEnv("colorRange").getValueRatio()};ColorRange.prototype.getCumulativeValueRatio=function getCumulativeValueRatio(){return this.getFromEnv("colorRange").getCumulativeValueRatio()};ColorRange.prototype.getBoxFill=function getBoxFill(isVertical){return this.getFromEnv("colorRange").getBoxFill(isVertical)};ColorRange.prototype.getColorByValue=function getColorByValue(value){return this.getFromEnv("colorRange").getColorByValue(value)};ColorRange.prototype.getColorObj=function getColorObj(value){return this.getFromEnv("colorRange").getColorObj(value)};return ColorRange}(_componentInterface2["default"]);exports["default"]=ColorRange},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _stringsLib=__webpack_require__(583);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var getTransitColor=function getTransitColor(colorArr1,colorArr2,transitOffset){var R1=colorArr1[0],G1=colorArr1[1],B1=colorArr1[2],R=R1+(colorArr2[0]-R1)*transitOffset,G=G1+(colorArr2[1]-G1)*transitOffset,B=B1+(colorArr2[2]-B1)*transitOffset;return{hex:(_stringsLib.COLOR_BLACK+(R<<16|G<<8|B).toString(16)).slice(-6),rgb:[R,G,B]}},UNDEF=void 0;var ColorBucket=function(_ComponentInterface){_inherits(ColorBucket,_ComponentInterface);function ColorBucket(){_classCallCheck(this,ColorBucket);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));var colorBucket=_this;colorBucket.mapByCategory=false;colorBucket.colorArr=[];colorBucket.noValidRange=true;colorBucket.sortLegend=false;return _this}ColorBucket.prototype.__setDefaultConfig=function __setDefaultConfig(){_ComponentInterface.prototype.__setDefaultConfig.call(this);this.config.defaultObj={code:"CCCCCC",alpha:"100"}};ColorBucket.prototype.getType=function getType(){return"colorComponent"};ColorBucket.prototype.getName=function getName(){return"colorBucket"};ColorBucket.prototype.configure=function configure(options){if(!options){return}var colorBucket=this,mapByCategory=colorBucket.mapByCategory,numberFormatter=options.numberFormatter,colorRange=options.colorRange||{},color=(0,_lib.extend2)([],colorRange.color),chart=this.getLinkedParent(),dataSource=colorBucket.getFromEnv("dataSource"),paletteIndex=Math.min(Math.max((0,_lib.pluckNumber)(dataSource.chart.palette,0)-1,0),4),defaultPaletteOptions=chart.defaultPaletteOptions&&chart.defaultPaletteOptions.paletteColors[paletteIndex],upperLimit=(0,_lib.pluckNumber)(numberFormatter.getCleanValue(colorRange.maxvalue),Infinity),lowerLimit=(0,_lib.pluckNumber)(numberFormatter.getCleanValue(colorRange.minvalue),-Infinity),colorArr=colorBucket.colorArr,colorCount=void 0,i=void 0,code=void 0,alpha=void 0,borderalpha=void 0,bordercolor=void 0,colorObj=void 0,tempvalue=void 0,maxValue=void 0,minValue=void 0,colorLabel=void 0;if(options.mapByCategory!==UNDEF){mapByCategory=colorBucket.mapByCategory=!!Number(options.mapByCategory)}if(!mapByCategory){color=color.filter(function(obj){return obj.minvalue||obj.maxvalue})}else{color=color.filter(function(obj){return obj.code||obj.color})}color.forEach(function(obj){if(obj.minvalue&&obj.maxvalue&&+obj.maxvalue<+obj.minvalue){tempvalue=obj.maxvalue;obj.maxvalue=obj.minvalue;obj.minvalue=tempvalue}if(!obj.minvalue){obj.minvalue=minValue=lowerLimit;maxValue=numberFormatter.getCleanValue(obj.maxvalue);obj.rangeLabel=minValue===-Infinity?"<"+numberFormatter.dataLabels(maxValue):numberFormatter.dataLabels(minValue)+"-"+numberFormatter.dataLabels(maxValue)}else if(!obj.maxvalue){minValue=numberFormatter.getCleanValue(obj.minvalue);obj.maxvalue=maxValue=upperLimit;obj.rangeLabel=maxValue===Infinity?">"+numberFormatter.dataLabels(minValue):numberFormatter.dataLabels(minValue)+"-"+numberFormatter.dataLabels(maxValue)}else{minValue=numberFormatter.getCleanValue(obj.minvalue);maxValue=numberFormatter.getCleanValue(obj.maxvalue);obj.rangeLabel=numberFormatter.dataLabels(minValue)+"-"+numberFormatter.dataLabels(maxValue)}});color.sort(function(ob1,ob2){return+ob1.minvalue===+ob2.minvalue?ob1.maxvalue-ob2.maxvalue:ob1.minvalue-ob2.minvalue});if(color&&(colorCount=color.length)){colorArr.length=0;for(i=0;i<colorCount;i+=1){colorObj=color[i];code=(0,_lib.pluck)(colorObj.color,colorObj.code,defaultPaletteOptions&&defaultPaletteOptions[i]);alpha=(0,_lib.pluck)(colorObj.alpha);bordercolor=(0,_lib.pluck)(colorObj.bordercolor);borderalpha=(0,_lib.pluck)(colorObj.borderalpha,100);maxValue=(0,_lib.pluckNumber)(colorObj.maxvalue);minValue=(0,_lib.pluckNumber)(colorObj.minvalue);colorLabel=(0,_lib.pluck)(colorObj.label,colorObj.displayvalue,colorObj.rangeLabel);if(code&&maxValue>=minValue||mapByCategory&&colorLabel){colorArr.push({code:code,alpha:alpha||"100",oriAlpha:alpha,maxvalue:maxValue,minvalue:minValue,label:(0,_lib.parseUnsafeString)(colorLabel),labelId:colorLabel.toLowerCase(),bordercolor:bordercolor,borderAlpha:borderalpha,name:colorObj.name})}}colorBucket.sortedColorArr=colorBucket.colorArr.slice(0)}else{colorBucket.noValidRange=true;colorBucket.colorArr=[];colorBucket.sortedColorArr=[]}};ColorBucket.prototype.getColorObj=function getColorObj(value){if(value===UNDEF){return{outOfRange:true}}var colorBucket=this,colorArr=colorBucket.sortedColorArr,i=colorBucket.gradient?1:0,colorObj=colorArr[i],transitOffset=void 0;if(colorBucket.mapByCategory){value=(0,_lib.parseUnsafeString)(value).toLowerCase()||value.toString().toLowerCase();while(colorObj){if(colorObj.labelId===value||colorObj.maxvalue>=value&&colorObj.minvalue<=value){return{code:colorObj.code,alpha:colorObj.alpha||"100",oriAlpha:colorObj.oriAlpha,seriesIndex:i,legendItemId:colorObj.legendItemId}}i+=1;colorObj=colorArr[i]}return{outOfRange:true}}else if(colorBucket.gradient){if(colorBucket.scaleMin<=value&&colorBucket.scaleMax>=value){while(colorObj&&colorObj.maxvalue<value){i+=1;colorObj=colorArr[i]}transitOffset=(value-colorObj.minvalue)/colorObj.range;return{code:getTransitColor(colorArr[i-1].codeRGB,colorObj.codeRGB,transitOffset).hex}}else{return{outOfRange:true}}}else{while(colorObj){if(value<colorObj.minvalue){if(i===0){return{code:colorObj.code,alpha:colorObj.alpha||"100",oriAlpha:colorObj.oriAlpha,seriesIndex:i,name:colorObj.name,label:colorObj.label,outOfRange:true,bordercolor:colorObj.bordercolor,borderalpha:colorObj.borderAlpha}}else{return{code:colorArr[i-1].code,alpha:colorArr[i-1].alpha||"100",oriAlpha:colorArr[i-1].oriAlpha,seriesIndex:i,name:colorArr[i-1].name,label:colorArr[i-1].label,outOfRange:true,bordercolor:colorArr[i-1].bordercolor,borderalpha:colorArr[i-1].borderAlpha}}}if(value>colorObj.maxvalue&&i===colorArr.length-1){return{code:colorObj.code,alpha:colorObj.alpha||"100",oriAlpha:colorObj.oriAlpha,seriesIndex:i,name:colorObj.name,label:colorObj.label,outOfRange:true,bordercolor:colorObj.bordercolor,borderalpha:colorObj.borderAlpha}}if(colorObj.maxvalue>=value&&colorObj.minvalue<=value){return{code:colorObj.code,alpha:colorObj.alpha||"100",oriAlpha:colorObj.oriAlpha,seriesIndex:i,name:colorObj.name,label:colorObj.label,bordercolor:colorObj.bordercolor,borderalpha:colorObj.borderAlpha}}i+=1;colorObj=colorArr[i]}if(!colorArr.length){return{outOfRange:true}}}};ColorBucket.prototype.getColorRangeArr=function getColorRangeArr(minValue,maxValue){var temp,colorArr=this.colorArr,i,l,minColorObj,lastMaxValue,maxColorObj,returnArr=[],colorObj,lastColorObj;if(!this.defaultAsigned){if(minValue>maxValue){temp=minValue;minValue=maxValue;maxValue=temp}if(minValue<maxValue){minColorObj=this.getColorObj(minValue);maxColorObj=this.getColorObj(maxValue);if(minColorObj&&maxColorObj){lastMaxValue=minValue;i=minColorObj.seriesIndex;l=maxColorObj.seriesIndex;for(;i<=l;i+=1){colorObj=(0,_lib.extend2)({},colorArr[i]);if(colorObj.minvalue!==lastMaxValue){colorObj.minvalue=lastMaxValue}returnArr.push(colorObj);lastColorObj=colorObj;lastMaxValue=colorObj.maxvalue}lastColorObj&&(lastColorObj.maxvalue=maxValue)}}}return returnArr};return ColorBucket}(_componentInterface2["default"]);exports["default"]=ColorBucket},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var HUNDREDSTRING="100",COLOR_BLACK="#000000",BLANK="";exports.HUNDREDSTRING=HUNDREDSTRING;exports.BLANK=BLANK;exports.COLOR_BLACK=COLOR_BLACK},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,COMMA_STR=",",getColorBetween=function getColorBetween(range1,range2,value){var value1=range1.value,code1=range1.code,rgb1=(0,_libGraphics.HEXtoRGB)(code1),value2=range2.value,code2=range2.code,rgb2=(0,_libGraphics.HEXtoRGB)(code2),diff,rgb;diff=value2-value1;rgb=[Math.round(rgb1[0]+(rgb2[0]-rgb1[0])/diff*(value-value1)),Math.round(rgb1[1]+(rgb2[1]-rgb1[1])/diff*(value-value1)),Math.round(rgb1[2]+(rgb2[2]-rgb1[2])/diff*(value-value1))];return(0,_libGraphics.RGBtoHex)(rgb)};var GradientColorRange=function(_ComponentInterface){_inherits(GradientColorRange,_ComponentInterface);function GradientColorRange(){_classCallCheck(this,GradientColorRange);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this.colorRange={};_this.valueRatio={};_this.data={};_this.mapByPercent=undefined;return _this}GradientColorRange.prototype.getType=function getType(){return"colorComponent"};GradientColorRange.prototype.getName=function getName(){return"gradientColorRange"};GradientColorRange.prototype.configure=function configure(data){if(!data){return}var gradientColorrange=this,index=void 0,length=void 0,range=void 0;gradientColorrange.data=data;gradientColorrange.appender="";range=gradientColorrange.colorRange=data.colorRange.sort(function(m,n){return m.value-n.value});gradientColorrange.valueRatio=UNDEF;gradientColorrange.values=[];for(index=0,length=range.length;index<length;index++){gradientColorrange.values.push(range[index].value)}};GradientColorRange.prototype.getValueRatio=function getValueRatio(){var colorRange=this.colorRange,currentRange,index,length=colorRange.length,ratio=this.valueRatio,maxValue=colorRange[length-1].value,minValue=colorRange[0].value,range=maxValue-minValue,itemValuePercent,lastValue=0;if(ratio){return ratio}ratio=this.valueRatio=[];for(index=0;index<length;index++){currentRange=colorRange[index];itemValuePercent=(currentRange.value-minValue)/range;ratio.push((itemValuePercent-lastValue)*100);lastValue=itemValuePercent}return ratio};GradientColorRange.prototype.getCumulativeValueRatio=function getCumulativeValueRatio(){var colorRange=this.colorRange,currentRange,index,length=colorRange.length,firstValue=colorRange[0].value,lastValue=colorRange[length-1].value,ratio=[];for(index=0;index<length;index++){currentRange=colorRange[index];ratio.push((currentRange.value-firstValue)/(lastValue-firstValue)*100)}return ratio};GradientColorRange.prototype.getBoxFill=function getBoxFill(isVertical){var colorRange=this.colorRange,currentRange,index,length=colorRange.length,color=[],raphColorArg,angle;angle=isVertical?90:0;for(index=0;index<length;index++){currentRange=colorRange[index];color.push(currentRange.code)}raphColorArg={FCcolor:{alpha:"100,100,100",angle:angle,color:color.join(COMMA_STR),ratio:this.getValueRatio().join(COMMA_STR)}};return(0,_lib.toRaphaelColor)(raphColorArg)};GradientColorRange.prototype.getColorByValue=function getColorByValue(nVal){var valueArr=this.values,colorRange=this.colorRange,length,index,rangeOutSideColor,color;if(nVal===UNDEF||nVal===null){return}for(index=0,length=valueArr.length;index<length;index++){if(nVal===valueArr[index]){color=colorRange[index].code;break}else if(!index&&nVal<valueArr[index]){rangeOutSideColor=true;break}else if(index===length-1&&nVal>valueArr[index]){rangeOutSideColor=true;break}else if(nVal>valueArr[index]&&nVal<valueArr[index+1]){color=getColorBetween(colorRange[index],colorRange[index+1],nVal);break}}if(rangeOutSideColor){return}return color};return GradientColorRange}(_componentInterface2["default"]);exports["default"]=GradientColorRange},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){_decideLegendCreation(chart)};var _lib=__webpack_require__(118);var _gradientLegend=__webpack_require__(586);var _gradientLegend2=_interopRequireDefault(_gradientLegend);var _legend=__webpack_require__(358);var _legend2=_interopRequireDefault(_legend);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _decideLegendCreation(chart){var colorrange=chart.getFromEnv("dataSource").colorrange,mapbycategory=chart.getFromEnv("dataSource").chart.mapbycategory,isMap=chart.defaultDatasetType==="maps",isTreeMap=chart.getName()==="TreeMap",legendType=void 0,legend=chart.getFromEnv("legend"),gLegend=chart.getFromEnv("gLegend");if(!colorrange||!chart.config.showLegend){legendType="none"}else if(isMap){if(colorrange.gradient&&Number(colorrange.gradient)){legendType="gradient"}else if(colorrange.color){legendType="icon"}else{legendType="none"}}else if(isTreeMap){if(colorrange.gradient&&colorrange.gradient!="0"){legendType="gradient"}else{legendType="none"}}else{if(colorrange.gradient&&colorrange.gradient!="0"&&!Number(mapbycategory)){legendType="gradient"}else{legendType="icon"}}switch(legendType){case"gradient":chart.deleteFromEnv("legend");legend&&legend.remove();(0,_lib.componentFactory)(chart,_gradientLegend2["default"],"gLegend",1);gLegend=chart.getChildren("gLegend")[0];gLegend.configure();chart.addToEnv("gLegend",gLegend);break;case"icon":chart.deleteFromEnv("gLegend");gLegend&&gLegend.remove();(0,_lib.componentFactory)(chart,_legend2["default"],"legend",1,{showLegend:true});legend=chart.getChildren("legend")[0];legend.configure();chart.addToEnv("legend",legend);break;case"none":chart.deleteFromEnv("gLegend");chart.deleteFromEnv("legend");gLegend&&gLegend.remove();legend&&legend.remove()}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,compositionKeys={},TRACKER_FILL="rgba(192,192,192,"+(_lib.isIE?.002:1e-6)+")",legendManager=void 0,FORMER_SLIDER_INDEX=false,LATER_SLIDER_INDEX=true,PERCENT_STR="%",COMMA_STR=",",DEF_COLOR="#000000",hasOwnProp={}.hasOwnProperty,M="M",L="L",toolTipController=void 0,gLegendRef=void 0;function merge(source,sink){(function rec(source,sink){var sourceVal,prop;for(prop in source){if(!hasOwnProp.call(source,prop)){continue}sourceVal=source[prop];if(sink[prop]===UNDEF){sink[prop]=sourceVal}else if((typeof sourceVal==="undefined"?"undefined":_typeof(sourceVal))==="object"&&sourceVal!==null){rec(sourceVal,sink[prop])}}})(source,sink);return sink}function getValidHexColor(code){var color=code||DEF_COLOR;return(0,_libGraphics.getValidColor)(color)||DEF_COLOR}function getOppositeColor(code){return(0,_libGraphics.getLightColor)(code,1)}function normalizeFontSizeAppend(obj){var fontSize=obj.fontSize+"",normalizeFontSize;if(!fontSize){return obj}normalizeFontSize=fontSize.replace(/(\d+)(px)*/,"$1px");obj.fontSize=normalizeFontSize;return obj}function isInvalid(arg){if(arg===UNDEF||typeof arg==="undefined"||arg===null||isNaN(arg)){return true}return false}compositionKeys.CAPTION="CAPTION";compositionKeys.LEGEND_BODY="LEGEND_BODY";compositionKeys.AXIS_LABEL="LEGEND_LABEL";compositionKeys.LEGEND_AXIS="LEGEND_AXIS";compositionKeys.RANGE="RANGE";compositionKeys.AXIS_VALUE="AXIS_VALUE";legendManager=function(){var chart,defaultConf={};defaultConf.legendCarpetConf={spreadFactor:.85,allowDrag:false,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}};defaultConf.legendCaptionConf={spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}};defaultConf.legendBodyConf={spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}};defaultConf.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:(0,_lib.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}};defaultConf.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:TRACKER_FILL,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:TRACKER_FILL,stroke:"#FFFFFF"}}};defaultConf.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}};function normalizePreprocessedData(confArr){var numberFormatter=chart.getFromEnv("number-formatter"),index,length,rawVal;for(index=0,length=confArr.length;index<length;index++){rawVal=confArr[index].maxvalue;if(!rawVal){continue}confArr[index].maxvalue=numberFormatter.getCleanValue(rawVal)}}return{init:function init(options){chart=options.chart},legacyDataParser:function legacyDataParser(data,extremes){var colormanagerConf={},numberFormatter=chart.getFromEnv("number-formatter"),colorConfArr,colorConf,startColor,endColor,index,validColor,length,colorRange,value,dispValue,mapByPercent,isMaxValPresent;if(!data){return false}colormanagerConf.mapByPercent=mapByPercent=!!(0,_lib.pluckNumber)(data.mapbypercent,0);colorConfArr=data.color||[];if(data.minvalue===UNDEF){data.minvalue=extremes.min!==UNDEF?mapByPercent?0:extremes.min:0}if(data.maxvalue===UNDEF){data.maxvalue=extremes.max!==UNDEF?mapByPercent?100:extremes.max:100}isMaxValPresent=false;for(index=0,length=colorConfArr.length;index<length;index++){if(colorConfArr[index].maxvalue){isMaxValPresent=true;break}}if(!isMaxValPresent){colorConfArr=[]}startColor=data.code;colorRange=colormanagerConf.colorRange=[];colormanagerConf.gradient=!!(0,_lib.pluckNumber)(data.gradient,1);if(!colorConfArr.length){if(startColor){endColor=getValidHexColor(startColor);startColor=getValidHexColor()}else{startColor=getValidHexColor();endColor=getOppositeColor(startColor)}colorConfArr.push({code:endColor,maxvalue:data.maxvalue,label:UNDEF})}else{startColor=getValidHexColor(startColor)}normalizePreprocessedData(colorConfArr);colorConfArr=colorConfArr.sort(function(m,n){return m.maxvalue-n.maxvalue});value=dispValue=data.minvalue&&numberFormatter.getCleanValue(data.minvalue);dispValue=(value!==UNDEF||value!==null)&&(mapByPercent?value+PERCENT_STR:numberFormatter.legendValue(value));colorRange.push({code:(0,_lib.dehashify)(startColor),value:value,displayValue:dispValue,label:data.startlabel});for(index=0,length=colorConfArr.length;index<length;index++){colorConf=colorConfArr[index];validColor=getValidHexColor(colorConf.code||colorConf.color);value=dispValue=colorConf.maxvalue;if(isNaN(parseInt(value,10))){continue}dispValue=(value!==UNDEF||value!==null)&&(mapByPercent?value+PERCENT_STR:numberFormatter.legendValue(value));colorRange.push({code:(0,_lib.dehashify)(validColor),value:value,displayValue:dispValue,label:colorConf.label||colorConf.displayvalue})}colorRange[colorRange.length-1].label=data.endlabel||colorConf.label;return colormanagerConf},getDefaultConf:function getDefaultConf(key){return defaultConf[key]}}}();var GLegend=function(_ComponentInterface){_inherits(GLegend,_ComponentInterface);GLegend.prototype.getType=function getType(){return"gradientLegend"};GLegend.prototype.getName=function getName(){return"gLegend"};function GLegend(){_classCallCheck(this,GLegend);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));gLegendRef=_this;_this.enabled=false;_this.drawOptions={};_this.components={};return _this}GLegend.prototype.setColorRange=function setColorRange(colorRange){var cr=this.drawOptions.colorRange=colorRange;cr&&cr._preparationGoneWrong&&(this._dontPlot=true)};GLegend.prototype.configureAttributes=function configureAttributes(){var componentAPI=this,chart=componentAPI.getFromEnv("chart"),chartAttrs=componentAPI.getFromEnv("dataSource").chart,conf=componentAPI.conf={},outCanvasBaseFont=chartAttrs.outcnvbasefont,outCanvasBaseFontSize=chartAttrs.outcnvbasefontsize,outCanvasBaseFontColor=chartAttrs.outcnvbasefontcolor,labelStyle=chart.config.dataLabelStyle,fColor,fFamily,fSize,fWeight,cfColor,cfFamily,cfSize,cfWeight,axisBorderColor,axisBorderAlpha;legendManager.init({chart:chart});componentAPI.data=componentAPI.getFromEnv("dataSource").colorrange;if(componentAPI._dontPlot){return}componentAPI.drawOptions={smartLabel:componentAPI.getFromEnv("smartLabel"),gLegend:componentAPI};componentAPI._dontPlot=false;componentAPI._recalculateLogicalSpace=true;toolTipController=componentAPI.getFromEnv("toolTipController");conf.caption=(0,_lib.pluck)(chartAttrs.legendcaption);conf.legendPosition=(0,_lib.pluck)(chartAttrs.legendposition,"bottom").toLowerCase();conf.showLegend=(0,_lib.pluckNumber)(chartAttrs.showlegend,1);conf.interactiveLegend=(0,_lib.pluckNumber)(chartAttrs.interactivelegend,1);conf.showLegendLabels=(0,_lib.pluckNumber)(chartAttrs.showlegendlabels,1);fColor=chartAttrs.legenditemfontcolor||outCanvasBaseFontColor;fFamily=chartAttrs.legenditemfont||outCanvasBaseFont;fSize=chartAttrs.legenditemfontsize||outCanvasBaseFontSize;fWeight=(0,_lib.pluckNumber)(chartAttrs.legenditemfontbold,0);cfColor=chartAttrs.legendcaptionfontcolor||outCanvasBaseFontColor;cfFamily=chartAttrs.legendcaptionfont||outCanvasBaseFont;cfSize=chartAttrs.legendcaptionfontsize||outCanvasBaseFontSize;cfWeight=(0,_lib.pluckNumber)(chartAttrs.legendcaptionfontbold,1);axisBorderColor=chartAttrs.legendaxisbordercolor?(0,_lib.hashify)((0,_lib.dehashify)(chartAttrs.legendaxisbordercolor)):UNDEF;axisBorderAlpha=axisBorderColor?(0,_lib.pluckNumber)(chartAttrs.legendaxisborderalpha,100)/100:UNDEF;conf.axisTextItemConf={style:{fill:fColor?(0,_libGraphics.convertColor)((0,_lib.pluck)(fColor)):labelStyle.color,fontFamily:fFamily?(0,_lib.pluck)(fFamily):labelStyle.fontFamily,fontSize:fSize?(0,_lib.pluckNumber)(fSize):labelStyle.fontSize.match(/\d+/)[0],fontWeight:fWeight?"bold":labelStyle.fontWeight}};conf.legendCaptionConf={style:{fill:cfColor?(0,_libGraphics.convertColor)((0,_lib.pluck)(cfColor)):labelStyle.color,fontFamily:cfFamily?(0,_lib.pluck)(cfFamily):labelStyle.fontFamily,fontSize:cfSize?(0,_lib.pluckNumber)(cfSize):labelStyle.fontSize.match(/\d+/)[0],fontWeight:cfWeight?"bold":labelStyle.fontWeight,fontStyle:"normal"}};conf.legendAxisConf={legendAxisHeight:11,style:{stroke:axisBorderColor,"stroke-opacity":axisBorderAlpha},line:{style:{stroke:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.legendscalelinecolor,"FFF8E9"),(0,_lib.pluckNumber)(chartAttrs.legendscalelinealpha,100)),"stroke-width":(0,_lib.pluckNumber)(chartAttrs.legendscalelinethickness)}}};conf.sliderGroupConf={showTooltip:(0,_lib.pluckNumber)(chartAttrs.showtooltip,1),outerCircle:{rFactor:(0,_lib.pluckNumber)(chartAttrs.sliderdiameterfactor),style:{stroke:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.legendpointerbordercolor,"757575"),(0,_lib.pluckNumber)(chartAttrs.legendpointerborderalpha,100))}},innerCircle:{rFactor:(0,_lib.pluckNumber)(chartAttrs.sliderholediameterfactor),style:{stroke:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.legendpointercolor,"FFFFFF"),(0,_lib.pluckNumber)(chartAttrs.legendpointeralpha,100))}}};conf.legendCarpetConf={spreadFactor:(0,_lib.pluckNumber)(chartAttrs.legendspreadfactor),allowDrag:!!(0,_lib.pluckNumber)(chartAttrs.legendallowdrag,0),captionAlignment:(0,_lib.pluck)(chartAttrs.legendcaptionalignment,"center"),style:{fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.legendbgcolor,"e4d9c1"),(0,_lib.pluckNumber)(chartAttrs.legendbgalpha,100)),stroke:(0,_libGraphics.convertColor)((0,_lib.pluck)(chartAttrs.legendbordercolor,"c4b89d"),(0,_lib.pluckNumber)(chartAttrs.legendborderalpha,100)),"stroke-width":(0,_lib.pluckNumber)(chartAttrs.legendborderthickness,1)}}};GLegend.prototype.postConfigureInit=function postConfigureInit(){var componentAPI=this,conf=componentAPI.conf,caption,carpet,axis,sGroup,ovrdConf,ovrdTextConf,body,labels,values,captionConfig,axisConfig,bodyConfig;componentAPI.elem={};if(conf.interactiveLegend){ovrdConf=merge(legendManager.getDefaultConf("sliderGroupConf"),conf.sliderGroupConf);if(this.sGroup){sGroup=componentAPI.elem.sGroup=this.sGroup;sGroup.configure(ovrdConf);componentAPI.elem.sGroup.gLegend=componentAPI}else{this.sGroup=componentAPI.elem.sGroup=sGroup=new SliderGroup(ovrdConf);sGroup.configure(ovrdConf);componentAPI.elem.sGroup.gLegend=componentAPI}}else{this.sGroup&&this.sGroup.dispose();this.sGroup&&delete this.sGroup}ovrdConf=merge(legendManager.getDefaultConf("legendCarpetConf"),conf.legendCarpetConf);ovrdConf.legendPosition=conf.legendPosition;bodyConfig=legendManager.getDefaultConf("legendBodyConf");if(conf.legendPosition==="bottom"){componentAPI.drawOptions.refSideKey="canvasWidth";componentAPI.drawOptions.refOffsetKey="canvasLeft";ovrdTextConf=merge(legendManager.getDefaultConf("axisTextItemConf"),conf.axisTextItemConf);bodyConfig.legendPosition="bottom";axisConfig=merge(legendManager.getDefaultConf("legendAxisConf"),conf.legendAxisConf);axisConfig.legendPosition="bottom";ovrdTextConf.legendPosition="bottom"}else{componentAPI.drawOptions.refSideKey="canvasHeight";componentAPI.drawOptions.refOffsetKey="canvasTop";ovrdTextConf=merge(legendManager.getDefaultConf("axisTextItemConf"),conf.axisTextItemConf);bodyConfig.legendPosition="right";axisConfig=merge(legendManager.getDefaultConf("legendAxisConf"),conf.legendAxisConf);axisConfig.legendPosition="right";ovrdTextConf.legendPosition="right"}if(!Object.keys(this.components).length){this.components.LegendCarpet=new LegendCarpet;this.components.LegendBody=new LegendBody;this.components.LegendAxis=new LegendAxis;this.components.LegendValues=new LegendValues;conf.showLegendLabels&&(this.components.LegendLabels=new LegendLabels)}axis=this.components.LegendAxis;values=this.components.LegendValues;carpet=this.components.LegendCarpet;body=this.components.LegendBody;conf.showLegendLabels&&(labels=this.components.LegendLabels);this.components.LegendCarpet.configure(ovrdConf);this.components.LegendValues.configure(ovrdTextConf);this.components.LegendAxis.configure(axisConfig);this.components.LegendBody.configure(componentAPI.drawOptions.colorRange,bodyConfig,ovrdTextConf);conf.showLegendLabels&&labels.configure(ovrdTextConf);if(conf.caption){captionConfig=merge(legendManager.getDefaultConf("legendCaptionConf"),conf.legendCaptionConf);if(this.componentCaption&&Object.keys(this.componentCaption).length){this.componentCaption.configure(conf.caption,captionConfig)}else{caption=this.componentCaption=new LegendCaption;caption.configure(conf.caption,captionConfig)}carpet.addCompositions(this.componentCaption,compositionKeys.CAPTION)}else{carpet.removeCompositions(compositionKeys.CAPTION);this.componentCaption&&this.componentCaption.dispose();delete this.componentCaption}sGroup&&axis.addCompositions(sGroup,compositionKeys.RANGE);labels&&body.addCompositions(labels,compositionKeys.AXIS_LABEL);body.addCompositions(axis,compositionKeys.LEGEND_AXIS);body.addCompositions(values,compositionKeys.AXIS_VALUE);carpet.addCompositions(body,compositionKeys.LEGEND_BODY);componentAPI.elem.gl=new LegendBase(carpet)};GLegend.prototype.getValueRange=function getValueRange(){var componentAPI=this,rGroup=componentAPI.elem&&componentAPI.elem.sGroup,sliders=rGroup.sliders,extremes=rGroup.extremes,minVal,maxVal;minVal=sliders["false"].currPos;maxVal=extremes[1]-extremes[0]+sliders["true"].currPos;return[{min:rGroup.getValueFormPixel(minVal),max:rGroup.getValueFormPixel(maxVal)}]};GLegend.prototype._dispose=function _dispose(){var componentAPI=this;componentAPI.elem&&componentAPI.elem.gl&&componentAPI.elem.gl.dispose();componentAPI.elem={};_ComponentInterface.prototype._dispose.call(this)};GLegend.prototype.getCalculatedLogicalSpace=function getCalculatedLogicalSpace(){return this._logicalArea};GLegend.prototype.setCalculatedLogicalSpace=function setCalculatedLogicalSpace(area){this._logicalArea=area};GLegend.prototype.getLogicalSpace=function getLogicalSpace(maxOtherSide){var componentAPI=this,conf=componentAPI.conf,zeroArea={height:0,width:0},logicalSpace,drawOptions=componentAPI.drawOptions,refSideKey,chartConfig=componentAPI.getFromEnv("chartConfig"),refOffsetKey;if(!componentAPI._recalculateLogicalSpace){refSideKey=drawOptions.refSideKey;refOffsetKey=drawOptions.refOffsetKey;componentAPI.drawOptions.refSide=chartConfig[refSideKey];componentAPI.drawOptions.refOffset=chartConfig[refOffsetKey];componentAPI.drawOptions.maxOtherSide=maxOtherSide||componentAPI.drawOptions.maxOtherSide;logicalSpace=componentAPI.elem.gl.getLogicalSpace(componentAPI.drawOptions,true);componentAPI.setCalculatedLogicalSpace(logicalSpace);return componentAPI.getCalculatedLogicalSpace()||zeroArea}if(componentAPI._dontPlot){return zeroArea}componentAPI._recalculateLogicalSpace=false;componentAPI.postConfigureInit();if(!conf.showLegend){return zeroArea}refSideKey=drawOptions.refSideKey;refOffsetKey=drawOptions.refOffsetKey;componentAPI.drawOptions.refSide=chartConfig[refSideKey];componentAPI.drawOptions.refOffset=chartConfig[refOffsetKey];componentAPI.drawOptions.maxOtherSide=maxOtherSide||componentAPI.drawOptions.maxOtherSide;if(componentAPI.elem.gl){logicalSpace=componentAPI.elem.gl.getLogicalSpace(componentAPI.drawOptions,true);componentAPI.elem.gl&&componentAPI.setCalculatedLogicalSpace(logicalSpace)}return componentAPI.getCalculatedLogicalSpace()};GLegend.prototype.resetLegend=function resetLegend(){var componentAPI=this,rGroup;rGroup=componentAPI.elem&&componentAPI.elem.sGroup;if(rGroup){rGroup.reset()}};GLegend.prototype.allocatePosition=function allocatePosition(){var iapi=this.getFromEnv("chart"),config=iapi.config,gradientLegend=this,conf=gradientLegend.conf||{},legendPosition=conf.legendPosition,canvasLeft=config.canvasLeft,canvasTop=config.canvasTop,canvasWidth=config.canvasWidth,canvasHeight=config.canvasHeight,marginBottom=config.marginBottom,marginRight=config.marginRight,spaceTakenByGradientLegend,spaceLeft,width,height,xPos,yPos;if(!iapi.config.gLegendEnabled){return}spaceTakenByGradientLegend=this.getCalculatedLogicalSpace();width=conf.width=spaceTakenByGradientLegend.width;height=conf.height=spaceTakenByGradientLegend.height;if(legendPosition==="bottom"){spaceLeft=canvasWidth-width;xPos=canvasLeft+(spaceLeft<0?0:spaceLeft/2);yPos=config.height-spaceTakenByGradientLegend.height-marginBottom-(config.actionBarHeight||0)}else{spaceLeft=canvasHeight-height;yPos=canvasTop+(spaceLeft<0?0:spaceLeft/2);xPos=config.width-spaceTakenByGradientLegend.width-marginRight}conf.xPos=xPos;conf.yPos=yPos};GLegend.prototype.draw=function draw(){var iapi=this.getFromEnv("chart"),colorRangeObj=iapi.getFromEnv("dataSource").colorrange,gradientLegend=this,conf=gradientLegend.conf||{},hasGradientLegend=iapi.hasGradientLegend;if(!iapi.config.gLegendEnabled){return}colorRangeObj&&hasGradientLegend&&gradientLegend.drawLegendComponent(conf.xPos,conf.yPos,{parentGroup:iapi.getContainer("parentgroup"),animationManager:iapi.getFromEnv("animationManager")})};GLegend.prototype.drawLegendComponent=function drawLegendComponent(x,y,options){var componentAPI=this,conf=componentAPI.conf,measurement,node;if(componentAPI._dontPlot){return}if(!conf.showLegend){componentAPI.enabled=false;return}componentAPI.drawOptions.animationManager=options.animationManager;componentAPI.drawOptions.parentGroup=options.parentGroup;componentAPI.drawOptions.x=x;componentAPI.drawOptions.y=y;componentAPI.drawOptions.maxOtherSide=componentAPI.drawOptions.maxOtherSide||options.maxOtherSide;node=componentAPI.elem.gl.draw(componentAPI.drawOptions);measurement=node.getBBox();conf.xPos=measurement.x;conf.yPos=measurement.y;conf.height=measurement.height;conf.width=measurement.width;componentAPI.enabled=true};return GLegend}(_componentInterface2["default"]);var LegendBase=function(){function LegendBase(carpet){_classCallCheck(this,LegendBase);this.carpet=carpet}LegendBase.prototype.draw=function draw(options){return this.carpet.draw(options)};LegendBase.prototype.getLogicalSpace=function getLogicalSpace(options,recalculate){return this.carpet.getLogicalSpace(options,recalculate)};LegendBase.prototype.dispose=function dispose(){this.carpet&&this.carpet.group&&this.carpet.group.remove()};return LegendBase}();var LegendCarpet=function(){function LegendCarpet(conf){_classCallCheck(this,LegendCarpet);this.conf=conf;this._id="GL_CARPET";this.compositionsByCategory={};this.node=UNDEF;this.group=UNDEF;this._lSpace=UNDEF;this.autoRecalculate=false;this.groupName="fc-gradient-legend";this.moveInstructions={}}LegendCarpet.prototype.configure=function configure(conf){this.conf=conf};LegendCarpet.prototype.getName=function getName(){return"LegendCarpet"};LegendCarpet.prototype.getType=function getType(){return"legend"};LegendCarpet.prototype.addCompositions=function addCompositions(instance,category){this.compositionsByCategory[category]=instance};LegendCarpet.prototype.removeCompositions=function removeCompositions(category){delete this.compositionsByCategory[category]};LegendCarpet.prototype.getBoundingBox=function getBoundingBox(options){var conf=this.conf,spreadFactor=conf.spreadFactor,refSide=options.refSide,alignment=options.alignment,refOffset=options.refOffset,x=options.x,y=options.y,lWidth,lHeight;if(this.conf.legendPosition==="bottom"){lWidth=conf.width=refSide*spreadFactor;lHeight=options.maxOtherSide;if(alignment&&(x===UNDEF||x===null)){x=(refOffset+refSide)/2-lWidth/2}}else{lHeight=conf.height=refSide*spreadFactor;lWidth=options.maxOtherSide;if(alignment&&(y===UNDEF||y===null)){y=(refOffset+refSide)/2-lHeight/2}}return{width:lWidth,height:lHeight,x:x,y:y}};LegendCarpet.prototype.getPostCalcDecisionsH=function getPostCalcDecisionsH(bBox,componentsArea){var conf=this.conf,padding=conf.padding,cat,totalHeightTaken=0;this.moveInstructions={};for(cat in componentsArea){totalHeightTaken+=componentsArea[cat].height||0}bBox.height=totalHeightTaken+2*padding.v};LegendCarpet.prototype.getLogicalSpace=function getLogicalSpace(options,recalculate){var lSpace=this._lSpace,categoryMap=["CAPTION","LEGEND_BODY"],conf=this.conf,padding=conf.padding,compositionsByCategory=this.compositionsByCategory,composition,bBox,effectivePlotArea,compositionLSPace,compositionHeight=0,componentsArea={},compositionPlotArea,heightNotUsed=0;if(lSpace&&!recalculate){lSpace.isImpure=true;return lSpace}lSpace=this._lSpace=bBox=this.getBoundingBox(options);if(isInvalid(lSpace.x)||isInvalid(lSpace.y)||isInvalid(lSpace.height)||isInvalid(lSpace.width)){this.autoRecalculate=true}effectivePlotArea=merge(bBox,{});effectivePlotArea.height-=2*padding.v;effectivePlotArea.width-=2*padding.h;effectivePlotArea.x+=padding.h;effectivePlotArea.y+=padding.v;for(var i=0;i<categoryMap.length;i++){composition=compositionsByCategory[categoryMap[i]];if(composition){compositionPlotArea=merge(effectivePlotArea,{});compositionPlotArea.y+=compositionHeight;compositionHeight=effectivePlotArea.height*composition.conf.spreadFactor;compositionPlotArea.height=compositionHeight+heightNotUsed;compositionLSPace=composition.getLogicalSpace(merge(compositionPlotArea,{}),options,recalculate);heightNotUsed=compositionPlotArea.height-compositionLSPace.height;componentsArea[categoryMap[i]]=compositionLSPace;compositionHeight=compositionLSPace.height}}this.getPostCalcDecisions(bBox,componentsArea);this._lSpace=bBox;return bBox};LegendCarpet.prototype.setupDragging=function setupDragging(){var group=this.group,dx=0,dy=0,idx=0,idy=0;group.css({cursor:"move"});group.drag(function(_dx,_dy){dx=_dx;dy=_dy;group.attr({transform:"t"+(idx+dx)+","+(idy+dy)})},function(){idx+=dx;idy+=dy},_lib.stubFN)};LegendCarpet.prototype.draw=function draw(options){var conf=this.conf,ref=this,categoryMap=["CAPTION","LEGEND_BODY"],compositionsByCategory=this.compositionsByCategory,animationManager=options.animationManager,parentGroup=options.parentGroup,group,category,composition,lSpace;this.getLogicalSpace(options,this.autoRecalculate);lSpace=this._lSpace;this.group=group=animationManager.setAnimation({el:this.group||"group",attr:{name:ref.groupName},component:gLegendRef,container:parentGroup,label:"carpetGroup"});this.node=animationManager.setAnimation({el:this.node||"rect",attr:lSpace,css:conf.style,component:gLegendRef,container:group,label:"rect"});for(var i=0;i<categoryMap.length;i++){composition=compositionsByCategory[categoryMap[i]];if(composition){composition.draw(conf.captionAlignment,lSpace,{animationManager:animationManager,colorRange:options.colorRange,numberFormatter:options.numberFormatter,parentLayer:group,smartLabel:options.smartLabel,moveInstructions:this.moveInstructions[category],gLegend:options.gLegend})}}conf.allowDrag&&this.setupDragging();return this.node};LegendCarpet.prototype.getPostCalcDecisions=function getPostCalcDecisions(bBox,componentsArea){return this.conf.legendPosition==="bottom"?this.getPostCalcDecisionsH(bBox,componentsArea):this.getPostCalcDecisionsV(bBox,componentsArea)};LegendCarpet.prototype.getPostCalcDecisionsV=function getPostCalcDecisionsV(bBox,componentsArea){var conf=this.conf,padding=conf.padding,maxWidth=Number.NEGATIVE_INFINITY,width,cat,move=this.moveInstructions,diff;this.getPostCalcDecisionsH(bBox,componentsArea);for(cat in componentsArea){width=componentsArea[cat].width;maxWidth=maxWidth<width?width:maxWidth}bBox.width=maxWidth+2*padding.h;for(cat in componentsArea){width=componentsArea[cat].width;diff=maxWidth-width;if(diff){move[cat]="t"+diff/2+",0"}}};return LegendCarpet}();var LegendCaption=function(){function LegendCaption(text,conf){_classCallCheck(this,LegendCaption);this.rawText=text;this.conf=conf;this._id="GL_CAPTION";this.node=UNDEF;this.bound=UNDEF;this._lSpace=UNDEF;this.LegendCaption={};this.LegendCaption.LEFT={x:function x(smartText,boundingBox){return boundingBox.x+smartText.width/2+2}};this.LegendCaption.RIGHT={x:function x(smartText,boundingBox){return boundingBox.x+boundingBox.width-smartText.width/2-2}};this.LegendCaption.CENTER={x:function x(){var boundingBox=arguments[1];return boundingBox.x+boundingBox.width/2}}}LegendCaption.prototype.configure=function configure(text,conf){this.rawText=text;this.conf=conf};LegendCaption.prototype.getName=function getName(){return"LegendCaption"};LegendCaption.prototype.getType=function getType(){return"caption"};LegendCaption.prototype.getLogicalSpace=function getLogicalSpace(bBox,options,recalculate){var conf=this.conf,padding=conf.padding,lSpace=this._lSpace,text=this.rawText,chartConfig=options.gLegend.getFromEnv("chartConfig"),smartLabel,effectivePlotArea,smartText,copyOfStyle;if(lSpace&&!recalculate){lSpace.isImpure=true;return lSpace}lSpace=this._lSpace={bound:{height:0,width:0},node:{logicArea:UNDEF,smartText:UNDEF}};smartLabel=options.smartLabel;if(!text){return lSpace.bound}effectivePlotArea=merge(bBox,{});effectivePlotArea.height-=2*padding.v;effectivePlotArea.width-=2*padding.h;effectivePlotArea.x+=padding.h;effectivePlotArea.y+=padding.v;smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);copyOfStyle=merge(this.conf.style,{});normalizeFontSizeAppend(copyOfStyle);smartLabel.setStyle(this._metaStyle=copyOfStyle);smartText=smartLabel.getSmartText(text,effectivePlotArea.width,effectivePlotArea.height);effectivePlotArea.height=smartText.height;effectivePlotArea.width=smartText.width;bBox.height=smartText.height+2*padding.v;bBox.width=smartText.width+2*padding.h;lSpace.node.smartText=smartText;lSpace.node.logicArea=effectivePlotArea;lSpace.bound=bBox;return bBox};LegendCaption.prototype.draw=function draw(){var conf=this.conf,layer,boundAttr=conf.bound||{},group,bound,boundingArea,lSpace,normalizedX,x,bBox,options,node,animationManager;if(arguments.length>=3){x=arguments[0];bBox=arguments[1];options=arguments[2]}else if(arguments.length>=2){x=arguments[0];options=arguments[1]}layer=options.parentLayer;animationManager=options.animationManager;this.group=group=animationManager.setAnimation({el:this.group||"group",attr:{name:"legend-caption"},css:conf.style,component:gLegendRef,container:layer});this.getLogicalSpace(bBox,options);lSpace=this._lSpace;node=lSpace.node;boundingArea=lSpace.bound;this.bound=bound=animationManager.setAnimation({el:this.bound||"rect",attr:boundingArea,css:boundAttr.style,container:group,component:gLegendRef});normalizedX=typeof x==="string"?this.LegendCaption[x.toUpperCase()].x(node.smartText,bBox||node.logicArea):x;this.node=animationManager.setAnimation({el:this.node||"text",attr:{text:node.smartText.text,x:normalizedX,y:node.logicArea.y+node.smartText.height/2,lineHeight:this._metaStyle.lineHeight,fill:conf.style.fill},container:group,component:gLegendRef});return{group:group,bound:bound,node:this.node}};LegendCaption.prototype.dispose=function dispose(){this.group.remove();this.bound.remove();this.node.remove()};return LegendCaption}();var LegendBody=function(){function LegendBody(colorRange,conf,childTextConf){_classCallCheck(this,LegendBody);this.colorRange=colorRange;this.conf=conf;this.childTextConf=childTextConf;this._id="GL_BODY";this.bound=UNDEF;this.group=UNDEF;this.compositionsByCategory={};this._lSpace=UNDEF;this.SC_STACK=[compositionKeys.AXIS_LABEL,compositionKeys.LEGEND_AXIS,compositionKeys.AXIS_VALUE];this.DARW_STACK=[compositionKeys.AXIS_VALUE,compositionKeys.LEGEND_AXIS,compositionKeys.AXIS_LABEL]}LegendBody.prototype.configure=function configure(colorRange,conf,childTextConf){this.colorRange=colorRange;this.conf=conf;this.childTextConf=childTextConf;this.compositionsByCategory={}};LegendBody.prototype.getName=function getName(){return"LegendBody"};LegendBody.prototype.getType=function getType(){return"legend"};LegendBody.prototype.addCompositions=function addCompositions(instance,category){this.compositionsByCategory[category]=instance};LegendBody.prototype.getSpaceTaken=function getSpaceTaken(spaceObj){return this.conf.legendPosition==="bottom"?spaceObj.height:spaceObj.width};LegendBody.prototype.getLogicalSpace=function getLogicalSpace(bBox,options,recalculate){var lSpace=this._lSpace,conf=this.conf,padding=conf.padding,compositionsByCategory=this.compositionsByCategory,composition,compositionPlotArea,compositionAreaOffset,effectivePlotArea,getCompositionPlotArea,spaceTaken=0,index,length;if(lSpace&&!recalculate){lSpace.isImpure=true;return lSpace}lSpace=this._lSpace={bound:{height:0,width:0},node:{logicArea:UNDEF}};effectivePlotArea=merge(bBox,{});effectivePlotArea.height-=2*padding.v;effectivePlotArea.width-=2*padding.h;effectivePlotArea.x+=padding.h;effectivePlotArea.y+=padding.v;getCompositionPlotArea=this.getCompositionPlotAreaFor(effectivePlotArea);options.colorRange=this.colorRange;for(index=0,length=this.SC_STACK.length;index<length;index++){if(!(composition=compositionsByCategory[this.SC_STACK[index]])){continue}compositionPlotArea=getCompositionPlotArea(compositionAreaOffset,composition.conf.spreadFactor);compositionAreaOffset=composition.getLogicalSpace(merge(compositionPlotArea,{}),options,recalculate);spaceTaken+=this.getSpaceTaken(compositionAreaOffset)}this.updateEffectivePlotArea(bBox,effectivePlotArea,spaceTaken);lSpace.node.logicArea=effectivePlotArea;lSpace.bound=bBox;return bBox};LegendBody.prototype.draw=function draw(){var childTextConf=this.childTextConf,conf=this.conf,boundStyle=conf.bound.style||{},compositionsByCategory=this.compositionsByCategory,animationManager,layer,bound,composition,legendBodyGroup,bBox,lSpace,options,index,length;if(arguments.length>=3){bBox=arguments[1];options=arguments[2]}else if(arguments.length>=2){options=arguments[1]}layer=options.parentLayer;animationManager=options.animationManager;this.getLogicalSpace(bBox,options);lSpace=this._lSpace;this.group=legendBodyGroup=animationManager.setAnimation({el:this.group||"group",attr:{name:"legend-body",transform:"t0,0"},css:childTextConf.style,container:layer,component:gLegendRef});this.bound=bound=animationManager.setAnimation({el:this.bound||"rect",attr:lSpace.bound,css:boundStyle,container:legendBodyGroup,component:gLegendRef});options.colorRange=this.colorRange;options.parentLayer=legendBodyGroup;for(index=0,length=this.DARW_STACK.length;index<length;index++){if(!(composition=compositionsByCategory[this.DARW_STACK[index]])){continue}composition.draw(options)}if(options.moveInstructions){legendBodyGroup.attr({transform:options.moveInstructions})}return{bound:bound,group:legendBodyGroup}};LegendBody.prototype.getCompositionPlotAreaFor=function getCompositionPlotAreaFor(effectivePlotArea){var plotArea,isLPosBottom=this.conf.legendPosition==="bottom";plotArea=merge(effectivePlotArea,{});return function(compositionAreaOffset,sf){compositionAreaOffset=compositionAreaOffset||{};if(isLPosBottom){plotArea.y+=compositionAreaOffset.height||0;plotArea.height=effectivePlotArea.height*sf}else{plotArea.x+=compositionAreaOffset.width||0;plotArea.width=effectivePlotArea.width*sf}return plotArea}};LegendBody.prototype.updateEffectivePlotArea=function updateEffectivePlotArea(bBox,effectivePlotArea,val){var conf=this.conf,padding=conf.padding;if(this.conf.legendPosition==="bottom"){effectivePlotArea.height=val;bBox.height=val+2*padding.v}else{effectivePlotArea.width=val;bBox.width=val+2*padding.h}};return LegendBody}();var LegendLabels=function(){function LegendLabels(conf){_classCallCheck(this,LegendLabels);this.conf=conf;this.node=[];this._id="GL_LABELS"}LegendLabels.prototype.configure=function configure(conf){this.conf=conf};LegendLabels.prototype.getType=function getType(){return"label"};LegendLabels.prototype.getName=function getName(){return"LegendLabel"};LegendLabels.prototype.getEffectivePlotArea=function getEffectivePlotArea(area){var conf=this.conf,padding=conf.padding;area.height-=2*padding.v;area.width-=2*padding.h;area.x+=padding.h;area.y+=padding.v;return area};LegendLabels.prototype.getLogicalSpace=function getLogicalSpace(bBox,options,recalculate){var isLegendPosBottom=this.conf.legendPosition==="bottom",lSpace=this._lSpace,conf=this.conf,padding=conf.padding,cRange,smartLabel,crDataObj,index,length,labelHeights=[],leftBound,rightBound,plotArea,label,valueRatio,stop,zerothStop,lsTexts,maxHeight,effectivePlotArea,testSmartLabel,nextRefPoint,currPoint,leftStop,smartText,ni,copyOfStyle,chartConfig=options.gLegend.getFromEnv("chartConfig"),normalizedDataArr=[],effectivePlotAreaWH;if(lSpace&&!recalculate){lSpace.isImpure=true;return lSpace}cRange=options.colorRange;smartLabel=options.smartLabel;valueRatio=cRange.getCumulativeValueRatio();crDataObj=cRange.colorRange;lSpace=this._lSpace={bound:{height:0,width:0},node:{logicArea:UNDEF,smartTexts:[]}};lsTexts=lSpace.node.smartTexts;plotArea=merge(bBox,{});effectivePlotArea=this.getEffectivePlotArea(plotArea);effectivePlotAreaWH=isLegendPosBottom?effectivePlotArea.width:effectivePlotArea.height;smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);copyOfStyle=merge(conf.style,{});normalizeFontSizeAppend(this._metaStyle=copyOfStyle);smartLabel.setStyle(copyOfStyle);testSmartLabel=smartLabel.getSmartText("W");for(index=0,length=crDataObj.length;index<length;index++){label=crDataObj[index].label;if(!label){lsTexts[index]=UNDEF;continue}normalizedDataArr.push({oriIndex:index,label:label})}length=normalizedDataArr.length;if(length===0){return{height:0,width:0}}if(length>1){stop=(valueRatio[normalizedDataArr[length-1].oriIndex]-valueRatio[normalizedDataArr[0].oriIndex])/2*effectivePlotAreaWH/100}else{stop=Math.max(valueRatio[normalizedDataArr[0].oriIndex],100-valueRatio[normalizedDataArr[0].oriIndex])/2*effectivePlotAreaWH/100}zerothStop=stop;if(isLegendPosBottom){smartText=smartLabel.getSmartText(normalizedDataArr[0].label,zerothStop,effectivePlotArea.height);smartText.x=valueRatio[normalizedDataArr[0].oriIndex]*effectivePlotArea.width/100;leftBound=smartText.x+smartText.width}else{smartText=smartLabel.getSmartText(normalizedDataArr[0].label,zerothStop,effectivePlotArea.width);smartText.y=valueRatio[normalizedDataArr[0].oriIndex]*effectivePlotArea.height/100;leftBound=smartText.y+smartText.width}labelHeights.push(smartText.height);lsTexts[normalizedDataArr[0].oriIndex]=smartText;if(isLegendPosBottom){smartText=smartLabel.getSmartText(normalizedDataArr[length-1].label,zerothStop,effectivePlotArea.height);smartText.x=valueRatio[normalizedDataArr[length-1].oriIndex]*effectivePlotArea.width/100;rightBound=smartText.x-smartText.width}else{smartText=smartLabel.getSmartText(normalizedDataArr[length-1].label,zerothStop,effectivePlotArea.width);smartText.y=valueRatio[normalizedDataArr[length-1].oriIndex]*effectivePlotArea.height/100;rightBound=smartText.y-smartText.width}labelHeights.push(smartText.height);lsTexts[normalizedDataArr[length-1].oriIndex]=smartText;leftStop=leftBound;for(index=1;index<length-1;index++){label=normalizedDataArr[index].label;ni=normalizedDataArr[index].oriIndex;smartText=UNDEF;nextRefPoint=index+1===length-1?rightBound:valueRatio[normalizedDataArr[index+1].oriIndex]*effectivePlotAreaWH/100;currPoint=valueRatio[normalizedDataArr[index].oriIndex]*effectivePlotAreaWH/100;stop=Math.min(currPoint-leftStop,nextRefPoint-currPoint);if(stop>2*testSmartLabel.width){if(isLegendPosBottom){smartText=smartLabel.getSmartText(label,stop,effectivePlotArea.height);smartText.x=valueRatio[ni]*effectivePlotArea.width/100}else{smartText=smartLabel.getSmartText(label,stop,effectivePlotArea.width);smartText.y=valueRatio[ni]*effectivePlotArea.height/100}leftStop=stop;labelHeights.push(smartText.height)}lsTexts[normalizedDataArr[index].oriIndex]=smartText}maxHeight=Math.max.apply(Math,labelHeights);if(isLegendPosBottom){effectivePlotArea.height=maxHeight;bBox.height=maxHeight+2*padding.v}else{effectivePlotArea.width=maxHeight;bBox.width=maxHeight+2*padding.v}lSpace.node.logicArea=effectivePlotArea;lSpace.bound=bBox;return bBox};LegendLabels.prototype.draw=function draw(){var isLegendPosBottom=this.conf.legendPosition==="bottom",layer,bound,conf=this.conf,boundStyle=conf.bound&&conf.bound.style||{stroke:"none"},legendLabelsGroup,bBox,smartText,lSpace,options,index,logicArea,lsTexts,length,pos={},animationManager;if(arguments.length>=2&&arguments[1]){bBox=arguments[0];options=arguments[1]}else if(arguments.length>=1){options=arguments[0]}animationManager=options.animationManager;layer=options.parentLayer;this.getLogicalSpace(bBox,options);lSpace=this._lSpace;logicArea=lSpace.node.logicArea;lsTexts=lSpace.node.smartTexts;this.group=legendLabelsGroup=animationManager.setAnimation({el:this.group||"group",attr:{name:"legend-labels"},container:layer,component:gLegendRef});this.bound=bound=animationManager.setAnimation({el:this.bound||"rect",attr:lSpace.bound,css:boundStyle,container:legendLabelsGroup,component:gLegendRef});for(var i=0;i<this.node.length;i++){this.node[i].remove()}this.node=[];for(index=0,length=lsTexts.length;index<length;index++){smartText=lsTexts[index];if(!smartText){continue}if(isLegendPosBottom){pos.y=logicArea.y+smartText.height/2;if(index===length-1){pos.x=logicArea.x+smartText.x-smartText.width/2}else if(index){pos.x=logicArea.x+smartText.x}else{pos.x=logicArea.x+smartText.x+smartText.width/2}}else{pos.x=logicArea.x+smartText.height/2;if(index===length-1){pos.y=logicArea.y+smartText.y-smartText.width/2}else if(index){pos.y=logicArea.y+smartText.y}else{pos.y=logicArea.y+smartText.y+smartText.width/2}}this.node.push(animationManager.setAnimation({el:"text",attr:{text:smartText.text,x:pos.x,y:pos.y,lineHeight:this._metaStyle.lineHeight,fill:conf.style.fill,transform:isLegendPosBottom?"R0":"R270,"+pos.x+","+pos.y},container:legendLabelsGroup,component:gLegendRef}))}return{group:legendLabelsGroup,bound:bound,node:this.node}};return LegendLabels}();var LegendAxis=function(){function LegendAxis(conf){_classCallCheck(this,LegendAxis);this.conf=conf;this._id="FL_AXIS";this.node=UNDEF;this.group=UNDEF;this.shadow=UNDEF;this.markerLine=UNDEF;this.compositionsByCategory={}}LegendAxis.prototype.configure=function configure(conf){this.conf=conf};LegendAxis.prototype.getName=function getName(){return"LegendAxis"};LegendAxis.prototype.getType=function getType(){return"axis"};LegendAxis.prototype.addCompositions=function addCompositions(instance,category){this.compositionsByCategory[category]=instance};LegendAxis.prototype.getLogicalSpace=function getLogicalSpace(){var isLegendPosBottom=this.conf.legendPosition==="bottom",bBox=arguments[0],recalculate=arguments[2],lSpace=this._lSpace,conf=this.conf,padding=conf.padding,spaceTakenLower,spaceTakenUpper,spaceTaken,axisThickness=conf.legendAxisHeight,compositionsByCategory=this.compositionsByCategory,sliderG,effectivePlotArea,slider,sliderSpace,sliderExtraDiam=0;if(lSpace&&!recalculate){lSpace.isImpure=true;return lSpace}lSpace=this._lSpace={bound:{height:0,width:0},node:{logicArea:UNDEF}};effectivePlotArea=merge(bBox,{});effectivePlotArea.height-=2*padding.v;effectivePlotArea.width-=2*padding.h;effectivePlotArea.x+=padding.h;effectivePlotArea.y+=padding.v;spaceTakenLower=axisThickness/2+conf.line.offset;spaceTakenUpper=axisThickness/2;sliderG=compositionsByCategory[compositionKeys.RANGE];if(sliderG){slider=sliderG.sliders["false"];sliderSpace=slider.conf.outerCircle.rFactor*axisThickness;spaceTakenUpper+=sliderExtraDiam=Math.max(sliderSpace/2-axisThickness/2,0)}if(isLegendPosBottom){effectivePlotArea.y+=sliderExtraDiam;effectivePlotArea.height=spaceTaken=spaceTakenUpper+spaceTakenLower+sliderExtraDiam;bBox.height=spaceTaken+2*padding.v}else{effectivePlotArea.x+=sliderExtraDiam;effectivePlotArea.width=spaceTaken=spaceTakenUpper+spaceTakenLower+sliderExtraDiam;bBox.width=spaceTaken+2*padding.v}lSpace.node.logicArea=effectivePlotArea;lSpace.bound=bBox;return bBox};LegendAxis.prototype.getDrawableAxisArea=function getDrawableAxisArea(parentBoundingRect){var conf=this.conf,isLegendPosBottom=this.conf.legendPosition==="bottom",x=parentBoundingRect.x,y=parentBoundingRect.y,width=isLegendPosBottom?parentBoundingRect.width:conf.legendAxisHeight,height=isLegendPosBottom?conf.legendAxisHeight:parentBoundingRect.height,r=conf.legendAxisHeight/2;return{x:x,y:y,width:width,height:height,r:r}};LegendAxis.prototype.preDrawingRangeParamV=function preDrawingRangeParamV(drawableArea){var x=drawableArea.x+drawableArea.width/2,calculationBase=drawableArea.width;return{x:x,calculationBase:calculationBase,rangeStart:drawableArea.y,rangeEnd:drawableArea.y+drawableArea.height,prop:"x"}};LegendAxis.prototype.preDrawingRangeParamH=function preDrawingRangeParamH(drawableArea){var y=drawableArea.y+drawableArea.height/2,calculationBase=drawableArea.height;return{y:y,calculationBase:calculationBase,rangeStart:drawableArea.x,rangeEnd:drawableArea.x+drawableArea.width,prop:"y"}};LegendAxis.prototype.preDrawingRangeParam=function preDrawingRangeParam(drawableArea){return this.conf.legendPosition==="bottom"?this.preDrawingRangeParamH(drawableArea):this.preDrawingRangeParamV(drawableArea)};LegendAxis.prototype.getScaleMarkerPathStrH=function getScaleMarkerPathStrH(oriAxisRect,valueRatio){var axisRect=merge(oriAxisRect,{}),conf=this.conf,lineAttr=conf.line,index,length,ratio,covered,markerStartY,tickStr="",lineStr="";axisRect.x+=axisRect.r;axisRect.width-=2*axisRect.r;markerStartY=axisRect.y+axisRect.height;for(index=0,length=valueRatio.length;index<length;index++){ratio=valueRatio[index];covered=axisRect.x+ratio*axisRect.width/100;tickStr+=M+covered+COMMA_STR+(markerStartY-lineAttr.grooveLength)+L+covered+COMMA_STR+(markerStartY+lineAttr.offset)}lineStr+=M+axisRect.x+COMMA_STR+(markerStartY+lineAttr.offset)+L+(axisRect.x+axisRect.width)+COMMA_STR+(markerStartY+lineAttr.offset);return tickStr+lineStr};LegendAxis.prototype.getColorGradientH=function getColorGradientH(colorRange){return{axis:colorRange.getBoxFill(),shadow:(0,_lib.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:90,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}};LegendAxis.prototype.draw=function draw(){var layer,conf=this.conf,boundAttr=conf.bound||{},lineAttr=conf.line,boundStyle=boundAttr.style||{},bBox,category,compositionsByCategory=this.compositionsByCategory,cRange,valueRatio,composition,legendAxisGroup,rangeParams,grad,oriAxisRect,lSpace,options,animationManager,scaleLine;if(arguments.length>=2){bBox=arguments[0];options=arguments[1]}else if(arguments.length>=1){options=arguments[0]}animationManager=options.animationManager;layer=options.parentLayer;cRange=options.colorRange;valueRatio=cRange.getCumulativeValueRatio();this.getLogicalSpace(bBox,options);lSpace=this._lSpace;this.group=legendAxisGroup=animationManager.setAnimation({el:this.group||"group",attr:{name:"legend-axis"},container:layer,component:gLegendRef});this.bound=animationManager.setAnimation({el:this.bound||"rect",attr:lSpace.bound,css:boundStyle,component:gLegendRef,container:legendAxisGroup});oriAxisRect=this.getDrawableAxisArea(lSpace.node.logicArea);grad=this.getColorGradient(cRange);conf.style.fill=grad.axis;conf.shadow.style.fill=grad.shadow;this.node=animationManager.setAnimation({el:this.node||"rect",attr:oriAxisRect,css:conf.style,container:legendAxisGroup,component:gLegendRef});this.shadow=animationManager.setAnimation({el:this.shadow||"rect",attr:oriAxisRect,css:conf.shadow.style,container:legendAxisGroup,component:gLegendRef});scaleLine=this.getScaleMarkerPathStr(oriAxisRect,valueRatio);this.path=animationManager.setAnimation({el:this.path||"path",attr:{path:scaleLine},css:lineAttr.style,container:legendAxisGroup,component:gLegendRef});for(category in compositionsByCategory){composition=compositionsByCategory[category];switch(category){case compositionKeys.RANGE:rangeParams=this.preDrawingRangeParam(oriAxisRect);options[rangeParams.prop]=rangeParams[rangeParams.prop];options.key=rangeParams.prop;options.rCalcBase=rangeParams.calculationBase;options.parentLayer=legendAxisGroup;composition.draw(rangeParams.rangeStart,rangeParams.rangeEnd,options)}}};LegendAxis.prototype.getScaleMarkerPathStr=function getScaleMarkerPathStr(oriAxisRect,valueRatio){return this.conf.legendPosition==="bottom"?this.getScaleMarkerPathStrH(oriAxisRect,valueRatio):this.getScaleMarkerPathStrV(oriAxisRect,valueRatio)};LegendAxis.prototype.getColorGradient=function getColorGradient(colorRange){return this.conf.legendPosition==="bottom"?this.getColorGradientH(colorRange):this.getColorGradientV(colorRange)};LegendAxis.prototype.getScaleMarkerPathStrV=function getScaleMarkerPathStrV(oriAxisRect,valueRatio){var axisRect=merge(oriAxisRect,{}),conf=this.conf,lineAttr=conf.line,index,ratio,length,markerStartX,covered,tickStr="",lineStr="";axisRect.y+=axisRect.r;axisRect.height-=2*axisRect.r;markerStartX=axisRect.x+axisRect.width;for(index=0,length=valueRatio.length;index<length;index++){ratio=valueRatio[index];covered=axisRect.y+ratio*axisRect.height/100;tickStr+=M+(markerStartX-lineAttr.grooveLength)+COMMA_STR+covered+L+(markerStartX+lineAttr.offset)+COMMA_STR+covered}lineStr+=M+(markerStartX+lineAttr.offset)+COMMA_STR+axisRect.y+L+(markerStartX+lineAttr.offset)+COMMA_STR+(axisRect.y+axisRect.height);return tickStr+lineStr};LegendAxis.prototype.getColorGradientV=function getColorGradientV(colorRange){return{axis:colorRange.getBoxFill(true),shadow:(0,_lib.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}};return LegendAxis}();var Slider=function(){function Slider(sliderIndex,options,id){_classCallCheck(this,Slider);this.conf=options.conf;this.sliderIndex=sliderIndex;this.rangeGroup=options.sliderGroup;this._id=id;this.node=UNDEF;this.tracker=UNDEF;this.currPos=0;this.swing=[]}Slider.prototype.configure=function configure(sliderIndex,options,id){this.conf=options.conf;this.sliderIndex=sliderIndex;this.rangeGroup=options.sliderGroup;this._id=id;this.currPos=0;this.swing=[]};Slider.prototype.getType=function getType(){return"slider"};Slider.prototype.getName=function getName(){return"Slider"};Slider.prototype.updateSwingRange=function updateSwingRange(index,value){this.swing[+index]=value};Slider.prototype.draw=function draw(rangeStart,scaleVal,position,options){var layer=options.parentLayer,self=this,animationManager=options.animationManager,conf=this.conf,ocConf=conf.outerCircle,icConf=conf.innerCircle,ocRadius=Math.ceil(ocConf.rFactor*options.rCalcBase/2),icRadius=Math.ceil(icConf.rFactor*options.rCalcBase/2),icThickness=ocRadius-icRadius,group,sliderIndex=this.sliderIndex,dragAPI,strokeWidthOffset,x,y,tracker;conf.outerRadius=ocRadius;conf.innerRadius=icRadius;this._scaleVal=scaleVal;icConf.style["stroke-width"]=icThickness;strokeWidthOffset=Math.ceil(ocConf.style["stroke-width"]/2);icRadius+=strokeWidthOffset;group=this.node=animationManager.setAnimation({el:this.node||"group",attr:{name:"fc-gl-slider",cursor:"pointer",transform:"t0,0"},container:layer,component:gLegendRef});if(options.key==="x"){x=position;y=rangeStart;y+=sliderIndex?-icRadius:+icRadius}else{x=rangeStart;y=position;x+=sliderIndex?-icRadius:+icRadius}this.oCircle=animationManager.setAnimation({el:this.oCircle||"circle",attr:{cx:x,cy:y,r:ocRadius},css:ocConf.style,container:group,component:gLegendRef});this.iCircle=animationManager.setAnimation({el:this.iCircle||"circle",attr:{cx:x,cy:y,r:icRadius},css:icConf.style,container:group,component:gLegendRef});tracker=this.tracker=animationManager.setAnimation({el:this.tracker||"circle",attr:{cx:x,cy:y,r:ocRadius+5,fill:TRACKER_FILL,stroke:TRACKER_FILL,cursor:"pointer"},container:group,component:gLegendRef});group.attr({transform:options.key==="x"?"t0,"+self.currPos:"t"+self.currPos+","+0});toolTipController.enableToolTip(tracker,scaleVal);this._dragAPI=dragAPI=this.getDragAPI(options.key==="x");tracker.undrag();tracker.drag(dragAPI.dragging,dragAPI.dragStart,dragAPI.dragEnd);return{translateAscending:ocRadius+strokeWidthOffset}};Slider.prototype.getDragAPI=function getDragAPI(verticalDragging){var self=this,node=self.node,index=self.sliderIndex,range=self.rangeGroup,swing,lastDisplacement,timeoutId,innerRadius=self.conf.innerRadius,spaceSaved=innerRadius,isDragged;return{dragging:function dragging(event){var left,right,d,updatedText,posAfterDisplacement;event.stopPropagation();event.preventDefault();if(verticalDragging){d=event.data[1]}else{d=event.data[0]}if(index){left=swing[0]-swing[1]+spaceSaved;right=0}else{left=0;right=swing[1]-swing[0]-spaceSaved}posAfterDisplacement=self.currPos+d;if(posAfterDisplacement<left){d+=left-posAfterDisplacement}else if(posAfterDisplacement>right){d-=posAfterDisplacement-right}node.attr({transform:verticalDragging?"t0,"+(self.currPos+d):"t"+(self.currPos+d)+","+0});lastDisplacement=d;timeoutId&&clearTimeout(timeoutId);timeoutId=setTimeout(function(){range.updateWhenInRest(self,self.currPos+d)},100);updatedText=range.updateWhenInMove(self,self.currPos+d);self.tracker.data("__FC_tooltipText",updatedText);isDragged=true;return true},dragStart:function dragStart(event){event.stopPropagation();event.preventDefault();swing=self.swing;isDragged=false;range.dragStarted(self)},dragEnd:function dragEnd(){var newPos;range.dragCompleted(self,isDragged,self.currPos+lastDisplacement);if(!isDragged){return}timeoutId&&clearTimeout(timeoutId);timeoutId=setTimeout(function(){range.updateWhenInRest(self,self.currPos)},100);self.currPos+=lastDisplacement;newPos=swing[+index]+self.currPos;range.updateRange(self,newPos)}}};Slider.prototype.dispose=function dispose(){this.node.remove();this.oCircle.remove();this.iCircle.remove();this.tracker.remove();delete this};return Slider}();var SliderGroup=function(){function SliderGroup(conf){_classCallCheck(this,SliderGroup);var sliderConf=conf,options={};this._id="GL_SG1";this.conf=conf;options.conf=sliderConf;this.extremes=[];this.sliders={};this.min=undefined;this.max=undefined;options.sliderGroup=this;this.valueRange=[];this.callbacks=[];this.sliders[FORMER_SLIDER_INDEX]=new Slider(FORMER_SLIDER_INDEX,options,this._id+"_"+ +FORMER_SLIDER_INDEX);this.sliders[LATER_SLIDER_INDEX]=new Slider(LATER_SLIDER_INDEX,options,this._id+"_"+ +LATER_SLIDER_INDEX)}SliderGroup.prototype.configure=function configure(conf){var sliderConf=conf,options={};this.min=undefined;this.max=undefined;this.conf=conf;options.conf=sliderConf;options.sliderGroup=this;this.sliders[FORMER_SLIDER_INDEX].configure(FORMER_SLIDER_INDEX,options,this._id+"_"+ +FORMER_SLIDER_INDEX);this.sliders[LATER_SLIDER_INDEX].configure(LATER_SLIDER_INDEX,options,this._id+"_"+ +LATER_SLIDER_INDEX)};SliderGroup.prototype.getType=function getType(){return"slider"};SliderGroup.prototype.getName=function getName(){return"SliderGroup"};SliderGroup.prototype.initRange=function initRange(slider,updatedRange){var sliderIndex=slider.sliderIndex;this.extremes[+sliderIndex]=updatedRange};SliderGroup.prototype.updateRange=function updateRange(slider,updatedRange){var sliderIndex=slider.sliderIndex,sliders=this.sliders,s=sliders[!sliderIndex];s.updateSwingRange(sliderIndex,updatedRange)};SliderGroup.prototype.reset=function reset(){var options={};options.conf=this.conf;options.sliderGroup=this;this.min=undefined;this.max=undefined;this.sliders[FORMER_SLIDER_INDEX].configure(FORMER_SLIDER_INDEX,options,this._id+"_"+ +FORMER_SLIDER_INDEX);this.sliders[LATER_SLIDER_INDEX].configure(LATER_SLIDER_INDEX,options,this._id+"_"+ +LATER_SLIDER_INDEX);this.draw.apply(this,this._drawParams)};SliderGroup.prototype.draw=function draw(rangeStart,rangeEnd,options){var sliders=this.sliders,lSlider=sliders[FORMER_SLIDER_INDEX],rSlider=sliders[LATER_SLIDER_INDEX],cRange=options.colorRange,colorRange=cRange.colorRange,oneSliderMes,icConf,ocConf,icRadius,extremesRange,mapbypercent=cRange.data.mapByPercent,numberFormatter=options.gLegend.getFromEnv("number-formatter"),totalRange;this._fcChart=options.gLegend.getFromEnv("chart");this.getValueFormPixel=function(valueStart,valueEnd,pixelStart,pixelEnd){var unit=(valueEnd-valueStart)/(pixelEnd-pixelStart);this.getValueFormPixel=function(pixel){return valueStart+unit*pixel}};this.updateWhenInMove=function(numberFormatter,mapByPercent){this.updateWhenInMove=function(slider,val){var extremes=this.extremes,sliderIndex=slider.sliderIndex,nVal,value;if(sliderIndex){nVal=extremes[1]-extremes[0]+val}else{nVal=val}value=this.getValueFormPixel(nVal);if(!mapByPercent){value=numberFormatter.legendValue(value)}else{value=parseFloat(value).toFixed(2)+PERCENT_STR}return value}};this._drawParams=[rangeStart,rangeEnd,options];this.updateWhenInMove(numberFormatter,mapbypercent);ocConf=lSlider.conf.outerCircle;icConf=lSlider.conf.innerCircle;icRadius=Math.ceil(icConf.rFactor*options.rCalcBase/2);icRadius+=Math.ceil(ocConf.style["stroke-width"]/2);this.extremes[0]=rangeStart+icRadius;this.extremes[1]=rangeEnd-icRadius;extremesRange=this.extremes[1]-this.extremes[0];this.min=this.min?this.min:colorRange[0].value;this.max=this.max?this.max:colorRange[colorRange.length-1].value;totalRange=colorRange[colorRange.length-1].value-colorRange[0].value;lSlider.currPos=extremesRange*(this.min-colorRange[0].value)/totalRange;rSlider.currPos=extremesRange*(this.max-colorRange[0].value)/totalRange-extremesRange;oneSliderMes=lSlider.draw(rangeStart,mapbypercent?numberFormatter.legendPercentValue(this.min):numberFormatter.legendValue(this.min),options[options.key],options);oneSliderMes=rSlider.draw(rangeEnd,mapbypercent?numberFormatter.legendPercentValue(this.max):numberFormatter.legendValue(this.max),options[options.key],options);lSlider.swing=this.extremes.slice(0);rSlider.swing=this.extremes.slice(0);lSlider.swing[1]+=rSlider.currPos;rSlider.swing[0]+=lSlider.currPos;this.getValueFormPixel(colorRange[0].value,colorRange[colorRange.length-1].value,this.extremes[0],this.extremes[1]);return oneSliderMes};SliderGroup.prototype.updateWhenInRest=function updateWhenInRest(slider,val){var sliders=this.sliders,extremes=this.extremes,sliderIndex=slider.sliderIndex,lValue,rValue;if(sliderIndex){lValue=sliders[!sliderIndex].currPos;rValue=extremes[1]-extremes[0]+val}else{lValue=val;rValue=extremes[1]-extremes[0]+sliders[!sliderIndex].currPos}this.min=Number(this.getValueFormPixel(lValue).toFixed(2));this.max=Number(this.getValueFormPixel(rValue).toFixed(2));this.gLegend.fireEvent("rangeUpdated",[{min:this.min,max:this.max}])};SliderGroup.prototype.dragStarted=function dragStarted(self){var sliders=this.sliders,extremes=this.extremes,conf=self.conf,chart=this._fcChart;chart.fireChartInstanceEvent("legendpointerdragstart",{pointerIndex:+self.sliderIndex,pointers:[{value:this.getValueFormPixel(sliders["false"].currPos)},{value:this.getValueFormPixel(extremes[1]-extremes[0]+sliders["true"].currPos)}],legendPointerHeight:conf.outerRadius,legendPointerWidth:conf.innerRadius,outerRadius:conf.outerRadius,innerRadius:conf.innerRadius},[chart.id])};SliderGroup.prototype.dragCompleted=function dragCompleted(self,isDragged,newVal){var sliders=this.sliders,extremes=this.extremes,conf=self.conf,minValue=this.getValueFormPixel(sliders["false"].currPos),maxValue=this.getValueFormPixel(extremes[1]-extremes[0]+sliders["true"].currPos),chart=this._fcChart,newMinValue,newMaxValue;if(!self.sliderIndex){newMinValue=this.getValueFormPixel(newVal);newMaxValue=maxValue}else{newMinValue=minValue;newMaxValue=this.getValueFormPixel(extremes[1]-extremes[0]+newVal)}if(isDragged){chart.fireChartInstanceEvent("legendrangeupdated",{previousMinValue:minValue,previousMaxValue:maxValue,minValue:newMinValue,maxValue:newMaxValue},[chart.id])}chart.fireChartInstanceEvent("legendpointerdragstop",{pointerIndex:+self.sliderIndex,pointers:[{value:newMinValue},{value:newMaxValue}],legendPointerHeight:conf.outerRadius,legendPointerWidth:conf.innerRadius,outerRadius:conf.outerRadius,innerRadius:conf.innerRadius},[chart.id])};SliderGroup.prototype.dispose=function dispose(){this.sliders[FORMER_SLIDER_INDEX].dispose();this.sliders[LATER_SLIDER_INDEX].dispose()};return SliderGroup}();var LegendValues=function(_LegendLabels){_inherits(LegendValues,_LegendLabels);function LegendValues(){_classCallCheck(this,LegendValues);var _this2=_possibleConstructorReturn(this,_LegendLabels.call(this,arguments[0]));_this2._id="GL_VALUES";_this2.node=[];return _this2}LegendValues.prototype.configure=function configure(conf){this.conf=conf};LegendValues.prototype.getName=function getName(){return"LegendValues"};LegendValues.prototype.getType=function getType(){return"legend"};LegendValues.prototype.getLogicalSpace=function getLogicalSpace(bBox,options,recalculate){var isLegendPosBottom=this.conf.legendPosition==="bottom",lSpace=this._lSpace,conf=this.conf,padding=conf.padding,chartConfig=options.gLegend.getFromEnv("chartConfig"),cRange,smartLabel,crDataObj,smartText,index,length,valueRatio,stop,nextRefPoint,currPoint,zerothStop,labelHeights=[],leftBound,leftStop,rightBound,labelWidths=[],topBound,topStop,bottomBound,maxHeight,maxWidth,effectivePlotArea,val,dispValue,testSmartLabel,copyOfStyle,lsTexts;if(lSpace&&!recalculate){lSpace.isImpure=true;return lSpace}cRange=options.colorRange;smartLabel=options.smartLabel;crDataObj=cRange.colorRange;valueRatio=cRange.getCumulativeValueRatio();lSpace=this._lSpace={bound:{height:0,width:0},node:{logicArea:UNDEF,smartTexts:[]}};lsTexts=lSpace.node.smartTexts;effectivePlotArea=merge(bBox,{});effectivePlotArea.height-=2*padding.v;effectivePlotArea.width-=2*padding.h;effectivePlotArea.x+=padding.h;effectivePlotArea.y+=padding.v;smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);copyOfStyle=merge(conf.style,{});normalizeFontSizeAppend(this._metaStyle=copyOfStyle);smartLabel.setStyle(copyOfStyle);testSmartLabel=smartLabel.getSmartText("W");length=crDataObj.length;if(isLegendPosBottom){zerothStop=stop=(valueRatio[length-1]-valueRatio[0])/2*effectivePlotArea.width/100;dispValue=crDataObj[0].displayValue;smartText=smartLabel.getSmartText(typeof dispValue!=="string"&&dispValue!==UNDEF&&dispValue.toString()||dispValue,zerothStop,effectivePlotArea.height);smartText.x=valueRatio[0]*effectivePlotArea.width/100;leftBound=smartText.x+smartText.width;labelHeights.push(smartText.height)}else{zerothStop=stop=(valueRatio[length-1]-valueRatio[0])/2*effectivePlotArea.height/100;smartText=smartLabel.getSmartText(crDataObj[0].displayValue,effectivePlotArea.width,zerothStop);smartText.y=valueRatio[0]*effectivePlotArea.height/100;topBound=smartText.y+smartText.width;labelWidths.push(smartText.width)}lsTexts[0]=smartText;if(isLegendPosBottom){smartText=smartLabel.getSmartText(crDataObj[length-1].displayValue,zerothStop,effectivePlotArea.height);smartText.x=valueRatio[length-1]*effectivePlotArea.width/100;rightBound=smartText.x-smartText.width;labelHeights.push(smartText.height);leftStop=leftBound}else{smartText=smartLabel.getSmartText(crDataObj[length-1].displayValue,effectivePlotArea.width,zerothStop);smartText.y=valueRatio[length-1]*effectivePlotArea.height/100;bottomBound=smartText.y-smartText.height;labelWidths.push(smartText.width);topStop=topBound}lsTexts[length-1]=smartText;for(index=1;index<length-1;index++){smartText=UNDEF;val=crDataObj[index].displayValue;if(isLegendPosBottom){nextRefPoint=index+1===length-1?rightBound:valueRatio[index+1]*effectivePlotArea.width/100;currPoint=valueRatio[index]*effectivePlotArea.width/100;stop=Math.min(currPoint-leftStop,nextRefPoint-currPoint);if(stop>1.5*testSmartLabel.width){smartText=smartLabel.getSmartText(val,2*stop,effectivePlotArea.height);smartText.x=valueRatio[index]*effectivePlotArea.width/100;leftStop=stop;labelHeights.push(smartText.height)}}else{nextRefPoint=index+1===length-1?bottomBound:valueRatio[index+1]*effectivePlotArea.height/100;currPoint=valueRatio[index]*effectivePlotArea.height/100;stop=Math.min(currPoint-topStop,nextRefPoint-currPoint);if(stop>2*testSmartLabel.height){smartText=smartLabel.getSmartText(val,effectivePlotArea.width,2*stop);smartText.y=valueRatio[index]*effectivePlotArea.height/100;topStop=stop;labelWidths.push(smartText.width)}}lsTexts[index]=smartText}if(isLegendPosBottom){maxHeight=Math.max.apply(Math,labelHeights);effectivePlotArea.height=maxHeight;bBox.height=maxHeight+2*padding.v}else{maxWidth=Math.max.apply(Math,labelWidths);effectivePlotArea.width=maxWidth;bBox.width=maxWidth+2*padding.h}lSpace.node.logicArea=effectivePlotArea;lSpace.bound=bBox;return bBox};LegendValues.prototype.draw=function draw(){var conf=this.conf,isLegendPosBottom=conf.legendPosition==="bottom",boundStyle=conf.bound&&conf.bound.style||{stroke:"none"},pos={},layer,bound,legendValuesGroup,bBox,lSpace,logicArea,options,cRange,valueRatio,index,length,smartTexts,smartText,animationManager;if(arguments.length>=2&&arguments[1]){bBox=arguments[0];options=arguments[1]}else if(arguments.length>=1){options=arguments[0]}animationManager=options.animationManager;layer=options.parentLayer;cRange=options.colorRange;valueRatio=cRange.getCumulativeValueRatio();this.getLogicalSpace(bBox,options);lSpace=this._lSpace;logicArea=lSpace.node.logicArea;smartTexts=lSpace.node.smartTexts;this.group=legendValuesGroup=animationManager.setAnimation({el:this.group||"group",attr:{name:"legend-values"},container:layer,component:gLegendRef});this.bound=bound=animationManager.setAnimation({el:this.bound||"rect",attr:lSpace.bound,css:boundStyle,container:legendValuesGroup,component:gLegendRef});for(var i=0;i<this.node.length;i++){this.node[i].remove()}this.node=[];for(index=0,length=valueRatio.length;index<length;index++){smartText=smartTexts[index];if(!smartText){continue}if(isLegendPosBottom){pos.y=logicArea.y+smartText.height/2;if(index===length-1){pos.x=logicArea.x+smartText.x-smartText.width/2}else if(index){pos.x=logicArea.x+smartText.x}else{pos.x=logicArea.x+smartText.x+smartText.width/2}}else{pos.x=logicArea.x+smartText.width/2;if(index===length-1){pos.y=logicArea.y+smartText.y-smartText.height/2}else if(index){pos.y=logicArea.y+smartText.y}else{pos.y=logicArea.y+smartText.y+smartText.height/2}}this.node.push(animationManager.setAnimation({el:"text",attr:{text:smartText.text,x:pos.x,y:pos.y,lineHeight:this._metaStyle.lineHeight,fill:conf.style.fill},container:legendValuesGroup,component:gLegendRef}))}return{group:legendValuesGroup,bound:bound}};return LegendValues}(LegendLabels);exports["default"]=GLegend},,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.getCoordinates=exports.getPlotFromPixel=exports.polarToCartesian=exports.cartesianToPolar=undefined;var _lib=__webpack_require__(118);var deg2Rad=function deg2Rad(theta){return theta*(Math.PI/180)},rad2Deg=function rad2Deg(rad){return rad*(180/Math.PI)},cartesianToPolar=function cartesianToPolar(x,y){var r,theta;r=Math.sqrt(x*x+y*y);theta=rad2Deg(Math.atan(y/x));if(x<0&&y>=0){theta+=180}else if(x<0&&y<0){theta+=180}else if(x>0&&y<0){theta+=360}return{radius:r,theta:deg2Rad(theta)}},polarToCartesian=function polarToCartesian(r,theta){var degreeInRad=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var x,y;if(!degreeInRad){theta=deg2Rad(theta)}x=r*Math.cos(theta);y=r*Math.sin(theta);return{x:x,y:y}},getCoordinates=function getCoordinates(values,axis){var theta=void 0,scaleX=axis.getScale(),radius=values.radius,axisConfig=axis.config,centerX=axisConfig.axisDimention.centerX,centerY=axisConfig.axisDimention.centerY,point=void 0;radius=(0,_lib.pluckNumber)(radius,axisConfig.radius,0);theta=scaleX.getRangeValue(values.theta);point=polarToCartesian(radius,theta);point.x+=centerX;point.y+=centerY;return point},getPlotFromPixel=function getPlotFromPixel(coordinates,axis){var x=coordinates.x,y=coordinates.y,scaleX=axis.getScale(),theta=void 0,plot=void 0;plot=cartesianToPolar(x,y);theta=scaleX.getDomainValue(plot.theta);return rad2Deg(theta)};exports.cartesianToPolar=cartesianToPolar;exports.polarToCartesian=polarToCartesian;exports.getPlotFromPixel=getPlotFromPixel;exports.getCoordinates=getCoordinates},,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var fadeInAtAxisAppearing=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"axis"}];exports["default"]=fadeInAtAxisAppearing},,,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _commonspacemanager=__webpack_require__(260);var _commonspacemanager2=_interopRequireDefault(_commonspacemanager);var _schedular=__webpack_require__(129);var _lib=__webpack_require__(118);var _toolbox=__webpack_require__(282);var _toolbox2=_interopRequireDefault(_toolbox);var _treemap=__webpack_require__(600);var _treemap2=_interopRequireDefault(_treemap);var _treemap3=__webpack_require__(602);var _treemap4=_interopRequireDefault(_treemap3);var _dependencyManager=__webpack_require__(125);var _singleseriesDataset=__webpack_require__(330);var _singleseriesDataset2=_interopRequireDefault(_singleseriesDataset);var _legendSpacemanager=__webpack_require__(355);var _legend=__webpack_require__(357);var _legend2=_interopRequireDefault(_legend);var _colorrange=__webpack_require__(580);var _colorrange2=_interopRequireDefault(_colorrange);var _legendmanager=__webpack_require__(585);var _legendmanager2=_interopRequireDefault(_legendmanager);var _mouseTracker=__webpack_require__(328);var _mouseTracker2=_interopRequireDefault(_mouseTracker);var _redraphaelShapes=__webpack_require__(231);var _redraphaelShapes2=_interopRequireDefault(_redraphaelShapes);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var Raphael=(0,_dependencyManager.getDep)("redraphael","plugin"),mathRound=Math.round,MOUSEOUT="mouseout",TRACKER_FILL="rgba(255,0,0,"+(_lib.isIE?.002:1e-6)+")";(0,_redraphaelShapes2["default"])(Raphael);Raphael.addSymbol({backIcon:function backIcon(x,y,radius){var rad=radius-1,x1=x,y1=y-rad,x2=x-rad,y2=y,x3=x,y3=y+rad,x4=x3,y4=y3-rad/2,x5=x4+rad,y5=y4,x6=x5,y6=y5-rad,x7=x5-rad,y7=y6;return["M",x1,y1,"L",x2,y2,x3,y3,x4,y4,x5,y5,x6,y6,x7,y7,"Z"]},homeIcon:function homeIcon(x,y,radius){var rad=radius-1,len=rad*2,x1=x,y1=y-rad,x2=x-rad,y2=y,x3=x2+len/6,y3=y2,x4=x3,y4=y+rad,x5=x4+len/4,y5=y4,x6=x5,y6=y5-rad/2,x7=x6+len/6,y7=y6,x8=x7,y8=y6+rad/2,x9=x7+len/4,y9=y8,x10=x9,y10=y9-rad,x11=x9+len/6,y11=y10;return["M",x1,y1,"L",x2,y2,x3,y3,x4,y4,x5,y5,x6,y6,x7,y7,x8,y8,x9,y9,x10,y10,x11,y11,"Z"]}});var TreeMap=function(_CommonSpaceManager){_inherits(TreeMap,_CommonSpaceManager);TreeMap.getName=function getName(){return"TreeMap"};function TreeMap(){_classCallCheck(this,TreeMap);var _this=_possibleConstructorReturn(this,_CommonSpaceManager.call(this));_this.hasGradientLegend=true;_this.addToEnv("ref",(0,_treemap4["default"])());_this.registerFactory("legend",_legend2["default"]);_this.registerFactory("legend",_legendmanager2["default"],["canvas"]);_this.registerFactory("colormanager-decider",_colorrange2["default"],["legend"]);_this.registerFactory("mouseTracker",_mouseTracker2["default"]);_this.registerFactory("dataset",_singleseriesDataset2["default"],["vCanvas"]);return _this}TreeMap.prototype.getName=function getName(){return"TreeMap"};TreeMap.prototype.__setDefaultConfig=function __setDefaultConfig(){_CommonSpaceManager.prototype.__setDefaultConfig.call(this);this.config.enablemousetracking=true;this.config.skipCanvasDrawing=true;this.config.valuefontbold=0};TreeMap.prototype.configureAttributes=function configureAttributes(dataObj){var iapi=this;iapi.config.skipConfigureIteration={};iapi.config.valuesset=false;iapi.parseChartAttr(dataObj);iapi.createComponent(dataObj);iapi.setTooltipStyle();iapi.configureChildren();iapi._createToolBox()};TreeMap.prototype.mouseoutHandler=function mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex){var chart=this,datasets=chart.config.datasetOrder||chart.getDatasets(),mouseTracker=chart.getChildren("mouseTracker")[0];datasets[_lastDatasetIndex]._firePlotEvent(MOUSEOUT,_lastPointIndex,e);delete mouseTracker._lastDatasetIndex;delete mouseTracker._lastPointIndex};TreeMap.prototype._mouseEvtHandler=function _mouseEvtHandler(e,data){var chart=this,mouseTracker=data.mouseTracker,oriEvent=e.originalEvent,chartConfig=chart.config,canvasLeft=chartConfig.canvasLeft,canvasRight=chartConfig.canvasRight,canvasBottom=chartConfig.canvasBottom,canvasTop=chartConfig.canvasTop,datasets=chartConfig.datasetOrder||chart.getDatasets(),coordinate=(0,_lib.getMouseCoordinate)(chart.getFromEnv("chart-container"),oriEvent,chart),chartX=coordinate.chartX,chartY=coordinate.chartY,dataset=void 0,hoveredInfo=void 0,pointFound=false,i=datasets.length,j=void 0,l=void 0,derivedEvensInfo=void 0,_lastDatasetIndex=mouseTracker._lastDatasetIndex,_lastPointIndex=mouseTracker._lastPointIndex;if(chartX>canvasLeft&&chartX<canvasRight&&chartY>canvasTop&&chartY<canvasBottom||chart.config.plotOverFlow){while(i--&&!pointFound){dataset=datasets[i];if(dataset){hoveredInfo=dataset._getHoveredPlot&&dataset._getHoveredPlot(chartX,chartY);if(hoveredInfo&&hoveredInfo.hovered){pointFound=true;hoveredInfo.datasetIndex=i;derivedEvensInfo=mouseTracker.getMouseEvents(e,hoveredInfo.datasetIndex,hoveredInfo.pointIndex)}}}}if((!pointFound||derivedEvensInfo&&derivedEvensInfo.fireOut)&&_lastDatasetIndex!==undefined){if(datasets[_lastDatasetIndex]&&datasets[_lastDatasetIndex]._firePlotEvent){if(derivedEvensInfo&&!derivedEvensInfo.events.length){mouseTracker.mouseoutTimer=setTimeout(function(){chart.mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex)},20)}else{chart.mouseoutHandler(e,_lastDatasetIndex,_lastPointIndex)}}}if(pointFound){l=derivedEvensInfo.events&&derivedEvensInfo.events.length;if(l){mouseTracker._lastDatasetIndex=hoveredInfo.datasetIndex;_lastPointIndex=mouseTracker._lastPointIndex=hoveredInfo.pointIndex}for(j=0;j<l;j+=1){dataset&&dataset._firePlotEvent&&dataset._firePlotEvent(derivedEvensInfo.events[j],_lastPointIndex,e)}}};TreeMap.prototype._checkInvalidSpecificData=function _checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource");if(!jsonData.data){return true}};TreeMap.prototype.addData=function addData(){var ref=this.getFromEnv("ref"),algorithmFactory=ref.algorithmFactory,args=Array.prototype.slice.call(arguments,0);args.unshift("addData");args.unshift(this._getCleanValue());algorithmFactory.realTimeUpdate.apply(this,args)};TreeMap.prototype.removeData=function removeData(){var ref=this.getFromEnv("ref"),algorithmFactory=ref.algorithmFactory,args=Array.prototype.slice.call(arguments,0);args.unshift("deleteData");args.unshift(this._getCleanValue());algorithmFactory.realTimeUpdate.apply(this,args)};TreeMap.prototype.triggerKDTreePartioning=function triggerKDTreePartioning(){var dataset=this.getDatasets()[0];dataset.addJob("partitioning",dataset.kdTreePartioning.bind(dataset),_schedular.priorityList.tracker)};TreeMap.prototype.resetSingleTracker=function resetSingleTracker(){var dataset=this.getDatasets()[0],singleTracker=dataset&&dataset.graphics&&dataset.graphics.singleTracker;singleTracker&&singleTracker.attr({x:0,y:0,width:0,height:0,stroke:"rgba(255,255,255,0)","fill-opacity":0})};TreeMap.prototype._manageLegendSpace=function _manageLegendSpace(){_legendSpacemanager._manageLegendSpace.call(this)};TreeMap.prototype.manageGradientLegendSpace=function manageGradientLegendSpace(allottedSpace){return _legendSpacemanager.manageGradientLegendSpace.call(this,allottedSpace)};TreeMap.prototype.flushKDTree=function flushKDTree(){var dataset=this.getDatasets()[0];dataset.kdTree={}};TreeMap.prototype._createToolBox=function _createToolBox(){this.getFromEnv("chartMenuTools").reset(this.getFromEnv("toolbox"),this);var tb,sCon,conf,list,group,toolBoxAPI,_Symbol,homeSymbol,backSymbol,SymbolStore,ComponentGroup,SymbolWithContext,HorizontalToolbar,horizontalToolbarInstance,pId,symbolWithContextInstance,iapi=this,chartMenuTools=iapi.getFromEnv("chartMenuTools"),chartId=iapi.getFromEnv("chartInstance").id,getChartTools=chartMenuTools.get,setChartTools=chartMenuTools.set,iapiComponents=this.components,iapiConfig=iapi.config,chartMenuBar=iapi.getChildren("chartMenuBar"),actionBar=iapi.getChildren("actionBar"),printEnabled=iapiConfig.printOption.enabled;if(chartMenuBar&&chartMenuBar.drawn||actionBar&&actionBar.drawn){return}(0,_lib.componentFactory)(iapi,_toolbox2["default"],"tb",1,[{graphics:iapi.graphics||(iapi.graphics={}),chart:iapi,components:iapiComponents}]);tb=iapi.getChildren("tb")[0];pId=tb.getICount();iapi.addToEnv("toolbox",tb);!iapi.getFromEnv("toolBoxAPI")&&iapi.addToEnv("toolBoxAPI",tb.getAPIInstances(tb.config.ALIGNMENT_HORIZONTAL));toolBoxAPI=iapi.getFromEnv("toolBoxAPI");SymbolWithContext=toolBoxAPI.SymbolWithContext;SymbolStore=toolBoxAPI.SymbolStore;ComponentGroup=toolBoxAPI.ComponentGroup;HorizontalToolbar=toolBoxAPI.Toolbar;tb.idCount=tb.idCount||0;tb.pId=pId;conf=tb.getDefaultConfiguration();SymbolStore.register("ContextIcon",function(posx,posy,rad){var x=posx,y=posy,r=rad*2,space=mathRound(r/4),halfWidth=mathRound(r/2)*.7,startX=x-halfWidth,endX=x+halfWidth,startY=y+space,endY=y-space;return["M",startX,y,"L",endX,y,"M",startX,startY,"L",endX,startY,"M",startX,endY,"L",endX,endY]});symbolWithContextInstance=new SymbolWithContext;symbolWithContextInstance.configure("ContextIcon",tb.idCount++,pId,chartId);symbolWithContextInstance.addToEnv("toolTipController",iapi.getFromEnv("toolTipController"));sCon=symbolWithContextInstance;list=sCon.getListRefernce();iapi.addToEnv("chartMenuList",list);printEnabled&&setChartTools([{Print:{handler:function handler(options){iapi.getFromEnv("chartInstance").print(options)},action:"click"}}]);list.appendAsList(getChartTools());group=new ComponentGroup;group.configure(tb.idCount++,pId,chartId);group.setConfiguaration({buttons:conf,group:{fill:TRACKER_FILL,borderColor:TRACKER_FILL}});_Symbol=toolBoxAPI.Symbol;homeSymbol=new _Symbol;homeSymbol.configure("homeIcon",false,tb.idCount++,tb.pId,chartId);homeSymbol.addToEnv("toolTipController",iapi.getFromEnv("toolTipController"));backSymbol=new _Symbol;backSymbol.configure("backIcon",false,(tb.idCount=tb.idCount||0,tb.idCount++),tb.pId,chartId);backSymbol.addToEnv("toolTipController",iapi.getFromEnv("toolTipController"));group.addSymbol(sCon);group.addSymbol(homeSymbol,true);group.addSymbol(backSymbol,true);if(group.config.btnConfig.vAlign==="t"){horizontalToolbarInstance=new HorizontalToolbar;chartMenuBar=iapi.attachChild(horizontalToolbarInstance,"chartMenuBar",false);horizontalToolbarInstance.configure(tb.idCount++,tb.pId,chartId);chartMenuBar.addComponent(group)}else{horizontalToolbarInstance=new HorizontalToolbar;chartMenuBar=iapi.attachChild(horizontalToolbarInstance,"actionBar",false);horizontalToolbarInstance.configure(tb.idCount++,tb.pId,chartId);chartMenuBar.addComponent(group)}iapi.addToEnv("toolbarBtns",{back:backSymbol,home:homeSymbol})};TreeMap.prototype._getCleanValue=function _getCleanValue(){var numberFormatter=this.getFromEnv("number-formatter");return function(value){return numberFormatter.getCleanValue(value)}};TreeMap.prototype.getDSdef=function getDSdef(){return _treemap2["default"]};return TreeMap}(_commonspacemanager2["default"]);exports["default"]=TreeMap},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _schedular=__webpack_require__(129);var _lib=__webpack_require__(118);var _dependencyManager=__webpack_require__(125);var _treemapAnimation=__webpack_require__(601);var _treemapAnimation2=_interopRequireDefault(_treemapAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF,HIDDEN="hidden",DEFAULT_CURSOR=_lib.preDefStr.DEFAULT,POINTER="pointer",MOUSEOVER="mouseOver",MOUSEOUT="mouseOut",ROLLOVER="DataPlotRollOver",ROLLOUT="DataPlotRollOut",createGroup=function createGroup(groupName,parentContainer,dataset){var animationManager=dataset.getFromEnv("animationManager");return animationManager.setAnimation({el:"group",attr:{name:groupName},container:parentContainer,state:"appearing",component:dataset,doNotRemove:true,label:"group"})},kdTreeAbs=function kdTreeAbs(arr){"use strict";var tolerance=arr&&arr[0]&&arr[0].plotDetails.rect||5,i,max=Math.max,floor=Math.floor,sqrt=Math.sqrt,min=Math.min,log=Math.log,exp=Math.exp,pow=Math.pow,result={};arr=arr||[];for(i=arr.length;i--;){if(arr[i].r>tolerance){tolerance=arr[i].r}arr[i].x=+arr[i].plotDetails.rect.x;arr[i].y=+arr[i].plotDetails.rect.y}function inRange(a,r1,r2){return a>=r1&&a<=r2}function buildKdTree(arr,left,right,isY){var ob={},mid,access=isY?"y":"x";if(left===right){ob.point=arr[left];return ob}if(right-left===1){if(arr[left][access]>arr[right][access]){ob.point=arr[left];ob.left={point:arr[right]}}else{ob.point=arr[right];ob.left={point:arr[left]}}return ob}mid=left+right>>1;if(isY){quickselectY(arr,mid,left,right)}else{quickselectX(arr,mid,left,right)}ob.point=arr[mid];ob.left=buildKdTree(arr,left,mid-1,!isY);ob.right=buildKdTree(arr,mid+1,right,!isY);return ob}function quickselectX(arr,k,left,right){var n,m,z,s,sd,newLeft,newRight,t,i,j;while(right>left){if(right-left>600){n=right-left+1;m=k-left+1;z=log(n);s=.5*exp(2*z/3);sd=.5*sqrt(z*s*(n-s)/n)*(m-n/2<0?-1:1);newLeft=max(left,floor(k-m*s/n+sd));newRight=min(right,floor(k+(n-m)*s/n+sd));quickselectX(arr,k,newLeft,newRight)}t=arr[k];i=left;j=right;swap(arr,left,k);if(arr[right].x>t.x){swap(arr,left,right)}while(i<j){swap(arr,i,j);i++;j--;while(arr[i].x<t.x){i++}while(arr[j].x>t.x){j--}}if(arr[left].x===t.x){swap(arr,left,j)}else{j++;swap(arr,j,right)}if(j<=k){left=j+1}if(k<=j){right=j-1}}}function quickselectY(arr,k,left,right){var n,m,z,s,sd,newLeft,newRight,t,i,j;while(right>left){if(right-left>600){n=right-left+1;m=k-left+1;z=log(n);s=.5*exp(2*z/3);sd=.5*sqrt(z*s*(n-s)/n)*(m-n/2<0?-1:1);newLeft=max(left,floor(k-m*s/n+sd));newRight=min(right,floor(k+(n-m)*s/n+sd));quickselectY(arr,k,newLeft,newRight)}t=arr[k];i=left;j=right;swap(arr,left,k);if(arr[right].y>t.y){swap(arr,left,right)}while(i<j){swap(arr,i,j);i++;j--;while(arr[i].y<t.y){i++}while(arr[j].y>t.y){j--}}if(arr[left].y===t.y){swap(arr,left,j)}else{j++;swap(arr,j,right)}if(j<=k){left=j+1}if(k<=j){right=j-1}}}function swap(arr,i,j){var tmp=arr[i];arr[i]=arr[j];arr[j]=tmp}result={tree:buildKdTree(arr,0,arr.length-1,false),search:function search(x,y){function apply(ob){var currentHovered=inRange(x,ob.x1,ob.x2)&&inRange(y,ob.y1,ob.y2),currentDist=calcDist(x,y,ob.point.x,ob.point.y);if(!res){res=ob;lastHovered=currentHovered;lastDist=currentDist;return}if(currentHovered){if(lastHovered){if(ob.point.i>res.point.i){res=ob;lastHovered=currentHovered;lastDist=currentDist}}else{res=ob;lastHovered=currentHovered;lastDist=currentDist}}else{if(!lastHovered){if(currentDist<lastDist){res=ob;lastHovered=currentHovered;lastDist=currentDist}}}}function calcDist(x,y,p,q){return sqrt(pow(x-p,2)+pow(y-q,2))}function searchX(ob){if(!ob||!ob.point){return}if(inRange(ob.point.x,x1,x2)&&inRange(ob.point.y,y1,y2)){apply(ob)}if(x1<=ob.point.x){searchY(ob.left)}if(x2>=ob.point.x){searchY(ob.right)}}function searchY(ob){if(!ob||!ob.point){return}if(inRange(ob.point.x,x1,x2)&&inRange(ob.point.y,y1,y2)){apply(ob)}if(y1<=ob.point.y){searchX(ob.left)}if(y2>=ob.point.y){searchX(ob.right)}}var tree=this.tree,res,x1=x-tolerance,x2=x+tolerance,y1=y-tolerance,y2=y+tolerance,lastHovered=false,lastDist=0;searchX(tree);return res&&res.point||res},searchTreemap:function searchTreemap(x,y){var res,apply=function apply(ob){if(!res){res=ob;return}if(ob.i>res.i){res=ob}},search=function search(ob,isY){if(!ob||!ob.point){return}var x1=ob.point.x,x2=x1+ob.point.plotDetails.rect.width,y1=ob.point.y,y2=y1+ob.point.plotDetails.rect.height;ob.point.x2=x2;ob.point.y2=y2;if(x>=x1&&x<=x2&&y>=y1&&y<=y2){apply(ob.point)}search(ob.left,!isY);search(ob.right,!isY)};search(this.tree,false);return res}};arr.sort(function(a,b){return a.i-b.i});return result};(0,_dependencyManager.addDep)({name:"treeMapAnimation",type:"animationRule",extension:_treemapAnimation2["default"]});var TreeMapDS=function(_ComponentsInterface){_inherits(TreeMapDS,_ComponentsInterface);function TreeMapDS(){_classCallCheck(this,TreeMapDS);var _this=_possibleConstructorReturn(this,_ComponentsInterface.call(this));var datasetDefStore=_this;datasetDefStore.components={};datasetDefStore.conf={};datasetDefStore.graphics={elemStore:{rect:[],label:[],highlight:[],hot:[],polypath:[]}};return _this}TreeMapDS.prototype.getName=function getName(){return"treeMap"};TreeMapDS.prototype.configureAttributes=function configureAttributes(datasetJSON){if(!datasetJSON){return}this.config.JSONData=datasetJSON.data[0];var algorithm=void 0,maxDepth=void 0,showNavigationBar=void 0,datasetDefStore=this,chart=datasetDefStore.getFromEnv("chart"),dsConf=datasetDefStore.conf,rawChartAttr=chart.getFromEnv("chart-attrib");dsConf.metaTreeInf={};algorithm=rawChartAttr.algorithm||"squarified";dsConf.algorithm=algorithm.toLowerCase();dsConf.range=undefined;dsConf.horizontalPadding=(0,_lib.pluckNumber)(rawChartAttr.horizontalpadding,5);dsConf.horizontalPadding=dsConf.horizontalPadding<0?0:dsConf.horizontalPadding;dsConf.verticalPadding=(0,_lib.pluckNumber)(rawChartAttr.verticalpadding,5);dsConf.verticalPadding=dsConf.verticalPadding<0?0:dsConf.verticalPadding;dsConf.showParent=(0,_lib.pluckNumber)(rawChartAttr.showparent,1);dsConf.showChildLabels=(0,_lib.pluckNumber)(rawChartAttr.showchildlabels,0);dsConf.highlightParentsOnHover=(0,_lib.pluckNumber)(rawChartAttr.highlightparentsonhover,0);dsConf.defaultParentBGColor=(0,_lib.pluck)(rawChartAttr.defaultparentbgcolor,undefined);dsConf.defaultNavigationBarBGColor=(0,_lib.pluck)(rawChartAttr.defaultnavigationbarbgcolor,dsConf.defaultParentBGColor);dsConf.showTooltip=(0,_lib.pluckNumber)(rawChartAttr.showtooltip,1);dsConf.baseFontSize=(0,_lib.pluckNumber)(rawChartAttr.basefontsize,10);dsConf.baseFontSize=dsConf.baseFontSize<1?1:dsConf.baseFontSize;dsConf.labelFontSize=(0,_lib.pluckNumber)(rawChartAttr.labelfontsize,undefined);dsConf.labelFontSize=dsConf.labelFontSize<1?1:dsConf.labelFontSize;dsConf.baseFont=(0,_lib.pluck)(rawChartAttr.basefont,"Verdana, Sans");dsConf.labelFont=(0,_lib.pluck)(rawChartAttr.labelfont,undefined);dsConf.baseFontColor=(0,_lib.pluck)(rawChartAttr.basefontcolor,"#000000").replace(/^#?([a-f0-9]+)/gi,"#$1");dsConf.labelFontColor=(0,_lib.pluck)(rawChartAttr.labelfontcolor,undefined);dsConf.labelFontColor&&(dsConf.labelFontColor=dsConf.labelFontColor.replace(/^#?([a-f0-9]+)/gi,"#$1"));dsConf.labelFontBold=(0,_lib.pluckNumber)(rawChartAttr.labelfontbold,0);dsConf.labelFontItalic=(0,_lib.pluckNumber)(rawChartAttr.labelfontitalic,0);dsConf.plotBorderThickness=(0,_lib.pluckNumber)(rawChartAttr.plotborderthickness,1);dsConf.plotBorderThickness=dsConf.plotBorderThickness<0?0:dsConf.plotBorderThickness>5?5:dsConf.plotBorderThickness;dsConf.plotBorderColor=(0,_lib.pluck)(rawChartAttr.plotbordercolor,"#000000").replace(/^#?([a-f0-9]+)/gi,"#$1");dsConf.tooltipSeparationCharacter=(0,_lib.pluck)(rawChartAttr.tooltipsepchar,",");dsConf.plotToolText=(0,_lib.pluck)(rawChartAttr.plottooltext,"");dsConf.parentLabelLineHeight=(0,_lib.pluckNumber)(rawChartAttr.parentlabellineheight,12);dsConf.parentLabelLineHeight=dsConf.parentLabelLineHeight<0?0:dsConf.parentLabelLineHeight;dsConf.labelGlow=(0,_lib.pluckNumber)(rawChartAttr.labelglow,1);dsConf.labelGlowIntensity=(0,_lib.pluckNumber)(rawChartAttr.labelglowintensity,100)/100;dsConf.labelGlowIntensity=dsConf.labelGlowIntensity<0?0:dsConf.labelGlowIntensity>1?1:dsConf.labelGlowIntensity;dsConf.labelGlowColor=(0,_lib.pluck)(rawChartAttr.labelglowcolor,"#ffffff").replace(/^#?([a-f0-9]+)/gi,"#$1");dsConf.labelGlowRadius=(0,_lib.pluckNumber)(rawChartAttr.labelglowradius,2);dsConf.labelGlowRadius=dsConf.labelGlowRadius<0?0:dsConf.labelGlowRadius>10?10:dsConf.labelGlowRadius;dsConf.btnResetChartTooltext=(0,_lib.pluck)(rawChartAttr.btnresetcharttooltext,"Back to Top");dsConf.btnBackChartTooltext=(0,_lib.pluck)(rawChartAttr.btnbackcharttooltext,"Back to Parent");dsConf.rangeOutBgColor=(0,_lib.pluck)(rawChartAttr.rangeoutbgcolor,"#808080").replace(/^#?([a-f0-9]+)/gi,"#$1");dsConf.rangeOutBgAlpha=(0,_lib.pluckNumber)(rawChartAttr.rangeoutbgalpha,100);dsConf.rangeOutBgAlpha=dsConf.rangeOutBgAlpha<1||dsConf.rangeOutBgAlpha>100?100:dsConf.rangeOutBgAlpha;maxDepth=(0,_lib.pluckNumber)(rawChartAttr.maxdepth);dsConf.maxDepth=maxDepth!==undefined?Math.max(maxDepth,1):undefined;showNavigationBar=dsConf.showNavigationBar=(0,_lib.pluckNumber)(rawChartAttr.shownavigationbar,1);dsConf.slicingMode=(0,_lib.pluck)(rawChartAttr.slicingmode,"alternate");dsConf.navigationBarHeight=(0,_lib.pluckNumber)(rawChartAttr.navigationbarheight);dsConf.navigationBarHeightRatio=(0,_lib.pluckNumber)(rawChartAttr.navigationbarheightratio);dsConf.navigationBarBorderColor=(0,_lib.pluck)(rawChartAttr.navigationbarbordercolor,dsConf.plotBorderColor).replace(/^#?([a-f0-9]+)/gi,"#$1");dsConf.navigationBarBorderThickness=showNavigationBar?(0,_lib.pluckNumber)(rawChartAttr.navigationbarborderthickness,dsConf.plotBorderThickness):0;dsConf.seperatorAngle=(0,_lib.pluckNumber)(rawChartAttr.seperatorangle)*(Math.PI/180);dsConf.isConfigured=true;datasetDefStore.setState("dirty",true)};TreeMapDS.prototype.createContainer=function createContainer(){var dataset=this,datasetGroup,datalabelGroup,trackerGroup,labelHighlightGroup,parentContainer=dataset.getLinkedParent().getChildContainer();datasetGroup=dataset.getContainer("plots")||dataset.addContainer("plots",createGroup("plots",parentContainer.defaultGroup,dataset));datalabelGroup=dataset.getContainer("datalabels")||dataset.addContainer("datalabels",createGroup("datalabels",parentContainer.defaultGroup,dataset).insertAfter(datasetGroup));trackerGroup=dataset.getContainer("tracker")||dataset.addContainer("tracker",createGroup("tracker",parentContainer.defaultGroup,dataset));!dataset.getContainer("line-hot")&&dataset.addContainer("line-hot",createGroup("line-hot",trackerGroup,dataset));labelHighlightGroup=dataset.getContainer("labelhighlight")||dataset.addContainer("labelhighlight",createGroup("labelhighlight",datalabelGroup,dataset));!dataset.getContainer("labelfloat")&&dataset.addContainer("labelfloat",createGroup("labelfloat",datalabelGroup,dataset).insertAfter(labelHighlightGroup))};TreeMapDS.prototype._getHoveredPlot=function _getHoveredPlot(chartX,chartY){var dataset=this,trackerElem,m,keys,kdTree=dataset.config.kdTree||{};keys=Object.keys(kdTree);for(m=keys.length-1;m>-1;m--){if(dataset.config.kdTree[keys[m]].searchTreemap(chartX,chartY)){trackerElem=dataset.config.kdTree[keys[m]].searchTreemap(chartX,chartY);break}}if(trackerElem){dataset.pointObj=trackerElem;return{pointIndex:trackerElem.i||trackerElem.index,hovered:true,pointObj:trackerElem}}};TreeMapDS.prototype.kdTreePartioning=function kdTreePartioning(){var dataset=this,trackerConfigArray=dataset.getFromEnv("chartConfig").trackerConfig,m,keys,trackerObjPartition={};for(m=trackerConfigArray.length;m--;){trackerConfigArray[m].i=m;if(trackerObjPartition[trackerConfigArray[m].node.meta.depth]===undefined){trackerObjPartition[trackerConfigArray[m].node.meta.depth]=[]}trackerObjPartition[trackerConfigArray[m].node.meta.depth].push(trackerConfigArray[m])}dataset.config.kdTree={};keys=Object.keys(trackerObjPartition);for(m=keys.length-1;m>-1;m--){dataset.config.kdTree[keys[m]]=kdTreeAbs&&kdTreeAbs(trackerObjPartition[keys[m]])}};TreeMapDS.prototype._rolloverResponseSetter=function _rolloverResponseSetter(elem,event,dataset){var elData=elem.getData(),animationManager=dataset.getFromEnv("animationManager"),chart=this.getFromEnv("chart");if(elData&&elData.showHoverEffect!==0){if(!chart.getState("drill")){animationManager.setAnimationState(MOUSEOVER);animationManager.setAnimation({el:elem,label:"rect",component:dataset,attr:elem.getData().setRolloverAttr})}chart.plotEventHandler(elem,event,ROLLOVER)}};TreeMapDS.prototype._rolloutResponseSetter=function _rolloutResponseSetter(elem,event,dataset){var elData=elem.getData(),animationManager=dataset.getFromEnv("animationManager"),chart=this.getFromEnv("chart");if(elData&&elData.showHoverEffect!==0){if(!chart.getState("drill")){animationManager.setAnimationState(MOUSEOUT);animationManager.setAnimation({el:elem,label:"rect",component:dataset,doNotRemove:true,attr:elem.getData().setRolloutAttr})}chart.plotEventHandler(elem,event,ROLLOUT)}};TreeMapDS.prototype._firePlotEvent=function _firePlotEvent(eventType,plotIndex,e){var dataset=this,currentToolTip=dataset.config.currentToolTip,chartConfig=dataset.getFromEnv("chartConfig"),data=chartConfig.trackerConfig[plotIndex||0],datasetGroup=dataset.getContainer("tracker"),setElement=data&&data.node&&data.node.plotItem,toolText=data&&data.plotDetails&&data.plotDetails.toolText,toolTipController=dataset.getFromEnv("toolTipController"),originalEvent=e.originalEvent,singleTracker=dataset.graphics.singleTracker,hoveredInfo=dataset.pointObj,plotDetails=hoveredInfo.plotDetails,attr,highlightparentsonhover=dataset.conf.highlightParentsOnHover,nodePath=data&&data.node.path,parent=nodePath&&nodePath[nodePath.length-2],rectParent=parent&&parent.rect;if(!setElement){setElement=data&&(data.node.plotItem||data.node.polyPathItem);plotDetails={};plotDetails.rect={}}else if(highlightparentsonhover&&parent){attr={x:rectParent.x,y:rectParent.y,width:rectParent.width,height:rectParent.height,stroke:"rgba(255,255,255,0)"}}else{attr={x:plotDetails.rect.x||0,y:plotDetails.rect.y||0,width:plotDetails.rect.width||0,height:plotDetails.rect.height||0,stroke:"rgba(255,255,255,0)"}}singleTracker=dataset.graphics.singleTracker=dataset.getFromEnv("animationManager").setAnimation({el:dataset.graphics.singleTracker||"rect",attr:attr,component:dataset,label:"tracker",container:datasetGroup,doNotRemove:true}).toFront();if(setElement){setElement.node.style.cursor=POINTER;singleTracker.node.style.cursor=POINTER;switch(eventType){case"mouseover":data.evtFns.hover[0](singleTracker);if(toolText){if(currentToolTip){toolTipController.draw(originalEvent,toolText,currentToolTip)}else{currentToolTip=dataset.config.currentToolTip=toolTipController.draw(originalEvent,toolText)}}break;case"mouseout":setElement.node.style.cursor=DEFAULT_CURSOR;singleTracker.node.style.cursor=POINTER;singleTracker.attr({x:0,y:0,width:0,height:0,stroke:"#ffffff","stroke-width":"0px"});singleTracker.toFront();toolTipController.hide(currentToolTip);dataset._rolloutResponseSetter(setElement,e,dataset);break;case"click":data&&data.evtFns&&data.evtFns.click&&data.evtFns.click[0]();dataset.config.kdTree={};dataset.addJob("click",dataset.kdTreePartioning.bind(dataset),_schedular.priorityList.tracker);break;case"mousemove":if(toolText){if(currentToolTip){toolTipController.draw(originalEvent,toolText,currentToolTip)}else{currentToolTip=dataset.config.currentToolTip=toolTipController.draw(originalEvent,toolText)}}}}};TreeMapDS.prototype.draw=function draw(){var datasetDefStore=this,dsConf=datasetDefStore.conf,chart=datasetDefStore.getFromEnv("chart"),chartConf=datasetDefStore.getFromEnv("chartConfig"),trackerConfig=chartConf.trackerConfig,canvasLeft=chartConf.canvasLeft,canvasRight=chartConf.canvasRight,canvasBottom=chartConf.canvasBottom,canvasTop=chartConf.canvasTop,chartAttr=datasetDefStore.getFromEnv("chart-attrib"),datasetLayer,datalabelLayer,labelHighlightLayer,floatLabelLayer,metaInf=dsConf.metaTreeInf,elemStore=datasetDefStore.graphics.elemStore,rendererAPI={},graphicPool=dsConf._graphicPool||(dsConf._graphicPool={}),drawingAreaCenterPoint={},groupLabelCssProps=["fontFamily","fontSize","fontWeight","fontStyle"],groupLabelCss={},nodeRect,tree,attrs=dsConf,drawTreeFn,shadeFilter,colorManager=datasetDefStore.getFromEnv("colorManager"),ref=this.getFromEnv("ref"),index,length,animationManager=datasetDefStore.getFromEnv("animationManager"),containerManager=ref.containerManager,chartLevelAttr,algorithmFactory=ref.algorithmFactory,removeNodeItemsObjectArr={},attr;trackerConfig&&(trackerConfig.length=0);datasetDefStore.createContainer();chartLevelAttr=(0,_lib.parsexAxisStyles)({},{},chartAttr,{fontFamily:"Verdana,sans",fontSize:"10px"});for(index=0,length=groupLabelCssProps.length;index<length;index++){attr=groupLabelCssProps[index];if(attr in chartLevelAttr){groupLabelCss[attr]=chartLevelAttr[attr]}}containerManager.remove();datasetLayer=datasetDefStore.getContainer("plots");datalabelLayer=datasetDefStore.getContainer("datalabels");datalabelLayer.css(groupLabelCss);labelHighlightLayer=datasetDefStore.getContainer("labelhighlight");floatLabelLayer=datasetDefStore.getContainer("labelfloat");dsConf.colorRange=colorManager;metaInf.effectiveWidth=canvasRight-canvasLeft;metaInf.effectiveHeight=canvasBottom-canvasTop;metaInf.startX=canvasLeft;metaInf.startY=canvasTop;drawingAreaCenterPoint.x=metaInf.effectiveWidth/2;drawingAreaCenterPoint.y=metaInf.effectiveHeight/2;drawingAreaCenterPoint.x=metaInf.effectiveWidth/2;drawingAreaCenterPoint.y=metaInf.effectiveHeight/2;rendererAPI.drawPolyPath=function(config,styleAttrs,node){var pathElem,state=chart.getState("drill")?"updating":"appearing";removeNodeItemsObjectArr[node.id]&&delete removeNodeItemsObjectArr[node.id];pathElem=animationManager.setAnimation({el:rendererAPI.graphicPool(false,"polyPathItem")||"path",container:datasetLayer,attr:{path:config.path},css:styleAttrs,state:state,label:"path",component:datasetDefStore});pathElem&&elemStore.polypath.push(pathElem);return pathElem};rendererAPI.drawRect=function(rect,styleAttrs,_rect,overriddenAttrs,node){var prop,pVal,state,beforeAnimationStateRect={},overrideCss={},newElem;state=chart.getState("drill")?"updating":"appearing";removeNodeItemsObjectArr[node.id]&&delete removeNodeItemsObjectArr[node.id];for(prop in rect){pVal=rect[prop];if(pVal<0){rect[prop]=0;overrideCss.visibility="hidden"}}(0,_lib.extend2)(beforeAnimationStateRect,rect);beforeAnimationStateRect.x=drawingAreaCenterPoint.x;beforeAnimationStateRect.y=drawingAreaCenterPoint.y;beforeAnimationStateRect.height=0;beforeAnimationStateRect.width=0;nodeRect=animationManager.setAnimation({el:rendererAPI.graphicPool(false,"plotItem")||"rect",container:datasetLayer,attr:rect,css:Object.assign(styleAttrs,overrideCss),state:state,props:node.__props,label:"rect",component:datasetDefStore}).toFront();newElem&&elemStore.rect.push(newElem);return nodeRect};rendererAPI.drawText=function(text,coordinates,attrs,_coordinates){var overAttr=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};var node=arguments[5];var mandatoryStyle={},newTextElem,newHighlightElem,state,label,highlightMask,visibility,textAttrs=attrs.textAttrs,highlightsAttrs=attrs.highlightAttrs;state=chart.getState("drill")?"updating":"appearing";removeNodeItemsObjectArr[node.id]&&delete removeNodeItemsObjectArr[node.id];(0,_lib.extend2)(mandatoryStyle,textAttrs);delete mandatoryStyle.fill;mandatoryStyle["stroke-linejoin"]="round";delete overAttr.opacity;text=coordinates.x<0||coordinates.y<0?_lib.BLANKSTRING:text;label=animationManager.setAnimation({el:rendererAPI.graphicPool(false,"labelItem")||rendererAPI.graphicPool(false,"pathlabelItem")||"text",container:floatLabelLayer,component:datasetDefStore,attr:Object.assign({},textAttrs,overAttr,{text:text,x:coordinates.x,y:coordinates.y,visibility:"visible"}),state:state,label:"labelItem"});label.show();visibility=highlightsAttrs.visibility!==HIDDEN;delete highlightsAttrs.visibility;highlightMask=animationManager.setAnimation({el:rendererAPI.graphicPool(false,"highlightItem")||rendererAPI.graphicPool(false,"pathhighlightItem")||"text",container:labelHighlightLayer,component:datasetDefStore,attr:Object.assign({},overAttr,highlightsAttrs,{x:coordinates.x,y:coordinates.y,text:visibility?text:"",visibility:"visible"}),css:{lineHeight:mandatoryStyle.fontSize*1.2+"px"},state:state,label:"highlightItem"});datasetDefStore.prevLabelGlowVisibility!==visibility&&visibility===true&&highlightMask.show();datasetDefStore.prevLabelGlowVisibility=visibility;elemStore.label.push(newTextElem);elemStore.highlight.push(newHighlightElem);return{label:label,highlightMask:highlightMask}};rendererAPI.disposeItems=function(node,disposeList){var i,item,prop,disposeNames=disposeList||["plotItem","labelItem","hotItem","highlightItem","polyPathItem","pathlabelItem","pathhighlightItem","stackedpolyPathItem","stackedpathlabelItem","stackedpathhighlightItem"];for(i=0;i<disposeNames.length;i+=1){prop=disposeNames[i];item=node[prop];item&&item.type==="text"&&item.attr({text:"","text-bound":[]});item&&!item.removed&&(item=animationManager.setAnimation({el:item,component:datasetDefStore}));node[prop]=UNDEF}};rendererAPI.disposeChild=function(){var rendererAPI,disposeItems=function disposeItems(){return rendererAPI.disposeItems},removeFn=function removeFn(currentNode,depth){var index,childrenArr;disposeItems(currentNode);for(index=0;index<(currentNode.getChildren()||[]).length;index++){childrenArr=currentNode.getChildren();index=removeFn(childrenArr[index],index)}return depth};return function(node){var parentNode=node.getParent();if(!rendererAPI){rendererAPI=this;disposeItems=disposeItems()}if(parentNode){rendererAPI.disposeChild(parentNode)}else{removeFn(node,0)}}}();rendererAPI.disposeSelectedChildren=function(){var rendererAPI,disposeSelectedItems=function disposeSelectedItems(){return rendererAPI.addRemovalNodes},removeItems=function removeItems(currentNode,depth){var index,childrenArr;disposeSelectedItems(currentNode);for(index=0;index<(currentNode.getChildren()||[]).length;++index){childrenArr=currentNode.getChildren();index=removeItems(childrenArr[index],index)}return depth};return function(node){var parentNode=node.getParent();if(!rendererAPI){rendererAPI=this;disposeSelectedItems=disposeSelectedItems()}if(parentNode){rendererAPI.addRemovalNodes(parentNode)}else{removeItems(node,0)}}}();rendererAPI.addRemovalNodes=function(node){removeNodeItemsObjectArr[node.id]=node};rendererAPI.hideNodes=function(){var i,item,node,prop,disposeNames=["plotItem","labelItem","hotItem","highlightItem","polyPathItem","pathlabelItem","pathhighlightItem","stackedpolyPathItem","stackedpathlabelItem","stackedpathhighlightItem"];for(var itr in removeNodeItemsObjectArr){node=removeNodeItemsObjectArr[itr];for(i=0;i<disposeNames.length;i+=1){prop=disposeNames[i];item=node[prop];item&&item.type==="text"&&item.attr({text:"","text-bound":[]});item=item&&!item.removed&&animationManager.setAnimation({el:item,component:datasetDefStore,label:"gen"});node[prop]=UNDEF}}};rendererAPI.graphicPool=function(){return function(add,type,elem){var freeElement,dumpArr=graphicPool[type];if(!dumpArr){dumpArr=graphicPool[type]=[]}if(type==="hotItem"||type==="pathhotItem"){elem.remove()}if(add){dumpArr.push(elem)}else{freeElement=dumpArr.splice(0,1)[0];if(freeElement){freeElement.show();return freeElement}}}}();rendererAPI.disposeComplimentary=function(targetNode){var child,childrenArr,rendererAPI=this,parentNode=targetNode.getParent(),leftSiblingCount=targetNode.getSiblingCount("left");if(parentNode){childrenArr=parentNode.getChildren();child=childrenArr.splice(leftSiblingCount,1)[0];rendererAPI.disposeChild(targetNode);childrenArr.splice(leftSiblingCount,0,child)}rendererAPI.removeLayers()};rendererAPI.removeLayers=function(){var index,length,hot,_hotLayer,hotLayerLength;_hotLayer=elemStore.hot;hotLayerLength=_hotLayer.length;length=hotLayerLength;for(index=0;index<length;index++){hot=_hotLayer[index];hot&&hot.remove()}_hotLayer.length=0};if(datasetDefStore.getState("dirty")){algorithmFactory.init(dsConf.algorithm,true,dsConf.maxDepth);drawTreeFn=algorithmFactory.plotOnCanvas(datasetDefStore.config.JSONData,chart._getCleanValue());containerManager.init(datasetDefStore,metaInf,rendererAPI,tree,drawTreeFn)}containerManager.draw();shadeFilter=algorithmFactory.applyShadeFiltering({fill:attrs.rangeOutBgColor,opacity:attrs.rangeOutBgAlpha*.01},function(css){var nodeInf=this;nodeInf.plotItem&&nodeInf.plotItem.css(css)});datasetDefStore.addExtEventListener("legendUpdate",function(e,d){shadeFilter.call(this,{start:d.maxMinArray[0].min,end:d.maxMinArray[0].max});dsConf.range={min:d.maxMinArray[0].min,max:d.maxMinArray[0].max}},datasetDefStore.getFromEnv("colorManager"));dsConf.isConfigured=false;datasetDefStore.addJob("buildKDTreeID",datasetDefStore.kdTreePartioning.bind(datasetDefStore),_schedular.priorityList.tracker)};TreeMapDS.prototype.getType=function getType(){return"dataset"};TreeMapDS.prototype.setJSONIndex=function setJSONIndex(index){this.config.index=index};TreeMapDS.prototype.getJSONIndex=function getJSONIndex(){return this.config.index||0};return TreeMapDS}(_componentInterface2["default"]);exports["default"]=TreeMapDS},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"*.dataset.treeMap":function datasetTreeMap(){var dataset=this,canvasConfig=dataset.getFromEnv("canvasConfig"),canvasYCentre=canvasConfig.canvasLeft+canvasConfig.canvasHeight/2,canvasXCentre=canvasConfig.canvasWidth/2+canvasConfig.canvasTop,labelAnim={appearing:[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],updating:[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],disappearing:[{initialAttr:{opacity:1},finalAttr:{opacity:0},slot:"initial"}]},pathAnim={appearing:[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}],updating:function updating(inputJSON){var elPresent=typeof inputJSON.el!=="string";return[{initialAttr:{opacity:0,path:elPresent?inputJSON.el.attr("path"):inputJSON.attr.path},finalAttr:{opacity:1,path:inputJSON.attr.path},slot:"final"}]}},plotAnim={appearing:function appearing(){return[{initialAttr:{x:canvasXCentre,y:canvasYCentre,width:0,height:0,opacity:0},finalAttr:{opacity:1},slot:"plot"}]},disappearing:[{finalAttr:{opacity:0},slot:"initial"}],updating:function updating(inputJSON){var x=inputJSON.props.prev&&inputJSON.props.prev.x===inputJSON.attr.x,y=inputJSON.props.prev&&inputJSON.props.prev.y===inputJSON.attr.y,h=inputJSON.props.prev&&inputJSON.props.prev.height===inputJSON.attr.height,w=inputJSON.props.prev&&inputJSON.props.prev.width===inputJSON.attr.width;if(x&&y&&h&&w){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]}if(inputJSON.props.prev){return[{initialAttr:{x:inputJSON.props.prev.x,y:inputJSON.props.prev.y,width:inputJSON.props.prev.width,height:inputJSON.props.prev.height},slot:"plot"}]}return[{initialAttr:{x:inputJSON.attr.x,y:inputJSON.attr.y,width:inputJSON.attr.width,height:inputJSON.attr.height},slot:"plot"}]}};return{"rect.appearing":plotAnim.appearing,"rect.updating":plotAnim.updating,"rect.disappearing":plotAnim.disappearing,"path.appearing":pathAnim.appearing,"path.updating":pathAnim.updating,"path.disappearing":plotAnim.disappearing,"labelItem.appearing":labelAnim.appearing,"labelItem.updating":labelAnim.updating,"labelItem.disappearing":labelAnim.disappearing,"highlightItem.appearing":labelAnim.appearing,"highlightItem.updating":labelAnim.updating,"highlightItem.disappearing":labelAnim.disappearing,"gen.disappearing":labelAnim.disappearing,"*":null}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var DRILLUP="drillup",id=1,afAPICreator=function afAPICreator(afAPI,containerManager){var iterator,maxDepth,visibleRoot,visibilityController,context;var AbstractTreeMaker=function(){function AbstractTreeMaker(node,bucketIterationMode,cleansingFn){_classCallCheck(this,AbstractTreeMaker);this.node=node;this.bucket=bucketIterationMode?new Bucket:undefined;this.cleansingFn=cleansingFn}AbstractTreeMaker.prototype.get=function get(){var orderFn=this.order,bucket=this.bucket,cleansingFn=this.cleansingFn;return function rec(root,level){var pNewNode,index,children,childNode,newNode,notMetaKeys=["label","value","data","svalue"],key;if(root){pNewNode=new TreeNode(root.label,cleansingFn(root.value),cleansingFn(root.svalue));children=root.data||[];if(children.length===0&&bucket){bucket.addInBucket(pNewNode)}pNewNode.setDepth(level);for(key in root){if(notMetaKeys.indexOf(key)!==-1){continue}pNewNode.setMeta(key,root[key])}}if(orderFn){children=orderFn(children)}for(index=0;index<children.length;index++){childNode=children[index];newNode=rec(childNode,level+1);pNewNode.addChild(newNode)}return pNewNode}(this.node,0)};AbstractTreeMaker.prototype.getBucket=function getBucket(){return this.bucket};AbstractTreeMaker.getMaxDepth=function getMaxDepth(){return maxDepth};return AbstractTreeMaker}();function setMaxDepth(value){return maxDepth=value}iterator=function iterator(rootNode,controlOptions){var it={},exception=controlOptions&&controlOptions.exception,df,bf;var Iterable=function(){function Iterable(iterAPI){_classCallCheck(this,Iterable);this.iterAPI=iterAPI}Iterable.prototype.initWith=function initWith(rootNode){return this.iterAPI(rootNode)};return Iterable}();it.df=function(node){var nextNode=node,dfArr=[],next,reset,isExhausted=false;dfArr.push(nextNode);next=function next(maxDepth){var children,fNode,len;if(isExhausted){return}fNode=dfArr.shift();if(exception&&fNode===exception){fNode=dfArr.shift();if(!fNode){isExhausted=true;return}}children=maxDepth!==undefined?fNode.getDepth()>=maxDepth?[]:fNode.getChildren():fNode.getChildren();len=children&&children.length||0;if(len){[].unshift.apply(dfArr,children)}if(dfArr.length===0){isExhausted=true}return fNode};reset=function reset(){isExhausted=false;nextNode=node;dfArr.length=0;dfArr.push(nextNode)};return{next:next,reset:reset}};it.bf=function(node){var nextNode=node,bfArr=[],next,nextBatch,reset,bfBatchArray=[],isExhausted=false;bfArr.push(nextNode);bfBatchArray.push(nextNode);next=function next(){var children,fNode,len;if(isExhausted){return}fNode=bfArr.shift();children=fNode.getChildren();len=children&&children.length||0;if(len){[].push.apply(bfArr,children)}if(bfArr.length===0){isExhausted=true}return fNode};nextBatch=function nextBatch(){var children,fNode,len;if(isExhausted){return}fNode=bfBatchArray.shift();children=fNode.getChildren();len=children&&children.length||0;if(len){[].push.apply(bfBatchArray,children)}if(bfArr.length===0){isExhausted=true}return children};reset=function reset(){isExhausted=false;nextNode=node;bfArr.length=0;bfArr.push(nextNode)};return{next:next,nextBatch:nextBatch,reset:reset}};df=new Iterable(it.df).initWith(rootNode);bf=new Iterable(it.bf).initWith(rootNode);return{df:df,bf:bf}};function initConfigurationForlabel(padding,lineHeight,attrs){var padX=padding.x,padY=padding.y,halfLineHeight=lineHeight/2,titleHideFlag=attrs.showParent?0:1,showChildLabels=attrs.showChildLabels;return function(node,rect,forcedLabel){var isLeaf=false,textCalConf={x:undefined,y:undefined,width:undefined,height:undefined},conf={},rectShiftY=0,textAttr={},highlightAttr={},visibility,availableHeight,meta;meta=node.meta;if(!node){return}if(!node.isLeaf(maxDepth)){isLeaf=true}conf.label=node.getLabel();textCalConf.width=rect.width-2*padX;textCalConf.x=rect.x+rect.width/2;availableHeight=rect.height-2*padY;if(!isLeaf&&availableHeight<lineHeight){textCalConf.height=-1}if(!forcedLabel&&isLeaf){textCalConf.height=showChildLabels?textCalConf.height?textCalConf.height:rect.height-2*padY:-1;textCalConf.y=rect.y+rect.height/2}else{if(!titleHideFlag){textCalConf.height=textCalConf.height?textCalConf.height:lineHeight;textCalConf.y=rect.y+padY+halfLineHeight}else{textCalConf.y=-1;padY=0;lineHeight=0;visibility="hidden"}}rectShiftY+=2*padY;rectShiftY+=lineHeight;conf.rectShiftY=rectShiftY;conf.textRect=textCalConf;if(attrs.labelGlow){highlightAttr["stroke-width"]=attrs.labelGlowRadius;highlightAttr.opacity=attrs.labelGlowIntensity;highlightAttr.stroke=attrs.labelGlowColor;highlightAttr.visibility=visibility==="hidden"?"hidden":"visible"}else{highlightAttr.visibility="hidden"}textAttr={fontSize:attrs.labelFontSize||attrs.baseFontSize,fontFamily:attrs.labelFont||attrs.baseFont,fill:meta&&meta.fontcolor&&normalizeColorCode(meta.fontcolor)||attrs.labelFontColor||attrs.baseFontColor,fontWeight:attrs.labelFontBold&&"bold",fontStyle:attrs.labelFontItalic&&"italic",visibility:visibility};return{conf:conf,attr:textAttr,highlight:highlightAttr}}}function isInRange(dsConf,nodeColorValue){var range=dsConf.range;if(!range){return true}else if(range.min<=nodeColorValue&&nodeColorValue<=range.max){return true}else{return false}}function mapColorManager(attrs,colorRange,isNavigationBar){var defaultParentBGColor=normalizeColorCode(isNavigationBar?attrs.defaultNavigationBarBGColor:attrs.defaultParentBGColor);return function(node,isNavigationBar,dsConf){var colorProp={},cssConf=node.cssConf,meta=node.meta,overriddenColor=meta.fillcolor?normalizeColorCode(meta.fillcolor):undefined,parentColor,parentStyle,parentNode=node.getParent(),thisNodeColor,nodeColorValue=node.getColorValue();attrs.isLegendEnabled=true;if(attrs.isLegendEnabled&&nodeColorValue){if(colorRange&&colorRange.getColorByValue(nodeColorValue)){if(isInRange(dsConf,nodeColorValue)){node.presentColor="#"+colorRange.getColorByValue(nodeColorValue)}else{node.presentColor=normalizeColorCode(dsConf.rangeOutBgColor)}}else{node.presentColor=normalizeColorCode(colorRange&&colorRange.rangeOutsideColor)}}else{node.presentColor=undefined}if(overriddenColor){node.presentColor=overriddenColor}thisNodeColor=attrs.isLegendEnabled&&nodeColorValue?colorRange&&colorRange.getColorByValue(nodeColorValue)&&"#"+colorRange.getColorByValue(nodeColorValue)||normalizeColorCode(colorRange&&colorRange.rangeOutsideColor):undefined;if(node.isLeaf(maxDepth)){colorProp.fill=overriddenColor||thisNodeColor||defaultParentBGColor}else{parentStyle=(parentNode||node).cssConf;parentColor=parentStyle&&parentStyle.fill;thisNodeColor=thisNodeColor||parentColor;colorProp.fill=overriddenColor||thisNodeColor}colorProp.stroke=isNavigationBar?attrs.navigationBarBorderColor:attrs.plotBorderColor;colorProp.strokeWidth=isNavigationBar?attrs.navigationBarBorderThickness:attrs.plotBorderThickness;colorProp["stroke-dasharray"]="none";if(!isNavigationBar){if(cssConf&&cssConf["stroke-dasharray"]==="--"){colorProp["stroke-dasharray"]=cssConf["stroke-dasharray"];colorProp.strokeWidth=cssConf.strokeWidth}}return colorProp}}context=function(){var objContainer={},pointer;function C_(){this.con={}}C_.prototype.constructor=C_;C_.prototype.get=function(key){return this.con[key]};C_.prototype.set=function(key,value){this.con[key]=value};C_.prototype["delete"]=function(key){return delete this.con[key]};return{getInstance:function getInstance(id){var _con;if(objContainer[id]){_con=objContainer[id];pointer=_con;return pointer}pointer=_con=objContainer[id]=new C_;return pointer}}}();function setVisibleRoot(node){visibleRoot=node}function getVisibleRoot(){return visibleRoot}function abstractEventRegisterer(algorithmAPI,dsStore,canvasMeasurement,rendererAPI){var chart=dsStore.getFromEnv("chart"),btns=dsStore.getFromEnv("toolbarBtns"),attrs=dsStore.conf,drawTreeFn=algorithmAPI.drawTree,removeFn=rendererAPI.disposeChild,_backToParent,context=afAPI.context,args=arguments,stateContextId="ClickedState",visibleState="VisibileRoot",plotClickEvt="dataplotclick",plotRollOverEvt="dataplotrollover",plotRollOutEvt="dataplotrollout",stateContext,_resetTree,dataUprootMap={colorValue:"svalue",label:"name",value:"value",rect:"metrics"};stateContext=context.getInstance(stateContextId);chart._intSR={};function extractEventData(node){var res={},key,resKey;for(key in dataUprootMap){resKey=dataUprootMap[key];res[resKey]=node[key]}return res}chart._intSR.backToParent=_backToParent=function backToParent(raiseEventFlag){var target=this,_t=target,_p=_t&&target.getParent(),context=afAPI.context,stateContextId="ClickedState",visibleState="VisibileRoot",stateContext=context.getInstance(stateContextId),clickedState=stateContext.get(visibleState)||{};chart.config.trackerConfig.length=0;chart.triggerKDTreePartioning();if(raiseEventFlag){chart.fireChartInstanceEvent("beforedrillup",{node:target,withoutHead:!attrs.showParent},undefined,function(){if(_p){clickedState.state=DRILLUP;clickedState.node=[{virginNode:afAPI.getVisibleRoot()},_p];removeFn(_t);drawTreeFn.apply(_p,args)}chart.fireChartInstanceEvent(DRILLUP,{node:target,withoutHead:!attrs.showParent,drillUp:_backToParent,drillUpToTop:_resetTree});target=target&&target.getParent()},function(){chart.fireChartInstanceEvent("drillupcancelled",{node:target,withoutHead:!attrs.showParent})})}else{if(_p){clickedState.state=DRILLUP;clickedState.node=[{virginNode:afAPI.getVisibleRoot()},_p];removeFn(_t);drawTreeFn.apply(_p,[algorithmAPI,dsStore,canvasMeasurement,rendererAPI])}target=target&&target.getParent()}};chart._intSR.resetTree=_resetTree=function resetTree(raiseEventFlag){var target=this,_p=target&&target.getParent(),_t,context=afAPI.context,stateContextId="ClickedState",visibleState="VisibileRoot",stateContext=context.getInstance(stateContextId),clickedState=stateContext.get(visibleState)||{};chart.config.trackerConfig.length=0;chart.triggerKDTreePartioning();while(_p){_t=_p;_p=_p.getParent()}if(raiseEventFlag){chart.fireChartInstanceEvent("beforedrillup",{node:target,withoutHead:!attrs.showParent},undefined,function(){if(_t){clickedState.state=DRILLUP;clickedState.node=[{virginNode:afAPI.getVisibleRoot()},_t];removeFn(_t);drawTreeFn.apply(_t,args);chart.fireChartInstanceEvent(DRILLUP,{node:target,sender:chart.fusionCharts,withoutHead:!attrs.showParent,drillUp:_backToParent,drillUpToTop:_resetTree})}},function(){chart.fireChartInstanceEvent("drillupcancelled",{node:target,withoutHead:!attrs.showParent})})}else{if(_t){clickedState.state=DRILLUP;clickedState.node=[{virginNode:afAPI.getVisibleRoot()},_t];removeFn(_t);drawTreeFn.apply(_t,args)}}};return{click:function click(node,baseNode){var thisVNode=node.virginNode,eventName,parent,animationManager=chart.getFromEnv("animationManager"),target;chart.state="click";chart.fireChartInstanceEvent(plotClickEvt,extractEventData(node.virginNode));parent=thisVNode.getParent();if(!parent){return}if(thisVNode===baseNode){target=parent;chart.flushKDTree();chart.config.trackerConfig.length=0;eventName=DRILLUP}else{if(thisVNode.next){target=thisVNode;chart.flushKDTree();chart.config.trackerConfig.length=0;eventName="drilldown"}else{target=parent;if(baseNode===target){eventName=undefined;return}else{chart.config.trackerConfig.length=0;eventName="drilldown"}}}eventName&&chart.fireChartInstanceEvent("before"+eventName,{node:target,withoutHead:!attrs.showParent},undefined,function(){stateContext.set(visibleState,{node:node,state:eventName});removeFn.call(rendererAPI,target);setVisibleRoot(target);animationManager.setAnimationState("drill");chart.setState("drill",true);containerManager.draw();animationManager.onAnimationComplete(function(){chart.setState("drill",false)});chart.fireChartInstanceEvent(eventName,{node:target,withoutHead:!attrs.showParent,drillUp:_backToParent,drillUpToTop:_resetTree})},function(){chart.fireChartInstanceEvent(eventName+"cancelled",{node:target,withoutHead:!attrs.showParent})});btns.back&&btns.back.attachEventHandlers({click:_backToParent.bind(target)});btns.home&&btns.home.attachEventHandlers({click:_resetTree.bind(target)});chart.resetSingleTracker()},mouseover:function mouseover(node){var evtData=extractEventData(node.virginNode);chart.fireChartInstanceEvent(plotRollOverEvt,evtData,undefined,undefined,function(){chart.fireChartInstanceEvent(plotRollOverEvt+"cancelled",evtData)})},mouseout:function mouseout(node){var evtData=extractEventData(node.virginNode);chart.fireChartInstanceEvent(plotRollOutEvt,extractEventData(node.virginNode),undefined,undefined,function(){chart.fireChartInstanceEvent(plotRollOutEvt+"cancelled",evtData)})}}}visibilityController=function(){var restOfTheTreeArr=[],nextVisibileTreeRoot,inProgress=false,attrVisible={visibility:"visible",opacity:1};return{controlPreAnimVisibility:function controlPreAnimVisibility(node,superNode){var rootNode,tempNode,itr,dfItr,nextNode,overAttr;if(!node){return}tempNode=node;while(true){tempNode=tempNode.getParent();if(!tempNode){break}rootNode=tempNode}itr=iterator(rootNode,{exception:node});dfItr=itr.df;while(true){nextNode=dfItr.next();if(!nextNode){break}overAttr=nextNode.overAttr||(nextNode.overAttr={});overAttr.visibility="hidden";restOfTheTreeArr.push(nextNode)}nextVisibileTreeRoot=superNode||node.getParent();inProgress=false;return restOfTheTreeArr},displayAll:function displayAll(node){var itr,overAttr,dfItr,nextNode;if(!node){return}itr=iterator(node.getParent()||node);dfItr=itr.df;while(true){nextNode=dfItr.next();if(!nextNode){break}overAttr=nextNode.overAttr||(nextNode.overAttr={});overAttr.visibility="visible"}nextVisibileTreeRoot=undefined;restOfTheTreeArr.length=0;inProgress=false},controlPostAnimVisibility:function controlPostAnimVisibility(){var textItem,dirtyNode,itr,dfItr,nextNode;if(inProgress){return}inProgress=true;if(!nextVisibileTreeRoot){return}itr=iterator(nextVisibileTreeRoot);dfItr=itr.df;while(true){nextNode=dfItr.next(maxDepth);if(!nextNode){break}if(nextNode.dirtyNode){dirtyNode=nextNode.dirtyNode;dirtyNode&&dirtyNode.plotItem.attr(attrVisible);textItem=dirtyNode&&dirtyNode.textItem;textItem&&textItem.label&&textItem.label.attr(attrVisible);textItem&&textItem.label&&textItem.highlightMask.attr(attrVisible)}}nextVisibileTreeRoot=undefined;restOfTheTreeArr.length=0}}}();afAPI.AbstractTreeMaker=AbstractTreeMaker;afAPI.iterator=iterator;afAPI.initConfigurationForlabel=initConfigurationForlabel;afAPI.context=context;afAPI.mapColorManager=mapColorManager;afAPI.abstractEventRegisterer=abstractEventRegisterer;afAPI.setMaxDepth=setMaxDepth;afAPI.getVisibleRoot=getVisibleRoot;afAPI.setVisibleRoot=setVisibleRoot;afAPI.visibilityController=visibilityController;return afAPI},algorithmFactoryCreator=function algorithmFactoryCreator(afAPI,algorithmFactory){var algo,AbstractTreeMaker=afAPI.AbstractTreeMaker,algorithm,treeMaker,tree,bucketIterationMode,depthIncrement,maxDepth;function postOrderTraversal(node){var children=node.getChildren(),childNode=void 0,sumOfvalues=0;for(var i=0;i<(children&&children.length);i++){childNode=children[i];postOrderTraversal(childNode);sumOfvalues+=childNode.getValue()||0}if(isNaN(node.value)){node.value=sumOfvalues}}algo={sliceanddice:{areaBaseCalculator:function areaBaseCalculator(horizontalPadding,verticalPadding){var sx=horizontalPadding,sy=verticalPadding;return function(node,posOffsetApplyFn,options){var parent,leftSibling,denominator,meta={},eHeight,eWidth,parentRect,textMargin=0,negSpacesY=0;if(!node){return}if(options){textMargin=options.textMargin||textMargin}negSpacesY=textMargin;parent=node.getParent();leftSibling=node.getSibling("left");if(parent){denominator=parent.getValue();parentRect=parent.rect;eHeight=parentRect.height-2*sy-negSpacesY;eWidth=parentRect.width-2*sx;meta.effectiveRect={height:eHeight,width:eWidth,x:parentRect.x+sx,y:parentRect.y+sy+negSpacesY};meta.effectiveArea=eHeight*eWidth;meta.ratio=node.getValue()/denominator;if(leftSibling){return posOffsetApplyFn.call(node,meta,leftSibling,parent)}else{meta.lastIsParent=true;return posOffsetApplyFn.call(node,meta,parent)}}else{return null}}},applyShadeFiltering:function applyShadeFiltering(bucketInstance,overrideEffect,rangeOutFn){bucketInstance.setRangeOutEffect(overrideEffect,rangeOutFn);this.applyShadeFiltering.reset=function(){bucketInstance.resetPointers()};return function(limits){bucketInstance.moveLowerShadePointer(limits.start);bucketInstance.moveHigherShadePointer(limits.end)}},alternateModeManager:function alternateModeManager(){return function(meta,lastPoint){var height,width,isDirectionVertical,dx,dy,cNode=this,baseArea=meta.effectiveArea,ratio=meta.ratio,childArea=baseArea*ratio,effectiveRect=meta.effectiveRect,lastRect=lastPoint.rect,lastIsParent=meta.lastIsParent;if(lastIsParent){dx=effectiveRect.x;dy=effectiveRect.y;height=effectiveRect.height;width=effectiveRect.width;isDirectionVertical=cNode.isDirectionVertical=true}else{height=effectiveRect.height+effectiveRect.y-(lastRect.height+lastRect.y);width=effectiveRect.width+effectiveRect.x-(lastRect.width+lastRect.x);isDirectionVertical=cNode.isDirectionVertical=!lastPoint.isDirectionVertical}if(isDirectionVertical){width=childArea/height;dx=dx!==undefined?dx:lastRect.x;dy=dy!==undefined?dy:lastRect.y+lastRect.height}else{height=childArea/width;dx=dx!==undefined?dx:lastRect.x+lastRect.width;dy=dy!==undefined?dy:lastRect.y}return{height:height,width:width,x:dx,y:dy}}},horizontalVerticalManager:function horizontalVerticalManager(slicingMode){var isVerticalSlicing=Boolean(slicingMode==="vertical");return function(meta,lastPoint){var height,width,isDirectionVertical,dx,dy,cNode=this,baseArea=meta.effectiveArea,ratio=meta.ratio,childArea=baseArea*ratio,effectiveRect=meta.effectiveRect,lastRect=lastPoint.rect,lastIsParent=meta.lastIsParent;if(lastIsParent){dx=effectiveRect.x;dy=effectiveRect.y;height=effectiveRect.height;width=effectiveRect.width;isDirectionVertical=cNode.isDirectionVertical=!lastPoint.isDirectionVertical}else{height=effectiveRect.height+effectiveRect.y-(lastRect.height+lastRect.y);width=effectiveRect.width+effectiveRect.x-(lastRect.width+lastRect.x);isDirectionVertical=cNode.isDirectionVertical=!arguments[2].isDirectionVertical}isDirectionVertical=isVerticalSlicing?isDirectionVertical:!isDirectionVertical;if(isDirectionVertical){if(height===0){height=effectiveRect.height;dx=dx!==undefined?dx:lastRect.x+lastRect.width;dy=dy!==undefined?dy:lastRect.y}width=childArea/height;dx=dx!==undefined?dx:lastRect.x;dy=dy!==undefined?dy:lastRect.y+lastRect.height}else{if(width===0){width=effectiveRect.width;dx=dx!==undefined?dx:lastRect.x;dy=dy!==undefined?dy:lastRect.y+lastRect.height}height=childArea/width;dx=dx!==undefined?dx:lastRect.x+lastRect.width;dy=dy!==undefined?dy:lastRect.y}return{height:height,width:width,x:dx,y:dy}}},drawTree:function drawTree(algorithmAPI,dsStore,canvasMeasurement,rendererAPI){var treeRoot=this,chart=dsStore.getFromEnv("chart"),config=chart.config||(chart.config={}),trackerConfig=config.trackerConfig||(config.trackerConfig=[]),numberFormatter=dsStore.getFromEnv("number-formatter"),btns=dsStore.getFromEnv("toolbarBtns"),drawRectFn=rendererAPI.drawRect,drawTextFn=rendererAPI.drawText,drawHotFn=rendererAPI.drawHot,xShift=canvasMeasurement.horizontalPadding,yShift=canvasMeasurement.verticalPadding,smartLabel=dsStore.getFromEnv("smartLabel"),lineHeight,labelPadding={x:5,y:5},iterator=afAPI.iterator,itr=iterator(treeRoot),dfItr=itr.df,baseNode,getNextAreaBase=algorithmAPI.areaBaseCalculator(xShift,yShift),attrs=dsStore.conf,highlightParentsOnHover=attrs.highlightParentsOnHover,getTextConf,context=afAPI.context,visController=afAPI.visibilityController,colorRange=dsStore.conf.colorRange,localColorProvider=afAPI.mapColorManager(attrs,colorRange),abstractEvtReg=afAPI.abstractEventRegisterer(algorithmAPI,dsStore,canvasMeasurement,rendererAPI),clickEvtImpl=abstractEvtReg.click,mouseoverEvtImpl=abstractEvtReg.mouseover,mouseoutEvtImpl=abstractEvtReg.mouseout,slicingMode=attrs.slicingMode,temp=slicingMode==="alternate"?"alternateModeManager":"horizontalVerticalManager",postNodeFetcher=algorithmAPI[temp](slicingMode),_baseNode,_intSR=chart._intSR,resetTree,backToParent,stateContextId="ClickedState",visibleState="VisibileRoot",stateContext,clickedState,csNode;stateContext=context.getInstance(stateContextId);clickedState=stateContext.get(visibleState)||{};csNode=clickedState.node;if(clickedState.node&&clickedState.state){if(clickedState.state.toLowerCase()===DRILLUP){if(csNode instanceof Array){visController.controlPreAnimVisibility(csNode[0].virginNode,csNode[1])}else{visController.controlPreAnimVisibility(csNode.virginNode)}}else{visController.displayAll(clickedState.node.virginNode)}}lineHeight=attrs.parentLabelLineHeight;getTextConf=afAPI.initConfigurationForlabel(labelPadding,lineHeight,attrs);baseNode=dfItr.next(maxDepth=afAPI.setMaxDepth(treeRoot.getDepth()+depthIncrement));_baseNode=baseNode;while(_baseNode.getParent()){_baseNode=_baseNode.getParent()}!config.valuesset&&postOrderTraversal(_baseNode);config.valuesset=true;if(!attrs.showNavigationBar){if(_baseNode!=baseNode){btns.home.show();btns.back.show()}else{btns.home.hide();btns.back.hide()}}else{btns.home.hide();btns.back.hide()}smartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);smartLabel.setStyle(attrs._setStyle={fontSize:(attrs.labelFontSize||attrs.baseFontSize)+"px",fontFamily:attrs.labelFont||attrs.baseFont,lineHeight:1.2*(attrs.labelFontSize||attrs.baseFontSize)+"px"});backToParent=_intSR.backToParent;resetTree=_intSR.resetTree;btns.back&&btns.back.attachEventHandlers({click:backToParent.bind(baseNode)});btns.home&&btns.home.attachEventHandlers({click:resetTree.bind(baseNode)});(function rec(node,drawingArea){var nextNode,_rect,_textRect,hotItem,labelItem,highlightItem,textItem,nodeDrawingArea,rect,textRect,textConfObj,textConf,options={},label,plotItem,plotDetails={},evtFns={},hoverContextPointerName="hover",cssConf={},colorDimension="",formattedValue,formattedsValue;if(!node||!node.value){return}formattedValue=numberFormatter.yAxis(node.getValue());formattedsValue=numberFormatter.sYAxis(node.getColorValue());node.setPath();_rect=node.rect||{};_textRect=node.textRect||{};rect=node.rect={};textRect=node.textRect={};rect.width=drawingArea.width;rect.height=drawingArea.height;rect.x=drawingArea.x;rect.y=drawingArea.y;cssConf=localColorProvider(node,undefined,dsStore.conf);plotItem=node.plotItem;if(plotItem){rendererAPI.graphicPool(true,"plotItem",plotItem,_rect)}node.__props||(node.__props={});node.__props.curr=Object.assign({},rect);node.__props.node=Object.assign({},node);plotItem=node.plotItem=drawRectFn(rect,Object.assign({},cssConf,node.getColorValue()&&{fill:node.presentColor}||{}),_rect,node.overAttr,node);node.__props.prev=Object.assign({},rect);node.cssConf=cssConf;textConfObj=getTextConf(node,rect);textConf=textConfObj.conf;options.textMargin=textConf.rectShiftY;textRect=node.textRect=textConf.textRect;label=smartLabel.getSmartText(textConf.label,textRect.width,textRect.height).text;node.plotItem=plotItem;labelItem=node.labelItem;if(labelItem){highlightItem=node.highlightItem;rendererAPI.graphicPool(true,"labelItem",labelItem,_rect);rendererAPI.graphicPool(true,"highlightItem",highlightItem,_rect)}else{_textRect=_textRect||{}}textItem=drawTextFn(label,textRect,{textAttrs:textConfObj.attr,highlightAttrs:textConfObj.highlight},_textRect,node.overAttr,node);node.labelItem=textItem.label;node.highlightItem=textItem.highlightMask;plotDetails.virginNode=node;plotDetails.plotItem=plotItem;plotDetails.textItem=textItem;plotDetails.virginNode.dirtyNode=plotDetails;if(node.getColorValue()){colorDimension=attrs.tooltipSeparationCharacter+formattedsValue}if(attrs.showTooltip){plotDetails.toolText=(0,_lib.parseTooltext)(attrs.plotToolText,[1,2,3,119,122],{label:node.getLabel(),formattedValue:formattedValue,formattedsValue:formattedsValue},{value:node.getValue(),svalue:node.getColorValue()})||node.getLabel()+attrs.tooltipSeparationCharacter+formattedValue+colorDimension}else{plotDetails.toolText=_lib.BLANKSTRING}plotDetails.rect=rect;evtFns.hover=[function(forcedTracker){var elem=this,parentElem,targetElement,virginNode,hoverContext,css,maskRgba,hoverMaskAlpha=60;hoverContext=context.getInstance(hoverContextPointerName);virginNode=elem.virginNode;if(highlightParentsOnHover&&!virginNode.next){parentElem=virginNode.getParent();targetElement=parentElem||virginNode}else{targetElement=elem.virginNode}hoverContext.set("element",targetElement);css=targetElement.cssConf;maskRgba=(0,_libGraphics.convertColor)((0,_libGraphics.getLightColor)(css.fill,80),hoverMaskAlpha);forcedTracker.attr({fill:maskRgba});mouseoverEvtImpl(this)}.bind(plotDetails),function(){var hoverContext,targetElement,css,unmaskRgba,hoverMaskAlpha=0;hoverContext=context.getInstance(hoverContextPointerName);targetElement=hoverContext.get("element");css=targetElement.cssConf;unmaskRgba=(0,_libGraphics.convertColor)(css.fill||"#fff",hoverMaskAlpha);targetElement.plotItem.tracker.attr({fill:unmaskRgba});mouseoutEvtImpl(this)}.bind(plotDetails)];evtFns.tooltip=[plotDetails.toolText];evtFns.click=[function(){clickEvtImpl(this,baseNode)}.bind(plotDetails)];hotItem=node.hotItem;if(hotItem){rendererAPI.graphicPool(true,"hotItem",hotItem,_rect)}trackerConfig.push({node:node,key:"hotItem",plotDetails:plotDetails,evtFns:evtFns,callback:drawHotFn});nextNode=dfItr.next(maxDepth);nodeDrawingArea=getNextAreaBase(nextNode,postNodeFetcher,options);rec(nextNode,nodeDrawingArea)})(baseNode,canvasMeasurement)}},squarified:{orderNodes:function orderNodes(){return this.sort(function(m,n){return parseFloat(m.value,10)<parseFloat(n.value,10)?1:-1})},areaBaseCalculator:function areaBaseCalculator(horizontalPadding,verticalPadding){var sx=horizontalPadding,sy=verticalPadding;return function(nodes,posOffsetApplyFn,options){var parent,meta={},eHeight,eWidth,textMargin=0,negSpacesY=0,anyNode,parentRect;if(!nodes||nodes.length===0){return}if(options){textMargin=options.textMargin||textMargin}negSpacesY=textMargin;anyNode=nodes[0];parent=anyNode.getParent();if(parent){parentRect=parent.rect;eHeight=parentRect.height-2*sy-negSpacesY;eWidth=parentRect.width-2*sx;meta.effectiveRect={height:eHeight,width:eWidth,x:parentRect.x+sx,y:parentRect.y+sy+negSpacesY};meta.effectiveArea=eHeight*eWidth;return posOffsetApplyFn.call(anyNode,meta,parent)}else{return null}}},layoutManager:function(){var RowLayout=function(){function RowLayout(root,totalValue){_classCallCheck(this,RowLayout);this.totalValue=totalValue;this._rHeight=root.height;this._rWidth=root.width;this._rx=root.x;this._ry=root.y;this._rTotalArea=root.height*root.width;this.nodes=[];this._prevAR=undefined;if(this._rHeight<this._rWidth){this._hSegmented=true}}RowLayout.prototype.addNode=function addNode(node){var totalArea=this._rTotalArea,area,ratio,width,height,i,len,length,snVal,snArea,snHeight,snWidth,rect,_hSegmented=this._hSegmented,_x=this._rx,_y=this._ry,_nextX,_nextY,_rect,remainingHeight,remainingWidth,maxSide,minSide,aspectRatio,valueSoFar=0,cRect;this.nodes.push(node);for(i=0,length=this.nodes.length;i<length;i++){valueSoFar+=parseFloat(this.nodes[i].getValue(),10)}ratio=valueSoFar/this.totalValue;area=totalArea*ratio;if(_hSegmented){height=this._rHeight;width=area/height;_nextX=_x+width;_nextY=_y;remainingHeight=this._rHeight;remainingWidth=this._rWidth-width}else{width=this._rWidth;height=area/width;_nextX=_x;_nextY=_y+height;remainingHeight=this._rHeight-height;remainingWidth=this._rWidth}for(i=0,len=this.nodes.length;i<len;i++){node=this.nodes[i];snVal=node.getValue();snArea=snVal/valueSoFar*area;node.hRect=node.rect||{};node._hRect=node._rect||{};rect=node.rect={};if(_hSegmented){rect.width=snWidth=width;rect.height=snHeight=snArea/snWidth;rect.x=_x;rect.y=_y;_y+=snHeight}else{rect.height=snHeight=height;rect.width=snWidth=snArea/snHeight;rect.x=_x;rect.y=_y;_x+=snWidth}maxSide=Math.max(rect.height,rect.width);minSide=Math.min(rect.height,rect.width);aspectRatio=maxSide/minSide;!isFinite(aspectRatio)&&(aspectRatio=0);node.aspectRatio=aspectRatio}if(this.nodes.length>1){if(this.prevAR<node.aspectRatio){this.nodes.pop().rect={};for(i=0,length=this.nodes.length;i<length;i++){if(length===1&&this.nodes[i].firstPassed){this.nodes[i].rect=this.nodes[i]._hRect}else{this.nodes[i].rect=this.nodes[i].hRect}_rect=this.nodes[i]._rect={};cRect=this.nodes[i].rect;_rect.width=cRect.width;_rect.height=cRect.height;_rect.x=cRect.x;_rect.y=cRect.y}return false}}else{if(node){_rect=node._rect={};cRect=node.rect;_rect.width=cRect.width;_rect.height=cRect.height;_rect.x=cRect.x;_rect.y=cRect.y;node.firstPassed=true}}this.prevAR=node.aspectRatio;this.height=height;this.width=width;this.getNextLogicalDivision=function(){return{height:remainingHeight,width:remainingWidth,x:_nextX,y:_nextY}};return node};return RowLayout}();return{RowLayout:RowLayout}}(),applyShadeFiltering:function applyShadeFiltering(bucketInstance,overrideEffect,rangeOutFn){bucketInstance.setRangeOutEffect(overrideEffect,rangeOutFn);this.applyShadeFiltering.reset=function(){bucketInstance.resetPointers()};return function(limits){bucketInstance.moveLowerShadePointer(limits.start);bucketInstance.moveHigherShadePointer(limits.end)}},drawTree:function drawTree(algorithmAPI,dsStore,canvasMeasurement,rendererAPI){var treeRoot=this,chart=dsStore.getFromEnv("chart"),config=dsStore.getFromEnv("chartConfig"),trackerConfig=config.trackerConfig||(config.trackerConfig=[]),numberFormatter=dsStore.getFromEnv("number-formatter"),btns=dsStore.getFromEnv("toolbarBtns"),labelPadding={x:5,y:5},lineHeight,xShift=canvasMeasurement.horizontalPadding,yShift=canvasMeasurement.verticalPadding,getNextAreaBase=algorithmAPI.areaBaseCalculator(xShift,yShift),RowLayout=algorithmAPI.layoutManager.RowLayout,smartLabel=dsStore.getFromEnv("smartLabel"),drawRectFn=rendererAPI.drawRect,drawTextFn=rendererAPI.drawText,drawHotFn=rendererAPI.drawHot,iterator=afAPI.iterator,itr=iterator(treeRoot),bfItr=itr.bf,baseNode,attrs=dsStore.conf,highlightParentsOnHover=attrs.highlightParentsOnHover,getTextConf,context=afAPI.context,colorRange=dsStore.conf.colorRange,localColorProvider=afAPI.mapColorManager(attrs,colorRange),abstractEvtReg=afAPI.abstractEventRegisterer(algorithmAPI,dsStore,canvasMeasurement,rendererAPI),clickEvtImpl=abstractEvtReg.click,mouseoverEvtImpl=abstractEvtReg.mouseover,mouseoutEvtImpl=abstractEvtReg.mouseout,_baseNode,_intSR=chart._intSR,backToParent,resetTree,visController=afAPI.visibilityController,stateContextId="ClickedState",visibleState="VisibileRoot",stateContext,clickedState,csNode;stateContext=context.getInstance(stateContextId);clickedState=stateContext.get(visibleState)||{};csNode=clickedState.node;if(clickedState.node&&clickedState.state){if(clickedState.state.toLowerCase()===DRILLUP){if(csNode instanceof Array){visController.controlPreAnimVisibility(csNode[0].virginNode,csNode[1])}else{visController.controlPreAnimVisibility(csNode.virginNode)}}else{visController.displayAll(clickedState.node.virginNode)}}lineHeight=attrs.parentLabelLineHeight;getTextConf=afAPI.initConfigurationForlabel(labelPadding,lineHeight,attrs);baseNode=bfItr.next(maxDepth=afAPI.setMaxDepth(treeRoot.getDepth()+depthIncrement));_baseNode=baseNode;while(_baseNode.getParent()){_baseNode=_baseNode.getParent()}!config.valuesset&&postOrderTraversal(_baseNode);config.valuesset=true;if(!attrs.showNavigationBar){if(_baseNode!=baseNode){btns.home.show();btns.back.show()}else{btns.home.hide();btns.back.hide()}}else{btns.home.hide();btns.back.hide()}smartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);smartLabel.setStyle(attrs._setStyle={fontSize:(attrs.labelFontSize||attrs.baseFontSize)+"px",fontFamily:attrs.labelFont||attrs.baseFont,lineHeight:1.2*(attrs.labelFontSize||attrs.baseFontSize)+"px"});backToParent=_intSR.backToParent;resetTree=_intSR.resetTree;btns.back&&btns.back.attachEventHandlers({click:backToParent.bind(baseNode)});btns.home&&btns.home.attachEventHandlers({click:resetTree.bind(baseNode)});(function rec(node,drawingArea){var rect,_rect={},highlightItem,hotItem,labelItem,_textRect,textRect,nextNodes,textItem,index,length,totalValPlotted=0,bfsQueue,bfsNode,plotItem,textConf,label,options={},textConfObj,plotDetails={},evtFns={},hoverContextPointerName="hover",cssConf={},colorDimension="",formattedValue,formattedsValue;if(!node||!node.value){return}formattedValue=numberFormatter.yAxis(node.getValue());formattedsValue=numberFormatter.sYAxis(node.getColorValue());node.setPath();rect=node.__initRect;if(rect){_rect.x=rect.x;_rect.y=rect.y;_rect.width=rect.width;_rect.height=rect.height}_textRect=node.textRect||{};rect=node.rect=node.__initRect={};textRect=node.textRect={};rect.width=drawingArea.width;rect.height=drawingArea.height;rect.x=drawingArea.x;rect.y=drawingArea.y;cssConf=localColorProvider(node,undefined,dsStore.conf);plotItem=node.plotItem;if(plotItem){rendererAPI.graphicPool(true,"plotItem",plotItem,_rect)}node.__props||(node.__props={});node.__props.curr=Object.assign({},rect);node.__props.node=Object.assign({},node);plotItem=node.plotItem=drawRectFn(rect,Object.assign({},cssConf,node.getColorValue()&&{fill:node.presentColor}||{}),_rect,node.overAttr,node);node.__props.prev=Object.assign({},rect);node.cssConf=cssConf;textConfObj=getTextConf(node,rect);textConf=textConfObj.conf;options.textMargin=textConf.rectShiftY;textRect=node.textRect=textConf.textRect;label=smartLabel.getSmartText(textConf.label,textRect.width,textRect.height).text;labelItem=node.labelItem;if(labelItem){highlightItem=node.highlightItem;rendererAPI.graphicPool(true,"labelItem",labelItem,_rect);rendererAPI.graphicPool(true,"highlightItem",highlightItem,_rect)}else{_textRect=_textRect||{}}textItem=drawTextFn(label,textRect,{textAttrs:textConfObj.attr,highlightAttrs:textConfObj.highlight},_textRect,node.overAttr,node);node.labelItem=textItem.label;node.highlightItem=textItem.highlightMask;node.plotItem=plotItem;plotDetails.virginNode=node;plotDetails.plotItem=plotItem;plotDetails.textItem=textItem;plotDetails.virginNode.dirtyNode=plotDetails;if(node.getColorValue()){colorDimension=attrs.tooltipSeparationCharacter+formattedsValue}if(attrs.showTooltip){plotDetails.toolText=(0,_lib.parseTooltext)(attrs.plotToolText,[1,2,3,119,122],{label:node.getLabel(),formattedValue:formattedValue,formattedsValue:formattedsValue},{value:node.getValue(),svalue:node.getColorValue()})||node.getLabel()+attrs.tooltipSeparationCharacter+formattedValue+colorDimension}else{plotDetails.toolText=_lib.BLANKSTRING}plotDetails.rect=rect;evtFns.hover=[function(targetElementNew){var elem=this,parentElem,targetElement,virginNode,hoverContext,css,maskRgba,hoverMaskAlpha=60;hoverContext=context.getInstance(hoverContextPointerName);virginNode=elem.virginNode;if(highlightParentsOnHover&&!virginNode.next){parentElem=virginNode.getParent();targetElement=parentElem||virginNode}else{targetElement=elem.virginNode}hoverContext.set("element",targetElement);css=targetElement.cssConf;maskRgba=(0,_libGraphics.convertColor)(css.fill&&(0,_libGraphics.getLightColor)(css.fill,80),hoverMaskAlpha);targetElementNew.attr({fill:maskRgba});mouseoverEvtImpl(this)}.bind(plotDetails),function(targetElementNew){var hoverContext,targetElement,css,unmaskRgba,hoverMaskAlpha=0;hoverContext=context.getInstance(hoverContextPointerName);targetElement=hoverContext.get("element");css=targetElement.cssConf;unmaskRgba=(0,_libGraphics.convertColor)(css.fill||"#fff",hoverMaskAlpha);targetElementNew.attr({fill:unmaskRgba});mouseoutEvtImpl(this)}.bind(plotDetails)];evtFns.tooltip=[plotDetails.toolText];evtFns.click=[function(){clickEvtImpl(this,baseNode)}.bind(plotDetails)];hotItem=node.hotItem;if(hotItem){rendererAPI.graphicPool(true,"hotItem",hotItem,_rect)}trackerConfig.push({node:node,key:"hotItem",plotDetails:plotDetails,evtFns:evtFns,callback:drawHotFn});nextNodes=maxDepth!==undefined?node.getDepth()>=maxDepth?undefined:node.getChildren():node.getChildren();if(!nextNodes){return}bfsQueue=getNextAreaBase(nextNodes,function(meta,parent){var row,nodeLimit,nodeIndex=0,node,layout,nextDiv,queue=[];row=new RowLayout({width:meta.effectiveRect.width,height:meta.effectiveRect.height,x:meta.effectiveRect.x,y:meta.effectiveRect.y},parent.getValue());nodeLimit=nextNodes.length;while(true){if(nodeIndex++===nodeLimit){break}node=nextNodes[nodeIndex-1];layout=row.addNode(node);if(layout===false){nextDiv=row.getNextLogicalDivision();row=new RowLayout(nextDiv,parent.getValue()-totalValPlotted);nodeIndex--}else{totalValPlotted+=parseFloat(node.getValue(),10);queue.push(node)}}return queue},options);for(index=0,length=bfsQueue.length;index<length;index++){bfsNode=bfsQueue[index];rec(bfsNode,bfsNode.rect)}})(baseNode,canvasMeasurement)}}};var TreeMaker=function(_AbstractTreeMaker){_inherits(TreeMaker,_AbstractTreeMaker);function TreeMaker(){_classCallCheck(this,TreeMaker);return _possibleConstructorReturn(this,_AbstractTreeMaker.apply(this,arguments))}TreeMaker.getName=function getName(){return"TreeMaker"};TreeMaker.prototype.order=function order(children){var algorithmAPI=algo[algorithm],orderNodeFn=algorithmAPI.orderNodes;if(orderNodeFn){return orderNodeFn.apply(children,[algorithmAPI])}return children};return TreeMaker}(AbstractTreeMaker);function init(algoName,flag,permitterDepth){algorithm=algoName;bucketIterationMode=flag;depthIncrement=afAPI.setMaxDepth(permitterDepth);return algo[algorithm]}function applyShadeFiltering(css,shadeOutFN){var algorithmAPI=algo[algorithm],args,shadeFilter;shadeFilter=algorithmAPI.applyShadeFiltering(treeMaker.getBucket(),css,shadeOutFN);return function(limits){args=Array.prototype.slice.call(arguments,0);args.unshift(limits);shadeFilter.apply(treeMaker.getBucket(),args)}}function makeTree(nodes,cleansingFn,update){var tempTree;treeMaker=new TreeMaker(nodes,bucketIterationMode,cleansingFn);tempTree=treeMaker.get();if(update!==false){tree=tempTree}afAPI.setVisibleRoot(tempTree);return tempTree}function plotTree(){var algorithmAPI=algo[algorithm],args;algorithmFactory.realTimeUpdate=realTimeUpdate.apply(this,arguments);args=Array.prototype.slice.call(arguments,0);args.unshift(algorithmAPI);algorithmAPI.drawTree.apply(afAPI.getVisibleRoot(),args)}function realTimeUpdate(){var rendererAPI,args,algorithmAPI=algo[algorithm];args=Array.prototype.slice.call(arguments,0);args.unshift(algorithmAPI);rendererAPI=args.slice(-1)[0];return function(){var _args=Array.prototype.slice.call(arguments,0),_getCleanValue=_args.shift(),modifier=_args.shift(),api=treeOpt(tree,function(visibleRoot){algorithmAPI.drawTree.apply(visibleRoot||tree,args)},rendererAPI,_getCleanValue);api[modifier].apply(this,_args)}}function setTreeBase(base){return base&&(tree=base)}function plotOnCanvas(nodes,cleansingFn){tree=makeTree(nodes,cleansingFn);return plotTree}algorithmFactory.init=init;algorithmFactory.plotOnCanvas=plotOnCanvas;algorithmFactory.applyShadeFiltering=applyShadeFiltering;algorithmFactory.setTreeBase=setTreeBase;algorithmFactory.realTimeUpdate=realTimeUpdate;algorithmFactory.makeTree=makeTree;return algorithmFactory},treeOpt=function treeOpt(baseNode,drawTreeFn,rendererAPI,_getCleanValue){var change;function getNode(path){var childNode,index=0,parentNode=baseNode;if(!path.length){return baseNode}while(parentNode){childNode=searchSibling.call(parentNode,path[index]);if(index===path.length-1&&childNode){change=childNode.getValue();return childNode}parentNode=childNode;index+=1}}function searchSibling(label){var index,node,sibling,parentNode=this,childrenArr=parentNode.getChildren()||[],len=childrenArr.length,sanitized=function sanitized(str){return str.toLowerCase().trim()};for(index=0;index<len;index+=1){sibling=childrenArr[index];if(sanitized(sibling.label)===sanitized(label)){node=sibling;break}}return node}return{deleteData:function deleteData(path,draw){var afAPI,targetNode=getNode(path),itr=afAPI.iterator(targetNode),dfItr=itr.df,parentNode=targetNode&&targetNode.getParent(),leftSiblingCount=targetNode&&targetNode.getSiblingCount("left"),childrenArr=parentNode&&parentNode.getChildren(),visibleRoot=afAPI.getVisibleRoot();if(!targetNode||!parentNode){return}childrenArr.splice(leftSiblingCount,1);if(targetNode===visibleRoot){visibleRoot=targetNode.getParent()||visibleRoot}while(targetNode){rendererAPI.disposeItems(targetNode);targetNode=dfItr.next()}while(parentNode){parentNode.setValue(-change,true);parentNode=parentNode.getParent()}if(draw){drawTreeFn(visibleRoot)}},addData:function addData(nodes,path,draw,index){var afAPI,algorithmFactory,newNode,tree,parentNode,oldValue,change=0,incremental=true,visibleRoot=afAPI.getVisibleRoot();while(nodes.length){newNode=nodes.pop();tree=algorithmFactory.makeTree(newNode,_getCleanValue,false);change=tree.getValue();parentNode=getNode(path||[]);if(!parentNode){continue}if(!parentNode.getChildren()){oldValue=parentNode.getValue();incremental=false}parentNode.addChildren(tree,index);while(parentNode){parentNode.setValue(change,incremental);if(oldValue){change-=oldValue;oldValue=undefined;incremental=true}parentNode=parentNode.getParent()}}if(draw){drawTreeFn(visibleRoot)}}}},containerManagerCreator=function containerManagerCreator(afAPI,containerManager){var datasetDefStore,drawTreeFn,metaInf,dsConf,rendererAPI,updateContainers,forceCSS=false,drawNavigation=function drawNavigation(drawingAreaMeasurement,isStacked){var navigationPath,len,colorRange=dsConf.colorRange,localColorProvider=afAPI.mapColorManager(dsConf,colorRange,true),setNavigationPath=function setNavigationPath(isStacked){var visibleRoot=getVisibleRoot();if(!isStacked){navigationPath=visibleRoot.getPath()||[].concat(visibleRoot)}else{navigationPath=visibleRoot.getChildren()}navigationPath.pop();len=navigationPath.length},segmentRectangle=function(){var allocatedWidth;return{get:function get(drawingAreaMeasurement,pos,isStacked){var segmentRect={y:drawingAreaMeasurement.startY,height:drawingAreaMeasurement.effectiveHeight},node=navigationPath[pos],parentNode=node.getParent();if(allocatedWidth){segmentRect._x=drawingAreaMeasurement.startX+drawingAreaMeasurement.effectiveWidth;segmentRect._width=0}else{segmentRect._x=drawingAreaMeasurement.startX;segmentRect._width=drawingAreaMeasurement.effectiveWidth}segmentRect.x=allocatedWidth||(allocatedWidth=drawingAreaMeasurement.startX);if(!isStacked){allocatedWidth+=segmentRect.width=drawingAreaMeasurement.effectiveWidth/len}else{allocatedWidth+=segmentRect.width=drawingAreaMeasurement.effectiveWidth*(node.getValue()/parentNode.getValue())}return segmentRect},resetAllocation:function resetAllocation(){allocatedWidth=undefined}}}(),fetchFlatnessPosition=function fetchFlatnessPosition(startIndex,endIndex){var shape;if(endIndex===1){shape="both"}else if(startIndex===0){shape="left"}else if(startIndex<endIndex-1){shape="no"}else{shape="right"}return shape},labelPadding={x:5,y:5},lineHeight=dsConf.parentLabelLineHeight,getTextConf=afAPI.initConfigurationForlabel(labelPadding,lineHeight,dsConf),drawPathFn=rendererAPI.drawPolyPath,drawTextFn=rendererAPI.drawText,drawHotFn=rendererAPI.drawHot,STACKED_STR="stacked",navigationMapper={navigationHistory:{path:"polyPathItem",label:"pathlabelItem",highlightItem:"pathhighlightItem",hotItem:"pathhotItem"}},chart=datasetDefStore.getFromEnv("chart"),trackerConfig=chart.config.trackerConfig,smartLabel=datasetDefStore.getFromEnv("smartLabel"),clickFn=function clickFn(node){return function(){var context=afAPI.context,stateContextId="ClickedState",visibleState="VisibileRoot",animationManager=chart.getFromEnv("animationManager"),stateContext=context.getInstance(stateContextId),clickedState=stateContext.get(visibleState)||{};trackerConfig.length=0;clickedState.state=DRILLUP;clickedState.node=[{virginNode:afAPI.getVisibleRoot()},node];rendererAPI.disposeChild(node);animationManager.setAnimationState("drill");chart.setState("drill",true);containerManager.draw([node,node,node]);animationManager.onAnimationComplete(function(){chart.setState("drill",false)});chart.resetSingleTracker()}},hoverInFn=function hoverInFn(){return function(){}},hoverOutFn=function hoverOutFn(){return function(){}},toolTipFn=function toolTipFn(node){return dsConf.showTooltip?node.getLabel():_lib.BLANKSTRING},i,offset,pathObj,node,segmentRect,textConfObj,label,textConf,pathText,_setStyle=dsConf._setStyle,textRect,navigationRatio=_heightProportion.get().navigationBar,verticalPadding=2*_getVerticalPadding("navigationBar"),navigationHeight=navigationRatio*metaInf.effectiveHeight,logicalFontSize=Math.min(navigationHeight-(verticalPadding+6),_setStyle.fontSize.replace(/\D+/g,"")),fontSizeStr=logicalFontSize+"px";navigationMapper.stacked={path:STACKED_STR+navigationMapper.navigationHistory.path,label:STACKED_STR+navigationMapper.navigationHistory.label,highlightItem:STACKED_STR+navigationMapper.navigationHistory.highlightItem,hotItem:STACKED_STR+navigationMapper.navigationHistory.hotItem};segmentRectangle.resetAllocation();setNavigationPath(isStacked);smartLabel.setStyle({fontSize:fontSizeStr,lineHeight:fontSizeStr});for(i=0;i<len;i+=1){node=navigationPath[i];segmentRect=segmentRectangle.get(drawingAreaMeasurement,i,isStacked);offset=(pathObj=createNavigationPath(segmentRect,isStacked?"both":fetchFlatnessPosition(i,len),undefined,node)).offset;node[navigationMapper[isStacked?"stacked":"navigationHistory"].path]=drawPathFn(pathObj,localColorProvider(node,true,dsConf),node);textConfObj=getTextConf(node,segmentRect,true);textConf=textConfObj.conf;textRect=textConf.textRect;textRect.width-=2*offset;textRect.y=segmentRect.y+segmentRect.height/2;label=smartLabel.getSmartText(textConf.label,textRect.width,Math.max(logicalFontSize,textRect.height)).text;pathText=drawTextFn(label,textRect,{textAttrs:textConfObj.attr,highlightAttrs:textConfObj.highlight},{y:segmentRect.height/10,"font-size":dsConf._setStyle.fontSize,"font-family":dsConf._setStyle.fontFamily},(isStacked?"stacked":"")+"path",node);node[navigationMapper[isStacked?"stacked":"navigationHistory"].label]=pathText.label;node[navigationMapper[isStacked?"stacked":"navigationHistory"].highlightItem]=pathText.highlightMask;trackerConfig.push({node:node,key:navigationMapper[isStacked?"stacked":"navigationHistory"].hotItem,plotDetails:{rect:segmentRect},evtFns:{click:[clickFn(node,isStacked)],hover:[hoverInFn(node),hoverOutFn()],tooltip:[toolTipFn(node)]},callback:drawHotFn})}},getDrawFn=function getDrawFn(type){var drawFn={treeMap:drawTree,navigationBar:drawNavigation,stackedNavigation:drawStackedNavigation};return drawFn[type]},_heightProportion=function(){var heightProportion={treeMap:1,navigationBar:0,stackedNavigation:0};return{set:function set(hasNavigationBar){var singleLineRatio,navigationRatio=(0,_lib.pluckNumber)(dsConf.navigationBarHeightRatio,dsConf.navigationBarHeight/metaInf.effectiveHeight,.15),maxFontSize=dsConf.labelFontSize?Math.max(dsConf.labelFontSize,dsConf.baseFontSize):dsConf.baseFontSize,verticalPadding=2*_getVerticalPadding("navigationBar");singleLineRatio=(6+maxFontSize+verticalPadding)/metaInf.effectiveHeight;navigationRatio=Math.max(singleLineRatio,navigationRatio);if(navigationRatio<.1){navigationRatio=.1}else if(navigationRatio>.15){navigationRatio=.15}dsConf.navigationBarHeightRatio=navigationRatio;if(hasNavigationBar){heightProportion={treeMap:1-navigationRatio,navigationBar:navigationRatio,stackedNavigation:0}}else{heightProportion={treeMap:1,navigationBar:0,stackedNavigation:0}}},get:function get(){return heightProportion}}}(),allocatedHeightProp=0,_getVerticalPadding=function _getVerticalPadding(type){var verticalPadding=dsConf.verticalPadding,plotBorderThickness=dsConf.plotBorderThickness,navigationBarBorderThickness=dsConf.navigationBarBorderThickness;return verticalPadding+(type==="navigationBar"?navigationBarBorderThickness:plotBorderThickness)},getDrawingArea=function getDrawingArea(type){var width=metaInf.effectiveWidth,height=metaInf.effectiveHeight,verticalPadding=_getVerticalPadding(type),heightProportion=_heightProportion.get(),requiredHeightProp=heightProportion[type];if(allocatedHeightProp>=1){allocatedHeightProp=0}allocatedHeightProp+=requiredHeightProp;return{effectiveHeight:Math.round(requiredHeightProp*height*100)/100-verticalPadding,effectiveWidth:width,startX:metaInf.startX,startY:metaInf.startY+verticalPadding+Math.round((allocatedHeightProp-requiredHeightProp)*height*100)/100}};var Container=function(){function Container(){_classCallCheck(this,Container)}Container.prototype.init=function init(configuration,drawFn){var container=this,containerConf=container.conf||(container.conf={});containerConf.name=configuration.name;container.setDrawingArea(configuration.drawingAreaMeasurement);container.draw=container.draw(drawFn)};Container.prototype.setDrawingArea=function setDrawingArea(drawingAreaMeasurement){var containerConf=this.conf;containerConf.drawingAreaMeasurement=drawingAreaMeasurement};Container.prototype.draw=function draw(drawFn){return function(){var containerConf=this.conf,drawingAreaMeasurement=containerConf.drawingAreaMeasurement;if(drawingAreaMeasurement.effectiveHeight>0){drawFn(containerConf.drawingAreaMeasurement)}}};Container.prototype.eventCallback=function eventCallback(){};return Container}();function init(){var type,containersArr=["navigationBar","treeMap","stackedNavigation"],args=Array.prototype.slice.call(arguments,0);datasetDefStore=args[0];metaInf=args[1];dsConf=datasetDefStore.conf;rendererAPI=args[2];drawTreeFn=args[4];if(updateContainers.get().length>=containersArr.length){updateContainers.set()}while(containersArr.length){type=containersArr.shift();updateContainers.set({type:type,drawFn:getDrawFn(type),drawingArea:getDrawingArea(type)})}}function getVisibleRoot(){return afAPI.getVisibleRoot()}function drawTree(drawingAreaMeasurement){var _temp=dsConf.plotBorderThickness;if(forceCSS){dsConf.plotBorderThickness=0}drawTreeFn.apply(afAPI.getVisibleRoot(),[datasetDefStore,{width:drawingAreaMeasurement.effectiveWidth,height:drawingAreaMeasurement.effectiveHeight,x:drawingAreaMeasurement.startX,y:drawingAreaMeasurement.startY,horizontalPadding:dsConf.horizontalPadding,verticalPadding:dsConf.verticalPadding},rendererAPI]);dsConf.plotBorderThickness=_temp}function createNavigationPath(rect,shape,_offset){var x=rect.x,y=rect.y,width=rect.width,height=rect.height,centerHalfAngle=dsConf.seperatorAngle/2,init=["M",x,y],offset=(0,_lib.pluckNumber)(centerHalfAngle?height/2*(1-Math.tan(centerHalfAngle)):_offset,15),_init=["M",rect._x,y],pathFetcher=function pathFetcher(width){return{both:["h",width,"v",height/2,"v",height/2,"h",-width,"v",-height/2,"v",-height/2],right:["h",width,"v",height/2,"v",height/2,"h",-width,"l",offset,-height/2,"l",-offset,-height/2],no:["h",width,"l",offset,height/2,"l",-offset,height/2,"h",-width,"l",offset,-height/2,"l",-offset,-height/2],left:["h",width,"l",offset,height/2,"l",-offset,height/2,"h",-width,"v",-height/2,"v",-height/2]}};return{path:init.concat(pathFetcher(width)[shape]),_path:_init.concat(pathFetcher(rect._width).both),offset:offset}}function drawStackedNavigation(){var args=Array.prototype.splice.call(arguments,0);args.push(true);getDrawFn("navigationBar").apply(this,args)}updateContainers=function(){var containers=[];return{get:function get(){return containers},set:function set(config){var container;if(config){container=new Container;container.init({name:config.type,drawingAreaMeasurement:config.drawingArea},config.drawFn);containers.push(container)}else{containers.length=0}return containers}}}();function remove(){var visibleRoot=afAPI.getVisibleRoot();visibleRoot&&rendererAPI.disposeChild(visibleRoot)}function draw(visibleRootArr){var i,containersArr,containerElement,visibleRoot=afAPI.getVisibleRoot();rendererAPI.disposeSelectedChildren(visibleRoot,visibleRootArr?visibleRootArr[1]:visibleRoot);visibleRootArr&&(visibleRoot=visibleRootArr[1]);if(!visibleRoot.getParent()){containerManager.heightProportion.set(false)}else if(dsConf.showNavigationBar){containerManager.heightProportion.set(true)}containersArr=updateContainers.get();for(i=0;i<containersArr.length;i+=1){containerElement=containersArr[i];containerElement.setDrawingArea(getDrawingArea(containerElement.conf.name));visibleRootArr&&afAPI.setVisibleRoot(visibleRootArr[i]);containerElement.draw()}rendererAPI.hideNodes()}containerManager.init=init;containerManager.draw=draw;containerManager.heightProportion=_heightProportion;containerManager.remove=remove;return containerManager},normalizeColorCode=function normalizeColorCode(hex){if(!hex){return"#"+MOTHER_OF_ALL_COLOR}return hex.replace(/^#*/,"#")},MOTHER_OF_ALL_COLOR="E5E5E5",ref=function ref(){var afAPI={},algorithmFactory={},containerManager={};return{afAPI:afAPICreator(afAPI,containerManager),algorithmFactory:algorithmFactoryCreator(afAPI,algorithmFactory,containerManager),containerManager:containerManagerCreator(afAPI,containerManager),treeOpt:treeOpt}};var Bucket=function(){function Bucket(){_classCallCheck(this,Bucket);this._b=[];this._css=undefined;this.rangeOurEffectApplyFn=_lib.stubFN;this.statePointerLow={value:undefined,index:undefined};this.statePointerHigh={value:undefined,index:undefined}}Bucket.prototype.resetPointers=function resetPointers(){this.statePointerLow={value:undefined,index:undefined};this.statePointerHigh={value:undefined,index:undefined}};Bucket.prototype.setRangeOutEffect=function setRangeOutEffect(css,rangeOurEffectApplyFn){this._css=css;this.rangeOurEffectApplyFn=rangeOurEffectApplyFn};Bucket.prototype.addInBucket=function addInBucket(node){var arr=this._b,val=node.getColorValue(),minIndex=0,maxIndex=arr.length-1,targetIndex;if(!val){return}targetIndex=function(){var _i,_elem,_elemVal;while(minIndex<=maxIndex){targetIndex=_i=(minIndex+maxIndex)/2|0;_elem=arr[_i];_elemVal=_elem.getColorValue();if(_elemVal<val){minIndex=_i+1}else if(_elemVal>val){maxIndex=_i-1}else{return _i}}return~maxIndex}();arr.splice(Math.abs(targetIndex),0,node)};Bucket.prototype.moveLowerShadePointer=function moveLowerShadePointer(value){var arr=this._b,index,bucketElem,_val,statePtr=this.statePointerLow,stateIndex=statePtr.index,stateVal=statePtr.value,pointerAheadFlag=false;index=stateIndex=stateIndex!==undefined?stateIndex:0;stateVal=stateVal!==undefined?stateVal:Number.NEGATIVE_INFINITY;if(value===stateVal){return}if(stateVal<=value){while(true){bucketElem=arr[index++];_val=bucketElem?bucketElem.getColorValue():0;if(value<_val||!bucketElem){break}pointerAheadFlag=true;bucketElem.rangeOutEffect=this._css;this.rangeOurEffectApplyFn.call(bucketElem,this._css)}index=pointerAheadFlag?index-2:index-1}else{while(true){bucketElem=arr[index--];_val=bucketElem?bucketElem.getColorValue():0;if(value>=_val||!bucketElem){break}bucketElem.cssConf=bucketElem.cssConf||{};pointerAheadFlag=true;delete bucketElem.rangeOutEffect;bucketElem.cssConf.opacity=1;this.rangeOurEffectApplyFn.call(bucketElem,bucketElem.cssConf)}index=pointerAheadFlag?index+2:index+1}statePtr.index=index;statePtr.value=value};Bucket.prototype.moveHigherShadePointer=function moveHigherShadePointer(value){var arr=this._b,length=arr.length,index,bucketElem,_val,statePtr=this.statePointerHigh,stateIndex=statePtr.index,stateVal=statePtr.value,pointerAheadFlag=false;index=stateIndex=stateIndex!==undefined?stateIndex:length-1;stateVal=stateVal!==undefined?stateVal:Number.POSITIVE_INFINITY;if(value===stateVal){return}if(stateVal>value){while(true){bucketElem=arr[index--];_val=bucketElem?bucketElem.getColorValue():0;if(value>=_val||!bucketElem){break}pointerAheadFlag=true;bucketElem.rangeOutEffect=this._css;this.rangeOurEffectApplyFn.call(bucketElem,this._css)}index=pointerAheadFlag?index+2:index+1}else{while(true){bucketElem=arr[index++];_val=bucketElem?bucketElem.getColorValue():0;if(value<_val||!bucketElem){break}bucketElem.cssConf=bucketElem.cssConf||{};pointerAheadFlag=true;delete bucketElem.rangeOutEffect;bucketElem.cssConf.opacity=1;this.rangeOurEffectApplyFn.call(bucketElem,bucketElem.cssConf)}index=pointerAheadFlag?index-2:index-1}statePtr.index=index;statePtr.value=value};return Bucket}();var TreeNode=function(){function TreeNode(label,value,colorValue){_classCallCheck(this,TreeNode);this.label=label;this.id=id++;this.value=parseFloat(value,10);this.colorValue=parseFloat(colorValue,10);this.next=undefined;this.prev=undefined;this.meta={}}TreeNode.prototype.getCSSconf=function getCSSconf(){return this.cssConf};TreeNode.prototype.getPath=function getPath(){return this.path};TreeNode.prototype.setPath=function setPath(){var node=this,parentNode=node.getParent();node.path=(parentNode?parentNode.getPath():[]).concat(node)};TreeNode.prototype.addChild=function addChild(ref){if(ref instanceof TreeNode){this.next=this.next||[];[].push.call(this.next,ref);ref.setParent(this)}return this.next};TreeNode.prototype.getChildren=function getChildren(){return this.next};TreeNode.prototype.addChildren=function addChildren(newNode,index){var parentNode=this,childrenArr=parentNode.getChildren()||(parentNode.next=[]),len=childrenArr.length;if(!index){index=len-1}index=index>len-1?len-1:index<0?0:index;childrenArr.splice(index,0,newNode);newNode.setParent(this)};TreeNode.prototype.getDepth=function getDepth(){return this.meta.depth};TreeNode.prototype.isLeaf=function isLeaf(maxDepth){var node=this;return(maxDepth?node.getDepth()<maxDepth:true)&&node.next};TreeNode.prototype.setParent=function setParent(ref){if(ref instanceof TreeNode){this.prev=ref}return this};TreeNode.prototype.getSiblingCount=function getSiblingCount(side){var parent,counter=0,node=this,currentSibling=node;if(!(this instanceof TreeNode)){return}parent=node.getParent();if(side){while(currentSibling){currentSibling=currentSibling.getSibling(side);if(currentSibling){counter+=1}}return counter}if(parent){return parent.getChildren().length}};TreeNode.prototype.getParent=function getParent(){return this.prev};TreeNode.prototype.getLabel=function getLabel(){return this.label};TreeNode.prototype.getValue=function getValue(){return this.value};TreeNode.prototype.setValue=function setValue(value,incremental){var node=this;if(incremental){node.value+=value}else{node.value=value}};TreeNode.prototype.getColorValue=function getColorValue(){return this.colorValue};TreeNode.prototype.getSibling=function getSibling(side){var nSideStr=side.toLowerCase(),parent=this.getParent(),label=this.getLabel(),children,index,tLabel,child;if(!parent){return}children=parent.getChildren();for(index=0;index<children.length;index++){child=children[index];tLabel=child.getLabel();if(tLabel===label){switch(nSideStr){case"left":return children[index-1];case"right":return children[index+1]}}}};TreeNode.prototype.setMeta=function setMeta(key,value){this.meta[key]=value};TreeNode.prototype.setDepth=function setDepth(depth){this.meta.depth=depth};TreeNode.prototype.getMeta=function getMeta(key){if(!key){return this.meta}return this.meta[key]};return TreeNode}();exports["default"]=ref},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _mscartesian=__webpack_require__(354);var _mscartesian2=_interopRequireDefault(_mscartesian);var _ganttCanvas=__webpack_require__(677);var _ganttCanvas2=_interopRequireDefault(_ganttCanvas);var _ganttAxis=__webpack_require__(679);var _ganttAxis2=_interopRequireDefault(_ganttAxis);var _milestone=__webpack_require__(685);var _milestone2=_interopRequireDefault(_milestone);var _task=__webpack_require__(686);var _task2=_interopRequireDefault(_task);var _connector=__webpack_require__(689);var _connector2=_interopRequireDefault(_connector);var _ganttDataset=__webpack_require__(691);var _ganttDataset2=_interopRequireDefault(_ganttDataset);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,mathMax=Math.max,mathMin=Math.min,R=(0,_dependencyManager.getDep)("redraphael","plugin"),_scrollBar=function(){var scrollItems=[];return{get:function get(){return scrollItems},clear:function clear(){scrollItems.length=0},add:function add(options,callback){scrollItems.push({conf:options,handler:callback})}}}();_lib.setAttribDefs&&(0,_lib.setAttribDefs)({showpercentlabel:{type:_lib.attrTypeBool,pAttr:"showpercentlabel"},fontsize:{type:_lib.attrTypeNum},alpha:{type:_lib.attrTypeNum},showborder:{type:_lib.attrTypeBool},borderthickness:{type:_lib.attrTypeNum},borderalpha:{type:_lib.attrTypeNum},showHoverEffect:{type:_lib.attrTypeNum},hoverFillAlpha:{type:_lib.attrTypeNum},slackHoverFillColor:{type:_lib.attrTypeNum},slackHoverFillAlpha:{type:_lib.attrTypeBool},showlabels:{type:_lib.attrTypeBool,pAttr:"showtasknames"},slackfillcolor:{pAttr:"slackfillcolor"},showtasklabels:{type:_lib.attrTypeBool,pAttr:"showtasknames"},showtasknames:{type:_lib.attrTypeBool,pAttr:"showlabels"},showconnectorhovereffect:{type:_lib.attrTypeNum,pAttr:"showhovereffect"},connectorextension:{type:_lib.attrTypeNum},tasklabelspadding:{type:_lib.attrTypeNum},taskdatepadding:{type:_lib.attrTypeNum},showstartdate:{type:_lib.attrTypeNum,pAttr:"showtaskstartdate"},showenddate:{type:_lib.attrTypeNum,pAttr:"showtaskenddate"},showtaskhovereffect:{type:_lib.attrTypeNum,pAttr:"showhovereffect"},useverticalscrolling:{type:_lib.attrTypeNum},taskbarroundradius:{type:_lib.attrTypeNum},showshadow:{type:_lib.attrTypeNum},showslackasfill:{type:_lib.attrTypeNum}});var Gantt=function(_MSCartesian){_inherits(Gantt,_MSCartesian);function Gantt(){_classCallCheck(this,Gantt);var _this=_possibleConstructorReturn(this,_MSCartesian.call(this));_this._scrollBar=_scrollBar;_this.components={};_this.fireGroupEvent=true;_this.hasInteractiveLegend=false;_this.defaultPaletteOptions=(0,_lib.extend2)((0,_lib.extend2)({},_lib.defaultGaugePaletteOptions),{paletteColors:[["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"],["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"],["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"],["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"],["AFD8F8","F6BD0F","8BBA00","FF8E46","008E8E","D64646","8E468E","588526","B3AA00","008ED6","9D080D","A186BE","CC6600","FDC689","ABA000","F26D7D","FFF200","0054A6","F7941C","CC3300","006600","663300","6DCFF6"]],bgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],bgAngle:[270,270,270,270,270],bgRatio:["100","100","100","100","100"],bgAlpha:["100","100","100","100","100"],canvasBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],canvasBgAngle:[0,0,0,0,0],canvasBgAlpha:["100","100","100","100","100"],canvasBgRatio:["","","","",""],canvasBorderColor:["545454","545454","415D6F","845001","68001B"],canvasBorderAlpha:[100,100,100,90,100],gridColor:["DDDDDD","D8DCC5","99C4CD","DEC49C","FEC1D0"],gridResizeBarColor:["999999","545454","415D6F","845001","D55979"],categoryBgColor:["F1F1F1","EEF0E6","F2F8F9","F7F0E6","FFF4F8"],dataTableBgColor:["F1F1F1","EEF0E6","F2F8F9","F7F0E6","FFF4F8"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50],legendBgColor:["ffffff","ffffff","ffffff","ffffff","ffffff"],legendBorderColor:["666666","545454","415D6F","845001","D55979"],plotBorderColor:["999999","8A8A8A","6BA9B6","C1934D","FC819F"],plotFillColor:["EEEEEE","D8DCC5","BCD8DE","E9D8BE","FEDAE3"],scrollBarColor:["EEEEEE","D8DCC5","99C4CD","DEC49C","FEC1D0"]});_this.registerFactory("canvas",_ganttCanvas2["default"]);_this.registerFactory("axis",_ganttAxis2["default"],["canvas"]);_this.registerFactory("dataset",_ganttDataset2["default"],["canvas"]);return _this}Gantt.getName=function getName(){return"Gantt"};Gantt.prototype.draw=function draw(){_MSCartesian.prototype.draw.call(this);this.drawScrollBar()};Gantt.prototype.getName=function getName(){return"Gantt"};Gantt.prototype.__setDefaultConfig=function __setDefaultConfig(){_MSCartesian.prototype.__setDefaultConfig.call(this);var config=this.config;config.alignCaptionWithCanvas=0;config.defaultDatasetType="task";config.taskbarroundradius=0;config.taskbarfillmix=" { light-10 }, { dark-20 }, { light-50 }, { light-85 }";config.taskbarfillratio="0,8,84,8";config.showslackasfill=1;config.dateintooltip=1;config.tasklabelsalign="center";config.datepadding=3;config.showtasknames=0;config.showpercentlabel=false;config.showhovereffect=1;config.slackfillcolor="FF5E5E";config.connectorextension=10;config.tasklabelspadding=2;config.taskdatepadding=3;config.showlabels=UNDEF;config.showtooltip=1;config.showtaskhovereffect=UNDEF;config.useverticalscrolling=1;config.ganttpanedurationunit=UNDEF;config.ganttpaneduration=UNDEF;config.showtaskstartdate=UNDEF;config.showtaskenddate=UNDEF;config.ganttwidthpercent=UNDEF;config.showshadow=1;config.enablemousetracking=false};Gantt.prototype._checkInvalidSpecificData=function _checkInvalidSpecificData(){var jsonData=this.getFromEnv("dataSource"),processes=jsonData.processes,process=processes&&processes.process,zeroProcesslen=process&&process.length,tasks=jsonData.tasks,task=tasks&&tasks.task||tasks,zeroTaskLen=task&&task.length,categories=jsonData.categories,category=categories&&categories[0]&&categories[0].category,zeroCatlen=category&&category.length;return!zeroProcesslen||!zeroTaskLen||!zeroCatlen};Gantt.prototype.parseChartAttr=function parseChartAttr(config){var chartConfig=this.config,chartAttrs=config&&config.chart||this.getFromEnv("chart-attrib");_MSCartesian.prototype.parseChartAttr.call(this,config);chartConfig.showBorder=(0,_lib.pluckNumber)(chartAttrs.showborder,0);chartConfig.alignLegendWithCanvas=0};Gantt.prototype._feedAxesRawData=function _feedAxesRawData(){var colorM=this.getFromEnv("color-manager"),dataSource=this.getFromEnv("dataSource"),chartAttrs=dataSource.chart,is3d=this.is3d,palleteString=is3d?_lib.chartPaletteStr.chart3D:_lib.chartPaletteStr.chart2D;return{xAxisConf:[{isVertical:false,isReverse:false,isOpposit:true,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,"Verdana,sans"),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisBreaks:chartAttrs.xaxisbreaks,axisNamePadding:chartAttrs.xaxisnamepadding,axisValuePadding:chartAttrs.labelpadding,axisNameFont:chartAttrs.xaxisnamefont,axisNameFontSize:chartAttrs.xaxisnamefontsize,axisNameFontColor:chartAttrs.xaxisnamefontcolor,axisNameFontBold:chartAttrs.xaxisnamefontbold,axisNameFontItalic:chartAttrs.xaxisnamefontitalic,axisNameBgColor:chartAttrs.xaxisnamebgcolor,axisNameBorderColor:chartAttrs.xaxisnamebordercolor,axisNameAlpha:chartAttrs.xaxisnamealpha,axisNameFontAlpha:chartAttrs.xaxisnamefontalpha,axisNameBgAlpha:chartAttrs.xaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.xaxisnameborderalpha,axisNameBorderPadding:chartAttrs.xaxisnameborderpadding,axisNameBorderRadius:chartAttrs.xaxisnameborderradius,axisNameBorderThickness:chartAttrs.xaxisnameborderthickness,axisNameBorderDashed:chartAttrs.xaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.xaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.xaxisnameborderdashgap,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,divLineColor:(0,_lib.pluck)(chartAttrs.vdivlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.vdivlinealpha,is3d?colorM.getColor("divLineAlpha3D"):colorM.getColor("divLineAlpha")),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.vdivlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.vdivlinedashed,chartAttrs.vdivlineisdashed,0)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.vdivlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.vdivlinedashgap,2),showAlternateGridColor:(0,_lib.pluckNumber)(chartAttrs.showalternatevgridcolor,0),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatevgridcolor,colorM.getColor("altVGridColor")),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatevgridalpha,colorM.getColor("altVGridAlpha")),numDivLines:(0,_lib.pluckNumber)(chartAttrs.numvdivlines,this.config.numVDivLines),labelFont:chartAttrs.labelfont,labelFontSize:chartAttrs.labelfontsize,labelFontColor:chartAttrs.labelfontcolor,labelFontAlpha:chartAttrs.labelalpha,labelFontBold:chartAttrs.labelfontbold,labelFontItalic:chartAttrs.labelfontitalic,maxLabelHeight:chartAttrs.maxlabelheight,axisName:chartAttrs.xaxisname,axisMinValue:chartAttrs.xaxisminvalue,axisMaxValue:chartAttrs.xaxismaxvalue,setAdaptiveMin:chartAttrs.setadaptivexmin,adjustDiv:chartAttrs.adjustvdiv,labelDisplay:chartAttrs.labeldisplay,showLabels:chartAttrs.showlabels,rotateLabels:chartAttrs.rotatelabels,slantLabel:(0,_lib.pluckNumber)(chartAttrs.slantlabels,chartAttrs.slantlabel),labelStep:(0,_lib.pluckNumber)(chartAttrs.labelstep,chartAttrs.xaxisvaluesstep),showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showxaxisvalues,chartAttrs.showxaxisvalue),showLimits:(0,_lib.pluckNumber)(chartAttrs.showvlimits,this.config.showvlimits),showDivLineValues:(0,_lib.pluckNumber)(chartAttrs.showvdivlinevalues,chartAttrs.showvdivlinevalues),zeroPlaneColor:chartAttrs.vzeroplanecolor,zeroPlaneThickness:chartAttrs.vzeroplanethickness||2,zeroPlaneAlpha:chartAttrs.vzeroplanealpha,showZeroPlaneValue:chartAttrs.showvzeroplanevalue,vTrendLines:dataSource.trendlines,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,showAxisLine:(0,_lib.pluckNumber)(chartAttrs.showxaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0),axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.xaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.xaxislinealpha,chartAttrs.axislinealpha,100),axisLineColor:(0,_lib.pluck)(chartAttrs.xaxislinecolor,chartAttrs.axislinecolor,"#000000")}],yAxisConf:[{isVertical:true,isReverse:true,isOpposit:false,outCanfontFamily:(0,_lib.pluck)(chartAttrs.outcnvbasefont,chartAttrs.basefont,"Verdana,sans"),outCanfontSize:(0,_lib.pluckFontSize)(chartAttrs.outcnvbasefontsize,chartAttrs.basefontsize,10),outCancolor:(0,_lib.pluck)(chartAttrs.outcnvbasefontcolor,chartAttrs.basefontcolor,colorM.getColor(palleteString.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisBreaks:chartAttrs.yaxisbreaks,axisNamePadding:chartAttrs.yaxisnamepadding,axisValuePadding:chartAttrs.yaxisvaluespadding,axisNameFont:chartAttrs.yaxisnamefont,axisNameFontSize:chartAttrs.yaxisnamefontsize,axisNameFontColor:chartAttrs.yaxisnamefontcolor,axisNameFontBold:chartAttrs.yaxisnamefontbold,axisNameFontItalic:chartAttrs.yaxisnamefontitalic,axisNameBgColor:chartAttrs.yaxisnamebgcolor,axisNameBorderColor:chartAttrs.yaxisnamebordercolor,axisNameAlpha:chartAttrs.yaxisnamealpha,axisNameFontAlpha:chartAttrs.yaxisnamefontalpha,axisNameBgAlpha:chartAttrs.yaxisnamebgalpha,axisNameBorderAlpha:chartAttrs.yaxisnameborderalpha,axisNameBorderPadding:chartAttrs.yaxisnameborderpadding,axisNameBorderRadius:chartAttrs.yaxisnameborderradius,axisNameBorderThickness:chartAttrs.yaxisnameborderthickness,axisNameBorderDashed:chartAttrs.yaxisnameborderdashed,axisNameBorderDashLen:chartAttrs.yaxisnameborderdashlen,axisNameBorderDashGap:chartAttrs.yaxisnameborderdashgap,axisNameWidth:chartAttrs.yaxisnamewidth,useEllipsesWhenOverflow:chartAttrs.useellipseswhenoverflow,rotateAxisName:(0,_lib.pluckNumber)(chartAttrs.rotateyaxisname,1),axisName:chartAttrs.yaxisname,divLineColor:(0,_lib.pluck)(chartAttrs.divlinecolor,colorM.getColor(palleteString.divLineColor)),divLineAlpha:(0,_lib.pluck)(chartAttrs.divlinealpha,is3d?colorM.getColor("divLineAlpha3D"):colorM.getColor("divLineAlpha")),divLineThickness:(0,_lib.pluckNumber)(chartAttrs.divlinethickness,1),divLineIsDashed:Boolean((0,_lib.pluckNumber)(chartAttrs.divlinedashed,chartAttrs.divlineisdashed,0)),divLineDashLen:(0,_lib.pluckNumber)(chartAttrs.divlinedashlen,4),divLineDashGap:(0,_lib.pluckNumber)(chartAttrs.divlinedashgap,2),showAlternateGridColor:(0,_lib.pluckNumber)(chartAttrs.showalternatehgridcolor,1),alternateGridColor:(0,_lib.pluck)(chartAttrs.alternatehgridcolor,colorM.getColor("altHGridColor")),alternateGridAlpha:(0,_lib.pluck)(chartAttrs.alternatehgridalpha,colorM.getColor("altHGridAlpha")),numDivLines:(0,_lib.pluckNumber)(chartAttrs.numdivlines,this.numDivLines),axisMinValue:chartAttrs.yaxisminvalue,axisMaxValue:chartAttrs.yaxismaxvalue,setAdaptiveMin:chartAttrs.setadaptiveymin,adjustDiv:chartAttrs.adjustdiv,labelStep:chartAttrs.yaxisvaluesstep,showAxisValues:(0,_lib.pluckNumber)(chartAttrs.showyaxisvalues,chartAttrs.showyaxisvalue),showLimits:(0,_lib.pluckNumber)(chartAttrs.showlimits,this.showLimits),showDivLineValues:(0,_lib.pluckNumber)(chartAttrs.showdivlinevalues,chartAttrs.showdivlinevalue),zeroPlaneColor:chartAttrs.zeroplanecolor,zeroPlaneThickness:chartAttrs.zeroplanethickness||2,zeroPlaneAlpha:chartAttrs.zeroplanealpha,showZeroPlaneValue:chartAttrs.showzeroplanevalue,trendlineColor:chartAttrs.trendlinecolor,trendlineToolText:chartAttrs.trendlinetooltext,trendlineThickness:chartAttrs.trendlinethickness,trendlineAlpha:chartAttrs.trendlinealpha,showTrendlinesOnTop:chartAttrs.showtrendlinesontop,showAxisLine:(0,_lib.pluckNumber)(chartAttrs.showyaxisline,chartAttrs.showaxislines,chartAttrs.drawAxisLines,0),axisLineThickness:(0,_lib.pluckNumber)(chartAttrs.yaxislinethickness,chartAttrs.axislinethickness,1),axisLineAlpha:(0,_lib.pluckNumber)(chartAttrs.yaxislinealpha,chartAttrs.axislinealpha,100),axisLineColor:(0,_lib.pluck)(chartAttrs.yaxislinecolor,chartAttrs.axislinecolor,"#000000")}]}};Gantt.prototype._resetViewPortConfig=function _resetViewPortConfig(){var iapi=this;iapi.config.viewPortConfig={scaleX:1,scaleY:1,x:0,y:0}};Gantt.prototype._setCategories=function _setCategories(){var jsonData=this.getFromEnv("dataSource"),xAxis=this.getChildren("xAxis")[0],yAxis=this.getChildren("yAxis")[0],categories=jsonData.categories,dataTable=jsonData.datatable,processes=jsonData.processes;yAxis.setAxisPadding(.5,.5);yAxis.setProcess(processes);yAxis.setDataTable(dataTable);xAxis.setCategory(categories)};Gantt.prototype.getDSdef=function getDSdef(dsType){switch(dsType){case"milestone":return _milestone2["default"];case"connector":return _connector2["default"];case"task":default:return _task2["default"]}};Gantt.prototype._createLegendItems=function _createLegendItems(){var iapi=this,dataObj=iapi.getFromEnv("dataSource"),legend=iapi.getFromEnv("legend"),length=void 0,i=void 0,strokeColor=void 0,lightColor=void 0,color=void 0,fillColor=void 0,itemObj=void 0,config=void 0,prevLen=void 0,currLen=void 0,legendItemId=void 0,legendItems=legend.getChildren("legendItem"),dataLegendItems=dataObj.legend&&dataObj.legend.item||[];!this.config.legendItemIds&&(this.config.legendItemIds=[]);prevLen=legendItems&&legendItems.length||0;currLen=dataLegendItems.length;if(prevLen>currLen){for(i=currLen;i<prevLen;i++){legend.disposeItem(legendItems[i].getId())}legendItems&&legendItems.splice(currLen,prevLen-currLen)}for(i=0,length=dataLegendItems.length;i<length;i++){itemObj=dataLegendItems[i];if(legend.getItem(this.config.legendItemIds[i])){legendItemId=this.config.legendItemIds[i]}else{legendItemId=legend.createItem();this.config.legendItemIds.push(legendItemId)}color=itemObj.color;strokeColor=(0,_libGraphics.getLightColor)(color,60).replace(_lib.dropHash,"#");lightColor=(0,_libGraphics.getLightColor)(color,40);fillColor={FCcolor:{color:color+","+color+","+lightColor+","+color+","+color,ratio:"0,70,30",angle:270,alpha:"100,100,100,100,100"}};config={label:itemObj.label,interactiveLegend:false};legend.getItem(legendItemId).configure(config);legend.getItem(legendItemId).setStateCosmetics("default",{symbol:{fill:(0,_lib.toRaphaelColor)(fillColor),stroke:(0,_lib.toRaphaelColor)(strokeColor)}})}};Gantt.prototype._spaceManager=function _spaceManager(){var availableHeight=void 0,availableWidth=void 0,config=this.config,xAxis=this.getChildren("xAxis")[0],yAxis=this.getChildren("yAxis")[0],legend=this.getChildren("legend")[0],legendPosition=void 0,allottedSpace=void 0,ganttWidthPercent=config.ganttwidthpercent,processWidthPercent=100-(ganttWidthPercent||67),chartBorderWidth=config.borderWidth,spaceUsed=void 0,processHeight=void 0,totalWidth=0,totalHeight=0;this._resetViewPortConfig();this._allocateSpace({top:chartBorderWidth,bottom:chartBorderWidth,left:chartBorderWidth,right:chartBorderWidth});this._allocateSpace(this._manageActionBarSpace&&this._manageActionBarSpace(config.availableHeight*.225)||{});if(legend){legendPosition=legend.config.legendPos}availableHeight=legendPosition===_lib.POSITION_BOTTOM?config.canvasHeight*.6:config.canvasWidth*.6;this._manageChartMenuBar(availableHeight);if(legendPosition==="right"){allottedSpace=config.canvasWidth*.3}else{allottedSpace=config.canvasHeight*.3}config.showLegend&&this._manageLegendSpace(allottedSpace);config.actualCanvasTop=config.canvasTop;config.actualCanvasLeft=config.canvasLeft;availableWidth=config.canvasWidth*(processWidthPercent/100);spaceUsed=yAxis.placeAxis(availableWidth);totalWidth+=(spaceUsed.left||0)+(spaceUsed.right||0);yAxis&&this._allocateSpace(spaceUsed);availableHeight=legendPosition===_lib.POSITION_BOTTOM?config.canvasHeight*.6:config.canvasWidth*.6;availableHeight=config.canvasHeight*.6;spaceUsed=xAxis.placeAxis(availableHeight);totalHeight+=spaceUsed.top||0;config.totalWidth=totalWidth;config.totalHeight=totalHeight;xAxis&&this._allocateSpace(spaceUsed);processHeight=yAxis&&yAxis.setProcessHeight();yAxis.setAxisConfig({processTotalHeight:processHeight})};Gantt.prototype._postSpaceManagement=function _postSpaceManagement(){var iapi=this,config=iapi.config,linkedItems=iapi.linkedItems,xAxis=this.getChildren("xAxis")[0],yAxis=this.getChildren("yAxis")[0],processTotalHeight=yAxis.getAxisConfig("processTotalHeight"),canvasHeight=config.canvasHeight,legend=this.getChildren("legend")[0],xDepth=config.xDepth,canvasConfig=this.getChildren("canvas")[0].config,canvasBorderWidth=canvasConfig.canvasBorderWidth,canvasPadding=canvasConfig.canvasPadding,vScrollBar=linkedItems.vScrollBar,conf=vScrollBar.config.userConf,vScrollWidth,vScrollEnabled,canvasPaddingLeft=canvasConfig.canvasPaddingLeft,canvasPaddingRight=canvasConfig.canvasPaddingRight,gPaneDuration=Number(config.ganttpaneduration),gPaneDurationUnit=config.ganttpanedurationunit,hProcessScrollBar=linkedItems.hProcessScrollBar,hScrollBar=linkedItems.hScrollBar,hScrollBarHeight=hScrollBar&&hScrollBar.config.userConf.height||0,hProcessScrollHeight=hProcessScrollBar&&hProcessScrollBar.config.userConf.height||0,totalProcessWidth,totalVisiblelProcessWidth,hScrollEnabled,hProcessScrollEnabled,maxHScrollBarHeight,actualCanvasHeight,axisLength;if(gPaneDuration!==UNDEF&&gPaneDurationUnit!==UNDEF){hScrollEnabled=true}else{hScrollEnabled=false}totalProcessWidth=yAxis.getAxisConfig("totalWidth");totalVisiblelProcessWidth=yAxis.getAxisConfig("totalVisiblelWidth");if(totalProcessWidth>totalVisiblelProcessWidth){hProcessScrollEnabled=true}else{hProcessScrollEnabled=false}maxHScrollBarHeight=Math.max(hProcessScrollEnabled?hProcessScrollHeight:0,hScrollEnabled?hScrollBarHeight:0);actualCanvasHeight=canvasHeight-maxHScrollBarHeight;if(processTotalHeight>actualCanvasHeight){vScrollEnabled=true}vScrollWidth=vScrollEnabled?conf.width||0:0;axisLength=config.canvasWidth-(xDepth||0)-Math.max(canvasPaddingLeft,canvasPadding)-Math.max(canvasPaddingRight,canvasPadding)-vScrollWidth;xAxis&&xAxis.setAxisDimention({x:canvasConfig.canvasLeft+(xDepth||0)+Math.max(canvasPaddingLeft,canvasPadding),y:canvasConfig.canvasTop-(config.shift||0),opposite:canvasConfig.canvasTop+canvasConfig.canvasHeight+canvasBorderWidth,axisLength:axisLength});config.currentCanvasWidth=axisLength;yAxis&&yAxis.setAxisDimention({x:canvasConfig.canvasLeft-(config.shift||0),y:canvasConfig.canvasTop,opposite:canvasConfig.canvasRight+canvasBorderWidth,axisLength:config.canvasHeight});iapi._manageScrollerPosition();config.showLegend&&legend.postSpaceManager()};Gantt.prototype.drawScrollBar=function drawScrollBar(){var iapi=this,config=iapi.config,linkedItems=iapi.linkedItems,components=iapi.getChildren(),xAxis=components.xAxis[0],axisRange=xAxis.config.axisRange,viewPortConfig=config.viewPortConfig,scrollOptions=config.scrollOptions||(config.scrollOptions={}),max=axisRange.max,min=axisRange.min,vxLength=scrollOptions.horizontalVxLength,hScrollBar=linkedItems.hScrollBar,hScrollNode=hScrollBar.node,vScrollBar=linkedItems.vScrollBar,vScrollNode=vScrollBar.node,hProcessScrollBar=linkedItems.hProcessScrollBar,hProcessScrollNode=hProcessScrollBar.node,useVerticalScrollBar=config.useverticalscrolling,scrollableLength=max-min,canvasRight=config.canvasRight,scaleX=viewPortConfig.scaleX,scaleY=viewPortConfig.scaleY,canvasLeft,canvasTop,canvasHeight,canvasWidth,canvasConfig,vScrollRatio,windowedCanvasHeight,fullCanvasHeight,vScrollEnabled=config.vScrollEnabled,yAxis=components.yAxis[0],windowedCanvasWidth,vScrollWidth=vScrollEnabled?vScrollBar.config.conf.width:0,fullCanvasWidth,totalProcessWidth,totalVisiblelProcessWidth,graphics=iapi.getContainer(),childGraphics=iapi.getChildContainer(),scrollBarParentGroup,animationManager=iapi.getFromEnv("animationManager");canvasLeft=config.canvasLeft;canvasTop=config.canvasTop;canvasHeight=config.canvasHeight;canvasWidth=config.canvasWidth;canvasConfig=components.canvas[0].config;scrollOptions.viewPortMin=min;scrollOptions.viewPortMax=max;scrollOptions.scrollRatio=vxLength/scrollableLength;windowedCanvasWidth=scrollOptions.windowedCanvasWidth=xAxis.getPixel(vxLength);fullCanvasWidth=scrollOptions.fullCanvasWidth=xAxis.getPixel(max-min)-windowedCanvasWidth;fullCanvasHeight=scrollOptions.fullCanvasHeight=yAxis.getAxisConfig("processTotalHeight");windowedCanvasHeight=scrollOptions.windowedCanvasHeight=canvasHeight;totalProcessWidth=yAxis.getAxisConfig("totalWidth");totalVisiblelProcessWidth=yAxis.getAxisConfig("totalVisiblelWidth");vScrollRatio=1/scaleY;scrollBarParentGroup=graphics.scrollBarParentGroup;if(!scrollBarParentGroup){scrollBarParentGroup=graphics.scrollBarParentGroup=animationManager.setAnimation({el:"group",attr:{name:"scrollBarParentGroup"},container:graphics.parentgroup,component:iapi});scrollBarParentGroup.insertBefore(childGraphics.datalabelsGroup)}if(config.hScrollEnabled!==false){hScrollBar.draw(canvasLeft,canvasTop+canvasHeight,{width:canvasWidth-vScrollWidth,scrollRatio:1/scaleX,scrollPosition:viewPortConfig.x*scaleX/(canvasWidth*(scaleX-1)),roundEdges:canvasConfig.isRoundEdges,fullCanvasWidth:fullCanvasWidth,windowedCanvasWidth:windowedCanvasWidth,parentLayer:scrollBarParentGroup});!hScrollNode&&function(){var prevPos;R.eve.on("raphael.scroll.start."+hScrollBar.config.node.id,function(pos){prevPos=pos;iapi.fireChartInstanceEvent("scrollstart",{scrollPosition:pos})});R.eve.on("raphael.scroll.end."+hScrollBar.config.node.id,function(pos){iapi.fireChartInstanceEvent("scrollend",{prevScrollPosition:prevPos,scrollPosition:pos})})}()}else{hScrollBar&&hScrollBar.config&&hScrollBar.config.node&&hScrollBar.config.node.hide()}if(vScrollEnabled!==false&&useVerticalScrollBar){vScrollBar.draw(canvasRight-vScrollWidth,canvasTop,{height:canvasHeight,scrollRatio:vScrollRatio,roundEdges:canvasConfig.isRoundEdges,fullCanvasWidth:fullCanvasHeight,windowedCanvasWidth:windowedCanvasHeight,parentLayer:scrollBarParentGroup});!vScrollNode&&function(){var prevPos;R.eve.on("raphael.scroll.start."+vScrollBar.config.node.id,function(pos){prevPos=pos;iapi.fireChartInstanceEvent("scrollstart",{scrollPosition:pos})});R.eve.on("raphael.scroll.end."+vScrollBar.config.node.id,function(pos){iapi.fireChartInstanceEvent("scrollend",{prevScrollPosition:prevPos,scrollPosition:pos})})}()}else{vScrollBar&&vScrollBar.config&&vScrollBar.config.node&&vScrollBar.config.node.hide()}if(totalVisiblelProcessWidth<totalProcessWidth&&totalVisiblelProcessWidth>0){hProcessScrollBar.draw(canvasLeft-totalVisiblelProcessWidth,canvasTop+canvasHeight,{width:totalVisiblelProcessWidth,scrollRatio:totalVisiblelProcessWidth/totalProcessWidth,roundEdges:canvasConfig.isRoundEdges,fullCanvasWidth:fullCanvasWidth,windowedCanvasWidth:windowedCanvasWidth,parentLayer:scrollBarParentGroup});!hProcessScrollNode&&function(){var prevPos;R.eve.on("raphael.scroll.start."+hProcessScrollBar.config.node.id,function(pos){prevPos=pos;iapi.fireChartInstanceEvent("scrollstart",{scrollPosition:pos})});R.eve.on("raphael.scroll.end."+hProcessScrollBar.config.node.id,function(pos){iapi.fireChartInstanceEvent("scrollend",{prevScrollPosition:prevPos,scrollPosition:pos})})}()}else{hProcessScrollBar&&hProcessScrollBar.config&&hProcessScrollBar.config.node&&hProcessScrollBar.config.node.hide()}};Gantt.prototype._setAxisScale=function _setAxisScale(){var iapi=this,components=iapi.getChildren(),config=iapi.config,xAxis=components.xAxis[0],limits=xAxis.getLimit(),max=limits.max,min=limits.min,minDt=new Date(min),yAxis=components.yAxis[0],numberFormatter=iapi.getFromEnv("number-formatter"),gPaneDuration=Number(config.ganttpaneduration),scrollOptions=config.scrollOptions||(config.scrollOptions={}),gPaneDurationUnit=config.ganttpanedurationunit,scaleX,ms=max-min,canvasHeight=config.canvasHeight,scrollToDate=config.scrolltodate,canvasWidth=config.canvasWidth,datems,canvasLeft=config.canvasLeft,hProcessScrollBar=iapi.linkedItems.hProcessScrollBar,hScrollBar=iapi.linkedItems.hScrollBar,maxHScrollBarHeight,hScrollBarHeight=hScrollBar&&hScrollBar.config&&hScrollBar.config.userConf.height||0,hProcessScrollHeight=hProcessScrollBar&&hProcessScrollBar.config&&hProcessScrollBar.config.userConf.height||0,datePixel,totalWidth=xAxis.getPixel(max)-canvasLeft,processTotalHeight=yAxis.getAxisConfig("processTotalHeight"),totalVisiblelProcessWidth,totalProcessWidth,actualCanvasHeight,width,units;if(gPaneDuration===UNDEF||gPaneDurationUnit===UNDEF){config.hScrollEnabled=false}else{switch(gPaneDurationUnit){case"y":minDt.setFullYear(minDt.getFullYear()+gPaneDuration);break;case"m":minDt.setMonth(minDt.getMonth()+gPaneDuration);break;case"d":minDt.setDate(minDt.getDate()+gPaneDuration);break;case"h":minDt.setHours(minDt.getHours()+gPaneDuration);break;case"mn":minDt.setMinutes(minDt.getMinutes()+gPaneDuration);break;default:minDt.setSeconds(minDt.getSeconds()+gPaneDuration);break}minDt=minDt.getTime();width=xAxis.getPixel(minDt)-canvasLeft;config.hScrollEnabled=true;config.viewPortConfig.scaleX=scaleX=totalWidth/width;scrollOptions.horizontalVxLength=ms/units*gPaneDuration;if(scrollToDate){datems=numberFormatter.getDateValue(scrollToDate).ms;datePixel=xAxis.getPixel(datems);config.viewPortConfig.x=mathMin(datePixel-canvasLeft,canvasWidth*(scaleX-1))/scaleX}}totalProcessWidth=yAxis.getAxisConfig("totalWidth");totalVisiblelProcessWidth=yAxis.getAxisConfig("totalVisiblelWidth");if(totalProcessWidth>totalVisiblelProcessWidth){config.hProcessScrollEnabled=true}else{config.hProcessScrollEnabled=false}maxHScrollBarHeight=mathMax(config.hProcessScrollEnabled?hProcessScrollHeight:0,config.hScrollEnabled?hScrollBarHeight:0);actualCanvasHeight=canvasHeight-maxHScrollBarHeight;if(Math.floor(processTotalHeight)>actualCanvasHeight){config.viewPortConfig.scaleY=processTotalHeight/actualCanvasHeight;config.vScrollEnabled=true}else{config.vScrollEnabled=false}};Gantt.prototype._createToolBoxGantt=function _createToolBoxGantt(){var iapi=this,linkedItems=iapi.linkedItems=iapi.linkedItems||{},components=iapi.getChildren(),yAxis=components.yAxis[0],_scrollBar=iapi._scrollBar,chartMenuBar=components.chartMenuBar||{},actionBar=components.actionBar,getScrollItems=_scrollBar.get,addScrollItems=_scrollBar.add,tb,Scroller,hScrollItem,hScrollItem1,vScrollItem,toolBoxAPI,chartId=iapi.getFromEnv("chartInstance").id;if(chartMenuBar.drawn||actionBar&&actionBar.drawn){return}tb=components.tb[0];toolBoxAPI=iapi.getFromEnv("toolBoxAPI");Scroller=toolBoxAPI.Scroller;_scrollBar.clear();addScrollItems({isHorizontal:true},{scroll:function(ref,isHorizontal){return function(){ref.updateManagerH(arguments[0],isHorizontal)}}(iapi,true)});addScrollItems({isHorizontal:false},{scroll:function(ref,isHorizontal){return function(){ref.updateManagerV(arguments[0],isHorizontal)}}(iapi,false)});addScrollItems({isHorizontal:true},{scroll:function(){return function(){yAxis.manageProcessScroll(arguments[0])}}(iapi,true)});hScrollItem=getScrollItems()[0];vScrollItem=getScrollItems()[1];hScrollItem1=getScrollItems()[2];if(!linkedItems.hScrollBar){linkedItems.hScrollBar=new Scroller;linkedItems.hScrollBar.configure(hScrollItem.conf,1,tb.pId,chartId);linkedItems.hScrollBar.attachEventHandlers(hScrollItem.handler)}if(!linkedItems.vScrollBar){linkedItems.vScrollBar=new Scroller;linkedItems.vScrollBar.configure(vScrollItem.conf,2,tb.pId,chartId);linkedItems.vScrollBar.attachEventHandlers(vScrollItem.handler)}if(!linkedItems.hProcessScrollBar){linkedItems.hProcessScrollBar=new Scroller;linkedItems.hProcessScrollBar.configure(hScrollItem1.conf,3,tb.pId,chartId);linkedItems.hProcessScrollBar.attachEventHandlers(hScrollItem1.handler)}};Gantt.prototype._manageScrollerPosition=function _manageScrollerPosition(){var iapi=this,config=iapi.config,linkedItems=iapi.linkedItems,hScrollEnabled,vScrollEnabled,hScrollBar=linkedItems.hScrollBar,vScrollBar=linkedItems.vScrollBar,hProcessScrollBar=linkedItems.hProcessScrollBar,totalWidth=config.totalWidth||0,totalHeight=config.totalHeight||0,scrollDimensions;iapi._setAxisScale&&iapi._setAxisScale();vScrollEnabled=config.vScrollEnabled;hScrollEnabled=config.hScrollEnabled;scrollDimensions=hScrollBar.getLogicalSpace();config.hScrollHeight=hScrollEnabled===false?0:scrollDimensions.height+vScrollBar.config.conf.padding;scrollDimensions=vScrollBar.getLogicalSpace();config.vScrollWidth=vScrollEnabled!==false?scrollDimensions.width+vScrollBar.config.conf.padding:0;scrollDimensions=hProcessScrollBar.getLogicalSpace();config.hProcessScrollHeight=config.hProcessScrollEnabled?scrollDimensions.height+hProcessScrollBar.config.conf.padding:0;totalHeight+=mathMax(config.hProcessScrollHeight,config.hScrollHeight);iapi._allocateSpace({bottom:mathMax(config.hProcessScrollHeight,config.hScrollHeight)});config.totalWidth=totalWidth;config.totalHeight=totalHeight};Gantt.prototype.updateManagerH=function updateManagerH(pos){var iapi=this,config=iapi.config,lastXpos=config.lastXpos||(config.lastXpos={x:0,y:0}),viewPortConfig=iapi.config.viewPortConfig,animationManager=iapi.getFromEnv("animationManager"),scaleX=viewPortConfig.scaleX,components=iapi.getChildren(),xAxis=components.xAxis[0],graphics=iapi.getChildContainer(),datasetLayer=graphics.plotGroup,dataLabelContainer=iapi.getChildContainer("datalabelsGroup"),dataLabelsLayer=graphics.datalabelsGroup,trackerGroup=graphics.trackerGroup,xOffset=config.xOffset||0,yOffset=config.yOffset||0,currentCanvasWidth=config.currentCanvasWidth,transformAttr,ganttPlotLineContainer=xAxis.getContainer("ganttPlotLineContainer");xOffset=config.xOffset=currentCanvasWidth*(scaleX-1)*pos;viewPortConfig.x=xOffset/scaleX;xAxis.translateAxis(-xOffset,undefined);lastXpos.x=-xOffset;transformAttr="t"+-xOffset+", "+-yOffset;animationManager.setAnimation({el:datasetLayer,attr:{transform:transformAttr},component:iapi});animationManager.setAnimation({el:dataLabelsLayer,attr:{transform:transformAttr},component:iapi});animationManager.setAnimation({el:trackerGroup,attr:{transform:transformAttr},component:iapi});animationManager.setAnimation({el:dataLabelContainer,attr:{transform:transformAttr},component:iapi});animationManager.setAnimation({el:ganttPlotLineContainer,attr:{transform:"t"+-xOffset+", "+0},component:iapi})};Gantt.prototype.updateManagerV=function updateManagerV(pos){var iapi=this,config=iapi.config,animationManager=iapi.getFromEnv("animationManager"),lastXpos=config.lastXpos||(config.lastXpos={x:0,y:0}),viewPortConfig=iapi.config.viewPortConfig,components=iapi.getChildren(),yAxis=components.yAxis[0],yOffset=config.yOffset||0,canvasHeight=config.canvasHeight,scaleY=viewPortConfig.scaleY,lastTranslate,dataLabelContainer=iapi.getChildContainer("datalabelsGroup"),labelContainer=yAxis.getContainer("labelContainer"),datatableContainer=iapi.getChildContainer("plotGroup"),ganttPlotHoverBandContainer=yAxis.getContainer("ganttPlotHoverBandContainer"),ganttPlotLineContainer=yAxis.getContainer("ganttPlotLineContainer");yOffset=config.yOffset=canvasHeight*(scaleY-1)*pos;viewPortConfig.y=yOffset/scaleY;lastTranslate=yAxis.config.lastTranslate||(yAxis.config.lastTranslate={x:0,y:0});animationManager.setAnimation({el:labelContainer,attr:{transform:"t"+lastTranslate.x+", "+-yOffset},component:iapi});animationManager.setAnimation({el:ganttPlotHoverBandContainer,attr:{transform:"t"+0+", "+-yOffset},component:iapi});animationManager.setAnimation({el:datatableContainer,attr:{transform:"t"+lastXpos.x+", "+-yOffset},component:iapi});animationManager.setAnimation({el:dataLabelContainer,attr:{transform:"t"+lastXpos.x+", "+-yOffset},component:iapi});animationManager.setAnimation({el:ganttPlotLineContainer,attr:{transform:"t"+0+", "+-yOffset},component:iapi})};return Gantt}(_mscartesian2["default"]);exports["default"]=Gantt},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var canvas=void 0;(0,_lib.componentFactory)(chart,_canvasGantt2["default"],"canvas",1);canvas=chart.getChildren("canvas");for(var i=0,len=canvas.length;i<len;i++){canvas[i].configure()}};var _canvasGantt=__webpack_require__(678);var _canvasGantt2=_interopRequireDefault(_canvasGantt);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _canvas=__webpack_require__(263);var _canvas2=_interopRequireDefault(_canvas);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var MAX_MITER_LINEJOIN=2;var CanvasGantt=function(_Canvas){_inherits(CanvasGantt,_Canvas);function CanvasGantt(){_classCallCheck(this,CanvasGantt);return _possibleConstructorReturn(this,_Canvas.apply(this,arguments))}CanvasGantt.prototype.createGroup=function createGroup(){_Canvas.prototype.createGroup.call(this);var chart=this.getFromEnv("chart"),chartConfig=chart.config,inCanStyle=chartConfig.style.inCanvasStyle,animationManager=this.getFromEnv("animationManager"),canvas=this,plotGroup=chart.getChildContainer("plotGroup"),labelStyle=void 0;!this.getChildContainer("taskGroup")&&this.addChildContainer("taskGroup",animationManager.setAnimation({el:"group",attr:{name:"task"},container:plotGroup,component:canvas}));!this.getChildContainer("connectorGroup")&&this.addChildContainer("connectorGroup",animationManager.setAnimation({el:"group",attr:{name:"connector"},container:plotGroup,component:canvas}));!this.getChildContainer("milestoneGroup")&&this.addChildContainer("milestoneGroup",animationManager.setAnimation({el:"group",attr:{name:"milestone"},container:plotGroup,component:canvas}));labelStyle=chartConfig.milestoneLabelStyle={fontSize:(0,_lib.pluckNumber)(chartConfig.milestonefontsize,inCanStyle.fontSize)+"px",fontFamily:(0,_lib.pluck)(chartConfig.milestonefont,inCanStyle.fontFamily),fontWeight:(0,_lib.pluckNumber)(chartConfig.milestonefontbold,0)&&"bold"||"normal",fontStyle:(0,_lib.pluckNumber)(chartConfig.milestonefontitalic,0)&&"italic"||"normal"};(0,_lib.setLineHeight)(labelStyle);this.getChildContainer("milestoneGroup").css(labelStyle)};CanvasGantt.prototype.draw=function draw(){_Canvas.prototype.draw.call(this);this.setClipping()};CanvasGantt.prototype.setClipping=function setClipping(){var chart=this.getFromEnv("chart"),config=chart.config,taskGroup=this.getChildContainer("taskGroup"),connectorGroup=this.getChildContainer("connectorGroup"),childContainer=chart.getChildContainer(),datasetLayer=childContainer.plotGroup,dataLabelsLayer=childContainer.datalabelsGroup,trackerLayer=childContainer.trackerGroup,viewPortConfig=config.viewPortConfig,scaleX=viewPortConfig.scaleX,x=viewPortConfig.x,animationManager=this.getFromEnv("animationManager"),clipCanvas=chart.getChildren("canvas")[0].config.clip["clip-canvas"].slice(0);animationManager.setAnimation({el:datasetLayer,attr:{"clip-rect":clipCanvas},state:!chart.config.clipSet?"appearing":"updating",component:this});animationManager.setAnimation({el:dataLabelsLayer,attr:{"clip-rect":clipCanvas},state:!chart.config.clipSet?"appearing":"updating",component:this});animationManager.setAnimation({el:trackerLayer,attr:{"clip-rect":clipCanvas},state:!chart.config.clipSet?"appearing":"updating",component:this});config.xOffset=x*scaleX;animationManager.setAnimation({el:datasetLayer,attr:{transform:"T"+-(x*scaleX)+",0"},component:this});animationManager.setAnimation({el:taskGroup,attr:{transform:"T"+-(x*scaleX)+",0"},component:this});animationManager.setAnimation({el:connectorGroup,attr:{transform:"T"+-(x*scaleX)+",0"},component:this});animationManager.setAnimation({el:dataLabelsLayer,attr:{transform:"T"+-(x*scaleX)+",0"},component:this});animationManager.setAnimation({el:trackerLayer,attr:{transform:"T"+-(x*scaleX)+",0"},component:this});chart.config.clipSet=true};CanvasGantt.prototype.drawCanvas=function drawCanvas(){var canvas=this,iapi=canvas.getFromEnv("chart"),jsonData=iapi.getFromEnv("dataSource"),chartAttrs=jsonData.chart,chartConfig=iapi.config,animationManager=canvas.getFromEnv("animationManager"),config=canvas.config,clip=config.clip={},canvasBorderElementDummy=canvas.getGraphicalElement("canvasBorderElement"),canvasBorderElement=void 0,canvasElementDummy=canvas.getGraphicalElement("canvasElement"),canvasElement=void 0,canvasLeft=chartConfig.actualCanvasLeft,canvasTop=chartConfig.actualCanvasTop,actualCanvasWidth=chartConfig.canvasWidth,actualCanvasHeight=chartConfig.canvasHeight,actualCanvasLeft=chartConfig.canvasLeft,actualCanvasTop=chartConfig.canvasTop,canvasWidth=chartConfig.canvasWidth+chartConfig.totalWidth,canvasHeight=chartConfig.canvasHeight+chartConfig.totalHeight,canvasGroup=canvas.getContainer("canvasGroup"),canvasBorderRadius=config.canvasBorderRadius,canvasBorderWidth=config.canvasBorderWidth,borderWHlf=canvasBorderWidth*.5,canvasBorderColor=config.canvasBorderColor,canBGColor=config.canBGColor,shadow=config.shadow,canvasBgColor=void 0,attr=void 0,showCanvasBg=config.showCanvasBG=Boolean((0,_lib.pluckNumber)(chartAttrs.showcanvasbg,1)),shadowOnCanvasFill=config.shadowOnCanvasFill,showCanvasBorder=config.showCanvasBorder;canvasBgColor=canBGColor;attr={x:canvasLeft-borderWHlf,y:canvasTop-borderWHlf,width:canvasWidth+canvasBorderWidth,height:canvasHeight+canvasBorderWidth,r:canvasBorderRadius,"stroke-width":canvasBorderWidth,stroke:canvasBorderColor,"stroke-linejoin":canvasBorderWidth>MAX_MITER_LINEJOIN?"round":"miter"};if(showCanvasBorder){canvasBorderElement=animationManager.setAnimation({el:canvasBorderElementDummy||"rect",attr:attr,container:canvasGroup,component:canvas});if(!canvasBorderElementDummy){canvasBorderElement=canvas.addGraphicalElement("canvasBorderElement",canvasBorderElement)}else{canvasBorderElement.show()}canvasBorderElement.shadow(shadow)}else{canvasBorderElementDummy&&canvasBorderElementDummy.hide()}clip["clip-canvas"]=[Math.max(0,actualCanvasLeft),Math.max(0,actualCanvasTop),Math.max(1,actualCanvasWidth),Math.max(1,actualCanvasHeight)];clip["clip-canvas-init"]=[Math.max(0,actualCanvasLeft),Math.max(0,actualCanvasTop),1,Math.max(1,actualCanvasHeight)];if(showCanvasBg){attr={x:canvasLeft,y:canvasTop,width:canvasWidth,height:canvasHeight,r:canvasBorderRadius,"stroke-width":0,stroke:"none",fill:(0,_lib.toRaphaelColor)(canvasBgColor)};canvasElement=animationManager.setAnimation({el:canvasElementDummy||"rect",attr:attr,component:canvas,container:canvasGroup});if(!canvasElementDummy){canvasElement=canvas.addGraphicalElement("canvasElement",canvasElement)}else{canvasElement.show()}canvasElement.shadow(shadowOnCanvasFill)}else{canvasElementDummy&&canvasElementDummy.hide()}};return CanvasGantt}(_canvas2["default"]);exports["default"]=CanvasGantt},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var canvas=chart.getChildren("canvas")[0],zoomObj={zoomable:true,pannable:true},config=chart._feedAxesRawData(),yAxis=void 0,xAxis=void 0;(0,_lib.componentFactory)(chart,_ganttTime2["default"],"xAxis",1,config.xAxisConf);(0,_lib.componentFactory)(chart,_ganttProcess2["default"],"yAxis",1,config.yAxisConf);yAxis=chart.getChildren("yAxis")[0];xAxis=chart.getChildren("xAxis")[0];yAxis.setLinkedItem("canvas",canvas);xAxis.setLinkedItem("canvas",canvas);canvas.attachAxis(xAxis,false,chart.zoomX?zoomObj:{});canvas.attachAxis(yAxis,true,chart.zoomY?zoomObj:{});chart._setCategories()};var _lib=__webpack_require__(118);var _ganttProcess=__webpack_require__(680);var _ganttProcess2=_interopRequireDefault(_ganttProcess);var _ganttTime=__webpack_require__(684);var _ganttTime2=_interopRequireDefault(_ganttTime);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _ganttCommon=__webpack_require__(681);var _ganttCommon2=_interopRequireDefault(_ganttCommon);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0;var DEFAULT_DASH_STYLE="none",PXSTRING="px",TRANSFORM="t0,0",DEFAULT_HOVER_ALPHA=30;var GanttProcessAxis=function(_GanttCommonAxis){_inherits(GanttProcessAxis,_GanttCommonAxis);function GanttProcessAxis(){_classCallCheck(this,GanttProcessAxis);return _possibleConstructorReturn(this,_GanttCommonAxis.apply(this,arguments))}GanttProcessAxis.prototype.getName=function getName(){return"GanttProcess"};GanttProcessAxis.prototype.configure=function configure(rawAttr){var axisConfig=this.config,colorM=this.getFromEnv("color-manager"),jsonData=this.getFromEnv("dataSource"),chartData=jsonData.chart;_GanttCommonAxis.prototype.configure.call(this,rawAttr);axisConfig.lineColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartData.gridbordercolor,colorM.getColor("gridColor")),(0,_lib.pluckNumber)(chartData.gridborderalpha,100));axisConfig.lineThickness=(0,_lib.pluckNumber)(chartData.gridborderthickness,1);axisConfig.lineDashStyle=(0,_lib.pluckNumber)(chartData.gridborderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(chartData.gridborderdashlen,1),chartData.gridborderdashgap,axisConfig.lineThickness):DEFAULT_DASH_STYLE;axisConfig.plotLineColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartData.ganttlinecolor,colorM.getColor("gridColor")),(0,_lib.pluckNumber)(chartData.ganttlinealpha,100));axisConfig.plotLineThickness=(0,_lib.pluckNumber)(chartData.ganttlinethickness,1);axisConfig.plotLineDashStyle=(0,_lib.pluckNumber)(chartData.ganttlinedashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(chartData.ganttlinedashlen,1),chartData.ganttlinedashgap,axisConfig.lineThickness):DEFAULT_DASH_STYLE;axisConfig.gridResizeBarColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartData.gridresizebarcolor,colorM.getColor("gridResizeBarColor")),(0,_lib.pluckNumber)(chartData.gridresizebaralpha,100));axisConfig.gridResizeBarThickness=(0,_lib.pluckNumber)(chartData.gridresizebarthickness,1);axisConfig.forceRowHeight=(0,_lib.pluckNumber)(chartData.forcerowheight,0);axisConfig.rowHeight=(0,_lib.pluckNumber)(chartData.rowheight,0);axisConfig.hoverColor=(0,_lib.pluck)(chartData.processhoverbandcolor,chartData.hoverbandcolor,colorM.getColor("gridColor"));axisConfig.hoverAlpha=(0,_lib.pluckNumber)(chartData.processhoverbandalpha,chartData.hoverbandalpha,DEFAULT_HOVER_ALPHA);axisConfig.useHover=(0,_lib.pluckNumber)(chartData.showprocesshoverband,chartData.showhoverband,chartData.showhovereffect,1);axisConfig.usePlotHover=(0,_lib.pluckNumber)(chartData.showganttpanehorizontalhoverband);axisConfig.showFullDataTable=(0,_lib.pluckNumber)(chartData.showfulldatatable,1);axisConfig.forceGanttWidthPercent=(0,_lib.pluckNumber)(chartData.forceganttwidthpercent,0);axisConfig.useVerticalScrolling=(0,_lib.pluckNumber)(chartData.useverticalscrolling,1);axisConfig.gridLineHeaderPath="";axisConfig.gridLinePath=""};GanttProcessAxis.prototype.setProcess=function setProcess(processes){var axis=this,axisConfig=axis.config,startPad=axisConfig.startPad||0,endPad=axisConfig.endPad||0,processesLen=void 0,processesFinal=void 0,index=void 0,ProcessIndex=void 0,processMap=void 0;axisConfig.processes={};if(processes){axisConfig.hasProcess=1}else{axisConfig.hasProcess=0;return}processesFinal=axisConfig.processes.process=(0,_lib.extend2)({},processes);(0,_ganttCommon.extractAttribToEnd)(processesFinal,{});processesLen=processesFinal.process.length;processMap=axisConfig.processes.processMap={};axisConfig.processes.processHeightMap={};for(index=0;index<processesLen;index+=1){ProcessIndex=processesFinal.process[index];if(ProcessIndex.id){processMap[ProcessIndex.id.toLowerCase()]={catObj:ProcessIndex,index:index}}}axis.setAxisRange({min:Number((0,_lib.toPrecision)(-startPad,10)),max:Number((0,_lib.toPrecision)(processesLen-1+endPad,10)),tickInterval:Number((0,_lib.toPrecision)(1,10))})};GanttProcessAxis.prototype.getProcessPositionByIndex=function getProcessPositionByIndex(idx){var axis=this,axisConfig=axis.config,processHeightMap=axisConfig.processes.processHeightMap;if(processHeightMap[idx]){return processHeightMap[idx]}else{return false}};GanttProcessAxis.prototype.getProcessPositionById=function getProcessPositionById(processId){var axis=this,axisConfig=axis.config,process=axisConfig.processes&&axisConfig.processes.processMap[processId],processHeightMap=axisConfig.processes.processHeightMap;if(process){return processHeightMap[process.index]}else{return false}};GanttProcessAxis.prototype.setDataTable=function setDataTable(dataTables){var axis=this,axisConfig=axis.config;axisConfig.dataTables={};axisConfig.dataTables.dataTable={};if(dataTables){axisConfig.hasDataTables=1}else{axisConfig.hasDataTables=0;return}(0,_lib.extend2)(axisConfig.dataTables.dataTable,dataTables);dataTables=axisConfig.dataTables.dataTable;(0,_ganttCommon.extractAttribToEnd)(dataTables,{})};GanttProcessAxis.prototype.setProcessHeight=function setProcessHeight(){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),chartConfig=chart.config,canvasHeight=chartConfig.canvasHeight,process=axisConfig.processes.process.process,processHeightMap=axisConfig.processes.processHeightMap,processHeight=axisConfig.processMaxHeight,height=0,forceRowHeight=axisConfig.forceRowHeight,rowHeight=axisConfig.rowHeight,processHeightFinal,processLength,i;if(processHeight*process.length<canvasHeight||axisConfig.useVerticalScrolling===0){processHeight=canvasHeight/process.length}if(forceRowHeight===0){if(rowHeight&&rowHeight>processHeight){processHeight=rowHeight}}else{processHeight=rowHeight||processHeight}for(i=0,processLength=process.length;i<processLength;i++){processHeightFinal=(0,_lib.pluckNumber)(process[i].height,processHeight);processHeightMap[i]={top:height,bottom:height+processHeightFinal,height:processHeightFinal};height+=processHeightFinal}return height};GanttProcessAxis.prototype.adjustWidth=function adjustWidth(){var axis=this,axisConfig=axis.config,totalWidth=axisConfig.totalWidth,availableWidth=totalWidth,spaceUsed=0,processOnRight=false,dragPadding=20,processVlineArr,attrib,getWidth,processParent,newLeft,dataTables,dataTable,process,i,prevProcessVlineArr;processVlineArr=axisConfig.processVlineArr=[];availableWidth-=dragPadding*(axisConfig.hasDataTables&&axisConfig.dataTables&&axisConfig.dataTables.dataTable&&axisConfig.dataTables.dataTable.datacolumn?axisConfig.dataTables.dataTable.datacolumn.length+1:1);getWidth=function getWidth(width){var retW;availableWidth+=dragPadding;if(width.match(/%/g)){retW=(0,_lib.pluckNumber)(totalWidth*Number(width.replace(/%/g,"")/100),0)}else{retW=(0,_lib.pluckNumber)(width,0)}if(availableWidth<dragPadding){retW=dragPadding}else if(retW>availableWidth){retW=availableWidth}availableWidth-=retW;return retW};if(axisConfig.hasProcess){process=axisConfig.processes.process.process;processParent=axisConfig.processes.process;if(processParent.positioningrid==="right"){processOnRight=true}attrib=process._attrib;newLeft=spaceUsed;spaceUsed+=getWidth(attrib.width||""+(attrib.rightPos-attrib.leftPos));attrib.leftPos=newLeft;attrib.rightPos=spaceUsed;if(!processOnRight){processVlineArr.push({type:"process",ind:0,xPos:attrib.rightPos,left:attrib,leftLimit:attrib.leftPos+dragPadding})}else{spaceUsed=0}}if(axisConfig.hasDataTables){dataTables=axisConfig.dataTables.dataTable.datacolumn;for(i in dataTables){if(!dataTables.hasOwnProperty(i)||i==="_attrib"){continue}dataTable=dataTables[i];attrib=dataTable._attrib;newLeft=spaceUsed;spaceUsed+=getWidth(attrib.width||""+(attrib.rightPos-attrib.leftPos));attrib.leftPos=newLeft;attrib.rightPos=spaceUsed;prevProcessVlineArr=processVlineArr[processVlineArr.length-1];if(prevProcessVlineArr){prevProcessVlineArr.right=attrib;prevProcessVlineArr.rightLimit=attrib.rightPos-dragPadding}processVlineArr.push({type:"dataTable",ind:i,xPos:attrib.rightPos,left:attrib,leftLimit:attrib.leftPos+dragPadding})}}if(axisConfig.hasProcess){if(processOnRight){attrib=process._attrib;attrib.rightPos=spaceUsed+(attrib.rightPos-attrib.leftPos);attrib.leftPos=spaceUsed;spaceUsed+=attrib.rightPos-attrib.leftPos;prevProcessVlineArr=processVlineArr[processVlineArr.length-1];if(prevProcessVlineArr){prevProcessVlineArr.right=attrib;prevProcessVlineArr.rightLimit=attrib.rightPos-dragPadding}}else{processVlineArr.pop()}}axisConfig.totalWidth=spaceUsed};GanttProcessAxis.prototype.placeAxis=function placeAxis(maxWidth){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),smartLabel=chart.getFromEnv("smartLabel"),labelStyle=axisConfig.labels.style,hPadding=4,processHeightPadding=8,maxProcessDimention=0,maxTextSize=0,spaceReturn={left:0,right:0},spaceUsed=0,processOnRight=false,processSpaceUsed=0,processMaxHeight=0,i=void 0,text=void 0,smartLabelText=void 0,processLength=void 0,singleProcess=void 0,processStyle=void 0,processParent=void 0,singleProcessStyle=void 0,dataTables=void 0,dataTable=void 0,dataColumn=void 0,process=void 0,j=void 0,textStyle=void 0,singleTextStyle=void 0,maxTextDimention=void 0,preAlocateSpace=0;smartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);smartLabel.setStyle({fontSize:labelStyle.fontSize,fontFamily:labelStyle.fontFamily,lineHeight:labelStyle.lineHeight,fontWeight:labelStyle.fontWeight});if(axisConfig.forceGanttWidthPercent||axisConfig.showFullDataTable===0){preAlocateSpace=maxWidth/((axisConfig.hasDataTables&&axisConfig.dataTables&&axisConfig.dataTables.dataTable&&axisConfig.dataTables.dataTable.datacolumn?axisConfig.dataTables.dataTable.datacolumn.length:0)+1)}if(axisConfig.hasProcess){process=axisConfig.processes.process.process;processParent=axisConfig.processes.process;if(processParent.positioningrid==="right"){processOnRight=true}if(processParent.headertext){processParent.drawLabel=(0,_lib.parseUnsafeString)(processParent.headertext);processStyle=processParent._attrib;singleProcessStyle={fontFamily:(0,_lib.pluck)(processStyle.headerfontfamily,labelStyle.fontFamily),fontSize:(0,_lib.pluck)(processStyle.headerfontsize,labelStyle.fontSize).replace(/px/i,"")+PXSTRING,fontWeight:(0,_lib.pluck)(Number(processStyle.headerisbold)===1?"bold":typeof processStyle.headerisbold==="undefined"?"bold":UNDEF,labelStyle.fontWeight),fontStyle:(0,_lib.pluck)(processStyle.headerisitalic?"italic":UNDEF,labelStyle.fontStyle)};singleProcessStyle.lineHeight=(0,_lib.setLineHeight)(singleProcessStyle);smartLabel.setStyle(singleProcessStyle);smartLabelText=smartLabel.getOriSize(processParent.drawLabel);if(smartLabelText.width>maxTextSize){maxProcessDimention=smartLabelText;maxTextSize=smartLabelText.width}}for(i=0,processLength=process.length;i<processLength;i++){singleProcess=process[i];processStyle=singleProcess._attrib;singleProcess.drawLabel=(0,_lib.parseUnsafeString)(singleProcess.label||singleProcess.name);singleProcessStyle={fontFamily:(0,_lib.pluck)(processStyle.fontfamily,labelStyle.fontFamily),fontSize:(0,_lib.pluck)(processStyle.fontsize,labelStyle.fontSize).replace(/px/i,"")+PXSTRING,fontWeight:(0,_lib.pluck)(processStyle.isbold?"bold":UNDEF,labelStyle.fontWeight),fontStyle:(0,_lib.pluck)(processStyle.isitalic?"italic":UNDEF,labelStyle.fontStyle)};singleProcessStyle.lineHeight=(0,_lib.setLineHeight)(singleProcessStyle);smartLabel.setStyle(singleProcessStyle);smartLabelText=smartLabel.getOriSize(singleProcess.drawLabel);if(smartLabelText.width>maxTextSize){maxProcessDimention=smartLabelText;maxTextSize=smartLabelText.width}if(smartLabelText.height>processMaxHeight){processMaxHeight=smartLabelText.height}}axisConfig.processMaxHeight=processMaxHeight+processHeightPadding;process._attrib.leftPos=spaceUsed;if(!processOnRight){spaceUsed+=preAlocateSpace||maxProcessDimention.width+hPadding}else{processSpaceUsed=preAlocateSpace||maxProcessDimention.width+hPadding}process._attrib.rightPos=spaceUsed}if(axisConfig.hasDataTables){dataTables=axisConfig.dataTables.dataTable.datacolumn;for(i in dataTables){if(!dataTables.hasOwnProperty(i)||i==="_attrib"){continue}dataTable=dataTables[i];maxTextSize=0;if(dataTable.headertext){processStyle=dataTable._attrib;dataTable.drawLabel=(0,_lib.parseUnsafeString)(dataTable.headertext);singleTextStyle={fontFamily:(0,_lib.pluck)(processStyle.headerfontfamily,labelStyle.fontFamily),fontSize:(0,_lib.pluck)(processStyle.headerfontsize,labelStyle.fontSize).replace(/px/i,"")+PXSTRING,fontWeight:(0,_lib.pluck)(Number(processStyle.headerisbold)===1?"bold":typeof processStyle.headerisbold==="undefined"?"bold":UNDEF,labelStyle.fontWeight),fontStyle:(0,_lib.pluck)(processStyle.headerisitalic?"italic":UNDEF,labelStyle.fontStyle)};singleTextStyle.lineHeight=(0,_lib.setLineHeight)(singleTextStyle);smartLabel.setStyle(singleTextStyle);smartLabelText=smartLabel.getOriSize(dataTable.drawLabel);if(smartLabelText.width>maxTextSize){maxTextDimention=smartLabelText;maxTextSize=smartLabelText.width}}dataColumn=dataTable.text;for(j in dataColumn){if(!dataColumn.hasOwnProperty(j)||j==="_attrib"){continue}text=dataColumn[j];text.drawLabel=(0,_lib.parseUnsafeString)(text.label||text.name);textStyle=text._attrib;singleTextStyle={fontFamily:(0,_lib.pluck)(textStyle.fontfamily,labelStyle.fontFamily),fontSize:(0,_lib.pluck)(textStyle.fontsize,labelStyle.fontSize).replace(/px/i,"")+PXSTRING,fontWeight:(0,_lib.pluck)(textStyle.isbold?"bold":UNDEF,labelStyle.fontWeight),fontStyle:(0,_lib.pluck)(textStyle.isitalic?"italic":UNDEF,labelStyle.fontStyle)};singleTextStyle.lineHeight=(0,_lib.setLineHeight)(singleTextStyle);smartLabel.setStyle(singleTextStyle);smartLabelText=smartLabel.getOriSize(text.drawLabel);if(smartLabelText.width>maxTextSize){maxTextDimention=smartLabelText;maxTextSize=smartLabelText.width}}dataTables[i]._attrib.leftPos=spaceUsed;spaceUsed+=preAlocateSpace||maxTextDimention.width+hPadding;dataTables[i]._attrib.rightPos=spaceUsed}}if(axisConfig.hasProcess){if(processOnRight){process._attrib.leftPos+=spaceUsed;process._attrib.rightPos+=spaceUsed+processSpaceUsed;spaceUsed+=processSpaceUsed}}axisConfig.totalWidth=spaceUsed;axis.adjustWidth();spaceUsed=axisConfig.totalWidth>maxWidth?maxWidth:axisConfig.totalWidth;axisConfig.totalVisiblelWidth=spaceUsed;spaceReturn.left+=spaceUsed;return spaceReturn};GanttProcessAxis.prototype.getProcessLen=function getProcessLen(){return this.config.processes.process.process.length};GanttProcessAxis.prototype._drawProcessAndDataTable=function _drawProcessAndDataTable(){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),axisDimention=axisConfig.axisDimention||{},axisStartPosition=axisDimention.x,spaceTaken=axisConfig.totalWidth||0,gridArr=axisConfig.gridArr||(axisConfig.gridArr=[]),canvas=chart.getChildren("canvas")[0],chartConfig=chart.config,animationManager=chart.getFromEnv("animationManager"),canvasTop=canvas.canvasTop||chartConfig.canvasTop,canvasLeft=canvas.canvasLeft||chartConfig.canvasLeft,canvasHeight=canvas.canvasHeight||chartConfig.canvasHeight,canvasWidth=canvas.canvasWidth||chartConfig.canvasWidth,axisBottomGroup=chart.getChildContainer("axisBottomGroup"),totalVisiblelWidth=axisConfig.totalVisiblelWidth,i,process,processLength,dataTables,dataColumn,elemIndex=0,dataTableCounter=0,j,args,topBottom,translateX,labelContainerAttr,headerContainerAttr,ganttPlotHoverBandContainerParent,ganttPlotHoverBandContainer=axis.getContainer("ganttPlotHoverBandContainer"),ganttPlotLineContainer=axis.getContainer("ganttPlotLineContainer"),headerContainer=axis.getContainer("headerContainer"),headerBackContainer=axis.getContainer("headerBackContainer"),headerLineContainer=axis.getContainer("headerLineContainer"),headerTextContainer=axis.getContainer("headerTextContainer"),labelContainer=axis.getContainer("labelContainer"),labelBackContainer=axis.getContainer("labelBackContainer"),labelLineContainer=axis.getContainer("labelLineContainer"),labelTextContainer=axis.getContainer("labelTextContainer"),hotContainer=axis.getContainer("hotContainer");ganttPlotHoverBandContainerParent=axis.getContainer("ganttPlotHoverBandContainerParent")||axis.addContainer("ganttPlotHoverBandContainerParent",animationManager.setAnimation({el:"group",attr:{name:"gantt-plot-band-container-parent"},container:axisBottomGroup,component:axis}));axis.addContainer("ganttPlotHoverBandContainer",animationManager.setAnimation({el:ganttPlotHoverBandContainer||"group",attr:{name:"gantt-plot-band-container","clip-rect":canvasLeft+","+canvasTop+","+canvasWidth+","+canvasHeight},container:ganttPlotHoverBandContainerParent,component:axis}));axis.addContainer("ganttPlotLineContainer",animationManager.setAnimation({el:ganttPlotLineContainer||"group",attr:{name:"gantt-plot-line-container","clip-rect":canvasLeft+","+canvasTop+","+canvasWidth+","+canvasHeight},container:axisBottomGroup,component:axis}));headerContainerAttr={name:"gantt-header-container","clip-rect":canvasLeft-axisConfig.totalVisiblelWidth+","+(canvasTop-chartConfig.categorySpaceUsed)+","+axisConfig.totalVisiblelWidth+","+chartConfig.categorySpaceUsed};if(!axisConfig.isDraged){headerContainerAttr.transform=TRANSFORM}else{delete headerContainerAttr.transform}headerContainer=axis.addContainer("headerContainer",animationManager.setAnimation({el:headerContainer||"group",attr:headerContainerAttr,container:axisBottomGroup,component:axis}));if(!headerBackContainer){headerBackContainer=axis.addContainer("headerBackContainer",animationManager.setAnimation({el:"group",attr:{name:"gantt-header-back-container"},container:headerContainer,component:axis}))}if(!headerLineContainer){headerLineContainer=axis.addContainer("headerLineContainer",animationManager.setAnimation({el:"group",attr:{name:"gantt-header-line-container"},container:headerContainer,component:axis}))}if(!headerTextContainer){headerTextContainer=axis.addContainer("headerTextContainer",animationManager.setAnimation({el:"group",attr:{name:"gantt-header-text-container"},container:headerContainer,component:axis}))}labelContainerAttr={name:"gantt-label-container","clip-rect":canvasLeft-axisConfig.totalVisiblelWidth+","+canvasTop+","+axisConfig.totalVisiblelWidth+","+canvasHeight};if(!axisConfig.isDraged){labelContainerAttr.transform=TRANSFORM}else{delete labelContainerAttr.transform}labelContainer=axis.addContainer("labelContainer",animationManager.setAnimation({el:labelContainer||"group",attr:labelContainerAttr,component:axis,container:axisBottomGroup}));if(!labelBackContainer){labelBackContainer=axis.addContainer("labelBackContainer",animationManager.setAnimation({el:"group",attr:{name:"gantt-label-back-container"},container:labelContainer,component:axis}))}if(!labelLineContainer){labelLineContainer=axis.addContainer("labelLineContainer",animationManager.setAnimation({el:"group",attr:{name:"gantt-label-line-container"},container:labelContainer,component:axis}))}if(!labelTextContainer){labelTextContainer=axis.addContainer("labelTextContainer",animationManager.setAnimation({el:"group",attr:{name:"gantt-label-text-container"},container:labelContainer,component:axis}))}axis.addContainer("hotContainer",animationManager.setAnimation({el:hotContainer||"group",attr:{name:"gantt-hot-container","clip-rect":canvasLeft-axisConfig.totalVisiblelWidth+","+(canvasTop-chartConfig.categorySpaceUsed)+","+axisConfig.totalVisiblelWidth+","+(canvasHeight+chartConfig.categorySpaceUsed)},component:axis,container:chart.getContainer("parentgroup")}));axisConfig.gridLinePath="";axisConfig.gridLineHeaderPath="";axisConfig.hoverElemsArr=[];axisConfig.labelHoverEventName={click:"ProcessClick",rollOver:"ProcessRollOver",rollOut:"ProcessRollOut"};if(axisConfig.hasProcess){process=axisConfig.processes.process.process;args={elem:axisConfig.processes.process,elemIndex:elemIndex,dimension:{left:axisStartPosition-spaceTaken+process._attrib.leftPos,right:axisStartPosition-spaceTaken+process._attrib.rightPos,top:canvasTop-chartConfig.categorySpaceUsed,bottom:canvasTop},type:"header"};axis._drawProcessAndDataTableElement(args);elemIndex+=1;gridArr=axisConfig.gridArr=[];for(i=0,processLength=process.length;i<processLength;i++){topBottom=axis.getProcessPositionByIndex(i);args={elem:process[i],elemIndex:elemIndex,pos:i,dimension:{left:axisStartPosition-spaceTaken+process._attrib.leftPos,right:axisStartPosition-spaceTaken+process._attrib.rightPos,top:canvasTop+topBottom.top,bottom:canvasTop+topBottom.bottom},type:"process"};axis._drawProcessAndDataTableElement(args);elemIndex+=1;gridArr.push({y:args.dimension.bottom})}}if(axisConfig.hasDataTables){dataTables=axisConfig.dataTables.dataTable.datacolumn;for(i in dataTables){if(!dataTables.hasOwnProperty(i)||i==="_attrib"){continue}dataTableCounter=0;args={elem:dataTables[i],elemIndex:elemIndex,pos:i,dimension:{left:axisStartPosition-spaceTaken+dataTables[i]._attrib.leftPos,right:axisStartPosition-spaceTaken+dataTables[i]._attrib.rightPos,top:canvasTop-chartConfig.categorySpaceUsed,bottom:canvasTop},type:"header"};axis._drawProcessAndDataTableElement(args);elemIndex+=1;dataColumn=dataTables[i].text;for(j in dataColumn){if(dataTableCounter>=processLength){break}if(dataColumn[j]._attrib&&process[j]&&process[j]._attrib){dataColumn[j]._attrib.hoverbandcolor=process[j]._attrib.hoverbandcolor;dataColumn[j]._attrib.hoverbandalpha=process[j]._attrib.hoverbandalpha;dataColumn[j]._attrib.showhoverband=process[j]._attrib.showhoverband}if(!dataColumn.hasOwnProperty(j)||j==="_attrib"){continue}topBottom=axis.getProcessPositionByIndex(j);args={elem:dataColumn[j],elemIndex:elemIndex,pos:j,dimension:{left:axisStartPosition-spaceTaken+dataTables[i]._attrib.leftPos,right:axisStartPosition-spaceTaken+dataTables[i]._attrib.rightPos,top:canvasTop+topBottom.top,bottom:canvasTop+topBottom.bottom},type:"datatable"};dataTableCounter++;axis._drawProcessAndDataTableElement(args);elemIndex+=1}}if(!axisConfig.drawFromProcessVlineDrag){if(spaceTaken>totalVisiblelWidth){translateX=spaceTaken-totalVisiblelWidth;axis.resetTransletAxis();axis.translateAxis(translateX,undefined)}else{axis.resetTransletAxis()}}else{axisConfig.drawFromProcessVlineDrag=false}}axis._drawGridLine();axis._disposeExtraProcessAndDataTableElement(elemIndex)};GanttProcessAxis.prototype._drawVerticalLineAndTracker=function _drawVerticalLineAndTracker(){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),canvas=axisConfig.canvas,chartConfig=chart.config,axisDimention=axisConfig.axisDimention||{},axisStartPosition=axisDimention.x,spaceTaken=axisConfig.totalWidth||0,canvasTop=canvas.canvasTop||chartConfig.canvasTop,plotLine=axis.components.processVline||(axis.components.processVline=[]),processVlineArr=axisConfig.processVlineArr,trackerGroup=axis.getContainer("hotContainer"),animationManager=axis.getFromEnv("animationManager"),counter=0,TRACKER_W=30,i,ln,path,hotElement,elem,top,hoverLineStyle,lineHotElemStyle,xPos,vHoverLine,dragStart=function dragStart(){var ele=this,data=ele.data("drag-options");data.origX=data.lastX||(data.lastX=0);data.vHoverLine.show();chart.trackerClicked=true;data.draged=false},dragMove=function dragMove(evt){var ele=this,data=ele.data("drag-options"),vLineSetting=data.vLineSetting,dx=typeof evt.data==="string"?+evt.data.substr(0,evt.data.indexOf(",")):evt.data[0]||0,startX=vLineSetting.xPos+dx,leftSideLimit=vLineSetting.leftLimit,rightSideLimit=vLineSetting.rightLimit,transform;if(startX<leftSideLimit){dx=leftSideLimit-vLineSetting.xPos}if(startX>rightSideLimit){dx=rightSideLimit-vLineSetting.xPos}transform={transform:"t"+(data.origX+dx)+","+0};ele.attr(transform);data.vHoverLine.attr(transform);data.draged=true;data.lastX=dx},dragUp=function dragUp(){var ele=this,data=ele.data("drag-options"),vLineSetting=data.vLineSetting,vLineIndex=data.vLineIndex,transform;chart.trackerClicked=false;data.vHoverLine.hide();if(data.draged){axisConfig.isDraged=true;vLineSetting.left.rightPos+=data.lastX||0;vLineSetting.right.leftPos+=data.lastX||0;vLineSetting.xPos+=data.lastX||0;if(processVlineArr[vLineIndex-1]){processVlineArr[vLineIndex-1].rightLimit+=data.lastX||0}if(processVlineArr[vLineIndex+1]){processVlineArr[vLineIndex+1].leftLimit+=data.lastX||0}axisConfig.drawFromProcessVlineDrag=true;axis._drawProcessAndDataTable();axis._drawVerticalLineAndTracker();transform={transform:"t0,0"};ele.attr(transform);data.vHoverLine.attr(transform)}};hoverLineStyle={stroke:axisConfig.gridResizeBarColor,"stroke-width":axisConfig.gridResizeBarThickness};lineHotElemStyle={stroke:_lib.TRACKER_FILL,"stroke-width":TRACKER_W};top=canvasTop-chartConfig.categorySpaceUsed;for(i=0,ln=processVlineArr.length;i<ln;i+=1){if(processVlineArr[i].type==="process"){elem=axisConfig.processes.process.process}else{elem=axisConfig.dataTables.dataTable.datacolumn[processVlineArr[i].ind]}xPos=axisStartPosition-spaceTaken+elem._attrib.rightPos;path=["M",xPos,top,"L",xPos,canvasTop+axisConfig.processTotalHeight];if(plotLine[counter]){vHoverLine=plotLine[counter].graphics.vHoverLine;vHoverLine.attr({path:path}).attr(hoverLineStyle);hotElement=plotLine[counter].graphics.hotElement;hotElement.attr({path:path}).attr(lineHotElemStyle)}else{hoverLineStyle.path=path;vHoverLine=animationManager.setAnimation({el:"path",container:trackerGroup,component:axis,attr:hoverLineStyle});lineHotElemStyle.path=path;hotElement=animationManager.setAnimation({el:"path",container:trackerGroup,component:axis,attr:lineHotElemStyle});plotLine[counter]={};plotLine[counter].graphics={};plotLine[counter].config={};plotLine[counter].graphics.vHoverLine=vHoverLine;plotLine[counter].graphics.hotElement=hotElement}hotElement.show();vHoverLine.hide();hotElement.css("cursor",_lib.hasSVG&&"ew-resize"||"e-resize").drag(dragMove,dragStart,dragUp).data("drag-options",{vHoverLine:plotLine[counter].graphics.vHoverLine,vLineSetting:processVlineArr[i],vLineIndex:i});counter+=1}for(i=counter,ln=plotLine.length;i<ln;i+=1){plotLine[i].graphics.vHoverLine.attr({path:["M",0,0]});plotLine[i].graphics.hotElement.attr({path:["M",0,0]})}};GanttProcessAxis.prototype._drawComponents=function _drawComponents(){var axis=this,axisConfig=axis.config;axisConfig.isDraged=false;axis._drawProcessAndDataTable();axisConfig.drawPlotlines&&axis._drawPlotLine();axis._drawVerticalLineAndTracker();axis._drawGridLine()};return GanttProcessAxis}(_ganttCommon2["default"]);exports["default"]=GanttProcessAxis},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.extractAttribToEnd=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _gantt=__webpack_require__(682);var _gantt2=_interopRequireDefault(_gantt);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _ganttCommonAnimation=__webpack_require__(683);var _ganttCommonAnimation2=_interopRequireDefault(_ganttCommonAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0,lastHoverEle=void 0,hoverTimeout=void 0;var PXSTRING="px",NONE="none",UND_LINE="underline",HALF_SECOND=500,_hasElements=function _hasElements(elemArr,id){var i=void 0;for(i=0;i<elemArr.length;i++){if(elemArr[i].id===id){return elemArr[i]}}return false},_getAttribAsObj=function _getAttribAsObj(obj){var ind,ret={};for(ind in obj){if(obj.hasOwnProperty(ind)&&typeof obj[ind]==="string"&&!!obj[ind]){ret[ind]=obj[ind]}}return ret};function extractAttribToEnd(obj,attribObj){var ind;obj._attrib=(0,_lib.extend2)({},attribObj);obj._attrib=(0,_lib.extend2)(obj._attrib,_getAttribAsObj(obj));for(ind in obj){if(obj.hasOwnProperty(ind)&&!!obj[ind]&&_typeof(obj[ind])==="object"&&ind!=="_attrib"){extractAttribToEnd(obj[ind],obj._attrib)}}}(0,_dependencyManager.addDep)({name:"ganttCommonAnimation",type:"animationRule",extension:_ganttCommonAnimation2["default"]});var GantCommonAxis=function(_GanttAxis){_inherits(GantCommonAxis,_GanttAxis);function GantCommonAxis(){_classCallCheck(this,GantCommonAxis);var _this=_possibleConstructorReturn(this,_GanttAxis.call(this));_this.components={};return _this}GantCommonAxis.prototype.getName=function getName(){return"GanttCommon"};GantCommonAxis.prototype._drawPlotLine=function _drawPlotLine(){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),canvas=chart.getChildren("canvas")[0],chartConfig=chart.config,axisPlotLineContainerBottom=axis.getContainer("ganttPlotLineContainer"),canvasBottom=canvas.canvasBottom||chartConfig.canvasBottom,canvasLeft=canvas.canvasLeft||chartConfig.canvasLeft,canvasRight=canvas.canvasRight||chartConfig.canvasRight,canvasTop=canvas.canvasTop||chartConfig.canvasTop,animationManager=axis.getFromEnv("animationManager"),gridArr=axisConfig.gridArr,plotLine=axis.getGraphicalElement("plotLine"),lineStyle,lineElement,i,ln,path=[];for(i=0,ln=gridArr.length;i<ln;i+=1){if(gridArr[i].x!==UNDEF){path.push("M",gridArr[i].x,canvasTop,"L",gridArr[i].x,canvasBottom)}else{path.push("M",canvasLeft,gridArr[i].y,"L",canvasRight,gridArr[i].y)}}lineStyle={"stroke-dasharray":axisConfig.plotLineDashStyle,"stroke-width":axisConfig.plotLineThickness,stroke:axisConfig.plotLineColor,path:path};lineElement=animationManager.setAnimation({el:plotLine&&plotLine[0]||"path",attr:lineStyle,container:axisPlotLineContainerBottom,label:"path",component:axis});if(!(plotLine&&plotLine[0])){axis.addGraphicalElement("plotLine",lineElement,true)}};GantCommonAxis.prototype._drawTrendLine=function _drawTrendLine(){var axis=this,trendArr=axis.getComponentInfo("trend"),tooltipController=axis.getFromEnv("toolTipController"),i,markerObj,labelObj,axisConfig=axis.config,axisDrawingAttrObj,axisTextAttrObj,startValuePixel,isTrendZone,endValuePixel,startValue,endValue,fixedTrendLabelPos,fixedTrendLabelPosRight,isOpposit=axisConfig.isOpposit,crispPath,axisPadding=axisConfig.labelPadding,chart=axis.getFromEnv("chart"),animationManager=chart.getFromEnv("animationManager"),chartConfig=chart.config,canvas=chart.getChildren("canvas")[0],canvasBottom=canvas.config.canvasTop+canvas.config.canvasHeight,canvasLeft=canvas.config.canvasLeft||chartConfig.canvasLeft,canvasRight=canvas.config.canvasRight||chartConfig.canvasRight,canvasTop=canvas.config.canvasTop||chartConfig.canvasTop,drawTrendLabels=axisConfig.drawTrendLabels,trendlabels=axis.getGraphicalElement("trendlabels")||[],axisTrendContainerTop=axisConfig.axisTrendContainerTop,axisTrendContainerBottom=axisConfig.axisTrendContainerBottom,axisTrendContainer,axisDimention=axisConfig.axisDimention||{},checkForLimit=axis._isZoomed(),getLimit=axis.getVisibleConfig(),maxPx,minPx,showOnTop,xOffset=chartConfig.xOffset*-1,valueOnRight,trendElemsArr=axis.getGraphicalElement("trendElems"),trendTextElemsArr=axis.getGraphicalElement("trendlabels"),trendElems,trendTextElems,trendlines=axisConfig.trendLines,vtrendlines=axisConfig.vTrendLines;!trendElemsArr&&(trendElemsArr=[]);!trendTextElemsArr&&(trendTextElemsArr=[]);for(i=0;i<trendElemsArr.length;i++){trendElems=_hasElements(trendElemsArr,i);if(trendElems){trendElems.remove()}}if(vtrendlines){fixedTrendLabelPos=isOpposit?(axisDimention.opposite||canvasBottom)-(axisConfig.trendBottomPadding||0):(axisDimention.y||canvasBottom)+(axisConfig.trendBottomPadding||0)}else{fixedTrendLabelPos=isOpposit?(axisDimention.opposite||canvasLeft)+(axisPadding||0):(axisDimention.x||canvasLeft)-(axisPadding||0);fixedTrendLabelPosRight=isOpposit?(axisDimention.x||canvasRight)+(axisPadding||0):(axisDimention.opposite||canvasRight)+(axisPadding||0)}if(checkForLimit){maxPx=Math.max(axis.getPixel(getLimit.minValue,{wrtVisible:true}),axis.getPixel(getLimit.maxValue,{wrtVisible:true}));minPx=Math.min(axis.getPixel(getLimit.minValue,{wrtVisible:true}),axis.getPixel(getLimit.maxValue,{wrtVisible:true}))}if(trendlines||vtrendlines){for(i=0;i<trendArr.length;i++){markerObj=trendArr[i].marker;labelObj=trendArr[i].label;axisDrawingAttrObj={fill:markerObj.fill||"",stroke:markerObj.stroke||"","stroke-width":markerObj.strokeWidth,"stroke-dasharray":markerObj.strokeDashArray,"shape-rendering":markerObj.shapeRendering};axisTextAttrObj={fill:labelObj.fill||"",text:labelObj.text,"text-anchor":labelObj.textAnchor,"text-bound":labelObj.textBound};isTrendZone=markerObj.isZone;startValue=markerObj.startValue;endValue=markerObj.endValue;if(vtrendlines){startValuePixel=axis.getPixel(axisConfig.hasBreakPoints?axis._getRelativeBreakValue(startValue):startValue,{wrtVisible:true});endValuePixel=endValue?axis.getPixel(axisConfig.hasBreakPoints?axis._getRelativeBreakValue(endValue):endValue,{wrtVisible:true}):0;startValuePixel+=xOffset;endValuePixel+=xOffset;axisTextAttrObj.y=fixedTrendLabelPos;axisTextAttrObj["vertical-align"]="top";if(endValue!==undefined&&endValue!==""&&endValue!==startValue&&isTrendZone){axisDrawingAttrObj.path=["M",startValuePixel,canvasTop,"L",startValuePixel,canvasBottom,"L",endValuePixel,canvasBottom,"L",endValuePixel,canvasTop,"Z"];axisTextAttrObj.x=startValuePixel+(endValuePixel-startValuePixel)/2}else{crispPath=endValue?(0,_gantt.getCrispPath)(["M",startValuePixel,canvasTop,"L",endValuePixel,canvasBottom],markerObj.strokeWidth):(0,_gantt.getCrispPath)(["M",startValuePixel,canvasTop,"L",startValuePixel,canvasBottom],markerObj.strokeWidth);axisDrawingAttrObj.path=crispPath.path;axisTextAttrObj.x=endValue?endValuePixel:startValuePixel}if(checkForLimit&&(!drawTrendLabels||axisTextAttrObj.x>maxPx||axisTextAttrObj.x<minPx)){axisTextAttrObj.text="";axisTextAttrObj.visibility="hidden"}else{axisTextAttrObj.visibility="visible"}}else if(trendlines){startValuePixel=axis.getPixel(startValue,{wrtVisible:true});endValuePixel=endValue?axis.getPixel(endValue,{wrtVisible:true}):0;valueOnRight=labelObj.valueOnRight;if(endValue!==UNDEF&&endValue!==""&&endValue!==startValue&&isTrendZone){axisDrawingAttrObj.path=["M",canvasLeft,startValuePixel,"L",canvasRight,startValuePixel,"L",canvasRight,endValuePixel,"L",canvasLeft,endValuePixel,"Z"];axisTextAttrObj.x=valueOnRight?fixedTrendLabelPosRight:fixedTrendLabelPos;axisTextAttrObj.y=startValuePixel+(endValuePixel-startValuePixel)/2}else{crispPath=endValue?(0,_gantt.getCrispPath)(["M",canvasLeft,startValuePixel,"L",canvasRight,endValuePixel,"Z"],markerObj.strokeWidth):(0,_gantt.getCrispPath)(["M",canvasLeft,startValuePixel,"L",canvasRight,startValuePixel,"Z"],markerObj.strokeWidth);axisDrawingAttrObj.path=crispPath.path;axisTextAttrObj.x=valueOnRight?fixedTrendLabelPosRight:fixedTrendLabelPos;axisTextAttrObj.y=endValue?valueOnRight?endValuePixel:startValuePixel:startValuePixel}if(checkForLimit&&(!drawTrendLabels||axisTextAttrObj.y>maxPx||axisTextAttrObj.y<minPx)){axisTextAttrObj.text="";axisTextAttrObj.visibility="hidden"}else{axisTextAttrObj.visibility="visible"}}showOnTop=trendArr[i].showOnTop;if(!chart.config.is3D&&(showOnTop===1||axisConfig.showTrendlinesOnTop===1)){axisTrendContainer=axisTrendContainerTop}else{axisTrendContainer=axisTrendContainerBottom}trendElems=_hasElements(trendElemsArr,i);trendElems=animationManager.setAnimation({el:trendElems||"path",attr:axisDrawingAttrObj,container:axisTrendContainer,label:"path",component:axis}).show();trendTextElems=trendTextElemsArr[i];if(trendTextElems){animationManager.setAnimation({el:trendTextElems,attr:axisTextAttrObj,label:"text",component:axis})}!_hasElements(trendElemsArr,i)&&axis.addGraphicalElement("trendElems",trendElems,true);trendElems.id=i;if(labelObj.toolText!==""){tooltipController.enableToolTip(trendElems,labelObj.toolText)}else{tooltipController.disableToolTip(trendElems)}}}else{for(i=0;i<trendElemsArr.length;i++){trendElems=_hasElements(trendElemsArr,i);if(trendElems){trendElems.remove();trendlabels[i]&&trendlabels[i].remove()}}}};GantCommonAxis.prototype._drawProcessAndDataTableStyleParser=function _drawProcessAndDataTableStyleParser(attrs){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),smartLabel=axis.getFromEnv("smartLabel"),colorM=axis.getFromEnv("color-manager"),labels=axisConfig.labels,style=labels.style,elem=attrs.elem||{},dimension=attrs.dimension,textStyle=elem._attrib||{},left=dimension.left,right=dimension.right,top=dimension.top,bottom=dimension.bottom,processPadding=2,fontFamily=void 0,fontSize=void 0,fontWeight=void 0,fontStyle=void 0,bgColor=void 0,xPos=void 0,yPos=void 0,text=void 0,retAttrib=void 0,smartText=void 0,vAlign=void 0,align=void 0,color=void 0,textDecoration=void 0,hoverC=void 0,hoverA=void 0,useHover=void 0,usePlotHover=void 0,rollOverColor=void 0,link=void 0,lHeight=void 0;switch(attrs.type){case"category":case"datatable":case"process":fontFamily=(0,_lib.pluck)(textStyle.font,style.fontFamily);fontSize=(0,_lib.pluck)(textStyle.fontsize,style.fontSize).replace(/px/i,"")+PXSTRING;fontStyle=(0,_lib.pluck)(Number(textStyle.isitalic)?"italic":UNDEF,style.fontStyle);bgColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(textStyle.bgcolor?(0,_libGraphics.getFirstColor)(textStyle.bgcolor):UNDEF,colorM.getColor("categoryBgColor")),(0,_lib.pluckNumber)(textStyle.bgalpha,100));color=(0,_lib.pluck)(textStyle.fontcolor?(0,_libGraphics.getFirstColor)(textStyle.fontcolor):UNDEF,style.color);textDecoration=(0,_lib.pluckNumber)(textStyle.isunderline,0)&&UND_LINE||NONE;vAlign=(0,_lib.pluck)(textStyle.valign,"center").toLowerCase();align=(0,_lib.pluck)(textStyle.align,"middle").toLowerCase();text=elem.drawLabel||"";fontWeight=(0,_lib.pluck)(Number(textStyle.isbold)?"bold":UNDEF,style.fontWeight);link=elem.link;break;case"header":fontFamily=(0,_lib.pluck)(textStyle.headerfont,style.fontFamily);fontSize=(0,_lib.pluck)(textStyle.headerfontsize,style.fontSize).replace(/px/i,"")+PXSTRING;fontWeight=(0,_lib.pluck)(Number(textStyle.headerisbold)===1?"bold":textStyle.headerisbold===UNDEF?"bold":UNDEF,style.fontWeight);color=(0,_lib.pluck)(textStyle.headerfontcolor?(0,_libGraphics.getFirstColor)(textStyle.headerfontcolor):UNDEF,style.color);textDecoration=(0,_lib.pluckNumber)(textStyle.headerisunderline,0)&&UND_LINE||NONE;fontStyle=(0,_lib.pluck)(textStyle.headerisitalic?"italic":UNDEF,style.fontStyle);bgColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(textStyle.headerbgcolor?(0,_libGraphics.getFirstColor)(textStyle.headerbgcolor):UNDEF,colorM.getColor("categoryBgColor")),(0,_lib.pluckNumber)(textStyle.headerbgalpha,100));vAlign=(0,_lib.pluck)(textStyle.headervalign,"center").toLowerCase();align=(0,_lib.pluck)(textStyle.headeralign,"middle").toLowerCase();text=elem.drawLabel||"";link=elem.headerlink;break}switch(attrs.type){case"category":axisConfig.gridLinePath+="M"+left+","+top+"L"+left+","+bottom+"L"+right+","+bottom;fontWeight=(0,_lib.pluck)(Number(textStyle.isbold)===1?"bold":textStyle.isbold===UNDEF?"bold":UNDEF,style.fontWeight);break;case"datatable":case"process":axisConfig.gridLinePath+="M"+left+","+bottom+"L"+right+","+bottom+"L"+right+","+top;break;case"header":axisConfig.gridLineHeaderPath+="M"+left+","+bottom+"L"+right+","+bottom+"L"+right+","+top;break}hoverC=(0,_lib.pluck)(elem._attrib.hoverbandcolor,axisConfig.hoverColor);hoverA=(0,_lib.pluckNumber)(elem._attrib.hoverbandalpha,axisConfig.hoverAlpha);if(align==="left"){xPos=left+processPadding;align="start"}else if(align==="right"){xPos=left+(right-left)-processPadding;align="end"}else{align="middle";xPos=left+(right-left)/2}if(vAlign==="top"){yPos=top-processPadding}else if(vAlign==="bottom"){yPos=top+(bottom-top)-processPadding}else{vAlign="middle";yPos=top+(bottom-top)/2}style={fontFamily:fontFamily,fontSize:fontSize,fontWeight:fontWeight,fontStyle:fontStyle,textDecoration:textDecoration};lHeight=(0,_lib.setLineHeight)(style);lHeight=Number(lHeight.replace(/px/i,""));lHeight=bottom-top>lHeight?bottom-top:lHeight;smartLabel.useEllipsesOnOverflow(chart.config.useEllipsesWhenOverflow);smartLabel.setStyle(style);smartText=smartLabel.getSmartText(text,right-left,lHeight);retAttrib={textAttr:{x:xPos,y:yPos,text:smartText.text,fill:color,"text-anchor":align,"vertical-align":vAlign,cursor:link?"pointer":chart.getFromEnv("paper").canvas.style.cursor},css:style,rectAttr:{x:left,y:top,width:left<right?right-left:0,height:top<bottom?bottom-top:0,fill:bgColor,"stroke-width":0,cursor:link?"pointer":chart.getFromEnv("paper").canvas.style.cursor},eventArgs:{isHeader:attrs.type==="header",label:text,vAlign:vAlign,align:align,link:link,id:elem.id},tooltext:smartText.oriText};if(attrs.type==="datatable"||attrs.type==="process"||attrs.type==="category"){rollOverColor=(0,_libGraphics.convertColor)(hoverC,hoverA);useHover=(0,_lib.pluckNumber)(elem._attrib.showhoverband,axisConfig.useHover);usePlotHover=(0,_lib.pluckNumber)(elem._attrib.showganttpanehoverband,axisConfig.usePlotHover,useHover);retAttrib.dataArgs={rollOverColor:rollOverColor,useHover:useHover,usePlotHover:usePlotHover,dimension:dimension,hoverEle:elem,type:attrs.type,pos:attrs.pos,axis:axis,groupId:attrs.elemIndex}}else{retAttrib.dataArgs={rollOverColor:UNDEF,useHover:0,usePlotHover:0,dimension:dimension,hoverEle:elem,type:attrs.type,pos:attrs.pos,axis:axis,groupId:attrs.elemIndex}}return retAttrib};GantCommonAxis.prototype._drawProcessAndDataTableElement=function _drawProcessAndDataTableElement(attrs){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),categoryElement=axis.components.categoryElement||[],hoverElemsArr=axisConfig.hoverElemsArr||(axisConfig.hoverElemsArr=[]),animationManager=axis.getFromEnv("animationManager"),elemIndex=attrs.elemIndex,labelHoverEventName=axisConfig.labelHoverEventName,toolTipController=axis.getFromEnv("toolTipController"),attribs,labelBackContainer,labelTextContainer,rectElement,textElement,showTooltip=chart.config.showtooltip,labelClickHandler=function labelClickHandler(e){var ele=this;chart.plotEventHandler(ele,e,labelHoverEventName.click)},labelRollOver=function labelRollOver(e){var ele=this;hoverTimeout=clearTimeout(hoverTimeout);if(!lastHoverEle||lastHoverEle.removed){lastHoverEle=null}lastHoverEle&&axis._gridOutHandler.call(lastHoverEle);axis._gridHoverHandler.call(ele);chart.plotEventHandler(ele,e,labelHoverEventName.rollOver)},labelRollOut=function labelRollOut(e){lastHoverEle=this;hoverTimeout=clearTimeout(hoverTimeout);hoverTimeout=setTimeout(function(){return axis._gridOutHandler.call(lastHoverEle)},HALF_SECOND);chart.plotEventHandler(lastHoverEle,e,labelHoverEventName.rollOut)};if(attrs.type==="header"){labelBackContainer=axis.getContainer("headerBackContainer");labelTextContainer=axis.getContainer("headerTextContainer")}else{labelBackContainer=axis.getContainer("labelBackContainer");labelTextContainer=axis.getContainer("labelTextContainer")}attribs=axis._drawProcessAndDataTableStyleParser(attrs);rectElement=animationManager.setAnimation({el:categoryElement[elemIndex]&&categoryElement[elemIndex].graphics.rect||"rect",attr:attribs.rectAttr,container:labelBackContainer,label:"rect",component:axis});textElement=animationManager.setAnimation({el:categoryElement[elemIndex]&&categoryElement[elemIndex].graphics.label||"text",attr:attribs.textAttr,container:labelTextContainer,label:"text",component:axis});if(categoryElement[elemIndex]){textElement.removeCSS();labelBackContainer.appendChild(rectElement);labelTextContainer.appendChild(textElement)}else{axis.addGraphicalElement("rectElement",rectElement,true);axis.addGraphicalElement("textElement",textElement,true);categoryElement[elemIndex]={};categoryElement[elemIndex].graphics={};categoryElement[elemIndex].config={};categoryElement[elemIndex].graphics.label=textElement;categoryElement[elemIndex].graphics.rect=rectElement;rectElement.hover(labelRollOver,labelRollOut).click(labelClickHandler);textElement.hover(labelRollOver,labelRollOut).click(labelClickHandler)}textElement.css(attribs.css);if(attrs.type!=="header"){if(!hoverElemsArr[attrs.pos]){hoverElemsArr[attrs.pos]=[]}hoverElemsArr[attrs.pos].push({bgElem:rectElement,bgColor:attribs.rectAttr.fill})}rectElement.data("dataObj",attrs.elem).data("eventArgs",attribs.eventArgs).data("data",attribs.dataArgs);textElement.data("dataObj",attrs.elem).data("eventArgs",attribs.eventArgs).data("data",attribs.dataArgs);if(!showTooltip){toolTipController.disableToolTip(textElement)}else{toolTipController.enableToolTip(textElement,attribs.tooltext)}axis.components.categoryElement=categoryElement};GantCommonAxis.prototype._drawGridLine=function _drawGridLine(){var axis=this,axisConfig=axis.config,animationManager=axis.getFromEnv("animationManager"),gridLine=axis.getGraphicalElement("gridLine")||[],lineStyle=void 0,lineElement=void 0,counter=0,i=0,ln=2,path=void 0,container=void 0;lineStyle={"stroke-dasharray":axisConfig.lineDashStyle,"stroke-width":axisConfig.lineThickness,stroke:axisConfig.lineColor};for(;i<ln;i+=1){if(i===0){path=axisConfig.gridLinePath;container=axis.getContainer("labelLineContainer")}else{path=axisConfig.gridLineHeaderPath;container=axis.getContainer("headerLineContainer");if(!path){continue}}lineStyle.path=path;lineElement=animationManager.setAnimation({el:gridLine&&gridLine[counter]||"path",attr:lineStyle,container:container,label:"path",component:axis});!(gridLine&&gridLine[counter])&&axis.addGraphicalElement("gridLine",lineElement,true);counter+=1}for(i=counter,ln=axis.getGraphicalElement("gridLine").length;i<ln;i+=1){axis.getGraphicalElement("gridLine")[i].attr({path:"M0,0"})}};GantCommonAxis.prototype._gridHoverHandler=function _gridHoverHandler(){var data=this.data("data"),type=data.type,dimension=data.dimension,axis=data.axis,chart=axis.getFromEnv("chart"),chartConfig=chart.config,animationManager=axis.getFromEnv("animationManager"),hoverElems=axis.config.hoverElemsArr||[],ganttPlotHoverBandContainer=axis.getContainer("ganttPlotHoverBandContainer"),plotHoverElement=axis.getGraphicalElement("plotHoverElement"),isPlotHoverElement=plotHoverElement?1:0,plotHoverElementAttr,i,ln;if(type==="category"){plotHoverElementAttr={x:dimension.left,y:chartConfig.canvasTop,width:dimension.left<dimension.right?dimension.right-dimension.left:0,height:chartConfig.height,fill:data.rollOverColor,"stroke-width":0}}else{plotHoverElementAttr={y:dimension.top,x:chartConfig.canvasLeft,height:dimension.top<dimension.bottom?dimension.bottom-dimension.top:0,width:chartConfig.width,fill:data.rollOverColor,"stroke-width":0}}if(data.usePlotHover){plotHoverElement=animationManager.setAnimation({el:plotHoverElement||"rect",attr:plotHoverElementAttr,component:axis,label:"rect",container:ganttPlotHoverBandContainer});isPlotHoverElement?plotHoverElement.show():axis.addGraphicalElement("plotHoverElement",plotHoverElement)}if(data.useHover&&hoverElems[data.pos]){for(i=0,ln=hoverElems[data.pos].length;i<ln;i+=1){animationManager.setAnimation({el:hoverElems[data.pos][i].bgElem||"rect",attr:{fill:data.rollOverColor},label:"rect"})}}};GantCommonAxis.prototype._gridOutHandler=function _gridOutHandler(){var data=this.data("data"),axis=data.axis,hoverElemsArr=axis.config.hoverElemsArr||[],animationManager=axis.getFromEnv("animationManager"),plotHoverElement=axis.getGraphicalElement("plotHoverElement"),i,ln,hoverOutElem;if(data.usePlotHover){if(plotHoverElement){plotHoverElement.hide()}}if(data.useHover&&hoverElemsArr[data.pos]){for(i=0,ln=hoverElemsArr[data.pos].length;i<ln;i+=1){hoverOutElem=hoverElemsArr[data.pos][i];animationManager.setAnimation({el:hoverOutElem.bgElem||"rect",attr:{fill:hoverOutElem.bgColor},label:"rect"})}}};GantCommonAxis.prototype._disposeExtraProcessAndDataTableElement=function _disposeExtraProcessAndDataTableElement(index){var axis=this,categoryElement=axis.components.categoryElement||[],i,ln;for(i=index,ln=categoryElement.length;i<ln;i+=1){categoryElement[i].graphics.label.attr({text:""});categoryElement[i].graphics.rect.attr({x:0,y:0,width:0,heigth:0})}};return GantCommonAxis}(_gantt2["default"]);exports["default"]=GantCommonAxis;exports.extractAttribToEnd=extractAttribToEnd},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.getCrispPath=exports._drawScrollBar=undefined;var _componentInterface=__webpack_require__(131);var _componentInterface2=_interopRequireDefault(_componentInterface);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF,R=(0,_dependencyManager.getDep)("redraphael","plugin"),PXSTRING="px",DASH_DEF="none",NORMALSTRING="normal",pInt=function pInt(s,mag){return parseInt(s,mag||10)},createGroup=function createGroup(groupName,parentContainer,axis){var animationManager=axis.getFromEnv("animationManager");return animationManager.setAnimation({el:"group",attr:{name:groupName},container:parentContainer,state:"appearing",component:axis,label:"group"})},roundToMultiple=function roundToMultiple(num){var multiple=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var remainder=void 0;if(multiple===0)return num;remainder=Math.abs(num)%multiple;if(remainder===0)return num;if(num<0)return-(Math.abs(num)-remainder);return num+multiple-remainder},getCrispPath=function getCrispPath(path,width){var isCrisped=false,oddWidth=width%2,value,roundValue;if(path[1]===path[4]){value=path[1];roundValue=Math.round(value);path[1]=path[4]=oddWidth?roundValue>value?roundValue-.5:roundValue+.5:roundValue;isCrisped=true}if(path[2]===path[5]){value=path[2];roundValue=Math.round(value);path[2]=path[5]=oddWidth?roundValue>value?roundValue-.5:roundValue+.5:roundValue;isCrisped=true}return{path:path,isCrisped:isCrisped}},_forceValidLowerLimit=function _forceValidLowerLimit(value,limit){return value<limit?limit:value};function sanitiseComponentName(name){var sanitisedName="";if(name==="trend"||name==="trends"){sanitisedName="trend"}if(name==="catVLine"||name==="catVLines"){sanitisedName="catVLine"}if(name==="label"||name==="labels"){sanitisedName="labels"}if(name==="line"||name==="lines"){sanitisedName="lines"}if(name==="band"||name==="bands"){sanitisedName="bands"}if(name==="catBand"||name==="catBands"){sanitisedName="catBand"}return sanitisedName}function _drawScrollBar(){var axis=this,chart=axis.getFromEnv("chart"),chartConfig=chart.config,graphics=chart.graphics,axisConfig=axis.config,axisRange=axisConfig.axisRange,scrollOptions=chartConfig.scrollOptions||(chartConfig.scrollOptions={}),max=axisRange.max,min=axisRange.min,vxLength=scrollOptions.vxLength,scrollBar=axis.getLinkedItem("scrollBar"),scrollNode=scrollBar&&scrollBar.config.node,canvasLeft,canvasTop,canvasHeight,canvasWidth,canvasConfig=chart.getChildren("canvas")[0].config,canvasBorderWidth,axisLineWidth,axisLineStartExtension,axisLineEndExtension,scrollRatio,windowedCanvasWidth,fullCanvasWidth,scrollBarParentGroup,visibleConfig,visibleMax,visibleMin,visibleRange,totalRange,scrollPosition;if(!scrollBar){return}canvasLeft=canvasConfig.canvasLeft;canvasTop=canvasConfig.canvasTop;canvasHeight=canvasConfig.canvasHeight;canvasWidth=canvasConfig.canvasWidth;canvasBorderWidth=canvasConfig.canvasBorderWidth;axisLineWidth=axisConfig.showAxisLine?axisConfig.axisLineThickness||0:0;axisLineStartExtension=(0,_lib.pluckNumber)(canvasBorderWidth,axisConfig.lineStartExtension);axisLineEndExtension=(0,_lib.pluckNumber)(canvasBorderWidth,axisConfig.lineEndExtension);scrollOptions.viewPortMin=min;scrollOptions.viewPortMax=max;visibleConfig=axis.getVisibleConfig();visibleMax=visibleConfig.maxValue;visibleMin=visibleConfig.minValue;visibleRange=visibleMax-visibleMin;totalRange=axisRange.max-axisRange.min;scrollRatio=visibleRange/totalRange;scrollPosition=(visibleMin-axisRange.min)/(totalRange-visibleRange);windowedCanvasWidth=scrollOptions.windowedCanvasWidth=axis.getPixel(vxLength);fullCanvasWidth=scrollOptions.fullCanvasWidth=axis.getPixel(max-min)-windowedCanvasWidth;scrollBarParentGroup=graphics.scrollBarParentGroup;if(!scrollBarParentGroup){scrollBarParentGroup=graphics.scrollBarParentGroup=createGroup("scrollBarParentGroup",graphics.parentGroup).insertBefore(chart.getChildContainer().datalabelsGroup)}if(axisConfig.scrollEnabled!==false){if(axisConfig.isVertical){scrollBar.draw(canvasLeft,canvasTop,{height:canvasHeight,scrollRatio:scrollRatio,roundEdges:canvasConfig.isRoundEdges,fullCanvasWidth:fullCanvasWidth,windowedCanvasWidth:windowedCanvasWidth,scrollPosition:scrollPosition,parentLayer:scrollBarParentGroup})}else{scrollBar.draw(canvasLeft-axisLineStartExtension,canvasTop+canvasHeight+canvasBorderWidth+axisLineWidth-2,{width:canvasWidth+axisLineStartExtension+axisLineEndExtension,scrollRatio:scrollRatio,roundEdges:canvasConfig.isRoundEdges,fullCanvasWidth:fullCanvasWidth,windowedCanvasWidth:windowedCanvasWidth,scrollPosition:scrollPosition,parentLayer:scrollBarParentGroup})}!scrollNode&&function(){var prevPos;R.eve.on("raphael.scroll.start."+scrollBar.config.node.id,function(pos){axis.setState("scrolling",true);prevPos=pos;chart.fireChartInstanceEvent("scrollstart",{scrollPosition:pos})});R.eve.on("raphael.scroll.end."+scrollBar.config.node.id,function(pos){axis.setState("scrolling",false);chart.fireChartInstanceEvent("scrollend",{prevScrollPosition:prevPos,scrollPosition:pos})})}()}else{scrollBar&&scrollBar.node&&scrollBar.node.hide()}axisConfig.scrollBarDrawn=true}var CartesianAxis=function(_ComponentInterface){_inherits(CartesianAxis,_ComponentInterface);function CartesianAxis(){_classCallCheck(this,CartesianAxis);var _this=_possibleConstructorReturn(this,_ComponentInterface.call(this));_this._drawScrollBar=_drawScrollBar;return _this}CartesianAxis.prototype.getType=function getType(){return"axis"};CartesianAxis.prototype.getName=function getName(){return"cartesian"};CartesianAxis.prototype.__setDefaultConfig=function __setDefaultConfig(){_ComponentInterface.prototype.__setDefaultConfig.call(this);var config=this.config;config.setAdaptiveMin=0;config.adjustDiv=1;config.axisNameWidth=UNDEF;config.rotateAxisName=0;config.useEllipsesWhenOverflow=1;config.divLineColor=UNDEF;config.divLineAlpha=UNDEF;config.divLineThickness=UNDEF;config.divLineIsDashed=UNDEF;config.divLineDashLen=UNDEF;config.divLineDashGap=UNDEF;config.showAlternateGridColor=UNDEF;config.alternateGridColor=UNDEF;config.alternateGridAlpha=UNDEF;config.showZeroPlane=1;config.zeroPlaneAlpha=80;config.showZeroPlaneValue=1;config.showZeroPlaneOnTop=1;config.showAxisLine=UNDEF;config.axisLineThickness=UNDEF;config.axisLineAlpha=UNDEF;config.tickLength=UNDEF;config.trendlineToolText=UNDEF;config.trendlineColor="333333";config.trendlineThickness=1;config.trendlineAlpha=UNDEF;config.showTrendlinesOnTop=0;config.trendlinesAreDashed=0;config.trendlinesDashLen=5;config.trendlinesDashGap=2;config.isTrendZone=UNDEF;config.showTrendlines=1;config.showTrendlineLabels=1;config.showLabels=1;config.maxLabelHeight=UNDEF;config.rotateLabels=UNDEF;config.slantLabel=0;config.showAxisValues=1;config.showTooltip=1;config.isActive=true;config.drawLabels=true;config.drawOnlyCategoryLine=false;config.drawLabelsOpposit=false;config.drawPlotlines=true;config.drawAxisLine=true;config.drawPlotBands=true;config.drawAxisName=true;config.drawAxisNameOpposit=false;config.axisNameAlignCanvas=false;config.drawAxisNameFromBottom=false;config.drawTrendLines=true;config.drawTrendLabels=true;config.drawTick=true;config.drawTickMinor=true;config.animateAxis=true;config.drawAxisLineWRTCanvas=true;config.isRelativeAxisInverse=false;config.axisIndex=0;config.uniqueClassName=0;config.viewPortRatio={};config.canvas={};config.axisRange={};config.isConfigured=true;config.axisDimention={};config.extremeLabels={firstLabel:{},lastLabel:{}};config._setRangeAgain=false;config._defaultForceDecimal=UNDEF;config._defaultDecimalPrecision=UNDEF;config.rangeChanged=false;config.dimensionChanged=false;config.apparentScrollPos=0;this.addToEnv("componentInfo",{catVLine:[],trend:[],labels:[],lines:[],bands:[],catBand:[]})};CartesianAxis.prototype.configure=function configure(rawAttr){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),jsonData=chart.getFromEnv("dataSource"),is3D=axis.getFromEnv("chart").config.is3D,FCChartObj=jsonData.chart,numberFormatter=axis.getFromEnv("number-formatter"),tempAxis=axis.getFromEnv("tempAxis"),axisAttr,fontBdrColor,trendFontBdrColor,labelFontBdrColor,i,j,axisAttrTrend,rawAttrTrend;axisAttr=axisConfig.rawAttr=rawAttr;if(rawAttr.vtrendlines){for(i=0;i<rawAttr.vtrendlines.length;++i){for(j=0;j<rawAttr.vtrendlines[i].line.length;++j){axisAttrTrend=axisAttr.vtrendlines[i].line[j];rawAttrTrend=rawAttr.vtrendlines[i].line[j];axisAttrTrend.startvalue=(0,_lib.pluckNumber)(rawAttrTrend.startvalue,UNDEF);axisAttrTrend.endvalue=(0,_lib.pluckNumber)(rawAttrTrend.endvalue,rawAttrTrend.startvalue);axisAttrTrend.color=(0,_lib.pluck)(rawAttrTrend.color,"FFFFFF");axisAttrTrend.istrendzone=(0,_lib.pluckNumber)(rawAttrTrend.istrendzone,1);axisAttrTrend.thickness=(0,_lib.pluckNumber)(rawAttrTrend.thickness,1);axisAttrTrend.trendTextAlpha=(0,_lib.pluckNumber)(rawAttrTrend.alpha,axisConfig.trendlineAlpha,99);axisAttrTrend.alpha=(0,_lib.pluckNumber)(rawAttrTrend.alpha,40);axisAttrTrend.tooltext=(0,_lib.pluck)(rawAttrTrend.tooltext,"")}}}if(rawAttr.trendlines){for(i=0;i<rawAttr.trendlines.length;++i){for(j=0;j<rawAttr.trendlines[i].line.length;++j){axisAttrTrend=axisAttr.trendlines[i].line[j];rawAttrTrend=rawAttr.trendlines[i].line[j];axisAttrTrend.startvalue=(0,_lib.pluckNumber)(rawAttrTrend.startvalue,UNDEF);axisAttrTrend.endvalue=(0,_lib.pluckNumber)(rawAttrTrend.endvalue,rawAttrTrend.startvalue);axisAttrTrend.color=(0,_lib.pluck)(rawAttrTrend.color,"FFFFFF");axisAttrTrend.istrendzone=(0,_lib.pluckNumber)(rawAttrTrend.istrendzone,1);axisAttrTrend.thickness=(0,_lib.pluckNumber)(rawAttrTrend.thickness,1);axisAttrTrend.trendTextAlpha=(0,_lib.pluckNumber)(rawAttrTrend.alpha,axisConfig.trendlineAlpha,99);axisAttrTrend.alpha=(0,_lib.pluckNumber)(rawAttrTrend.alpha,40);axisAttrTrend.showOnTop=(0,_lib.pluckNumber)(rawAttrTrend.showOnTop,1);axisAttrTrend.valueOnRight=(0,_lib.pluckNumber)(rawAttrTrend.valueOnRight,0)}}}axisConfig.trendLines=axisAttr.trendlines;axisConfig.vTrendLines=axisAttr.vtrendlines;(0,_lib.parseConfiguration)(axisAttr,axisConfig);axisConfig.axisName=(0,_lib.parseUnsafeString)(axisAttr.axisName);axisConfig.axisValuePadding=axisConfig.axisNamePadding||(0,_lib.pluckNumber)(axisAttr.axisValuePadding,4);axisConfig.axisNamePadding=axisConfig.axisNamePadding||(0,_lib.pluckNumber)(axisAttr.axisNamePadding,5);axisConfig.maxLabelWidthPercent=(0,_lib.pluckNumber)(axisAttr.maxLabelWidthPercent);axisConfig.maxLabelWidthPercent=Math.abs(axisConfig.maxLabelWidthPercent);axisConfig.minLabelWidthPercent=Math.abs((0,_lib.pluckNumber)(axisAttr.minLabelWidthPercent));axisConfig.numDivLines=(0,_lib.pluckNumber)(axisAttr.numDivLines,4);axisConfig.numDivLines=_forceValidLowerLimit(axisConfig.numDivLines,0);axisConfig.categoryNumDivLines=(0,_lib.pluckNumber)(axisAttr.numDivLines,0);axisConfig.axisValuePadding=_forceValidLowerLimit(axisConfig.axisValuePadding,0);axisConfig.isReverse=Number(axisAttr.isReverse,0);axisConfig.isOpposit=Number(axisAttr.isOpposit,0);axisConfig.isVertical=Number(axisAttr.isVertical,0);axisConfig.categoryDivLinesFromZero=1;axisConfig.axisMinValue=numberFormatter.getCleanValue(axisAttr.axisMinValue);axisConfig.axisMaxValue=numberFormatter.getCleanValue(axisAttr.axisMaxValue);axisConfig.zeroPlaneColor=(0,_lib.pluck)(axisAttr.zeroPlaneColor,axisAttr.divLineColor);axisConfig.zeroPlaneThickness=(0,_lib.pluck)(axisAttr.zeroPlaneThickness,axisAttr.divLineThickness);axisConfig.axisLineColor=(0,_libGraphics.convertColor)(axisAttr.axisLineColor,axisAttr.axisLineAlpha);axisConfig.tickAlpha=(0,_lib.pluckNumber)(axisAttr.tickAlpha,axisConfig.axisLineAlpha);axisConfig.tickColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(axisAttr.tickColor,axisAttr.axisLineColor),axisConfig.tickAlpha);axisConfig.tickWidth=(0,_lib.pluckNumber)(axisAttr.tickWidth,axisConfig.axisLineThickness);axisConfig.maxZoomLimit=(0,_lib.pluckNumber)(FCChartObj.maxzoomlimit,chart.maxzoomlimit,1e3);axisConfig.showVLines=(0,_lib.pluckNumber)(FCChartObj.showvlines,1);axisConfig.showVLinesOnTop=(0,_lib.pluckNumber)(FCChartObj.showvlinesontop,0);axisConfig.showVLineLabels=(0,_lib.pluckNumber)(FCChartObj.showvlinelabels,this.showVLineLabels,1);axisConfig.showVLineLabelBorder=(0,_lib.pluckNumber)(FCChartObj.showvlinelabelborder,1);axisConfig.rotateVLineLabels=(0,_lib.pluckNumber)(FCChartObj.rotatevlinelabels,0);axisConfig.vLineColor=(0,_lib.pluck)(FCChartObj.vlinecolor,"333333");axisConfig.vLineLabelColor=(0,_lib.pluck)(FCChartObj.vlinelabelcolor);axisConfig.vLineThickness=(0,_lib.pluck)(FCChartObj.vlinethickness,1);axisConfig.vLineAlpha=(0,_lib.pluckNumber)(FCChartObj.vlinealpha,80);axisConfig.vLineLabelBgColor=(0,_lib.pluck)(FCChartObj.vlinelabelbgcolor,"ffffff");axisConfig.vLineLabelBgAlpha=(0,_lib.pluckNumber)(FCChartObj.vlinelabelbgalpha,is3D?50:100);axisConfig.staggerLines=Math.max((0,_lib.pluckNumber)(FCChartObj.staggerlines,2),2);axisConfig.staggerLines=_forceValidLowerLimit(axisConfig.staggerLines,1);axisConfig.trendlineValuesOnOpp=(0,_lib.pluck)(axisAttr.trendlineValuesOnOpp,axisAttr.trendlineValuesOnOpp,0);axisConfig.labelDisplay=(0,_lib.pluck)(axisAttr.labelDisplay,"auto").toLowerCase();axisConfig.labelStep=(0,_lib.pluckNumber)(axisAttr.labelStep,0);axisConfig.labelStep=Math.round(axisConfig.labelStep);axisConfig.labelStep=_forceValidLowerLimit(axisConfig.labelStep,0);axisConfig.startPad=0;axisConfig.endPad=0;axisConfig._oriLabelStep=axisConfig.labelStep;axisConfig.showLimits=(0,_lib.pluckNumber)(axisAttr.showLimits,axisConfig.showAxisValues);axisConfig.showUpperLimit=axisAttr.showLimits;axisConfig.showDivLineValues=(0,_lib.pluckNumber)(axisAttr.showDivLineValues,axisConfig.showAxisValues);axisConfig.showCanvasBorder=chart.getChildren("canvas")[0].config.showCanvasBorder?1:0;axisConfig.axisBreak=axisAttr.axisBreaks;axisConfig.isBreak=!!axisConfig.axisBreak;if(axisConfig.isBreak){axis._processAxisBreak()}fontBdrColor=(0,_lib.getFirstValue)(axisAttr.axisNameBorderColor,_lib.BLANKSTRING);fontBdrColor=fontBdrColor?(0,_libGraphics.convertColor)(fontBdrColor,(0,_lib.pluckNumber)(axisAttr.axisNameBorderAlpha,axisAttr.axisNameAlpha,100)):_lib.BLANKSTRING;axisConfig.name=axisConfig.name||{};axisConfig.name.style={fontFamily:(0,_lib.pluck)(axisAttr.axisNameFont,axisAttr.outCanfontFamily),fontSize:(0,_lib.pluck)(axisAttr.axisNameFontSize,pInt(axisAttr.outCanfontSize))+PXSTRING,color:(0,_libGraphics.convertColor)((0,_lib.pluck)(axisAttr.axisNameFontColor,axisAttr.outCancolor),(0,_lib.pluckNumber)(axisAttr.axisNameFontAlpha,axisAttr.axisNameAlpha,100)),fontWeight:(0,_lib.pluckNumber)(axisAttr.axisNameFontBold,1)?"bold":NORMALSTRING,fontStyle:(0,_lib.pluckNumber)(axisAttr.axisNameFontItalic)?"italic":NORMALSTRING,border:fontBdrColor||axisAttr.axisNameBgColor?(0,_lib.pluckNumber)(axisAttr.axisNameBorderThickness,1)+"px solid":UNDEF,borderColor:fontBdrColor,borderThickness:(0,_lib.pluckNumber)(axisAttr.axisNameBorderThickness,1),borderPadding:(0,_lib.pluckNumber)(axisAttr.axisNameBorderPadding,2),borderRadius:(0,_lib.pluckNumber)(axisAttr.axisNameBorderRadius,0),backgroundColor:axisAttr.axisNameBgColor?(0,_libGraphics.convertColor)(axisAttr.axisNameBgColor,(0,_lib.pluckNumber)(axisAttr.axisNameBgAlpha,axisAttr.axisNameAlpha,100)):_lib.BLANKSTRING,borderDash:(0,_lib.pluckNumber)(axisAttr.axisNameBorderDashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(axisAttr.axisNameBorderDashLen,4),(0,_lib.pluckNumber)(axisAttr.axisNameBorderDashGap,2)):DASH_DEF};axisConfig.name.style.lineHeight=(0,_lib.setLineHeight)(axisConfig.name.style);trendFontBdrColor=(0,_lib.getFirstValue)(FCChartObj.trendvaluebordercolor,_lib.BLANKSTRING);trendFontBdrColor=trendFontBdrColor?(0,_libGraphics.convertColor)(trendFontBdrColor,(0,_lib.pluckNumber)(FCChartObj.trendvalueborderalpha,FCChartObj.trendvaluealpha,100)):_lib.BLANKSTRING;axisConfig.trend=axisConfig.trend||{};axisConfig.trend.trendStyle={fontFamily:(0,_lib.pluck)(FCChartObj.trendvaluefont,axisAttr.outCanfontFamily),color:(0,_lib.pluck)(FCChartObj.trendvaluefontcolor,axisAttr.trendlineColor,axisAttr.outCancolor,"333333"),fontSize:(0,_lib.pluckFontSize)(FCChartObj.trendvaluefontsize,pInt(axisAttr.outCanfontSize))+PXSTRING,fontWeight:(0,_lib.pluckNumber)(FCChartObj.trendvaluefontbold)?"bold":NORMALSTRING,fontStyle:(0,_lib.pluckNumber)(FCChartObj.trendvaluefontitalic)?"italic":NORMALSTRING,border:trendFontBdrColor||FCChartObj.trendvaluebgcolor?(0,_lib.pluckNumber)(FCChartObj.trendvalueborderthickness,1)+"px solid":"",borderColor:trendFontBdrColor,borderThickness:(0,_lib.pluckNumber)(FCChartObj.trendvalueborderthickness,1),borderPadding:(0,_lib.pluckNumber)(FCChartObj.trendvalueborderpadding,2),borderRadius:(0,_lib.pluckNumber)(FCChartObj.trendvalueborderradius,0),backgroundColor:FCChartObj.trendvaluebgcolor?(0,_libGraphics.convertColor)(FCChartObj.trendvaluebgcolor,(0,_lib.pluckNumber)(FCChartObj.trendvaluebgalpha,FCChartObj.trendvaluealpha,100)):_lib.BLANKSTRING,borderDash:(0,_lib.pluckNumber)(FCChartObj.trendvalueborderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(FCChartObj.trendvalueborderdashlen,4),(0,_lib.pluckNumber)(FCChartObj.trendvalueborderdashgap,2)):DASH_DEF};axisConfig.trend.trendStyle.lineHeight=(0,_lib.setLineHeight)(axisConfig.trend.trendStyle);axisConfig.labels=axisConfig.labels||{};axisConfig.lines=axisConfig.lines||{};axisConfig.band=axisConfig.band||{};labelFontBdrColor=(0,_lib.getFirstValue)(FCChartObj.labelbordercolor,_lib.BLANKSTRING);labelFontBdrColor=labelFontBdrColor?(0,_libGraphics.convertColor)(labelFontBdrColor,(0,_lib.pluckNumber)(FCChartObj.labelborderalpha,FCChartObj.labelalpha,100)):_lib.BLANKSTRING;axisConfig.labels.style={fontFamily:(0,_lib.pluck)(axisAttr.labelFont,axisAttr.outCanfontFamily),fontSize:(0,_lib.pluckNumber)(axisAttr.labelFontSize,pInt(axisAttr.outCanfontSize))+PXSTRING,fontWeight:(0,_lib.pluckNumber)(axisAttr.labelFontBold)?"bold":NORMALSTRING,fontStyle:(0,_lib.pluckNumber)(axisAttr.labelFontItalic)?"italic":NORMALSTRING,color:(0,_libGraphics.convertColor)((0,_lib.pluck)(axisAttr.labelFontColor,axisAttr.outCancolor),(0,_lib.pluckNumber)(axisAttr.labelFontAlpha,100)),labelLink:FCChartObj.labellink,border:labelFontBdrColor||FCChartObj.labelbgcolor?(0,_lib.pluckNumber)(FCChartObj.labelborderthickness,1)+"px solid":"",borderColor:labelFontBdrColor,borderThickness:(0,_lib.pluckNumber)(FCChartObj.labelborderthickness,1),borderPadding:(0,_lib.pluckNumber)(FCChartObj.labelborderpadding,2),borderRadius:(0,_lib.pluckNumber)(FCChartObj.labelborderradius,0),backgroundColor:FCChartObj.labelbgcolor?(0,_libGraphics.convertColor)(FCChartObj.labelbgcolor,(0,_lib.pluckNumber)(FCChartObj.labelbgalpha,FCChartObj.labelalpha,100)):_lib.BLANKSTRING,borderDash:(0,_lib.pluckNumber)(FCChartObj.labelborderdashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(FCChartObj.labelborderdashlen,4),(0,_lib.pluckNumber)(FCChartObj.labelborderdashgap,2)):DASH_DEF};axisConfig.labels.style.lineHeight=(0,_lib.setLineHeight)(axisConfig.labels.style);axisConfig.numberFormatterFn=(0,_lib.pluck)(axisAttr.numberFormatterFn);axisConfig.apparentScrollPos=axisAttr.apparentScrollPos||axisConfig.apparentScrollPos;axisConfig.axisEndLabelDisplaySpace={left:0,right:0,top:0,bottom:0};axisConfig.isConfigured=true;axisConfig._defaultForceDecimal=UNDEF;axisConfig._defaultDecimalPrecision=UNDEF;axis.setScrollType("smart");axis.addToEnv("savedAxis",tempAxis&&(0,_lib.extend2)({},tempAxis))};CartesianAxis.prototype.setScrollType=function setScrollType(type){var visibleConfig=this.getVisibleConfig();if(type==="none"||type==="smart"||type==="always"){this.config.scrollType=type}this.setVisibleConfig(visibleConfig.minValue,visibleConfig.maxValue)};CartesianAxis.prototype.getScrollType=function getScrollType(){return this.config.scrollType};CartesianAxis.prototype._processAxisBreak=function _processAxisBreak(){var axis=this,axisConfig=axis.config,breakPoints,count,i,len;axisConfig.breakPoints=[];breakPoints=axisConfig.axisBreak.split("|");for(i=0,len=breakPoints.length,count=0;i<len;i+=1){breakPoints[i]=breakPoints[i].split(",");if(!isNaN(breakPoints[i][0])&&!isNaN(breakPoints[i][1])){axisConfig.breakPoints[count]={start:(0,_lib.pluckNumber)(breakPoints[i][0]),end:(0,_lib.pluckNumber)(breakPoints[i][1]),length:(0,_lib.pluckNumber)(breakPoints[i][2],0)};count+=1}}axisConfig.breakPoints.sort(function(a,b){return a.start-b.start});axisConfig.hasBreakPoints=true;axis._validateBreakPoints()};CartesianAxis.prototype._validateBreakPoints=function _validateBreakPoints(){var axis=this,axisConfig=axis.config,breakPoints=axisConfig.breakPoints,totalBreakAmount=0,i,len=breakPoints.length;for(i=0;i<len;i+=1){totalBreakAmount+=breakPoints[i].end-breakPoints[i].start}axisConfig.totalBreakAmount=totalBreakAmount};CartesianAxis.prototype._getRelativeBreakValue=function _getRelativeBreakValue(value){var axis=this,axisConfig=axis.config,breakPoints=axisConfig.breakPoints,i,len=breakPoints.length,valueDeletion=0;for(i=0;i<len;i+=1){if(value>=breakPoints[i].start&&value<=breakPoints[i].end){return breakPoints[i].start-valueDeletion}else if(value<breakPoints[i].start){break}valueDeletion+=breakPoints[i].end-breakPoints[i].start}return value-valueDeletion};CartesianAxis.prototype._getRealBreakValue=function _getRealBreakValue(value){var axis=this,axisConfig=axis.config,breakPoints=axisConfig.breakPoints,i,len=breakPoints.length;for(i=0;i<len;i+=1){if(value>=breakPoints[i].start){value+=breakPoints[i].end-breakPoints[i].start}else if(value<breakPoints[i].start){return value}}return value};CartesianAxis.prototype._adjustNumberFormatter=function _adjustNumberFormatter(interval){var axis=this,axisConfig=axis.config,axisIndex=axisConfig.axisIndex,isVertical=axisConfig.isVertical,chart=axis.getFromEnv("chart"),numberFormatter=chart.getFromEnv("number-formatter"),defaultDecimalPrecision=axisConfig._defaultDecimalPrecision,defaultForceDecimal=axisConfig._defaultForceDecimal,dec,beforeZero=0,numberFormatterSetting;if(isVertical||axisConfig.numberFormatterFn==="yAxis"){numberFormatterSetting=(numberFormatter.Y[axisIndex]||numberFormatter.Y[0]).yAxisLabelConf}else{numberFormatterSetting=numberFormatter.paramX}defaultDecimalPrecision!==UNDEF?numberFormatterSetting.decimalprecision=defaultDecimalPrecision:axisConfig._defaultDecimalPrecision=numberFormatterSetting.decimalprecision;defaultForceDecimal!==UNDEF?numberFormatterSetting.forcedecimals=defaultForceDecimal:axisConfig._defaultForceDecimal=numberFormatterSetting.forcedecimals;if(parseInt(interval,10)>0){return}dec=interval.toString().split(".")[1];if(dec){beforeZero=dec.match(/^[0]*/)[0].length;if(beforeZero+1>numberFormatterSetting.decimalprecision){numberFormatterSetting.forcedecimals=1}numberFormatterSetting.decimalprecision=Math.max(beforeZero+1,numberFormatterSetting.decimalprecision)}};CartesianAxis.prototype._isZoomed=function _isZoomed(){var axis=this,axisConfig=axis.config,chartConfig=axis.getFromEnv("chart").config,viewPortConfig=chartConfig.viewPortConfig;if(axisConfig.isVertical){return viewPortConfig.scaleY!==1}else{return viewPortConfig.scaleX!==1}};CartesianAxis.prototype._getIntervalArr=function _getIntervalArr(args){var axis=this,axisConfig=axis.config,axisLabelConfig=axisConfig.labels,axisRange=axisConfig.axisRange,chart=axis.getFromEnv("chart"),increment=axisRange.tickInterval*(args&&args.step||1),returnArr=[],getLimit,visibleMin,visibleMax,min,max,i,value;getLimit=this.getVisibleConfig();if(chart.config.axisType==="polar"){visibleMin=getLimit.minValue;visibleMax=getLimit.maxValue}else{visibleMin=getLimit.minValue-(args&&args.minPad||0);visibleMax=getLimit.maxValue+(args&&args.maxPad||0)}min=roundToMultiple(visibleMin,increment);max=roundToMultiple(visibleMax-visibleMax%increment,increment);if(min===max){return[min]}if(axisLabelConfig.drawNormalVal){for(i=(0,_lib.toPrecision)(min+increment,10);i<max;i=(0,_lib.toPrecision)(i+increment,10)){if(axisConfig.hasBreakPoints){value=(0,_lib.toPrecision)(axis._getRealBreakValue(i),10)}else{value=(0,_lib.toPrecision)(i,10)}returnArr.push(value)}}if(axisLabelConfig.drawLimitVal){returnArr.push(max,min)}returnArr.indexOf(0)!==-1&&returnArr.splice(returnArr.indexOf(0),1);if(axisConfig.showZeroPlane&&min<=0&&max>=0){returnArr.push(0)}return returnArr.sort(function(a,b){return a-b})};CartesianAxis.prototype._disposeScrollBar=function _disposeScrollBar(){var axis=this,axisConfig=axis.config,scrollBar=axis.getLinkedItem("scrollBar");if(axisConfig.scrollBarDrawn){scrollBar.hide();axisConfig.scrollBarDrawn=false}};CartesianAxis.prototype.addComponentInfo=function addComponentInfo(name,obj){this.getFromEnv("componentInfo")[sanitiseComponentName(name)].push(obj)};CartesianAxis.prototype.getComponentInfo=function getComponentInfo(name){return this.getFromEnv("componentInfo")[sanitiseComponentName(name)]};CartesianAxis.prototype.clearComponentInfo=function clearComponentInfo(){var componentInfo=this.getFromEnv("componentInfo"),key;for(key in componentInfo){if(componentInfo.hasOwnProperty(key)){componentInfo[key]=[]}}};CartesianAxis.prototype.draw=function draw(){var axis=this,axisConfig=axis.config,canvas=axisConfig.canvas,chart=axis.getFromEnv("chart"),chartConfig=chart.config,isVertical=axisConfig.isVertical,viewPortConfig=chartConfig.viewPortConfig,limitUpdaters=axis.getChildren().limitUpdater,viewPortRatio=axisConfig.viewPortRatio||{},canvasLeft=canvas.canvasLeft||chartConfig.canvasLeft,canvasTop=canvas.canvasTop||chartConfig.canvasTop,canvasWidth=canvas.canvasWidth||chartConfig.canvasWidth,canvasHeight=canvas.canvasHeight||chartConfig.canvasHeight,axisContainer=axisConfig.axisContainer,axisLabelContainerTop=axisConfig.axisLabelContainerTop,axisPlotLineContainer=axisConfig.axisPlotLineContainer,axisPlotLineContainerTop=axisConfig.axisPlotLineContainerTop,vlineLabelContainer=axisConfig.vlineLabelContainer,axisBandContainer=axisConfig.axisBandContainer,axisNameContainer=axisConfig.axisNameContainer,axisTrendContainerTop=axisConfig.axisTrendContainerTop,axisTrendContainerBottom=axisConfig.axisTrendContainerBottom,axisTrendLabelContainer=axisConfig.axisTrendLabelContainer,axisAxisLineContainer=axisConfig.axisAxisLineContainer,axisAxisLineContainerBottom=axisConfig.axisAxisLineContainerBottom,plotLineWidth=axisConfig.divLineThickness||0,childContainers=chart.getChildContainer(),axisBottom=childContainers.axisBottomGroup,axisTop=childContainers.axisTopGroup,animElems=[],axisBandGroup,axisPlotLineGroup,axisPlotLineGroupTop,axisLineGroup,axisNameGroup,axisLabelGroup,axisLabelGroupTop,axisTrendGroupTop,axisTrendGroupBottom,dx,dy,originY,originX,plotLineClipRect;axis.clearComponentInfo();originY=viewPortConfig.y*viewPortConfig.scaleY;originX=viewPortConfig.x*viewPortConfig.scaleX;if(isVertical){plotLineClipRect=canvasLeft+","+(canvasTop-plotLineWidth)+","+canvasWidth+","+(canvasHeight+plotLineWidth*2)}else{plotLineClipRect=canvasLeft-plotLineWidth+","+canvasTop+","+(canvasWidth+plotLineWidth*2)+","+canvasHeight}axisBandGroup=axis.getContainer("axisBandGroup")||axis.addContainer("axisBandGroup",createGroup("dataset-Band-group",axisBottom,axis));axisPlotLineGroup=axis.getContainer("axisPlotLineGroup")||axis.addContainer("axisPlotLineGroup",createGroup("dataset-Line-group",axisBottom,axis));axisPlotLineGroupTop=axis.getContainer("axisPlotLineGroupTop")||axis.addContainer("axisPlotLineGroupTop",createGroup("dataset-Line-group-top",axisTop,axis));axisNameGroup=axis.getContainer("axisNameGroup")||axis.addContainer("axisNameGroup",createGroup("dataset-Name-group",axisBottom,axis));axisLineGroup=axis.getContainer("axisLineGroup")||axis.addContainer("axisLineGroup",createGroup("axis-Line-group",axisTop,axis));axisTrendGroupTop=axis.getContainer("axisTrendGroupTop")||axis.addContainer("axisTrendGroupTop",createGroup("dataset-Trend-group-top",axisTop,axis));axisLabelGroup=axis.getContainer("axisLabelGroup")||axis.addContainer("axisLabelGroup",createGroup("dataset-Label-group",axisBottom,axis));axisLabelGroupTop=axis.getContainer("axisLabelGroupTop")||axis.addContainer("axisLabelGroupTop",createGroup("dataset-Label-group",axisTop,axis));axisTrendGroupBottom=axis.getContainer("axisTrendGroupBottom")||axis.addContainer("axisTrendGroupBottom",createGroup("dataset-Trend-group-bottom",axisBottom,axis));if(!axisTrendContainerBottom){axisConfig.axisTrendContainerBottom=axisTrendContainerBottom=createGroup("dataset-axis-trend-bottom",axisTrendGroupBottom,axis);axisTrendContainerBottom.attr({"clip-rect":canvasLeft+","+canvasTop+","+canvasWidth+","+canvasHeight})}else{axisTrendContainerBottom.attr({"clip-rect":canvasLeft+","+canvasTop+","+canvasWidth+","+canvasHeight})}if(!axisContainer){axisConfig.axisContainer=axisContainer=createGroup("dataset-axis",axisLabelGroup,axis)}if(!axisLabelContainerTop){axisConfig.axisLabelContainerTop=axisLabelContainerTop=createGroup("dataset-top-label",axisLabelGroupTop,axis)}if(!axisAxisLineContainer){axisConfig.axisAxisLineContainer=axisAxisLineContainer=createGroup("axis-line-tick",axisLineGroup,axis)}if(!vlineLabelContainer){axisConfig.vlineLabelContainer=vlineLabelContainer=createGroup("axis-vline-label",axisLineGroup,axis)}if(!axisBandContainer){axisConfig.axisBandContainer=axisBandContainer=createGroup("dataset-axis-bands",axisBandGroup,axis);axisBandContainer.attr({"clip-rect":canvasLeft+","+canvasTop+","+canvasWidth+","+canvasHeight})}else{animElems.push({el:axisBandContainer,attrs:{"clip-rect":canvasLeft+","+canvasTop+","+canvasWidth+","+canvasHeight},animType:"linear",animConfig:[{syncWith:"initial",start:0,initial:1}]})}if(!axisPlotLineContainer){axisConfig.axisPlotLineContainer=axisPlotLineContainer=createGroup("dataset-axis-lines",axisPlotLineGroup,axis);axisPlotLineContainer.attr({"clip-rect":plotLineClipRect})}else{animElems.push({el:axisPlotLineContainer,attrs:{"clip-rect":plotLineClipRect},animType:"linear",animConfig:[{syncWith:"initial",start:0,initial:1}]})}if(!axisPlotLineContainerTop){axisConfig.axisPlotLineContainerTop=axisPlotLineContainerTop=createGroup("dataset-axis-lines-top",axisPlotLineGroupTop,axis);axisPlotLineContainerTop.attr({"clip-rect":plotLineClipRect})}else{animElems.push({el:axisPlotLineContainerTop,attrs:{"clip-rect":plotLineClipRect},animType:"linear",animConfig:[{syncWith:"initial",start:0,initial:1}]})}if(!axisTrendContainerTop){axisConfig.axisTrendContainerTop=axisTrendContainerTop=createGroup("dataset-axis-trend-top",axisTrendGroupTop,axis);axisTrendContainerTop.attr({"clip-rect":canvasLeft+","+canvasTop+","+canvasWidth+","+canvasHeight})}else{animElems.push({el:axisTrendContainerTop,attrs:{"clip-rect":canvasLeft+","+canvasTop+","+canvasWidth+","+canvasHeight},animType:"linear",animConfig:[{syncWith:"initial",start:0,initial:1}]})}if(!axisTrendLabelContainer){axisConfig.axisTrendLabelContainer=axisTrendLabelContainer=createGroup("dataset-axis-trend-label",axisTrendGroupTop,axis)}if(!axisNameContainer){axisConfig.axisNameContainer=axisNameContainer=createGroup("dataset-axis-name",axisNameGroup,axis)}if(!axisAxisLineContainerBottom){axisConfig.axisAxisLineContainerBottom=axisAxisLineContainerBottom=createGroup("axis-line-tick-bottom",axisBottom,axis)}if(viewPortRatio.scaleX&&viewPortRatio.scaleY&&(viewPortRatio.scaleX!==viewPortConfig.scaleX||viewPortRatio.scaleY!==viewPortConfig.scaleY)){viewPortRatio.scaleX=viewPortConfig.scaleX;viewPortRatio.scaleY=viewPortConfig.scaleY;axis._drawComponents()}else{if(isVertical){dy=originY-viewPortConfig.y*viewPortConfig.scaleY;vlineLabelContainer.transform("t0,"+dy);axisContainer.transform("t0,"+dy);axisLabelContainerTop.transform("t0,"+dy);axisPlotLineContainer.transform("t0,"+dy);axisPlotLineContainerTop.transform("t0,"+dy);axisBandContainer.transform("t0,"+dy);axisTrendContainerTop.transform("t0,"+dy);axisTrendContainerBottom.transform("t0,"+dy)}else{dx=originX-viewPortConfig.x*viewPortConfig.scaleX;vlineLabelContainer.transform("t"+dx+",0");axisContainer.transform("t"+dx+",0");axisLabelContainerTop.transform("t"+dx+",0");axisPlotLineContainer.transform("t"+dx+",0");axisPlotLineContainerTop.transform("t"+dx+",0");axisBandContainer.transform("t"+dx+",0");axisTrendContainerTop.transform("t"+dx+",0");axisTrendContainerBottom.transform("t"+dx+",0")}axis._drawComponents()}axis.addExtEventListener("internal.animationComplete",function(){limitUpdaters&&limitUpdaters.forEach(function(limitUpdater){limitUpdater.draw()})},axis.getFromEnv("chartInstance"));axis.addToEnv("tempAxis",{canvasHeight:axis.config.canvas.canvasHeight,canvasWidth:axis.config.canvas.canvasWidth,canvasLeft:axis.config.canvas.canvasLeft,canvasRight:axis.config.canvas.canvasRight,canvasBottom:axis.config.canvas.canvasBottom,canvasTop:axis.config.canvas.canvasTop,visibleRange:axis.getVisibleConfig(),visibleLength:axis.getVisibleLength(),axisLength:axis.config.axisDimention.axisLength,axisOpposite:axis.config.axisDimention.opposite,axisY:axis.config.axisDimention.y,axisX:axis.config.axisDimention.x,axisRangeMin:axis.config.axisRange.min,axisRangeMax:axis.config.axisRange.max,axisTickInterval:axis.config.axisRange.tickInterval,axisIsReverse:axis.config.isReverse,axisIsVertical:axis.config.isVertical,axisHasBreakPoints:axis.config.hasBreakPoints,viewPortScaleY:axis.getFromEnv("chart").config.viewPortConfig.scaleY,viewPortY:axis.getFromEnv("chart").config.viewPortConfig.y,viewPortScaleX:axis.getFromEnv("chart").config.viewPortConfig.scaleX,viewPortX:axis.getFromEnv("chart").config.viewPortConfig.x,chartHeight:axis.getFromEnv("chart").config.canvasHeight,chartWidth:axis.getFromEnv("chart").config.canvasWidth,chartLeft:axis.getFromEnv("chart").config.canvasLeft,chartRight:axis.getFromEnv("chart").config.canvasRight,chartBottom:axis.getFromEnv("chart").config.canvasBottom,chartTop:axis.getFromEnv("chart").config.canvasTop,pvr:axis.config.pvr,refVal:axis.config.refVal,refVisibleVal:axis.config.refVisibleVal})};CartesianAxis.prototype.getBreakPoints=function getBreakPoints(){var axis=this,axisConfig=axis.config;if(axisConfig.hasBreakPoints){return axisConfig.breakPoints}else{return false}};CartesianAxis.prototype.getValue=function getValue(pixel,options){var axis=this,axisConfig=axis.config,wrtVisible=options&&options.wrtVisible,refVal=wrtVisible?axisConfig.refVisibleVal:axisConfig.refVal,pvr=axis.config.pvr;return refVal+(pixel-axisConfig.refPx)/pvr};CartesianAxis.prototype.getVisibleLength=function getVisibleLength(){var axis=this,limit=axis.getVisibleConfig();return Math.abs(limit.maxValue-limit.minValue)};CartesianAxis.prototype.setAxisPadding=function setAxisPadding(){var startPad=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var endPad=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var axis=this,axisConfig=axis.config;startPad=axisConfig.startPad=Math.max(axisConfig.startPad,startPad);endPad=axisConfig.endPad=Math.max(axisConfig.endPad,endPad);if(axisConfig.oriCatLen===0){if(startPad===0){startPad=.5}if(endPad===0){endPad=.5}}if(axisConfig.hasCategory){if(axisConfig.oriCatLen>=0){axis.setAxisRange({max:axisConfig.oriCatLen+endPad,min:-startPad})}}else{if(axisConfig.originalMax&&axisConfig.originalMin){axis.setDataLimit(axisConfig.originalMax,axisConfig.originalMin)}}};CartesianAxis.prototype.setAxisConfig=function setAxisConfig(data){var axis=this,axisConfig=axis.config,prop;for(prop in data){if(data.hasOwnProperty(prop)){axisConfig[prop]=data[prop]}}};CartesianAxis.prototype.getAxisConfig=function getAxisConfig(name){var axis=this,axisConfig=axis.config;if(name){return axisConfig[name]}else{return axisConfig}};CartesianAxis.prototype.setAxisRange=function setAxisRange(data){var axis=this,axisConfig=axis.config,axisRange=axisConfig.axisRange,tempAxis,tempAxisRange,prop;for(prop in data){if(data.hasOwnProperty(prop)){axisRange[prop]=data[prop]}}if(axisConfig.isReverse){axisConfig.refVal=axisRange.max}else{axisConfig.refVal=axisRange.min}axis.setVisibleConfig(axisRange.min,axisRange.max);if(axis.getFromEnv("tempAxis")){tempAxis=axis.getFromEnv("tempAxis");tempAxisRange={max:tempAxis.axisRangeMax,min:tempAxis.axisRangeMin,tickInterval:tempAxis.axisTickInterval};if(tempAxisRange.max!==axisRange.max||tempAxisRange.min!==axisRange.min||tempAxisRange.tickInterval!==axisRange.tickInterval){axisConfig.rangeChanged=true}else{axisConfig.rangeChanged=false}}};CartesianAxis.prototype.setAxisDimention=function setAxisDimention(data){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),chartConfig=chart.config,axisDimention=axisConfig.axisDimention||(axisConfig.axisDimention={}),tempAxis;axisDimention.opposite=(0,_lib.pluckNumber)(data.opposite,axisDimention.opposite);axisDimention.x=(0,_lib.pluckNumber)(data.x,chartConfig.canvasLeft,axisDimention.x);axisDimention.y=(0,_lib.pluckNumber)(data.y,chartConfig.canvasTop,axisDimention.y);axisDimention.axisLength=(0,_lib.pluckNumber)(data.axisLength,axisDimention.axisLength);if(axisConfig.isVertical){axisConfig.refPx=axisDimention.y}else{axisConfig.refPx=axisDimention.x}axis.getPVR();if(axis.getFromEnv("tempAxis")){tempAxis=axis.getFromEnv("tempAxis");if(tempAxis.axisLength!==axisDimention.axisLength||tempAxis.axisOpposite!==axisDimention.opposite||tempAxis.axisY!==axisDimention.y||tempAxis.axisX!==axisDimention.x){axisConfig.dimensionChanged=true}else{axisConfig.dimensionChanged=false}}};CartesianAxis.prototype.setDataLimit=function setDataLimit(max,min){var axis=this,axisConfig=axis.config,axisRange=axisConfig.axisRange,AxisMaxValue=axisConfig.isPercent?100:axisConfig.axisMaxValue,AxisMinValue=axisConfig.isPercent?0:axisConfig.axisMinValue,numDivLines=axisConfig.numDivLines,setAdaptiveMin=axisConfig.setAdaptiveMin,adjustDiv=axisConfig.adjustDiv,startPad=axisConfig.startPad||0,endPad=axisConfig.endPad||0,setMinAsZero,stopMaxAtZero,axisLimits,lines=axisConfig.trendLines||axisConfig.vTrendLines,lineArr=lines&&lines[0]&&lines[0].line,lineMin,lineMax;lineMin=(0,_lib.safeMin)(lineArr,function(obj){return obj.startvalue});lineMax=(0,_lib.safeMax)(lineArr,function(obj){return obj.endvalue});min=(0,_lib.safeMin)([lineMin,min]);max=(0,_lib.safeMax)([lineMax,max]);axisConfig.originalMax=max;axisConfig.originalMin=min;max=axisConfig.isPercent?100:max+endPad;min=axisConfig.isPercent?0:min-startPad;setMinAsZero=stopMaxAtZero=!setAdaptiveMin;if(axisConfig.hasBreakPoints){max-=axisConfig.totalBreakAmount}axisLimits=(0,_lib.getAxisLimits)((0,_lib.pluckNumber)(max,AxisMaxValue),(0,_lib.pluckNumber)(min,AxisMinValue),AxisMaxValue,AxisMinValue,stopMaxAtZero,setMinAsZero,numDivLines,adjustDiv);axis.setAxisRange({max:Number((0,_lib.toPrecision)(axisLimits.Max,10)),min:Number((0,_lib.toPrecision)(axisLimits.Min,10)),tickInterval:Number((0,_lib.toPrecision)(axisLimits.divGap,10))});axis._adjustNumberFormatter(axisRange.tickInterval);if(axisRange.tickInterval===0){axisRange.tickInterval=1}};CartesianAxis.prototype.setVisibleConfig=function setVisibleConfig(minValue,maxValue){var axis=this,axisConfig=axis.config,range=axisConfig.axisRange,scrollType=axis.getScrollType(),axisScroll,translationStr,zoom,maxZoomLimit=axisConfig.maxZoomLimit;if(minValue>maxValue){return false}zoom=(range.max-range.min)/(maxValue-minValue);if(maxZoomLimit&&zoom>maxZoomLimit){return false}axisConfig.minVisibleValue=minValue;axisConfig.maxVisibleValue=maxValue;if(axisConfig.isReverse){axisConfig.refVisibleVal=maxValue}else{axisConfig.refVisibleVal=minValue}if(scrollType==="always"){axis.setScrollEnabled(true)}else if(scrollType==="smart"){if(axis._isZoomed()){axis.setScrollEnabled(true)}else{axis.setScrollEnabled(false)}}else if(scrollType==="none"&&axis.isScrollEnabled()){axis.setScrollEnabled(false)}axis.getPVR();axis.fireEvent("visiblerangeset",{minValue:axisConfig.minVisibleValue,maxValue:axisConfig.maxVisibleValue});if(axis.getFromEnv("tempAxis")){axis.asyncDraw();axisScroll=-axis.getTranslation();if(axisConfig.isVertical){translationStr=["T",0,",",axisScroll].join("")}else{translationStr=["T",axisScroll,",",0].join("")}axisConfig.axisContainer.attr({transform:translationStr});axisConfig.axisBandContainer.attr({transform:translationStr});axisConfig.axisPlotLineContainer.attr({transform:translationStr});axisConfig.axisTrendContainerTop.attr({transform:translationStr})}return true};CartesianAxis.prototype.getVisibleConfig=function getVisibleConfig(){var axisConfig=this.config;return{minValue:axisConfig.minVisibleValue,maxValue:axisConfig.maxVisibleValue}};CartesianAxis.prototype.getPVR=function getPVR(){var axis=this,axisConfig=axis.config,isReverse=axisConfig.isReverse,axisDimention=axisConfig.axisDimention||{},visibleConfig=axis.getVisibleConfig(),visibleSpan=visibleConfig.maxValue-visibleConfig.minValue,axisLength=axisDimention.axisLength,pvr=axisLength/visibleSpan;if(pvr){if(isReverse){axisConfig.pvr=-pvr}else{axisConfig.pvr=pvr}}return axisConfig.pvr};CartesianAxis.prototype.getPixel=function getPixel(value,options){var axis=this,axisConfig=axis.config,isOld=options&&options.preValue,wrtVisible=options&&options.wrtVisible,refVal=wrtVisible?axisConfig.refVisibleVal:axisConfig.refVal,chartConfig=axis.getFromEnv("chartConfig"),viewPortConfig=chartConfig.viewPortConfig,tempAxis=axis.getFromEnv("tempAxis"),pvr=axisConfig.pvr*viewPortConfig.scaleX;if(isOld&&tempAxis){refVal=wrtVisible?tempAxis.refVisibleVal:tempAxis.refVal;pvr=axis.getOldPVR()}if(!pvr){return 0}if(axisConfig.hasBreakPoints){value=axis._getRelativeBreakValue(value)}return(0,_lib.toPrecision)(axisConfig.refPx+(value-refVal)*pvr,2)};CartesianAxis.prototype.getLimit=function getLimit(){var axis=this,axisConfig=axis.config,axisRange=axisConfig.axisRange,max=axisRange.max,min=axisRange.min;return{min:min,max:max,tickInterval:axisRange.tickInterval}};CartesianAxis.prototype.getOldPVR=function getOldPVR(){var tempAxis=this.getFromEnv("tempAxis");return tempAxis?tempAxis.pvr:this.config.pvr};CartesianAxis.prototype.hide=function hide(){var axis=this,axisConfig=axis.config;if(!axisConfig.axisContainer){return}axisConfig.axisLabelContainerTop.hide();axisConfig.axisContainer.hide();axisConfig.axisPlotLineContainer.hide();axisConfig.axisPlotLineContainerTop.hide();axisConfig.axisBandContainer.hide();axisConfig.axisNameContainer.hide();axisConfig.axisTrendContainerTop.hide();axisConfig.axisTrendContainerBottom.hide();axisConfig.axisTrendLabelContainer.hide();axisConfig.axisAxisLineContainer.hide();axisConfig.axisAxisLineContainerBottom.hide()};CartesianAxis.prototype.show=function show(){var axis=this,axisConfig=axis.config;if(!axisConfig.axisContainer){return}axisConfig.axisLabelContainerTop.show();axisConfig.axisContainer.show();axisConfig.axisPlotLineContainer.show();axisConfig.axisPlotLineContainerTop.show();axisConfig.axisBandContainer.show();axisConfig.axisNameContainer.show();axisConfig.axisTrendContainerTop.show();axisConfig.axisTrendContainerBottom.show();axisConfig.axisTrendLabelContainer.show();axisConfig.axisAxisLineContainer.show();axisConfig.axisAxisLineContainerBottom.show()};CartesianAxis.prototype.getTranslation=function getTranslation(){var axis=this,axisConfig=axis.config,ret=axis.getPixel(axisConfig.refVisibleVal)-axisConfig.refPx;return ret};CartesianAxis.prototype.setScrollEnabled=function setScrollEnabled(bool){var axis=this,chart=axis.getFromEnv("chart");axis.config.scrollEnabled=bool;if(bool){chart._createToolBoxGantt();axis.getFromEnv("tempAxis")&&axis.asyncDraw()}else{axis._disposeScrollBar()}};CartesianAxis.prototype.isScrollEnabled=function isScrollEnabled(){return this.config.scrollEnabled};CartesianAxis.prototype.manageProcessScroll=function manageProcessScroll(scroll){var axis=this,axisConfig=axis.config,spaceTaken=axisConfig.totalWidth||0,totalVisiblelWidth=axisConfig.totalVisiblelWidth,translateX;if(spaceTaken>totalVisiblelWidth){translateX=(spaceTaken-totalVisiblelWidth)*(1-scroll);axis.translateAxis(translateX,undefined)}};CartesianAxis.prototype.translateAxis=function translateAxis(x,y){var axis=this,axisConfig=axis.config,ganttPlotLineContainer=axis.getContainer("ganttPlotLineContainer"),ganttPlotHoverBandContainer=axis.getContainer("ganttPlotHoverBandContainer"),isVertical=axisConfig.isVertical,lastTranslate=axisConfig.lastTranslate||(axisConfig.lastTranslate={x:0,y:0}),ganttLabelContainer=axis.getContainer("labelContainer"),ganttHeaderContainer=axis.getContainer("headerContainer"),hotContainer=axis.getContainer("hotContainer"),dx,dy;dx=x!==undefined?x-lastTranslate.x:0;dy=y!==undefined?y-lastTranslate.y:0;lastTranslate.x=x!==undefined?x:lastTranslate.x;lastTranslate.y=y!==undefined?y:lastTranslate.y;ganttLabelContainer&&ganttLabelContainer.translate(dx,dy);ganttHeaderContainer&&ganttHeaderContainer.translate(dx,dy);axisConfig.labelContainer&&axisConfig.labelContainer.translate(dx,dy);hotContainer&&hotContainer.translate(dx,dy);axisConfig.headerContainer&&axisConfig.headerContainer.translate(dx,0);if(isVertical){ganttPlotLineContainer&&ganttPlotLineContainer.translate(0,dy);ganttPlotHoverBandContainer&&ganttPlotHoverBandContainer.translate(0,dy)}else{ganttPlotLineContainer&&ganttPlotLineContainer.translate(dx,0);ganttPlotHoverBandContainer&&ganttPlotHoverBandContainer.translate(dx,0);axis.setAxisConfig({animateAxis:false});axisConfig.drawTrendLines&&axis._drawTrendLine();axis.setAxisConfig({animateAxis:true})}};CartesianAxis.prototype.resetTransletAxis=function resetTransletAxis(){var axis=this,axisConfig=axis.config,ganttLabelContainer=axis.getContainer("labelContainer"),ganttHeaderContainer=axis.getContainer("headerContainer"),hotContainer=axis.getContainer("hotContainer"),transformAttr;transformAttr={transform:"t0,0"};axisConfig.lastTranslate={x:0,y:0};ganttLabelContainer&&ganttLabelContainer.attr(transformAttr);ganttHeaderContainer&&ganttHeaderContainer.attr(transformAttr);axisConfig.labelContainer&&axisConfig.labelContainer.attr(transformAttr);axisConfig.headerContainer&&axisConfig.headerContainer.attr(transformAttr);axisConfig.ganttPlotLineContainer&&axisConfig.ganttPlotLineContainer.attr(transformAttr);axisConfig.ganttPlotHoverBandContainer&&axisConfig.ganttPlotHoverBandContainer.attr(transformAttr);hotContainer&&hotContainer.attr(transformAttr)};return CartesianAxis}(_componentInterface2["default"]);exports["default"]=CartesianAxis;exports._drawScrollBar=_drawScrollBar;exports.getCrispPath=getCrispPath},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var fadeIn=function fadeIn(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"axis",startEnd:{start:0,end:.3}}]};exports["default"]={"initial.axis.GanttProcess":function initialAxisGanttProcess(){return{"path.appearing":fadeIn,"rect.appearing":fadeIn,"text.appearing":fadeIn}},"initial.axis.GanttTime":function initialAxisGanttTime(){return{"path.appearing":fadeIn,"rect.appearing":fadeIn,"text.appearing":fadeIn}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _ganttCommon=__webpack_require__(681);var _ganttCommon2=_interopRequireDefault(_ganttCommon);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var DEFAULT_DASH_STYLE="none",TRANSFORM="t0,0",PXSTRING="px";var UNDEF=void 0,DASH_DEF="none",POSITION_START=_lib.preDefStr.POSITION_START,POSITION_TOP=_lib.preDefStr.POSITION_TOP,POSITION_END=_lib.preDefStr.POSITION_END;function prepareTrends(axis){var axisConfig=axis.config,isVertical=axisConfig.isVertical,isOpposit=axisConfig.isOpposit,animationManager=axis.getFromEnv("animationManager"),axisIndex=axisConfig.axisIndex,numberFormatter=axis.getFromEnv("number-formatter"),axisRange=axisConfig.axisRange,max=axisRange.max,min=axisRange.min,maxPx,minPx,style=axisConfig.trend.trendStyle,axisPadding=axisConfig.labelPadding,axisTrendLabelContainer=axisConfig.axisTrendLabelContainer,css={fontFamily:style.fontFamily,fontSize:style.fontSize,lineHeight:style.lineHeight,fontWeight:style.fontWeight,fontStyle:style.fontStyle},vtrendlines=axisConfig.vTrendLines,trendlines=axisConfig.trendLines,checkForLimit=true,drawTrendLabels=axisConfig.drawTrendLabels,axisDimention=axisConfig.axisDimention||{},i,iLim,j,jLen,toolText,chartConfig=axis.getFromEnv("chartConfig"),canvas=axis.getFromEnv("chart").getChildren("canvas")[0],canvasBottom=canvas.config.canvasBottom||chartConfig.canvasBottom,canvasLeft=canvas.config.canvasLeft||chartConfig.canvasLeft,canvasRight=canvas.config.canvasRight||chartConfig.canvasRight,trendlabels=[],trendLabelElement,comTrendLines,isTrendZone,axisDrawingAttrObj,axisTextAttrObj,trendObj,text,valueOnRight,startValue,endValue,startValuePixel,endValuePixel,strokeWidth,fixedTrendLabelPos,fixedTrendLabelPosRight,NFMethodName,getLimit=axis.getVisibleConfig(),trendLabelText=axis.getGraphicalElement("trendlabels")||[];for(i=0;i<trendLabelText.length;i++){trendLabelText[i].remove()}if(axisConfig.hasBreakPoints){getLimit.minValue=axis._getRealBreakValue(getLimit.minValue);getLimit.maxValue=axis._getRealBreakValue(getLimit.maxValue)}checkForLimit=axis._isZoomed();if(!checkForLimit){getLimit.minValue=min;getLimit.maxValue=max}else{maxPx=Math.max(axis.getPixel(getLimit.minValue,{wrtVisible:true}),axis.getPixel(getLimit.maxValue,{wrtVisible:true}));minPx=Math.min(axis.getPixel(getLimit.minValue,{wrtVisible:true}),axis.getPixel(getLimit.maxValue,{wrtVisible:true}))}if(vtrendlines){fixedTrendLabelPos=isOpposit?(axisDimention.opposite||canvasBottom)-(axisConfig.trendBottomPadding||0):(axisDimention.y||canvasBottom)+(axisConfig.trendBottomPadding||0)}else{fixedTrendLabelPos=isOpposit?(axisDimention.opposite||canvasLeft)+(axisPadding||0):(axisDimention.x||canvasLeft)-(axisPadding||0);fixedTrendLabelPosRight=isOpposit?(axisDimention.x||canvasRight)+(axisPadding||0):(axisDimention.opposite||canvasRight)+(axisPadding||0)}comTrendLines=trendlines||vtrendlines;if(comTrendLines){for(j=0,jLen=comTrendLines.length;j<jLen;j+=1){for(i=0,iLim=comTrendLines[j].line&&comTrendLines[j].line.length;i<iLim;i+=1){trendObj=comTrendLines[j].line[i];NFMethodName=isVertical?"yAxis":"xAxis";startValue=trendObj.startvalue||trendObj.value||0;startValue=numberFormatter.getCleanValue((0,_lib.pluck)(trendObj.startvalue,trendObj.value,0));endValue=Number(trendObj.endvalue)||UNDEF;toolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(comTrendLines[j].line[i].tooltext,comTrendLines[0].tooltext,axisConfig.trendlineToolText)));toolText=(0,_lib.parseTooltext)(toolText,[7,15,16,17,18,19],{startValue:startValue,startDataValue:numberFormatter[NFMethodName](startValue,axisIndex),endValue:endValue||startValue,endDataValue:numberFormatter[NFMethodName](endValue||startValue,axisIndex),axisName:axisConfig.axisName},trendObj);if(startValue>max||startValue<min||endValue>max||endValue<min){continue}if(vtrendlines){text=(0,_lib.pluck)((0,_lib.parseUnsafeString)(trendObj.displayvalue),trendObj.start,"");startValuePixel=axis.getPixel(axisConfig.hasBreakPoints?axis._getRelativeBreakValue(startValue):startValue,{wrtVisible:true});isTrendZone=(0,_lib.pluckNumber)(trendObj.istrendzone,axisConfig.isTrendZone,1);endValuePixel=endValue?axis.getPixel(axisConfig.hasBreakPoints?axis._getRelativeBreakValue(endValue):endValue,{wrtVisible:true}):0;if(endValue!==UNDEF&&endValue!==""&&endValue!==startValue&&isTrendZone){axisDrawingAttrObj={fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,axisConfig.trendlineColor),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,40)),"stroke-width":0};axisTextAttrObj={fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,style.color),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,99)),"vertical-align":POSITION_TOP,text:text,x:startValuePixel+(endValuePixel-startValuePixel)/2,y:fixedTrendLabelPos}}else{strokeWidth=(0,_lib.pluckNumber)(trendObj.thickness,axisConfig.trendlineThickness,1);axisDrawingAttrObj={stroke:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,axisConfig.trendlineColor),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,99)),"stroke-width":strokeWidth,"stroke-dasharray":(0,_lib.pluck)(trendObj.dashed,axisConfig.trendlinesAreDashed)===_lib.ONESTRING?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(trendObj.dashlen,axisConfig.trendlinesDashLen),(0,_lib.pluckNumber)(trendObj.dashgap,axisConfig.trendlinesDashGap)):DASH_DEF};axisTextAttrObj={fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,style.color),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,99)),"vertical-align":POSITION_TOP,text:text,x:endValue?endValuePixel:startValuePixel,y:fixedTrendLabelPos}}}else if(trendlines){text=(0,_lib.pluck)((0,_lib.parseUnsafeString)(trendObj.displayvalue),trendObj.start,"");valueOnRight=(0,_lib.pluckNumber)(trendObj.valueonright,0);isTrendZone=(0,_lib.pluckNumber)(trendObj.istrendzone,axisConfig.isTrendZone,0);startValuePixel=axis.getPixel(startValue,{wrtVisible:true});endValuePixel=endValue?axis.getPixel(endValue,{wrtVisible:true}):0;if(endValue!==UNDEF&&endValue!==""&&endValue!==startValue&&isTrendZone){axisDrawingAttrObj={fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,axisConfig.trendlineColor),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,40)),"stroke-width":0};axisTextAttrObj={"text-anchor":valueOnRight?POSITION_START:POSITION_END,fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,style.color),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,99)),text:text,x:valueOnRight?fixedTrendLabelPosRight:fixedTrendLabelPos,y:startValuePixel+(endValuePixel-startValuePixel)/2}}else{strokeWidth=(0,_lib.pluckNumber)(trendObj.thickness,axisConfig.trendlineThickness,1);axisDrawingAttrObj={stroke:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,axisConfig.trendlineColor),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,99)),"stroke-width":strokeWidth,"stroke-dasharray":(0,_lib.pluck)(trendObj.dashed,axisConfig.trendlinesAreDashed)===_lib.ONESTRING?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(trendObj.dashlen,axisConfig.trendlinesDashLen),(0,_lib.pluckNumber)(trendObj.dashgap,axisConfig.trendlinesDashGap)):DASH_DEF};axisTextAttrObj={"text-anchor":valueOnRight?POSITION_START:POSITION_END,fill:(0,_libGraphics.convertColor)((0,_lib.pluck)(trendObj.color,style.color),(0,_lib.pluck)(trendObj.alpha,axisConfig.trendlineAlpha,99)),text:text,x:valueOnRight?fixedTrendLabelPosRight:fixedTrendLabelPos,y:endValue?valueOnRight?endValuePixel:startValuePixel:startValuePixel}}if(checkForLimit&&(!drawTrendLabels||axisTextAttrObj.y>maxPx||axisTextAttrObj.y<minPx)){axisTextAttrObj.text=""}}axisTextAttrObj["text-bound"]=axisTextAttrObj.text?[style.backgroundColor,style.borderColor,style.borderThickness,style.borderPadding,style.borderRadius,style.borderDash]:[];trendLabelElement=animationManager.setAnimation({el:"text",attr:axisTextAttrObj,css:css,container:axisTrendLabelContainer,component:axis}).show();if(!(axisConfig.showTooltip&&toolText)){toolText=""}axis.addComponentInfo("trend",{marker:{isZone:isTrendZone,startValue:startValue,endValue:endValue,fill:axisDrawingAttrObj.fill,stroke:axisDrawingAttrObj.stroke,strokeWidth:axisDrawingAttrObj["stroke-width"],strokeDashArray:axisDrawingAttrObj["stroke-dasharray"],shapeRendering:axisDrawingAttrObj["shape-rendering"]},label:{fill:axisTextAttrObj.fill,text:text,textAnchor:axisTextAttrObj["text-anchor"],textBound:axisTextAttrObj["text-bound"],valueOnRight:(0,_lib.pluckNumber)(trendObj.valueonright,0),toolText:toolText},showOnTop:(0,_lib.pluckNumber)(trendObj.showontop)});trendlabels.push(trendLabelElement)}}}if(trendlabels.length){axis.addGraphicalElement("trendlabels",trendlabels)}}var GanttTimeAxis=function(_GanttCommonAxis){_inherits(GanttTimeAxis,_GanttCommonAxis);function GanttTimeAxis(){_classCallCheck(this,GanttTimeAxis);return _possibleConstructorReturn(this,_GanttCommonAxis.apply(this,arguments))}GanttTimeAxis.prototype.getName=function getName(){return"GanttTimeCategory"};GanttTimeAxis.prototype.configure=function configure(rawAttr){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),jsonData=axis.getFromEnv("dataSource"),colorM=chart.getFromEnv("color-manager"),chartData=jsonData.chart,axisAttr=void 0;_GanttCommonAxis.prototype.configure.call(this,rawAttr);axisAttr=axisConfig.rawAttr;axisConfig.plotLineColor=axisConfig.lineColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(chartData.ganttlinecolor,colorM.getColor("gridColor")),(0,_lib.pluckNumber)(chartData.ganttlinealpha,100));axisConfig.plotLineThickness=axisConfig.lineThickness=(0,_lib.pluckNumber)(chartData.ganttlinethickness,1);axisConfig.plotLineDashStyle=axisConfig.lineDashStyle=(0,_lib.pluckNumber)(chartData.ganttlinedashed,0)?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(chartData.ganttlinedashlen,1),chartData.ganttlinedashgap,axisConfig.lineThickness):DEFAULT_DASH_STYLE;axisConfig.hoverColor=(0,_lib.pluck)(chartData.categoryhoverbandcolor,chartData.hoverbandcolor,colorM.getColor("gridColor"));axisConfig.hoverAlpha=(0,_lib.pluckNumber)(chartData.categoryhoverbandalpha,chartData.hoverbandalpha,30);axisConfig.useHover=(0,_lib.pluckNumber)(chartData.showcategoryhoverband,chartData.showhoverband,chartData.showhovereffect,1);axisConfig.usePlotHover=(0,_lib.pluckNumber)(chartData.showganttpaneverticalhoverband);axisConfig.trendlinesDashLen=(0,_lib.pluckNumber)(axisAttr.trendlinesDashLen,3);axisConfig.trendlinesDashGap=(0,_lib.pluckNumber)(axisAttr.trendlinesDashGap,3);axisConfig.gridLineHeaderPath="";axisConfig.gridLinePath=""};GanttTimeAxis.prototype.setCategory=function setCategory(categories){var numberFormatter=this.getFromEnv("number-formatter"),axisConfig=this.config,startPad=axisConfig.startPad||0,endPad=axisConfig.endPad||0,catLength=void 0,categoriesFinal=void 0,catObj=void 0,startMS=void 0,endMS=void 0,minTime=Infinity,maxTime=-Infinity,i=void 0,j=void 0;axisConfig.categories={};if(categories){axisConfig.hasCategory=1}else{axisConfig.hasCategory=0;return}categoriesFinal=axisConfig.categories.category=(0,_lib.extend2)({},categories);(0,_ganttCommon.extractAttribToEnd)(categoriesFinal,{});for(i in categoriesFinal){if(!categoriesFinal.hasOwnProperty(i)||i==="_attrib"){continue}for(j=0,catLength=categoriesFinal[i].category.length;j<catLength;j+=1){catObj=categoriesFinal[i].category[j];startMS=numberFormatter.getDateValue(catObj.start).ms;endMS=numberFormatter.getDateValue(catObj.end).ms;if(isNaN(startMS)){startMS=UNDEF}if(startMS>maxTime){maxTime=startMS}if(startMS<=minTime){minTime=startMS}if(isNaN(endMS)){endMS=UNDEF}if(endMS>maxTime){maxTime=endMS}if(endMS<=minTime){minTime=endMS}}}this.setAxisRange({min:Number((0,_lib.toPrecision)(minTime-startPad,10)),max:Number((0,_lib.toPrecision)(maxTime+endPad,10)),tickInterval:Number((0,_lib.toPrecision)(1,10))})};GanttTimeAxis.prototype.placeAxis=function placeAxis(maxHeight){var axis=this,axisConfig=axis.config,chart=axis.getFromEnv("chart"),chartConfig=chart.config,numberFormatter=axis.getFromEnv("number-formatter"),smartLabel=axis.getFromEnv("smartLabel"),labelStyle=axisConfig.labels.style,vPadding=8,maxTextSize=0,spaceReturn={top:0,bottom:0},spaceUsed=0,categories,category,i,text,smartLabelText,j,textStyle,singleTextStyle,jLen,iLim,maxTextDimention,trendStyle=axisConfig.trend.trendStyle,vtrendlines=axisConfig.vTrendLines,useEllipsesWhenOverflow=axisConfig.useEllipsesWhenOverflow,trendMaxHeight=0,trendSpaceUsed=0,trendObj,axisSmartTrendValue,trendHeight,heightLeft;smartLabel.useEllipsesOnOverflow(chartConfig.useEllipsesWhenOverflow);smartLabel.setStyle({fontSize:labelStyle.fontSize,fontFamily:labelStyle.fontFamily,lineHeight:labelStyle.lineHeight,fontWeight:labelStyle.fontWeight});axisConfig.maxTopSpaceAvailable=chartConfig.canvasTop;if(axisConfig.hasCategory){categories=axisConfig.categories.category;for(i in categories){if(!categories.hasOwnProperty(i)||i==="_attrib"){continue}maxTextSize=0;category=categories[i].category;for(j in category){if(!category.hasOwnProperty(j)||j==="_attrib"){continue}text=category[j];text.drawLabel=(0,_lib.parseUnsafeString)(text.label||text.name);textStyle=text._attrib;singleTextStyle={fontFamily:(0,_lib.pluck)(textStyle.fontfamily,labelStyle.fontFamily).replace(/px/i,"")+PXSTRING,fontSize:(0,_lib.pluck)(textStyle.fontsize,labelStyle.fontSize),fontWeight:(0,_lib.pluck)(Number(textStyle.isbold)===1?"bold":textStyle.isbold===UNDEF?"bold":UNDEF,labelStyle.fontWeight),fontStyle:(0,_lib.pluck)(textStyle.isitalic?"italic":UNDEF,labelStyle.fontStyle)};(0,_lib.setLineHeight)(singleTextStyle);smartLabel.setStyle(singleTextStyle);smartLabelText=smartLabel.getOriSize(text.drawLabel);if(smartLabelText.height>maxTextSize){maxTextDimention=smartLabelText;maxTextSize=smartLabelText.height}}categories[i]._attrib.topPos=spaceUsed;spaceUsed+=maxTextDimention.height+vPadding;categories[i]._attrib.bottomPos=spaceUsed}}heightLeft=maxHeight-spaceUsed;if(axisConfig.drawTrendLines&&axisConfig.drawTrendLabels&&vtrendlines&&axisConfig.isActive){smartLabel.setStyle({fontSize:trendStyle.fontSize,fontFamily:trendStyle.fontFamily,lineHeight:trendStyle.lineHeight,fontWeight:trendStyle.fontWeight});axisConfig.trendBottomPadding=-1;for(j=0,jLen=vtrendlines.length;j<jLen;j+=1){for(i=0,iLim=vtrendlines[j].line.length;i<iLim;i+=1){trendObj=vtrendlines[j].line[i];text=trendObj.origText||trendObj.displayvalue||trendObj.endvalue||trendObj.startvalue||"";text=(0,_lib.parseUnsafeString)(text);trendObj.startvalue=trendObj.start&&numberFormatter.getDateValue(trendObj.start).ms;trendObj.endvalue=trendObj.end&&numberFormatter.getDateValue(trendObj.end).ms;trendObj.origText=text;axisSmartTrendValue=smartLabel.getSmartText(text,chart.canvasWidth,trendStyle.lineHeight,useEllipsesWhenOverflow);trendHeight=axisSmartTrendValue.height+2;if(heightLeft-trendHeight<0){trendObj.displayvalue=""}else{trendObj.displayvalue=axisSmartTrendValue.text;trendMaxHeight=trendMaxHeight<axisSmartTrendValue.height?axisSmartTrendValue.height:trendMaxHeight}if(axisSmartTrendValue.tooltext){trendObj.valueToolText=axisSmartTrendValue.tooltext}else{delete trendObj.valueToolText}}}}axisConfig.totalHeight=spaceUsed;if(trendMaxHeight>0){trendSpaceUsed+=trendMaxHeight+Math.abs(axisConfig.trendBottomPadding||0)}spaceUsed=spaceUsed>maxHeight?maxHeight:spaceUsed;spaceReturn.top+=spaceUsed;spaceReturn.bottom+=trendSpaceUsed;chartConfig.categorySpaceUsed=spaceUsed;return spaceReturn};GanttTimeAxis.prototype._drawCategories=function _drawCategories(){var axis=this,axisConfig=axis.config,axisDimention=axisConfig.axisDimention||{},axisStartPosition=axisDimention.y,spaceTaken=axisConfig.totalHeight||0,chart=axis.getFromEnv("chart"),chartConfig=chart.config,animationManager=chart.getFromEnv("animationManager"),numberFormatter=chart.getFromEnv("number-formatter"),canvas=axisConfig.canvas,gridArr=axisConfig.gridArr||(axisConfig.gridArr=[]),canvasLeft=canvas.canvasLeft||chartConfig.canvasLeft,canvasTop=canvas.canvasTop||chartConfig.canvasTop,canvasHeight=canvas.canvasHeight||chartConfig.canvasHeight,canvasWidth=canvas.canvasWidth||chartConfig.canvasWidth,axisBottomGroup=chart.getChildContainer("axisBottomGroup"),i,categories,category,elemIndex=0,j,args,lastRightPos,labelClipHeight,ganttPlotHoverBandContainerParent=axis.getContainer("ganttPlotHoverBandContainerParent"),ganttPlotHoverBandContainer=axis.getContainer("ganttPlotHoverBandContainer"),ganttPlotLineContainer=axis.getContainer("ganttPlotLineContainer"),labelContainer=axis.getContainer("labelContainer"),labelBackContainer=axis.getContainer("labelBackContainer"),labelLineContainer=axis.getContainer("labelLineContainer"),labelTextContainer=axis.getContainer("labelTextContainer"),startms,endms;labelClipHeight=Math.min(spaceTaken,canvasTop-(axisConfig.maxTopSpaceAvailable||0));labelClipHeight=labelClipHeight>0?labelClipHeight:0;if(!ganttPlotHoverBandContainerParent){ganttPlotHoverBandContainerParent=axis.addContainer("ganttPlotHoverBandContainerParent",animationManager.setAnimation({el:"group",attr:{name:"gantt-plot-band-container-parent"},container:axisBottomGroup,component:axis}))}axis.addContainer("ganttPlotHoverBandContainer",animationManager.setAnimation({el:ganttPlotHoverBandContainer||"group",attr:{name:"gantt-plot-band-container","clip-rect":canvasLeft+","+canvasTop+","+canvasWidth+","+canvasHeight},container:ganttPlotHoverBandContainerParent,component:axis}));axis.addContainer("ganttPlotLineContainer",animationManager.setAnimation({el:ganttPlotLineContainer||"group",attr:{name:"gantt-plot-line-container","clip-rect":canvasLeft+","+canvasTop+","+canvasWidth+","+canvasHeight,transform:TRANSFORM},container:axisBottomGroup,component:axis}));labelContainer=axis.addContainer("labelContainer",animationManager.setAnimation({el:labelContainer||"group",attr:{name:"gantt-label-container","clip-rect":canvasLeft+","+(canvasTop-labelClipHeight)+","+canvasWidth+","+labelClipHeight,transform:TRANSFORM},container:axisBottomGroup,component:axis}));if(!labelBackContainer){labelBackContainer=axis.addContainer("labelBackContainer",animationManager.setAnimation({el:"group",attr:{name:"gantt-label-back-container"},container:labelContainer,component:axis}))}if(!labelLineContainer){labelLineContainer=axis.addContainer("labelLineContainer",animationManager.setAnimation({el:"group",attr:{name:"gantt-label-line-container"},component:axis,container:labelContainer}))}if(!labelTextContainer){labelTextContainer=axis.addContainer("labelTextContainer",animationManager.setAnimation({el:"group",attr:{name:"gantt-label-text-container"},container:labelContainer,component:axis}))}axisConfig.gridLinePath="";axisConfig.gridLineHeaderPath="";axisConfig.hoverElemsArr=[];axisConfig.labelHoverEventName={click:"CategoryClick",rollOver:"CategoryRollOver",rollOut:"CategoryRollOut"};if(axisConfig.hasCategory){categories=axisConfig.categories.category;for(i in categories){if(!categories.hasOwnProperty(i)||i==="_attrib"){continue}category=categories[i].category;lastRightPos=UNDEF;gridArr=axisConfig.gridArr=[];for(j in category){startms=numberFormatter.getDateValue(category[j].start).ms;endms=numberFormatter.getDateValue(category[j].end).ms;if(!category.hasOwnProperty(j)||j==="_attrib"||isNaN(startms)||isNaN(endms)){continue}args={elem:category[j],elemIndex:elemIndex,pos:elemIndex,dimension:{left:lastRightPos||axis.getPixel(startms),right:axis.getPixel(endms),top:axisStartPosition-spaceTaken+categories[i]._attrib.topPos,bottom:axisStartPosition-spaceTaken+categories[i]._attrib.bottomPos},type:"category",isHeader:false};lastRightPos=args.dimension.right;axis._drawProcessAndDataTableElement(args);elemIndex+=1;gridArr.push({x:args.dimension.left})}}}axis._drawGridLine();axis._disposeExtraProcessAndDataTableElement(elemIndex)};GanttTimeAxis.prototype._drawComponents=function _drawComponents(){var axisConfig=this.config,chartConfig=this.getFromEnv("chartConfig");this._drawCategories();if(chartConfig.scrolltodate){this.translateAxis(-(chartConfig.viewPortConfig.x*chartConfig.viewPortConfig.scaleX),0)}axisConfig.drawPlotlines&&this._drawPlotLine();prepareTrends(this);axisConfig.drawTrendLines&&this._drawTrendLine()};return GanttTimeAxis}(_ganttCommon2["default"]);exports["default"]=GanttTimeAxis},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _task=__webpack_require__(686);var _task2=_interopRequireDefault(_task);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _milestoneGanttAnimation=__webpack_require__(688);var _milestoneGanttAnimation2=_interopRequireDefault(_milestoneGanttAnimation);var _dependencyManager=__webpack_require__(125);var _schedular=__webpack_require__(129);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0;var clickHandler=function clickHandler(chart){return function(event){var ele=this;chart.plotEventHandler(ele,event,"MilestoneClick")}},rollOverHandler=function rollOverHandler(chart){return function(event){var ele=this,dataObj=ele.data("dataObj"),config=dataObj.config;chart.plotEventHandler(ele,event,"MilestoneRollOver");config.showHoverEffect&&dataObj.graphics.element.attr({fill:config.hoverFillColor,stroke:config.hoverBorderColor,"fill-opacity":config.hoverFillAlpha,"stroke-opacity":config.hoverBorderAlpha})}},rollOutHandler=function rollOutHandler(chart){return function(event){var ele=this,dataObj=ele.data("dataObj"),config=dataObj.config;chart.plotEventHandler(ele,event,"MilestoneRollOut");config.showHoverEffect&&dataObj.graphics.element.attr({fill:config.fillColor,stroke:config.borderColor,"fill-opacity":config.fillAlpha,"stroke-opacity":config.borderAlpha})}};(0,_dependencyManager.addDep)({name:"milestoneAnimation",type:"animationRule",extension:_milestoneGanttAnimation2["default"]});var Milestone=function(_Task){_inherits(Milestone,_Task);function Milestone(){_classCallCheck(this,Milestone);return _possibleConstructorReturn(this,_Task.apply(this,arguments))}Milestone.prototype.getName=function getName(){return"milestone"};Milestone.prototype.__setDefaultConfig=function __setDefaultConfig(){_Task.prototype.__setDefaultConfig.call(this);var config=this.config;config.showpercentlabel=0;config.showstartdate=0;config.showenddate=0;config.showlabels=UNDEF;config.showborder=1;config.borderthickness=1;config.showHoverEffect=1;config.slackFillColor="FF5E5E";config.font="";config.fontcolor="";config.fontsize="";config.color="";config.alpha="100";config.bordercolor="";config.borderalpha="100";config.hoverFillColor="";config.hoverFillAlpha="100";config.slackHoverFillColor=10;config.slackHoverFillAlpha="100"};Milestone.prototype.configureAttributes=function configureAttributes(){var dataset=this,config=dataset.config,jsonData=dataset.getFromEnv("dataSource"),userConfig=(0,_lib.extend2)({},jsonData.milestones&&jsonData.milestones.length?jsonData.milestones[0]:jsonData.milestones||{});(0,_lib.parseConfiguration)(userConfig,config,{milestones:true});if(!dataset.components){dataset.components={}}dataset._setConfigure();dataset.setState("dirty",true)};Milestone.prototype._setConfigure=function _setConfigure(newDataset){var dataset=this,chart=dataset.getFromEnv("chart"),yAxis=chart.getChildren("yAxis")[0],axisConfig=yAxis.config,jsonData=dataset.getFromEnv("dataSource"),JSONData=jsonData.milestones&&jsonData.milestones.length?jsonData.milestones[0]:jsonData.milestones||{},setDataArr=newDataset||JSONData.length?JSONData:JSONData.milestone,setDataLen=setDataArr&&setDataArr.length,colorM=dataset.getFromEnv("color-manager"),chartConfig=chart.config,numberFormatter=dataset.getFromEnv("number-formatter"),dataStore=dataset.components.data,style=chart.config.style,inCanStyle=style.inCanvasStyle,tasksMap=chart.components.tasksMap,dataObj=void 0,taskConfigObj=void 0,dataConfig=void 0,i=void 0,processMap=axisConfig.processes.processMap,processes=axisConfig.processes.process.process,processName=void 0,setData=void 0,sides=void 0,color=void 0,shape=void 0,depth=void 0,toolText=void 0,taskId=void 0,labelStyle=chart.config.milestoneLabelStyle,dateMs=void 0,milestoneDate=void 0;if(!dataStore){dataStore=dataset.components.data=[]}for(i=0;i<setDataLen;i+=1){setData=setDataArr[i];dataObj=dataStore[i];if(!dataObj){dataObj=dataStore[i]={config:{}}}dataConfig=dataObj.config;taskId=(0,_lib.getFirstValue)(setData.taskid,"").toLowerCase();shape=(0,_lib.pluck)(setData.shape,"polygon").toLowerCase();sides=(0,_lib.pluckNumber)(setData.numsides,5);depth=0;if(shape==="star"){depth=.4}else{shape=(0,_libGraphics.mapSymbolName)(sides);shape=(0,_libGraphics.mapSymbolName)(sides).split("-")[0]}color=(0,_lib.pluck)(setData.color,colorM.getColor("legendBorderColor"));toolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(setData.tooltext,setData.hovertext,chartConfig.milestonetooltext)));dateMs=numberFormatter.getDateValue(setData.date).ms;milestoneDate=numberFormatter.getFormattedDate(dateMs);if(toolText!==UNDEF&&tasksMap[taskId]){taskConfigObj=tasksMap[taskId].config;if(processMap[taskId]){processName=processMap[taskId].catObj.label||processMap[taskId].catObj.name}else{processName=processes[i]&&(processes[i].label||processes[i].name)}toolText=(0,_lib.parseTooltext)(toolText,[28,32,33,34,35,36],{date:milestoneDate,taskStartDate:taskConfigObj._startDate,taskEndDate:taskConfigObj._endDate,taskLabel:taskConfigObj.label,taskPercentComplete:taskConfigObj.percentComplete!==-1?numberFormatter.percentValue(taskConfigObj.percentComplete):"",processName:processName},setData)}else{toolText=milestoneDate}style=dataConfig.style=(0,_task.extractLabelStyle)({fontSize:setData.fontsize,fontFamily:setData.font,fontWeight:setData.fontbold,fontStyle:setData.fontitalic});dataConfig.textColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.fontcolor,chartConfig.milestonefontcolor,inCanStyle.color));(0,_lib.setLineHeight)(style);dataConfig.lineHeight=(0,_lib.pluck)(style&&style.lineHeight,labelStyle&&labelStyle.lineHeight);dataConfig.numSides=sides;dataConfig.startAngle=(0,_lib.pluckNumber)(setData.startangle,90);dataConfig.radius=setData.radius;dataConfig.origDate=setData.date;dataConfig.date=numberFormatter.getDateValue(setData.date);dataConfig.fillColor=(0,_libGraphics.getFirstColor)(color);dataConfig.fillAlpha=(0,_lib.pluckNumber)(setData.fillalpha,setData.alpha,100)*.01;dataConfig.borderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.bordercolor,color));dataConfig.borderAlpha=(0,_lib.pluckNumber)(setData.borderalpha,setData.alpha,100)*.01;dataConfig.displayValue=(0,_lib.parseUnsafeString)(setData.label);dataConfig.style=style;dataConfig.hoverFillColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.hoverfillcolor,chartConfig.milestonehoverfillcolor,(0,_libGraphics.getDarkColor)(color,80)));dataConfig.hoverFillAlpha=(0,_lib.pluckNumber)(setData.hoverfillalpha,chartConfig.milestonehoverfillalpha,setData.fillalpha,setData.alpha,100)*.01;dataConfig.hoverBorderColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(setData.hoverbordercolor,chartConfig.milestonehoverbordercolor,(0,_libGraphics.getDarkColor)((0,_lib.pluck)(setData.bordercolor,color),80)));dataConfig.hoverBorderAlpha=(0,_lib.pluckNumber)(setData.hoverborderalpha,chartConfig.milestonehoverborderalpha,setData.borderalpha,setData.alpha,100)*.01;dataConfig.showHoverEffect=(0,_lib.pluckNumber)(setData.showhovereffect,chartConfig.showmilestonehovereffect,chartConfig.showhovereffect,1);dataConfig.depth=depth;dataConfig.taskId=taskId;dataConfig.borderThickness=(0,_lib.pluckNumber)(setData.borderthickness,1);dataConfig.link=setData.link;dataConfig.toolText=toolText}if((0,_lib.pluckNumber)(JSONData.visible,1)){dataset.setState("visible",true)}else{dataset.setState("visible",false)}};Milestone.prototype.drawLabel=function drawLabel(){var dataset=this,chart=dataset.getFromEnv("chart"),animationManager=dataset.getFromEnv("animationManager"),tasksMap=chart.components.tasksMap,config=void 0,toolTipController=dataset.getFromEnv("toolTipController"),dataLabelContainer=dataset.getContainer("milestoneLabelContainer"),eventArgs=void 0,dataObj=void 0,i=void 0,labelElementDummy=void 0,labelElement=void 0,len=void 0,graphics=void 0,labelAttrs=void 0,taskObj=void 0,dataStore=dataset.components.data,style=void 0;for(i=0,len=dataStore.length;i<len;i++){dataObj=dataStore[i];config=dataObj.config;taskObj=tasksMap[config.taskId];graphics=dataObj.graphics;labelElementDummy=graphics.labelElement;eventArgs=config.eventArgs;labelAttrs=config._labelAttrs;style=config.style;if(config.displayValue!==""&&config.displayValue!==UNDEF&&taskObj){labelElement=graphics.labelElement=animationManager.setAnimation({el:labelElementDummy||"text",attr:labelAttrs,container:dataLabelContainer,component:dataset});if(!labelElementDummy){labelElement.click(clickHandler(chart)).hover(rollOverHandler(chart),rollOutHandler(chart))}else{labelElement.removeCSS();labelElement.show()}labelElement.css(style);toolTipController.enableToolTip(labelElement,config.toolText);labelElement.data("eventArgs",eventArgs).data("dataObj",dataObj)}else{labelElementDummy&&animationManager.setAnimation({el:labelElementDummy,component:dataset,callback:_task.hideFn,doNotRemove:true})}}};Milestone.prototype.draw=function draw(){var dataset=this,chart=dataset.getFromEnv("chart"),chartComponents=chart.components,components=dataset.components,toolTipController=dataset.getFromEnv("toolTipController"),xAxis=chart.getChildren("xAxis")[0],dataStore=components.data,taskMap=chartComponents.tasksMap,chartConfig=chart.config,canvas=chart.getChildren("canvas")[0],container=dataset.getContainer("milestoneContainer"),parentContainer=canvas.getChildContainer("milestoneGroup"),dataLabelContainer=dataset.getContainer("milestoneLabelContainer"),visible=dataset.getState("visible"),animationManager=dataset.getFromEnv("animationManager"),removeDataArr=dataset.components.removeDataArr||[],removeDataArrLen=removeDataArr.length,dataObj=void 0,taskObj=void 0,graphics=void 0,config=void 0,eventArgs=void 0,taskConfigObj=void 0,setElementDummy=void 0,setElement=void 0,xPos=void 0,yPos=void 0,polypath=void 0,radius=void 0,i=void 0,ln=void 0,labelAttrs=void 0,showTooltip=chartConfig.showtooltip;if(!container){container=dataset.addContainer("milestoneContainer",animationManager.setAnimation({el:"group",attr:{name:"milestone"},container:parentContainer,component:dataset}))}if(!visible){container.hide()}else{container.show()}if(!dataLabelContainer){dataLabelContainer=dataset.addContainer("milestoneLabelContainer",animationManager.setAnimation({el:"group",attr:{name:"labels"},container:parentContainer,component:dataset}))}if(!visible){dataLabelContainer.hide()}else{dataLabelContainer.show()}ln=dataStore&&dataStore.length;for(i=0;i<ln;i+=1){dataObj=dataStore[i];if(!dataObj){continue}config=dataObj.config;graphics=dataObj.graphics;taskObj=taskMap[config.taskId];!dataObj.graphics&&(dataObj.graphics={});setElementDummy=graphics.element;if(taskObj){taskConfigObj=taskObj.config;eventArgs=config.eventArgs={sides:config.sides,date:config.origDate,radius:config.radius,taskId:config.taskId,toolText:config.toolText,link:config.link,numSides:config.numSides};xPos=xAxis.getPixel(config.date.ms);yPos=taskConfigObj.yPos+taskConfigObj.height*.5;radius=(0,_lib.pluckNumber)(config.radius,taskConfigObj.height*.6);if((0,_task.checkInvalidValue)(xPos,yPos,radius)===false){continue}polypath=[config.numSides,xPos,yPos,radius,config.startAngle,config.depth];setElement=graphics.element=animationManager.setAnimation({el:setElementDummy||"polypath",label:"polypath",attr:{polypath:polypath,fill:config.fillColor,"fill-opacity":config.fillAlpha,stroke:config.borderColor,"stroke-opacity":config.borderAlpha,groupId:"gId"+i,cursor:config.link?"pointer":"","stroke-width":config.borderThickness},component:dataset,container:container});setElement.click(clickHandler(chart)).hover(rollOverHandler(chart),rollOutHandler(chart));setElement.show().data("eventArgs",eventArgs).data("dataObj",dataObj);if(showTooltip){toolTipController.enableToolTip(setElement,config.toolText)}else{toolTipController.disableToolTip(setElement)}labelAttrs=config._labelAttrs||(config._labelAttrs={});labelAttrs.x=xPos;labelAttrs.y=yPos;labelAttrs.text=config.displayValue;labelAttrs.groupId="gId"+i;labelAttrs.cursor=config.link?"pointer":"";labelAttrs.direction=chartConfig.textDirection;labelAttrs["text-anchor"]="middle";labelAttrs.fill=config.textColor}else{setElementDummy&&animationManager.setAnimation({el:setElementDummy,component:dataset,callback:_task.hideFn,doNotRemove:true})}}dataset.drawn?dataset.drawLabel():dataset.addJob("drawMilestoneLabels",dataset.drawLabel.bind(dataset),_schedular.priorityList.label);dataset.drawn=true;for(i=0;i<removeDataArrLen;i++){dataset._removeDataVisuals(removeDataArr.shift())}};return Milestone}(_task2["default"]);exports["default"]=Milestone},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.hideFn=exports.extractLabelStyle=exports.checkInvalidValue=undefined;var _column=__webpack_require__(331);var _column2=_interopRequireDefault(_column);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _dependencyManager=__webpack_require__(125);var _taskAnimation=__webpack_require__(687);var _taskAnimation2=_interopRequireDefault(_taskAnimation);var _schedular=__webpack_require__(129);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF=void 0;var BLANK="",BOLD="bold",ITALIC="italic",NORMAL="normal",PROCESS="PROCESS_",ROLLOVER="DataPlotRollOver",ROLLOUT="DataPlotRollOut",align={left:"start",right:"end",center:"middle"},xAlign={left:0,right:1,center:.5,undefined:.5},alignGutter={left:5,right:-5,center:0,undefined:0},stylePropValues={fontWeight:[NORMAL,BOLD],fontStyle:[NORMAL,ITALIC]},hideFn=function hideFn(){this.hide()},defined=function defined(obj){return obj!==UNDEF&&obj!==null},extractLabelStyle=function extractLabelStyle(styleObj){var style=void 0,prop=void 0;for(prop in styleObj){if(styleObj[prop]!==UNDEF){style=style||{};switch(prop){case"fontWeight":case"fontStyle":style[prop]=stylePropValues[prop][styleObj[prop]];break;default:style[prop]=styleObj[prop]}}}return style},isPercent=function isPercent(str){return/%/g.test(str)},checkInvalidValue=function checkInvalidValue(){var i=0,ii=arguments.length,allValuesValid=false,val=void 0;for(i=0;i<ii;i++){val=arguments[i];if(isNaN(val)){return false}else{allValuesValid=true}}return allValuesValid};(0,_dependencyManager.addDep)({name:"taskAnimation",type:"animationRule",extension:_taskAnimation2["default"]});var Task=function(_Column){_inherits(Task,_Column);function Task(){_classCallCheck(this,Task);var _this=_possibleConstructorReturn(this,_Column.call(this));_this.components={};return _this}Task.prototype.getName=function getName(){return"task"};Task.prototype.__setDefaultConfig=function __setDefaultConfig(){_Column.prototype.__setDefaultConfig.call(this);var config=this.config;config.showpercentlabel=UNDEF;config.showlabels=UNDEF;config.showborder=1;config.borderthickness=1;config.font="";config.fontcolor="";config.fontsize="";config.color="";config.alpha="100";config.angle=270;config.slackfillcolor=UNDEF;config.borderalpha="100";config.hoverfillcolor="";config.hoverfillalpha="100";config.slackhoverfillalpha="100";config.showstartdate=UNDEF;config.showenddate=UNDEF};Task.prototype.configureAttributes=function configureAttributes(){var dataset=this,jsonData=dataset.getFromEnv("dataSource"),userConfig=(0,_lib.extend2)({},jsonData.tasks&&jsonData.tasks.length?jsonData.tasks[0]:jsonData.tasks||{});(0,_lib.parseConfiguration)(userConfig,dataset.config,dataset.getFromEnv("chart").config,{task:true});if(!dataset.components){dataset.components={}}dataset._setConfigure();dataset.setState("dirty",true)};Task.prototype._setConfigure=function _setConfigure(newDataset){var dataset=this,datasetConfig=dataset.config,chart=dataset.getFromEnv("chart"),yAxis=chart.getChildren("yAxis")[0],axisConfig=yAxis.config,jsonData=dataset.getFromEnv("dataSource"),chartAttrs=jsonData.chart,JSONData=jsonData.tasks&&jsonData.tasks.length?jsonData.tasks[0]:jsonData.tasks||{},setDataArr=newDataset||JSONData.length?JSONData:JSONData.task,setDataLen=setDataArr&&setDataArr.length,colorM=dataset.getFromEnv("color-manager"),chartConfig=chart.config,numberFormatter=dataset.getFromEnv("number-formatter"),taskMix=chartConfig.taskbarfillmix,taskRatio=chartConfig.taskbarfillratio,showSlackAsFill=chartConfig.showslackasfill,dataStore=dataset.components.data,percentComplete=void 0,eDate=void 0,sDate=void 0,i=void 0,processMap=axisConfig.processes.processMap,processes=axisConfig.processes.process.process,processName=void 0,arrColor=void 0,arrAlpha=void 0,arrRatio=void 0,dataLabel=void 0,dInt=chartConfig.dateintooltip,dataObj=void 0,taskObj=void 0,alignVal={right:"right",left:"left",undefined:"center",center:"center"},id=void 0,tAlpha=void 0,tBorderAlpha=void 0,tBorderColor=void 0,label=void 0,color=void 0,fillAngle=void 0,showPercentLabel=void 0,tasksMap=chart.components.tasksMap={},inCanStyle=chartConfig.style.inCanvasStyle,toolText=void 0,slHovColor=void 0,slColor=void 0,tColorObj=void 0,tHovColor=void 0,tHovBorderColor=void 0,taskId=void 0,dataConfig=void 0,showtooltip=(0,_lib.pluckNumber)(chartAttrs.showtooltip,1),dataLabelStyle=chartConfig.dataLabelStyle,datasetLabelStyle=void 0,setLabelStyle=void 0;if(!dataStore){dataStore=dataset.components.data=[]}datasetConfig.showlabels=(0,_lib.pluck)(JSONData.showlabels,JSONData.showlabels,JSONData.showname,chartAttrs.showtasklabels,chartAttrs.showtasknames,0);datasetLabelStyle=datasetConfig.labelStyle=extractLabelStyle({fontSize:datasetConfig.fontSize,fontFamily:datasetConfig.font});(0,_lib.setLineHeight)(datasetConfig.labelStyle);if(setDataLen){for(i=0;i<setDataLen;i+=1){taskObj=setDataArr[i];id=(0,_lib.pluck)(taskObj.processid);if(id&&typeof id==="string"){id=id.toLowerCase()}taskId=taskObj.id;percentComplete=taskObj.percentcomplete;tAlpha=(0,_lib.pluckNumber)(taskObj.alpha,datasetConfig.alpha);color=(0,_lib.pluck)(taskObj.color,datasetConfig.color,colorM.getColor("plotFillColor"));tBorderAlpha=(0,_lib.pluckNumber)(taskObj.borderalpha,datasetConfig.borderalpha,"100");tBorderColor=(0,_lib.pluck)(taskObj.bordercolor,datasetConfig.bordercolor,colorM.getColor("plotBorderColor"));label=(0,_lib.getFirstValue)((0,_lib.pluck)(taskObj.label,taskObj.name),BLANK);arrColor=colorM.parseColorMix(color,taskMix);arrAlpha=colorM.parseAlphaList(tAlpha.toString(),arrColor.length);arrRatio=colorM.parseRatioList(taskRatio,arrColor.length);fillAngle=(0,_lib.pluckNumber)(taskObj.angle,datasetConfig.angle);dataObj=dataStore[i]||(dataStore[i]={config:{}});dataConfig=dataObj.config;dataConfig.index=i;dataConfig.link=taskObj.link;dataConfig.processId=PROCESS+i;dataConfig.textColor=(0,_libGraphics.getFirstColor)((0,_lib.pluck)(taskObj.fontcolor,datasetConfig.fontcolor,inCanStyle.color));dataConfig.style=extractLabelStyle({fontSize:taskObj.fontsize,fontFamily:taskObj.font});(0,_lib.setLineHeight)(dataConfig.style);setLabelStyle=dataConfig.style;dataConfig.lineHeight=(0,_lib.pluck)(setLabelStyle&&setLabelStyle.lineHeight,datasetLabelStyle&&datasetLabelStyle.lineHeight,dataLabelStyle&&dataLabelStyle.lineHeight);dataConfig.startMs=numberFormatter.getDateValue(taskObj.start).ms;dataConfig.endMs=numberFormatter.getDateValue(taskObj.end).ms;sDate=numberFormatter.getFormattedDate(dataConfig.startMs);eDate=numberFormatter.getFormattedDate(dataConfig.endMs);dataConfig.tAlpha=tAlpha;dataConfig.tBorderColor=tBorderColor;dataConfig.tBorderAlpha=tBorderAlpha;dataLabel=BLANK;dataConfig.percentComplete=percentComplete=Math.min((0,_lib.pluckNumber)(taskObj.percentcomplete,-1),100);dataConfig.labelAlign=alignVal[[(0,_lib.pluck)(taskObj.labelalign,chartConfig.tasklabelsalign).toLowerCase()]];dataConfig.showAsGroup=(0,_lib.pluckNumber)(taskObj.showasgroup,0);showPercentLabel=dataConfig.showPercentLabel=(0,_lib.pluckNumber)(taskObj.showpercentlabel,datasetConfig.showpercentlabel);if((0,_lib.pluckNumber)(taskObj.showlabel,taskObj.showname,datasetConfig.showlabels)){dataLabel=label}if(showPercentLabel&&percentComplete!==-1){dataLabel+=" "+percentComplete+"%"}dataConfig.percentComplete=percentComplete;tColorObj={FCcolor:{color:arrColor.join(),alpha:arrAlpha,ratio:arrRatio,angle:fillAngle}};slColor=colorM.parseColorMix((0,_lib.pluck)(taskObj.slackfillcolor,datasetConfig.slackfillcolor,chartConfig.slackfillcolor),taskMix);slColor=showSlackAsFill?{FCcolor:{color:slColor.join(),alpha:arrAlpha,ratio:arrRatio,angle:fillAngle}}:_lib.TRACKER_FILL;tHovColor={FCcolor:{color:colorM.parseColorMix((0,_lib.pluck)(taskObj.hoverfillcolor,datasetConfig.hoverfillcolor,chartConfig.taskhoverfillcolor,(0,_libGraphics.getDarkColor)(color,80)),taskMix).join(),alpha:colorM.parseAlphaList((0,_lib.pluck)(taskObj.hoverfillalpha,datasetConfig.hoverfillalpha).toString(),arrColor.length),ratio:arrRatio,angle:fillAngle}};tHovBorderColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(taskObj.hoverbordercolor,datasetConfig.hoverbordercolor,(0,_libGraphics.getDarkColor)(tBorderColor,80)),(0,_lib.pluck)(taskObj.hoverborderalpha,datasetConfig.hoverborderalpha,tBorderAlpha));slHovColor=showSlackAsFill?{FCcolor:{color:colorM.parseColorMix((0,_libGraphics.getDarkColor)((0,_lib.pluck)(taskObj.slackhoverfillcolor,datasetConfig.slackhoverfillcolor,chartConfig.slackfillcolor),80),taskMix).join(),alpha:colorM.parseAlphaList((0,_lib.pluck)(taskObj.slackhoverfillalpha,datasetConfig.slackhoverfillalpha,"100").toString(),arrColor.length),ratio:arrRatio,angle:fillAngle}}:_lib.TRACKER_FILL;dataConfig.color=(0,_lib.toRaphaelColor)(tColorObj);dataConfig.slackColor=(0,_lib.toRaphaelColor)(slColor);dataConfig.hoverFillColor=(0,_lib.toRaphaelColor)(tHovColor);dataConfig.hoverBorderColor=tHovBorderColor;dataConfig.slackHoverColor=(0,_lib.toRaphaelColor)(slHovColor);dataConfig.showHoverEffect=(0,_lib.pluckNumber)(taskObj.showhovereffect,datasetConfig.showhovereffect,chartAttrs.showhovereffect,1);dataConfig.taskHeight=(0,_lib.pluck)(taskObj.height,"35%");dataConfig.topPadding=(0,_lib.pluck)(taskObj.toppadding,"35%");dataConfig.showPercentLabel=showPercentLabel;dataConfig.endDate=(0,_lib.pluckNumber)(taskObj.showenddate,datasetConfig.showenddate)?eDate:UNDEF;dataConfig._endDate=eDate;dataConfig.startDate=(0,_lib.pluckNumber)(taskObj.showstartdate,datasetConfig.showstartdate)?sDate:UNDEF;dataConfig._startDate=sDate;dataConfig.shadow={opacity:Math.max(tAlpha,tBorderAlpha)/100,inverted:true};dataConfig.id=id;dataConfig.taskId=taskId;dataConfig.borderColor=(0,_libGraphics.convertColor)(tBorderColor,tBorderAlpha);dataConfig.borderThickness=(0,_lib.pluckNumber)(taskObj.showborder,datasetConfig.showborder)?(0,_lib.pluckNumber)(taskObj.borderthickness,datasetConfig.borderthickness):0;toolText=(0,_lib.getValidValue)((0,_lib.parseUnsafeString)((0,_lib.pluck)(taskObj.tooltext,datasetConfig.hovertext,datasetConfig.plottooltext,chartAttrs.plottooltext)));if(showtooltip){if(toolText!==UNDEF){if(processMap[id]){processName=processMap[id].catObj.label||processMap[id].catObj.name}else{processName=processes[i]&&(processes[i].label||processes[i].name)}toolText=(0,_lib.parseTooltext)(toolText,[3,28,29,30,31],{end:eDate,start:sDate,label:label,percentComplete:percentComplete!==-1?numberFormatter.percentValue(percentComplete):BLANK,processName:processName},datasetConfig)}else{toolText=(label!==BLANK?label+(dInt?", ":BLANK):BLANK)+(dInt?sDate+" - "+eDate:BLANK)}}dataConfig.label=dataLabel;dataConfig.toolText=toolText;typeof taskId==="string"&&(taskId=taskId.toLowerCase());if(taskId!==UNDEF){tasksMap[taskId]=dataStore[i]}}}if((0,_lib.pluckNumber)(JSONData.visible,1)){dataset.setState("visible",true)}else{dataset.setState("visible",false)}};Task.prototype.slackElemHandlers=function slackElemHandlers(slackElem,chart){var dataset=this;if(slackElem){slackElem.click(function(e){var ele=this;chart.plotEventHandler(ele,e)}).hover(function(data){var ele=this,dataObj=ele.data("dataObj");chart.plotEventHandler(ele,data,ROLLOVER);dataObj.config.showHoverEffect&&dataset.taskHoverHandler.call(ele,chart)},function(data){var ele=this,dataObj=ele.data("dataObj");chart.plotEventHandler(ele,data,ROLLOUT);dataObj.config.showHoverEffect&&dataset.taskHoverOutHandler.call(ele,chart)})}};Task.prototype.trimData=function trimData(datasetJSON){if(!this.config.JSONData){return}var dataSet=this,config=dataSet.config,context=config&&config.context,prevCatlen=context&&context.prevCatlen,xAxis=dataSet.getFromEnv("xAxis"),currCatLen=xAxis.getProcessLen(),catDiff=prevCatlen-currCatLen,prevData=config.JSONData,prevDataLength=prevData.task&&prevData.task.length,currDataLength=datasetJSON.task&&datasetJSON.task.length||0,dataDiff=prevDataLength-currDataLength,diff=void 0,startIndex=void 0;if(catDiff>dataDiff){diff=catDiff;startIndex=currCatLen}else{diff=dataDiff;startIndex=currDataLength}if(diff>0){this.removeData(startIndex,diff,false)}};Task.prototype.getAxisValuePadding=function getAxisValuePadding(){return this.config.defaultPadding};Task.prototype.drawLabel=function drawLabel(){var dataset=this,chart=dataset.getFromEnv("chart"),animationManager=dataset.getFromEnv("animationManager"),dataStore=dataset.components.data,valElemDummy,startValElemDummy,endValElemDummy,valElem,startValElem,endValElem,config,graphics,dataObj,eventArgs,textAttr,startLabelTextAttr,endLabelTextAttr,dataLabelContainer=dataset.getContainer("dataLabelContainer"),i,len=dataStore.length;for(i=0;i<len;i++){dataObj=dataStore[i];config=dataObj.config;graphics=dataObj.graphics;eventArgs=config.eventArgs;valElemDummy=graphics.valElem;if(defined(config.label)&&config.label!==BLANK){textAttr=config._labelTextAttr;valElem=graphics.valElem=animationManager.setAnimation({el:valElemDummy||"text",attr:textAttr,container:dataLabelContainer,component:dataset});if(!valElemDummy){valElem.data("dataset",dataset);dataset.slackElemHandlers(valElem,chart)}else{valElem.removeCSS();valElem.show()}valElem.css(config.style);valElem.data("dataObj",dataObj).data("dataObj",dataObj).data("eventArgs",eventArgs)}else{valElemDummy&&animationManager.setAnimation({el:valElemDummy,component:dataset,callback:hideFn,doNotRemove:true})}startValElemDummy=graphics.startValElem;if(defined(config.startDate)&&config.startDate!==BLANK){startLabelTextAttr=config._startLabelTextAttr;startValElem=graphics.startValElem=animationManager.setAnimation({el:startValElemDummy||"text",attr:startLabelTextAttr,container:dataLabelContainer,component:dataset});if(!startValElemDummy){startValElem.data("dataset",dataset);dataset.slackElemHandlers(startValElem,chart)}else{startValElem.removeCSS();startValElem.show()}startValElem.css(config.style);startValElem.data("dataObj",dataObj).data("chart",chart).data("eventArgs",eventArgs)}else{startValElemDummy&&animationManager.setAnimation({el:startValElemDummy,component:dataset,callback:hideFn,doNotRemove:true})}endValElemDummy=graphics.endValElem;if(defined(config.endDate)&&config.endDate!==BLANK){endLabelTextAttr=config._endLabelTextAttr;endValElem=graphics.endValElem=animationManager.setAnimation({el:endValElemDummy||"text",attr:endLabelTextAttr,container:dataLabelContainer,component:dataset});if(!endValElemDummy){endValElem.data("dataset",dataset);dataset.slackElemHandlers(endValElem,chart)}else{endValElem.removeCSS();endValElem.show().css(config.style)}endValElem.data("dataObj",dataObj).data("chart",chart).data("eventArgs",eventArgs)}else{endValElemDummy&&animationManager.setAnimation({el:endValElemDummy,component:dataset,callback:hideFn,doNotRemove:true})}}};Task.prototype.taskHoverHandler=function taskHoverHandler(){var ele=this,dataObj=ele.data("dataObj")||{},dataset=ele.data("dataset"),dataStore=dataset.components.data,config=dataObj.config||{},index=config.index,graphics=dataStore[index]&&dataStore[index].graphics,attrib={fill:config.hoverFillColor,stroke:config.hoverBorderColor};if(config.percentComplete!==-1&&!config.showAsGroup){graphics.slackElem.attr({fill:config.slackHoverColor});graphics.taskFill.attr({fill:config.hoverFillColor});delete attrib.fill}graphics.element.attr(attrib)};Task.prototype.taskHoverOutHandler=function taskHoverOutHandler(){var ele=this,dataObj=ele.data("dataObj")||{},dataset=ele.data("dataset")||{},dataStore=dataset.components.data,config=dataObj.config||{},index=config.index,graphics=dataStore[index]&&dataStore[index].graphics,attrib={fill:config.color,stroke:config.borderColor,"stroke-width":config.borderThickness,"stroke-dasharray":config.dashedStyle};if(config.percentComplete!==-1&&!config.showAsGroup){graphics.slackElem.attr({fill:config.slackColor});graphics.taskFill.attr({fill:config.color});delete attrib.fill}graphics.element.attr(attrib)};Task.prototype.parsePlotAttributes=function parsePlotAttributes(dataObj,index){var dataset=this,chart=dataset.getFromEnv("chart"),jsonData=chart.getFromEnv("dataSource"),chartConfig=chart.config,canvasTop=chartConfig.canvasTop,xAxis=chart.getChildren("xAxis")[0],yAxis=chart.getChildren("yAxis")[0],config=void 0,endX=void 0,startMs=void 0,endMs=void 0,setLink=void 0,height=void 0,id=void 0,pHeight=void 0,width=void 0,width2=void 0,xPos=void 0,yPos=void 0,borderThickness=void 0,taskBarElementAttrs=void 0,crispBox=void 0,halfH=void 0,txtAlign=void 0,borderFill=void 0,padding=void 0,incrementId=index,datePadding=chartConfig.datepadding,taskHeight=void 0,viewPortConfig=chartConfig.viewPortConfig,x=viewPortConfig.x,labelTextAttr=void 0,endLabelTextAttr=void 0,startLabelTextAttr=void 0,proLen=jsonData.processes.process&&jsonData.processes.process.length,scaleX=viewPortConfig.scaleX,taskBarRadius=chartConfig.taskbarroundradius,cursor=void 0,processDimention=void 0,lineHeight=void 0;config=dataObj&&dataObj.config;!dataObj.graphics&&(dataObj.graphics={});startMs=config&&config.startMs;endMs=config&&config.endMs;if(typeof dataObj==="undefined"||typeof startMs==="undefined"||endMs===null){return}taskHeight=config.taskHeight;setLink=config.link;borderThickness=config.borderThickness;id=config.id;borderFill=config.color;lineHeight=config.lineHeight;if(incrementId>proLen-1){incrementId=0}if(typeof config.id!=="undefined"){processDimention=yAxis.getProcessPositionById(id)}else{processDimention=yAxis.getProcessPositionByIndex(incrementId)}incrementId++;pHeight=processDimention.height;padding=pHeight*(isPercent(config.topPadding)&&parseFloat(config.topPadding,10)*.01)||(0,_lib.pluckNumber)(config.topPadding,pHeight);height=config.height=pHeight*(isPercent(taskHeight)&&parseFloat(taskHeight,10)*.01)||(0,_lib.pluckNumber)(taskHeight,pHeight);xPos=config.xPos=xAxis.getPixel(config.startMs)+x*scaleX;endX=xAxis.getPixel(config.endMs)+x*scaleX;width=config.width=Math.abs(width2=endX-xPos);yPos=processDimention.bottom+canvasTop-pHeight;yPos=config.yPos=yPos+Math.min(padding,pHeight-height);halfH=height*.5;crispBox=(0,_lib.crispBound)(xPos,yPos,width,height,borderThickness);xPos=crispBox.x;yPos=crispBox.y;width=crispBox.width;height=crispBox.height;if(checkInvalidValue(xPos,yPos,width,height)===false){config.inValidValue=true;return}config.props={element:{},perComElem:{},slackElem:{}};if(config.showAsGroup){taskBarElementAttrs={path:["M",xPos,yPos,"V",yPos+height,"L",xPos+halfH,yPos+halfH,"H",xPos+width-halfH,"L",xPos+width,yPos+height,"V",yPos,"H",xPos]}}else{taskBarElementAttrs={x:crispBox.x,y:crispBox.y,width:crispBox.width||1,height:height}}Object.assign(taskBarElementAttrs,{fill:borderFill,stroke:config.borderColor,cursor:setLink?"pointer":BLANK,r:taskBarRadius,"stroke-width":borderThickness,width:crispBox.width||1});config.eventArgs={processId:config.processId,taskId:config.taskId,start:config._startDate,end:config._endDate,showAsGroup:config.showAsGroup,link:config.link,sourceType:"task",percentComplete:config.percentComplete!==-1};if(config.percentComplete!==-1&&!config.showAsGroup){width2=width*config.percentComplete*.01;borderFill=_lib.TRACKER_FILL;config.props.perComElem={attr:{x:xPos,y:yPos,height:height,width:width2,fill:config.color,cursor:setLink?"pointer":BLANK,"stroke-width":0}};config.props.slackElem={attr:{x:xPos+width2||1,y:yPos,width:width-width2,height:height,fill:config.slackColor,cursor:setLink?"pointer":BLANK,"stroke-width":0}};taskBarElementAttrs.fill=borderFill}txtAlign=config.labelAlign;labelTextAttr=config._labelTextAttr||(config._labelTextAttr={});config.props.element.attr=taskBarElementAttrs;labelTextAttr.x=xPos+width*xAlign[txtAlign]+alignGutter[txtAlign];labelTextAttr.y=yPos-parseInt(lineHeight,10)*.5-chartConfig.tasklabelspadding;labelTextAttr.text=config.label;labelTextAttr.direction=chartConfig.textDirection;labelTextAttr["text-anchor"]=align[txtAlign];labelTextAttr.cursor=cursor;labelTextAttr.fill=config.textColor;labelTextAttr["line-height"]=lineHeight;startLabelTextAttr=config._startLabelTextAttr||(config._startLabelTextAttr={});startLabelTextAttr.x=xPos-2-datePadding;startLabelTextAttr.y=yPos+height*.5;startLabelTextAttr.text=config.startDate;startLabelTextAttr["text-anchor"]="end";startLabelTextAttr.cursor=cursor;startLabelTextAttr.direction=chartConfig.textDirection;startLabelTextAttr.fill=config.textColor;startLabelTextAttr["line-height"]=lineHeight;endLabelTextAttr=config._endLabelTextAttr||(config._endLabelTextAttr={});endLabelTextAttr.x=xPos+width+2+datePadding;endLabelTextAttr.y=yPos+height*.5;endLabelTextAttr.text=config.endDate;endLabelTextAttr.cursor=cursor;endLabelTextAttr.direction=chartConfig.textDirection;endLabelTextAttr["text-anchor"]="start";endLabelTextAttr.fill=config.textColor;endLabelTextAttr["line-height"]=lineHeight;config.cursor=cursor};Task.prototype.allocatePosition=function allocatePosition(){var dataset=this,dsStore=dataset.components.data||[],length=dsStore.length,i=void 0,dataObj=void 0;for(i=0;i<length;i++){dataObj=dsStore[i];dataset.parsePlotAttributes(dataObj,i)}};Task.prototype._removeDataVisuals=function _removeDataVisuals(dataObj){var dataset=this,animationManager=dataset.getFromEnv("animationManager"),ele=void 0,graphics=void 0,graphicsObj=void 0;if(!dataObj){return}graphics=dataObj.graphics;for(ele in graphics){graphicsObj=graphics[ele];graphicsObj&&animationManager.setAnimation({el:graphicsObj,component:dataset})}};Task.prototype.draw=function draw(){var dataset=this,i=void 0,visible=dataset.getState("visible"),chart=dataset.getFromEnv("chart"),toolTipController=dataset.getFromEnv("toolTipController"),chartConfig=chart.config,canvas=chart.getChildren("canvas")[0],animationManager=dataset.getFromEnv("animationManager"),len=void 0,parentContainer=canvas.getChildContainer("taskGroup"),components=dataset.components,dataStore=components.data,dataObj=void 0,config=void 0,graphics=void 0,removeDataArr=components.removeDataArr,removeDataArrLen=removeDataArr&&removeDataArr.length,dataLabelsLayer=chart.getChildContainer("datalabelsGroup"),labelsGroup=canvas.getContainer("labelsGroup"),dataLabelContainer=dataset.getContainer("dataLabelContainer"),isContextChanged=dataset._contextChanged(),container=dataset.getContainer("taskColumnContainer"),shadowContainer=dataset.getContainer("taskColumnShadowContainer"),startMs=void 0,endMs=void 0,toolText=void 0,taskBarElement=void 0,perComElem=void 0,perComElemDummy=void 0,slackElem=void 0,slackElemDummy=void 0,elemType=void 0,taskBarElementAttrs=void 0,eventArgs=void 0,shadow=chartConfig.showshadow,conf=dataset.config;if(!dataset.getState("removed")&&!dataset.getState("dirty")&&!(isContextChanged&&visible)){return}if(!container){container=dataset.addContainer("taskColumnContainer",animationManager.setAnimation({el:"group",attr:{name:"columns"},container:parentContainer,component:dataset}))}if(!visible){container.hide()}else{container.show()}if(!labelsGroup){labelsGroup=canvas.addContainer("labelsGroup",animationManager.setAnimation({el:"group",attr:{name:"task-plot-labels"},container:dataLabelsLayer,component:canvas}))}if(!dataLabelContainer){dataLabelContainer=dataset.addContainer("dataLabelContainer",animationManager.setAnimation({el:"group",attr:{name:"labels"},container:labelsGroup,component:dataset}))}else{dataLabelContainer.removeCSS()}if(!visible){dataLabelContainer.hide()}else{dataLabelContainer.show()}labelsGroup=animationManager.setAnimation({el:labelsGroup,attr:{transform:"T"+-chart.config.xOffset+",0"},component:canvas});dataLabelContainer.css(conf.labelStyle);if(!shadowContainer){shadowContainer=dataset.addContainer("taskColumnShadowContainer",animationManager.setAnimation({el:"group",attr:{name:"shadow"},container:parentContainer,component:dataset}).toBack());if(!visible){shadowContainer.hide()}}len=dataStore.length;for(i=0;i<len;i++){dataObj=dataStore[i];config=dataObj&&dataObj.config;!dataObj.graphics&&(dataObj.graphics={});graphics=dataObj.graphics;startMs=config&&config.startMs;endMs=config&&config.endMs;if(typeof dataObj==="undefined"||typeof startMs==="undefined"||endMs===null){continue}toolText=config.toolText;if(config.inValidValue){continue}taskBarElement=graphics.element;elemType=config.showAsGroup?"path":"rect";if(taskBarElement&&taskBarElement.type!==elemType){taskBarElement.remove();taskBarElement=graphics.element=null}taskBarElementAttrs=config.props.element.attr;graphics.element=animationManager.setAnimation({el:taskBarElement||elemType,label:elemType,attr:taskBarElementAttrs,container:container,component:dataset});if(!taskBarElement){taskBarElement=graphics.element;taskBarElement.data("dataset",dataset);dataset.slackElemHandlers(taskBarElement,chart)}eventArgs=config.eventArgs;if(config.percentComplete!==-1&&!config.showAsGroup){perComElemDummy=graphics.taskFill;slackElemDummy=graphics.slackElem;perComElem=graphics.taskFill=animationManager.setAnimation({el:perComElemDummy||"rect",attr:config.props.perComElem.attr,container:container,component:dataset});if(!perComElemDummy){dataset.slackElemHandlers(perComElem,chart)}slackElem=graphics.slackElem=animationManager.setAnimation({el:slackElemDummy||"rect",attr:config.props.slackElem.attr,container:container,component:dataset});if(!slackElemDummy){dataset.slackElemHandlers(slackElem,chart)}perComElem.show();perComElem.data("chart",chart).data("dataObj",dataObj).data("dataset",dataset);toolTipController.enableToolTip(perComElem,toolText);slackElem.show();perComElem&&perComElem.data("eventArgs",eventArgs);slackElem&&slackElem.data("eventArgs",eventArgs).data("dataObj",dataObj).data("dataset",dataset).data("chart",chart)}else{graphics.taskFill&&animationManager.setAnimation({el:graphics.taskFill,component:dataset,callback:hideFn,doNotRemove:true});graphics.slackElem&&animationManager.setAnimation({el:graphics.slackElem,component:dataset,callback:hideFn,doNotRemove:true})}taskBarElement.show().shadow({opacity:shadow},shadowContainer).data("dataObj",dataObj).data("chart",chart).data("dataset",dataset).data("eventArgs",eventArgs);toolTipController.enableToolTip(taskBarElement,toolText)}dataset.drawn?dataset.drawLabel():dataset.addJob("drawLabel",dataset.drawLabel.bind(dataset),_schedular.priorityList.label);dataset.drawn=true;for(i=0;i<removeDataArrLen;i++){dataset._removeDataVisuals(removeDataArr.shift())}};return Task}(_column2["default"]);exports.checkInvalidValue=checkInvalidValue;exports.extractLabelStyle=extractLabelStyle;exports.hideFn=hideFn;exports["default"]=Task},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.dataset.task":function initialDatasetTask(){return{"rect.appearing":function rectAppearing(input){return[{initialAttr:{width:0},finalAttr:{width:input.attr.width},slot:"middle"}]},"path.appearing":function pathAppearing(input){var inputPath=input.attr.path,path=inputPath.slice(0,3);return[{initialAttr:{path:path},finalAttr:{path:inputPath},slot:"middle"}]}}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.dataset.milestone":function initialDatasetMilestone(){return{"polypath.appearing":function polypathAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"middle",startEnd:{start:.9,end:1}}]}}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _task=__webpack_require__(686);var _task2=_interopRequireDefault(_task);var _lib=__webpack_require__(118);var _libGraphics=__webpack_require__(122);var _connectorGanttAnimation=__webpack_require__(690);var _connectorGanttAnimation2=_interopRequireDefault(_connectorGanttAnimation);var _dependencyManager=__webpack_require__(125);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var connectorClick=function connectorClick(chart){return function(e){var ele=this;chart.plotEventHandler(ele,e,"ConnectorClick")}},rollOverHandler=function rollOverHandler(chart){return function(event){var ele=this,data=ele.data("dataObj"),config=data.config,chartComponents=chart.components,taskMap=chartComponents.tasksMap,stTObj=taskMap[config.fromTaskId],endTObj=taskMap[config.toTaskId],attr={stroke:config.hoverColor,"stroke-dasharray":config.dashedStyle,"stroke-width":config.hoverThickness},connector=data.graphics.connector;chart.plotEventHandler(ele,event,"ConnectorRollOver");if(config.showHoverEffect){[stTObj,endTObj].forEach(function(obj){var attrib={fill:obj.config.hoverFillColor,stroke:obj.config.hoverBorderColor},percentComplete=obj.config.percentComplete,slackGraphic=obj.graphics.slackElem,element=obj.graphics.element,percentCompleteGraphic=obj.graphics.taskFill;if(percentComplete&&!obj.config.showAsGroup){slackGraphic&&slackGraphic.attr({fill:obj.config.slackHoverColor});percentCompleteGraphic&&percentCompleteGraphic.attr({fill:obj.config.hoverFillColor,stroke:obj.config.hoverBorderColor});delete attrib.fill}element&&element.attr(attrib)});connector&&connector.attr(attr)}}},rollOutHandler=function rollOutHandler(chart){return function(event){var ele=this,data=ele.data("dataObj"),config=data.config,chartComponents=chart.components,taskMap=chartComponents.tasksMap,stTObj=taskMap[config.fromTaskId],endTObj=taskMap[config.toTaskId],attr={stroke:config.color,"stroke-width":config.thickness,"stroke-dasharray":config.dashedStyle},connector=data.graphics.connector;chart.plotEventHandler(ele,event,"ConnectorRollOut");if(config.showHoverEffect){[stTObj,endTObj].forEach(function(obj){var attrib={fill:obj.config.color,stroke:obj.config.borderColor,"stroke-width":obj.config.borderThickness,"stroke-dasharray":obj.config.dashedStyle},percentComplete=obj.config.percentComplete,slackGraphic=obj.graphics.slackElem,element=obj.graphics.element,percentCompleteGraphic=obj.graphics.taskFill;if(percentComplete&&!obj.config.showAsGroup){slackGraphic&&slackGraphic.attr({fill:obj.config.slackColor});percentCompleteGraphic&&percentCompleteGraphic.attr({fill:obj.config.color});delete attrib.fill}element&&element.attr(attrib)});connector&&connector.attr(attr)}}};(0,_dependencyManager.addDep)({name:"connectorAnimation",type:"animationRule",extension:_connectorGanttAnimation2["default"]});var Connector=function(_Task){_inherits(Connector,_Task);function Connector(){_classCallCheck(this,Connector);return _possibleConstructorReturn(this,_Task.apply(this,arguments))}Connector.prototype.getName=function getName(){return"connector"};Connector.prototype.__setDefaultConfig=function __setDefaultConfig(){_Task.prototype.__setDefaultConfig.call(this);var config=this.config;config.isdashed=1;config.thickness=1};Connector.prototype.configureAttributes=function configureAttributes(){var dataset=this,jsonData=dataset.getFromEnv("dataSource"),userConfig=(0,_lib.extend2)({},jsonData.connectors&&jsonData.connectors.length?jsonData.connectors[0]:jsonData.connectors||{});(0,_lib.parseConfiguration)(userConfig,dataset.config,dataset.getFromEnv("chart").config,{connector:true});if(!dataset.components){dataset.components={}}dataset._setConfigure();dataset.setState("dirty",true)};Connector.prototype._setConfigure=function _setConfigure(newDataset){var dataset=this,datasetConfig=dataset.config,chart=dataset.getFromEnv("chart"),jsonData=dataset.getFromEnv("dataSource"),JSONData=jsonData.connectors&&jsonData.connectors.length?jsonData.connectors[0]:jsonData.connectors||{},setDataArr=newDataset||JSONData.length?JSONData:JSONData.connector,setDataLen=setDataArr&&setDataArr.length||0,colorM=chart.getFromEnv("color-manager"),chartConfig=chart.config,dataStore=dataset.components.data,i=void 0,dataObj=void 0,setData=void 0,config=void 0,cnColor=void 0,cnAlpha=void 0,cnThickness=void 0,cnIsDashed=void 0;if(!dataStore){dataStore=dataset.components.data=[]}for(i=0;i<setDataLen;i+=1){setData=setDataArr[i];dataObj=dataStore[i];if(!dataObj){dataObj=dataStore[i]={config:{}}}!dataObj.config&&(dataObj.config={});config=dataObj.config;cnColor=(0,_lib.pluck)(setData.color,datasetConfig.color,colorM.getColor("plotBorderColor"));cnAlpha=(0,_lib.pluckNumber)(setData.alpha,datasetConfig.alpha,100);cnThickness=(0,_lib.pluckNumber)(setData.thickness,datasetConfig.thickness,1);cnIsDashed=(0,_lib.pluckNumber)(setData.isdashed,datasetConfig.isdashed,1);config.fromTaskId=(0,_lib.getFirstValue)(setData.fromtaskid,"").toLowerCase();config.toTaskId=(0,_lib.getFirstValue)(setData.totaskid,"").toLowerCase();config.fromTaskConnectStart=(0,_lib.pluckNumber)(setData.fromtaskconnectstart,0);config.toTaskConnectStart=(0,_lib.pluckNumber)(setData.totaskconnectstart,1);config.color=(0,_libGraphics.convertColor)(cnColor);config.alpha=cnAlpha*.01;config.link=setData.link;config.showHoverEffect=(0,_lib.pluckNumber)(setData.showhovereffect,datasetConfig.showhovereffect,chartConfig.showconnectorhovereffect,1);config.hoverColor=(0,_libGraphics.convertColor)((0,_lib.pluck)(setData.hovercolor,datasetConfig.hovercolor,chartConfig.connectorhovercolor,(0,_libGraphics.getDarkColor)(cnColor,80)),(0,_lib.pluckNumber)(setData.hoveralpha,datasetConfig.hoveralpha,chartConfig.connectorhoveralpha,cnAlpha));config.hoverThickness=(0,_lib.pluckNumber)(setData.hoverthickness,datasetConfig.hoverthickness,chartConfig.connectorhoverthickness,cnThickness);config.thickness=cnThickness;config.dashedStyle=cnIsDashed?(0,_lib.getDashStyle)((0,_lib.pluckNumber)(setData.dashlen,datasetConfig.dashlen,5),(0,_lib.pluckNumber)(setData.dashgap,datasetConfig.dashgap,cnThickness),cnThickness):"none"}if((0,_lib.pluckNumber)(JSONData.visible,1)){dataset.setState("visible",true)}else{dataset.setState("visible",false)}};Connector.prototype.draw=function draw(){var dataset=this,chart=dataset.getFromEnv("chart"),chartComponents=chart.components,dataStore=dataset.components.data,animationManager=dataset.getFromEnv("animationManager"),chartConfig=chart.config,ln=dataStore.length,taskMap=chartComponents.tasksMap,cExt=chartConfig.connectorextension,canvas=chart.getChildren("canvas")[0],parentContainer=canvas.getChildContainer("connectorGroup"),container=dataset.getContainer("connectorContainer"),visible=dataset.getState("visible"),isContextChanged=dataset._contextChanged(),removeDataArr=dataset.components.removeDataArr||[],removeDataArrLen=removeDataArr.length,startTaskId=void 0,endTaskId=void 0,stTObj=void 0,endTObj=void 0,dataObj=void 0,isStraightLine=void 0,stY=void 0,etY=void 0,stx1=void 0,stx2=void 0,etx1=void 0,etx2=void 0,diff=void 0,cnCase=void 0,config=void 0,stTConfig=void 0,endTConfig=void 0,cPath=void 0,tH=void 0,graphics=void 0,connectorDummy=void 0,connector=void 0,eventArgs=void 0,trackerElementDummy=void 0,trackerElement=void 0,i=void 0;if(!dataset.getState("removed")&&!dataset.getState("dirty")&&!(isContextChanged&&visible)){return}if(!container){container=dataset.addContainer("connectorContainer",animationManager.setAnimation({el:"group",attr:{name:"connectors"},container:parentContainer,component:dataset}));if(!visible){container.hide()}else{container.show()}}for(i=0;i<=ln;i+=1){dataObj=dataStore[i];if(!dataObj){continue}config=dataObj.config;!dataObj.graphics&&(dataObj.graphics={});graphics=dataObj.graphics;startTaskId=config.fromTaskId&&config.fromTaskId.toLowerCase();endTaskId=config.toTaskId&&config.toTaskId.toLowerCase();stTObj=taskMap[startTaskId];endTObj=taskMap[endTaskId];connectorDummy=graphics.connector;if(stTObj&&endTObj){stTConfig=stTObj.config;endTConfig=endTObj.config;stY=stTConfig.yPos+stTConfig.height*.5;etY=endTConfig.yPos+endTConfig.height*.5;isStraightLine=stY==etY;stx1=stTConfig.xPos;stx2=stTConfig.xPos+stTConfig.width;etx1=endTConfig.xPos;etx2=endTConfig.xPos+endTConfig.width;if((0,_task.checkInvalidValue)(stx1,stx2,etx1,etx2)===false){continue}diff=0;cnCase=0;if(config.fromTaskConnectStart===0&&config.toTaskConnectStart===1){cnCase=1}if(config.fromTaskConnectStart===0&&config.toTaskConnectStart===0){cnCase=2}if(config.fromTaskConnectStart===1&&config.toTaskConnectStart===1){cnCase=3}if(config.fromTaskConnectStart===1&&config.toTaskConnectStart===0){cnCase=4}if(isStraightLine){tH=stTConfig.height;switch(cnCase){case 1:diff=(etx1-stx2)/10;cPath=["M",stx2,stY,stx2+diff,stY,"L",stx2+diff,stY,stx2+diff,stY-tH,"L",stx2+diff,stY-tH,etx1-diff,stY-tH,"L",etx1-diff,stY-tH,etx1-diff,stY,"L",etx1-diff,stY,etx1,etY];break;case 2:cPath=["M",stx2,stY,stx2+cExt,stY,"L",stx2+cExt,stY,stx2+cExt,stY-tH,"L",stx2+cExt,stY-tH,etx2+cExt,stY-tH,"L",etx2+cExt,etY-tH,etx2+cExt,etY,etx2,etY];break;case 3:cPath=["M",stx1,stY,stx1-cExt,stY,"L",stx1-cExt,stY,stx1-cExt,stY-tH,"L",stx1-cExt,stY-tH,etx1-cExt,stY-tH,"L",etx1-cExt,stY-tH,etx1-cExt,stY,"L",etx1-cExt,stY,etx1,stY];break;case 4:cPath=["M",stx1,stY,stx1-cExt,stY,"L",stx1-cExt,stY,stx1-cExt,stY-tH,"L",stx1-cExt,stY-tH,etx2+cExt,stY-tH,"L",etx2+cExt,stY-tH,etx2+cExt,stY,"L",etx2+cExt,stY,etx2,stY];break}}else{switch(cnCase){case 1:cPath=["M",stx2,stY,stx2+(etx1-stx2)/2,stY,"L",stx2+(etx1-stx2)/2,stY,stx2+(etx1-stx2)/2,etY,"L",stx2+(etx1-stx2)/2,etY,etx1,etY];if(stx2<=etx1){cPath=["M",stx2,stY,stx2+(etx1-stx2)/2,stY,"L",stx2+(etx1-stx2)/2,stY,stx2+(etx1-stx2)/2,etY,"L",stx2+(etx1-stx2)/2,etY,etx1,etY]}else{cPath=["M",stx2,stY,stx2+cExt,stY,"L",stx2+cExt,stY,stx2+cExt,stY+(etY-stY)/2,"L",stx2+cExt,stY+(etY-stY)/2,etx1-cExt,stY+(etY-stY)/2,"L",etx1-cExt,stY+(etY-stY)/2,etx1-cExt,etY,"L",etx1-cExt,etY,etx1,etY]}break;case 2:diff=etx2-stx2<0?0:etx2-stx2;cPath=["M",stx2,stY,stx2+cExt+diff,stY,"L",stx2+cExt+diff,stY,stx2+cExt+diff,etY,"L",stx2+cExt+diff,etY,etx2,etY];break;case 3:diff=stx1-etx1<0?0:stx1-etx1;cPath=["M",stx1,stY,stx1-cExt-diff,stY,"L",stx1-cExt-diff,stY,stx1-cExt-diff,etY,"L",stx1-cExt-diff,etY,etx1,etY];break;case 4:if(stx1>etx2){cPath=["M",stx1,stY,stx1-(stx1-etx2)/2,stY,"L",stx1-(stx1-etx2)/2,stY,stx1-(stx1-etx2)/2,etY,"L",stx1-(stx1-etx2)/2,etY,etx2,etY]}else{cPath=["M",stx1,stY,stx1-cExt,stY,"L",stx1-cExt,stY,stx1-cExt,stY+(etY-stY)/2,"L",stx1-cExt,stY+(etY-stY)/2,etx2+cExt,stY+(etY-stY)/2,"L",etx2+cExt,stY+(etY-stY)/2,etx2+cExt,etY,"L",etx2+cExt,etY,etx2,etY]}break}}connector=graphics.connector=animationManager.setAnimation({el:connectorDummy||"path",label:"path",attr:{path:cPath,stroke:config.color,"stroke-opacity":config.alpha,"stroke-width":config.thickness,"stroke-dasharray":config.dashedStyle},container:container,component:dataset});connector.show();eventArgs={fromTaskId:config.fromTaskId,toTaskId:config.toTaskId,fromTaskConnectStart:config.fromTaskConnectStart,toTaskConnectStart:config.toTaskConnectStart,link:config.link,sourceType:"connector"};trackerElementDummy=graphics.trackerElement;trackerElement=graphics.trackerElement=animationManager.setAnimation({el:trackerElementDummy||"path",attr:{path:cPath,stroke:_lib.TRACKER_FILL,"stroke-width":Math.max(config.thickness,10),cursor:config.link?"pointer":""},container:container,component:dataset});if(!trackerElementDummy){trackerElement.click(connectorClick(chart)).hover(rollOverHandler(chart),rollOutHandler(chart))}trackerElement.data("dataObj",dataObj).data("eventArgs",eventArgs)}else{connectorDummy&&animationManager.setAnimation({el:connectorDummy,component:dataset,callback:_task.hideFn,doNotRemove:true});graphics.trackerElement&&animationManager.setAnimation({el:graphics.trackerElement,component:dataset,callback:_task.hideFn,doNotRemove:true})}}for(i=0;i<removeDataArrLen;i++){dataset._removeDataVisuals(removeDataArr.shift())}};return Connector}(_task2["default"]);exports["default"]=Connector},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]={"initial.dataset.connector":function initialDatasetConnector(){return{"path.appearing":function pathAppearing(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]}}}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=function(chart){var dataSource=chart.getFromEnv("dataSource"),task=void 0,connector=void 0,milestone=void 0;if(_hasNoDataToDisplay(dataSource)){chart.setChartMessage();return}task=dataSource.tasks;connector=dataSource.connectors;milestone=dataSource.milestones;task&&(0,_lib.datasetFactory)(chart,chart.getDSdef("task"),"task",1,task.length?task:[task]);connector&&(0,_lib.datasetFactory)(chart,chart.getDSdef("connector"),"connector",1,connector.length?connector:[connector]);milestone&&(0,_lib.datasetFactory)(chart,chart.getDSdef("milestone"),"milestone",1,milestone.length?milestone:[milestone]);chart.getDatasets().forEach(function(dataset){dataset.addToEnv("yAxis",chart.getChildren("xAxis")[0]);dataset.addToEnv("xAxis",chart.getChildren("yAxis")[0])});chart.config.showLegend&&chart._createLegendItems()};var _lib=__webpack_require__(118);var _hasNoConnectors=function _hasNoConnectors(dataSource){var connectors=dataSource.connectors;var hasNoConnectors=true;if(typeof connectors!=="undefined"){if(connectors.length){hasNoConnectors=!(connectors.length>0)}else{hasNoConnectors=connectors.task&&!(connectors.task.length>0)}}return hasNoConnectors},_hasNoMilestones=function _hasNoMilestones(dataSource){var milestones=dataSource.milestones;var hasNoMilestones=true;if(typeof milestones!=="undefined"){if(milestones.length){hasNoMilestones=!(milestones.length>0)}else{hasNoMilestones=milestones.milestone&&!(milestones.milestone.length>0)}}return hasNoMilestones},_hasNoTasks=function _hasNoTasks(dataSource){var tasks=dataSource.tasks;var hasNoTasks=true;if(typeof tasks!=="undefined"){if(tasks.length){hasNoTasks=!(tasks.length>0)}else{hasNoTasks=tasks.task&&!(tasks.task.length>0)}}return hasNoTasks},_hasNoDataToDisplay=function _hasNoDataToDisplay(dataSource){return _hasNoTasks(dataSource)&&_hasNoConnectors(dataSource)&&_hasNoMilestones(dataSource)}},,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _column=__webpack_require__(402);var _column2=_interopRequireDefault(_column);var _lib=__webpack_require__(118);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _defaults(obj,defaults){var keys=Object.getOwnPropertyNames(defaults);for(var i=0;i<keys.length;i++){var key=keys[i];var value=Object.getOwnPropertyDescriptor(defaults,key);if(value&&value.configurable&&obj[key]===undefined){Object.defineProperty(obj,key,value)}}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):_defaults(subClass,superClass)}var UNDEF;var ColumnOverlappedgroup=function(_ColumnMultiSeriesgro){_inherits(ColumnOverlappedgroup,_ColumnMultiSeriesgro);function ColumnOverlappedgroup(){_classCallCheck(this,ColumnOverlappedgroup);return _possibleConstructorReturn(this,_ColumnMultiSeriesgro.apply(this,arguments))}ColumnOverlappedgroup.prototype.getType=function getType(){return"group"};ColumnOverlappedgroup.prototype.getName=function getName(){return"columnOverlappedGroup"};ColumnOverlappedgroup.prototype.setColumnPosition=function setColumnPosition(){var manager=this,chartAttr=manager.getFromEnv("chart-attrib"),xAxis=manager.getFromEnv("xAxis"),chart=manager.getFromEnv("chart"),oldNumOfColumns=manager.getFromEnv("numOfColumns"),definedGroupPadding=Math.max((0,_lib.pluckNumber)(chartAttr.plotspacepercent),0),plotSpacePercent=Math.max((0,_lib.pluckNumber)(definedGroupPadding,20)%100,0),groupPadding=plotSpacePercent/200,xAxisZeroPos=xAxis.getPixel(0),xAxisFirstPos=xAxis.getPixel(1),maxColWidth=chart.isBar?chart.config.maxBarHeight:chart.config.maxColWidth,groupMaxWidth=Math.abs(xAxisFirstPos-xAxisZeroPos),groupNetWidth=void 0,columnWidth=void 0,xPosFirst=void 0,xPosNext=void 0,isCrisp=true,groupNetHalfWidth=void 0,groupNetGapWidth=4,count=0,numOfColumns=0;manager.addToEnv("groupMaxWidth",groupMaxWidth);manager._mapChildren(function(child){if(!child.getState("removed")&&child.getState("visible")!==false){numOfColumns++}});manager.addToEnv("numOfColumns",numOfColumns);manager.addToEnv("numColDiff",(0,_lib.pluckNumber)(oldNumOfColumns-numOfColumns,0));if((columnWidth=manager.getFromEnv("plotWidth"))===UNDEF){columnWidth=(1-definedGroupPadding*.01)*groupMaxWidth||Math.min(groupMaxWidth*(1-groupPadding*2),maxColWidth*(numOfColumns||1))}manager._mapChildren(function(child){if(!child.getState("removed")&&child.getState("visible")!==false){child.addToEnv("plotWidth",columnWidth-columnWidth/numOfColumns*count);count++}});groupNetHalfWidth=groupNetWidth/2;xPosFirst=xAxisZeroPos-groupNetHalfWidth;xPosNext=xAxisFirstPos-groupNetHalfWidth;if(xPosNext-(xPosFirst+groupNetWidth)<groupNetGapWidth){isCrisp=false}if(plotSpacePercent===0){isCrisp=true}manager.addToEnv("isCrisp",isCrisp)};return ColumnOverlappedgroup}(_column2["default"]);exports["default"]=ColumnOverlappedgroup}])]);
//# sourceMappingURL=http://localhost:3052/3.13.1/map/eval/fusioncharts.common.js.map